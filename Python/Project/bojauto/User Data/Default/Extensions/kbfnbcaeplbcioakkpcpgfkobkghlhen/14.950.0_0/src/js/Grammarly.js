/*! For license information please see Grammarly.js.LICENSE */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=810)}([function(e,t,n){"use strict";e.exports=n(477)},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},,function(e,t,n){"use strict";var i;function r(e,t){return Object.assign(Object.assign({},e),{application:t.application,version:t.version,env:t.env,sessionId:t.context&&t.sessionId,userId:t.context&&t.context.userId,containerId:t.context&&t.context.containerId})}function o(e){return`${e}/logv2`}function a(e){return`${e}/crashv2`}function s(e,t){return`${t}/log?json=${encodeURIComponent(JSON.stringify(e))}`}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(393);t.Lens=i.Lens,t.Prism=i.Prism,t.Optic=i.Optic;var r=n(481);t.Atom=r.Atom;var o=n(247);t.bind=o.bind,t.lift=o.lift,t.reactiveList=o.reactiveList,t.classes=o.classes,t.bindElementProps=o.bindElementProps,t.F=o.F},function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"find",(function(){return a}));var r={};n.r(r),n.d(r,"map",(function(){return s})),n.d(r,"filter",(function(){return c})),n.d(r,"values",(function(){return l})),n.d(r,"pairs",(function(){return u})),n.d(r,"create",(function(){return d})),n.d(r,"pluck",(function(){return h}));var o=n(288);function a(e,t){for(const n of e.values())if(t(n))return n;return null}function s(e,t){const n={};return Object.keys(t).forEach(i=>n[i]=e(i,t[i])),n}function c(e,t){const n={};return Object.keys(t).forEach(i=>{e(i,t[i])&&(n[i]=t[i])}),n}function l(e){return Object.keys(e).map(t=>e[t])}function u(e){return Object.keys(e).map(t=>[t,e[t]])}function d(e){const t={};for(const[n,i]of e)t[n]=i;return t}function h(e,t){return t.map(t=>e[t])}var p=n(86),f=n(214);n.d(t,"b",(function(){return b})),n.d(t,"p",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"o",(function(){return w})),n.d(t,"r",(function(){return E})),n.d(t,"n",(function(){return x})),n.d(t,"l",(function(){return O})),n.d(t,"k",(function(){return S})),n.d(t,"h",(function(){return C})),n.d(t,"q",(function(){return j})),n.d(t,"i",(function(){return k})),n.d(t,"m",(function(){return P})),n.d(t,"c",(function(){return m})),n.d(t,"t",(function(){return N})),n.d(t,"s",(function(){return A})),n.d(t,"j",(function(){return I})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return f}));var m,g=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class b{constructor(e){this._getFallbackValue=e}init(e){if(void 0!==this._value)throw new Error("Global value already initialized.");this._value=e}get(){if(void 0===this._value){if(void 0===this._getFallbackValue)throw new Error("Global value not initialized and no fallback value provided.");this._value=this._getFallbackValue()}return this._value}}function v(e,t){return e.some(e=>e===t)?t:void 0}class _ extends Error{constructor(e){super(`Matching not exhaustive${e?`: unexpected value ${e}`:""}`)}}function y(e){throw new _(e)}function w(e){const t=parseInt(e,10);return isNaN(t)?void 0:t}function E(e,t){try{return e()}catch(e){return t(e)}}function x(){}function O(e){return!!e}function S(e){return!e}function C(e){let t,n=!1;return(...i)=>(n||(n=!0,t=e(...i)),t)}function j(e,t){let n,i,r=!0;function o(e){return r&&(r=!1,i=p.a.createCompletionSource(),setTimeout(()=>{try{i.resolve(t())}catch(e){i.reject(e)}finally{r=!0}},e)),i.promise}return()=>{const t=n;return n=Date.now(),o(void 0===t||n-t>=e?0:e-(n-t))}}function k(e,t,n=0,i=(e=>!0)){return g(this,void 0,void 0,(function*(){let r=t;const o=[];for(;r>0;){let t;try{r--,t={val:yield e(),hasError:!1}}catch(e){t={hasError:!0,message:e&&e.message||e||""}}if(t.hasError)o.push(t.message);else if(i(t.val))return t.val;r>0&&(yield p.a.delay(n))}throw new Error(`Condition was not met after ${t} retries. Errors: '${o.join(";")}'`)}))}class T{constructor(e){this._factory=e,this._hasValue=!1}get hasValue(){return this._hasValue}get(){return this._hasValue||(this._value=this._factory(),this._hasValue=!0),this._value}}function P(e){return new T(e)}function N(e,t){const n=Object.assign({},e);for(const e in t){const i=t[e];void 0!==i&&(n[e]=i)}return n}function A(...e){return e}function I(e){return e.replace(/[.*+?()\[\]{}^$\\]/g,"\\$&")}!function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.create=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(m||(m={})),void 0!==window.requestIdleCallback&&window.requestIdleCallback},function(e,t,n){"use strict";n(152),n(460),n(718),n(33);var i=n(37);n(64),n(58);var r=n(277);function o(e,t,n=1e3){let i=e;for(;i.parentNode&&0<n;){if("string"!=typeof t&&t===i)return!0;if(i.id===t||i===t)return!0;i=i.parentNode}return!1}function a(e,t){return!(!e||void 0===e.className)&&e.classList.contains(t)}function s(e,t){if(e&&e.classList)return e.classList.remove(t)}function c(e,t){if(e){if(-1===t.indexOf(" "))return e.classList.add(t);{const n=t.split(" ");for(let t=0;t<n.length;t++)e.classList.add(n[t])}}}function l(e,t,n){t?c(e,n):s(e,n)}function u(e,t){let n=e.parentNode;for(;null!==n;){if(p(n,t))return n;n=n.parentNode}return!1}function d(e){let t=e.parentNode;for(;null!==t;){if(h(t))return t;t=t.parentNode}return!1}function h(e){return"true"===e.contentEditable||"plaintext-only"===e.contentEditable}function p(e,t){if(!e)return!1;const n=e.matches||e.msMatchesSelector||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector;return!!n&&n.apply(e,[t])}function f(e,t=null,n){return this.addEventListener(e,t,n),{off:()=>m.apply(this,[e,t,n])}}function m(e,t,n){this.removeEventListener(e,t||null,n)}function g(e,t){const n=i=>{t(i),m.call(this,e,n)};f.call(this,e,n)}function b(...e){return e.reduce((e,t)=>e.concat(Object(i.a)(t)?Object.keys(t).filter(e=>t[e]):t),[]).filter(e=>Boolean(e)).join(" ")}function v(e){return Object(r.a)(e,(e,t,n)=>e[function(e){return e.replace(/-+(.)?/g,(e,t)=>t?t.toUpperCase():"")}(n)]=t)}function _(e,t){if(!e)return!1;let n=e;for(;n.parentNode;){if(a(n,t))return n;n=n.parentNode}return!1}function y(e=document){if(void 0===e.body.style.transform){if(void 0!==e.body.style.WebkitTransform)return"WebkitTransform";if(void 0!==e.body.style.MozTransform)return"MozTransform"}return"transform"}function w(){const e=document.createElement("fakeelement"),t={animation:"animationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(const n in t)if(void 0!==e.style[n])return t[n]}function E(e,t={}){const n=document.createEvent("CustomEvent");n.initCustomEvent(e+"-gr",!0,!0,t),document.dispatchEvent(n)}n(324),n(123),n(67),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"n",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"o",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"l",(function(){return _})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return w})),n.d(t,"d",(function(){return E}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(4),r=n(107),o=n(177),a=n(31),s=n(157),c=n(69),l=n(121),u=function(e){function t(n,i,r){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new d(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new d(a,n,i,r)}return a}return i.a(t,e),t.prototype[s.a]=function(){return this},t.create=function(e,n,i){var r=new t(e,n,i);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.a),d=function(e){function t(t,n,i,a){var s,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return Object(r.a)(n)?s=n:n&&(s=n.next,i=n.error,a=n.complete,n!==o.a&&(l=Object.create(n),Object(r.a)(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=s,c._error=i,c._complete=a,c}return i.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw e;Object(l.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(l.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b}));var i=n(24);function r(){return!!window.__extensionTestsMode}function o(){return i.a().appConfig.extensionId}function a(){return"firefox"===i.a().bundleInfo.browser}function s(){return"safari"===i.a().bundleInfo.browser}function c(){return"chrome"===i.a().bundleInfo.browser||"edge"===i.a().bundleInfo.browser}function l(){return i.a().systemInfo.os.isWindows}function u(){return"bg"===i.a().bundleInfo.context}function d(){return i.a().bundleInfo.browser}function h(){return i.a().buildInfo.version}function p(){return i.a().bundleInfo.env}function f(){return i.a().appConfig.url}function m(){return i.a().appConfig.felog.appName}function g(){return i.a().appConfig.gnar.appName}function b(){return i.a().appConfig.url.grammarlyDomain}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(198),o=n(156);!function(e){e.create=function(e){return new r.a(e,()=>Object(o.b)().logger.create(e))}}(i||(i={}))},,,function(e,t,n){e.exports={container:"Bd3O7",flip:"_2qOlI",syn:"_14kdZ",flipSyn:"_3zyyh",notFound:"_3N2VL",emogenieCard:"_2p7Ig",card:"_1ldqx",vox:"_1Ghhr",iconNotFound:"_14tV7",expandableDescription:"_3NVlr",button:"_3k9OB",more:"_2EKST",expanded:"_3ixBe",moreIcon:"_1rPzn",explanation:"_1W33f",gdocsFooter:"_3o-AJ",bigTitle:"qL681",unknownWordTitle:"_92o6Y",btnDictLabelWithIcon:"TaALz",capitalized:"_1E4BD",maxWidthReached:"_1EIWW",replacement:"_20QvS",item:"_1QK5F",unifiedFunnelBtn:"_1W6JX",unifiedFunnelBtnText:"_1T9j9",logoIcon:"_27ZX9",btnUpgrade:"_2a1-q",ignoreIcon:"_2MNmS",diamondIcon:"L7mDL",undoIcon:"_3kHt8",dictionaryIcon:"_28rr1",wikiIcon:"_2P5xR",header:"_3dWSj",headerIcon:"_2GX1J",headerWrapper:"_3TvZ_",footer:"_2tBk1",footerButton:"_2AND6",greyedTitle:"TTrQB",lockedTransformList:"oMcnh",lockedTransform:"yE1se",lockedButton:"_3_YnP",shimmer:"_3at03",lockIcon:"HfOZ0",btnIgnore:"_2R2Yx",icon:"e8Kgu",btnLogo:"_29ub7",btnPersonalize:"_1gXu7",btnNewBadge:"F2KvH",newTitle:"_26COV",clickable:"c37fV",newLabel:"_3bv_t",newInfo:"_28CRg",personalizeMessage:"_15PdD",attn:"_2b49j",cardAddedToDict:"nzrwt",addedToDictTitle:"_2dVbC",dictionaryDescription:"_1SCpn",undo:"_3QSuW",dictLink:"_2xvI7",dictionaryAddedIcon:"_3a-Ri",synTitle:"_2iJwH",synList:"_3lZd5",synListSingle:"_3kvum",synListTitle:"_3wPe7",synListNumber:"_3oEju",synSubitems:"_3OzY6",synItem:"_1pgm_",dict:"_3O6yG",dictContent:"_2t5w4",dictItemCounter:"nT1dC",dictItem:"UgQK0",qualifier:"_2mFeq",dictFooterItem:"_35Gdy",wikiLink:"_1cG3j",wiki:"_3mXOl",advancedMessage:"_3-WDb",advancedTitle:"_1FfiW",advancedItem:"_2A7EX",lockedPremiumPreviewTitle:"_2H2mn",outcomeCorrectness:"_3u3ZB",outcomeClarity:"p9RJw",outcomeDelivery:"_3tMky",outcomeEngagement:"_2iWLl",freePremium:"_3_ckg",enjoyFreePremium:"_2fzdn",freePremiumUpgrade:"mt04J"}},function(e,t,n){"use strict";var i=n(195),r=n(10),o=n(157),a=n(177),s=n(103),c=n(171),l=n(69);n.d(t,"a",(function(){return u}));var u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,s=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new r.a(e,t,n):new r.a(a.a)}(e,t,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||l.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(i.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(e){i(e),r&&r.unsubscribe()}}),i,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[s.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(c.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(84),r=n(192),o=n(16);function a(e,t,n,a,s){if(void 0===s&&(s=new i.a(e,n,a)),!s.closed)return t instanceof o.a?t.subscribe(s):Object(r.a)(t)(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(4),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(10).a)},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"q",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"s",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"o",(function(){return b})),n.d(t,"k",(function(){return v})),n.d(t,"u",(function(){return _})),n.d(t,"f",(function(){return y})),n.d(t,"j",(function(){return w})),n.d(t,"t",(function(){return E})),n.d(t,"r",(function(){return x})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return C})),n.d(t,"n",(function(){return j})),n(11),n(277);var i=n(220);function r(){return window.chrome&&window.chrome.runtime&&window.chrome.runtime.lastError}function o(e,t){const n=o.items=o.items||{},i=n[e];if(i||t){if(i&&!t)return clearTimeout(i),void delete n[e];!function(){function i(){r(),e()}function r(){const r=setTimeout(i,t);n[e]=r}r()}()}}function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function s(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function c(e){let t=0;const n=e.length;let i,r;for(let o=0;o<n;o++)i=e.charCodeAt(o),i>=55296&&i<57344&&i<56320&&o+1<n&&(r=e.charCodeAt(o+1),r>=56320&&r<57344)?(t+=4,o++):t+=i<128?1:i<2048?2:3;return t}function l(e,t){let n=t,i=0;const r=[];for(;e[n];)if(" "===e[n++])r.push(e.substring(i,n)),i=n,n+=t;else{let o=n;do{if(" "===e.substring(o-1,o)){r.push(e.substring(i,o)),i=o,n=o+t;break}o--}while(o>i)}return r.push(e.substr(i)),r}function u(){}function d(){return!0}function h(e,t){return t[1==e?0:1]}function p(e,t,n){const i={};return function(){const r="_memoize_"+(t?t.apply(this,arguments):arguments[0]);return window.hasOwnProperty.call(i,r)?i[r]:(n&&setTimeout(()=>{delete i[r]},n),i[r]=e.apply(this,arguments))}}function f(e,t){return Math.floor(Math.random()*(t-e+1))+e}function m(e){return new Promise(t=>setTimeout(t,e))}!function(e){e.items={}}(o||(o={}));const g=["January","February","March","April","May","June","July","August","September","October","November","December"];function b(e){if(!e)return;const t=new Date(e);return"Invalid Date"!==t.toString()?g[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear():void 0}function v(e){const t=function(){};return t.prototype=e(),t}function _(e="",t=""){function n(e){return e.split(".").map(e=>Number(e)||0)}const i=n(e),r=n(t),o=Array(Math.abs(i.length-r.length)).fill(0);if(i.length>r.length?r.push(...o):i.push(...o),i.every((e,t)=>e===r[t]))return 0;for(let e=0,t=i.length;e<t;e++){if(i[e]>r[e])return 1;if(i[e]<r[e])return-1}return-1}function y(e,t=10){setTimeout(e,t)}function w({buffered:e=!0}={}){const t=[],n=[];return{take:function(){return t.length?Promise.resolve(t.shift()):new Promise(e=>n.push(e))},put:function(i){n.length>0?n.shift()(i):e?t.push(i):t[0]=i}}}function E(e,t=100){if(!e)return NaN;const n=i.createHash("superfasthash");return parseInt(n.hash(e),16)%t}function x(e){return e.which||e.charCode||e.keyCode||0}new RegExp(String.fromCharCode(160),"g"),String.fromCharCode(160),new RegExp("\n"+String.fromCharCode(32),"g");const O=1e3,S=60*O,C=27;function j(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n(167);const r=new(n(8).b)(()=>{throw new Error("Global config not initialized")});function o(){return r.get()}function a(e,t,n,o){const a=i.a.create(e,t,n,o);return r.init(a),window.GR_CFG=r.get(),a}},function(e,t,n){e.exports={gButtonPopup:"_2-TI7",newDataControl:"_1yv0e",title:"_1mEVH",icon:"tC4-3",button:"_1SqFv",buttonText:"_1quki",popupFooter:"_3DhS4",isFlipped:"_3lTcr",settings:"_35HVC",text:"MzVoW",bold:"_1rfbp",link:"_10Xs5",secondary:"_1etxB",firstTime:"_13pER",close:"_3wtAE",grammarlyIcon:"qSSkS",disable:"_36hcm",gdocs:"_1n5ib",gdocsBeta:"_2yinY",header:"_3tDci",headerUnavailable:"YZ2rP",cardsIcon:"moxcA",bubbleArrow:"_DY5Y",unavailablePopup:"jb6Nf",feedbackPopup:"_1oDAw",subHeader:"_3EOfE",feedbackSentViewHeader:"_1aboZ",feedbackField:"_3qJbU",scoreList:"_2AdqP",scoreListCell:"_1CgDl",score:"_2vzSZ",scoreBad:"DJccr",scoreGood:"_1G724",scoreOk:"_21AAx",active:"_2Fipp",disabled:"_CpPA",loginReminder:"_3OCCi",premium:"_1HTY_",subtitle:"_2AKj1",list:"_2W9px",listItem:"ewED8",onboarding:"_5Ep0Z",alertsHighlightPopup:"_1RkOP",orangeCtaButton:"_1cEb2",outcomeList:"nfd61",correctness:"qZfgY",clarity:"_2EGEn",delivery:"_39EUH",engagement:"_3tkeO",alertsContainer:"_2WElP",alertContent:"_3LqOS",alertCount:"_2PgHD",alertName:"IERsN",managedSSOControl:"_25QBP",illustration:"_2gnb-",signInWithSSO:"_24806",signInWithSSO2:"_3LOHu"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n(0),r=n(427);function o(e,t){return{dangerouslySetInnerHTML:{__html:Object(r.a)(e,t)}}}class a extends i.Component{constructor(){super(...arguments),this.handleClick=e=>{e&&(e.stopPropagation(),e.stopImmediatePropagation(),this.props.clickHandler(e))}}componentDidMount(){this.wrapperRef&&this.wrapperRef.addEventListener("click",this.handleClick)}componentWillUnmount(){this.wrapperRef&&this.wrapperRef.removeEventListener("click",this.handleClick)}render(){return i.createElement("div",{ref:e=>this.wrapperRef=e,style:{display:"initial"},className:this.props.className},this.props.children)}}},,,function(e,t,n){"use strict";n.r(t);var i=n(16);n.d(t,"Observable",(function(){return i.a}));var r=n(289);n.d(t,"ConnectableObservable",(function(){return r.a}));var o=n(286);n.d(t,"GroupedObservable",(function(){return o.a}));var a=n(103);n.d(t,"observable",(function(){return a.a}));var s=n(36);n.d(t,"Subject",(function(){return s.a}));var c=n(233);n.d(t,"BehaviorSubject",(function(){return c.a}));var l=n(216);n.d(t,"ReplaySubject",(function(){return l.a}));var u=n(135);n.d(t,"AsyncSubject",(function(){return u.a}));var d=n(181);n.d(t,"asapScheduler",(function(){return d.a}));var h=n(48);n.d(t,"asyncScheduler",(function(){return h.a}));var p=n(295);n.d(t,"queueScheduler",(function(){return p.a}));var f=n(425);n.d(t,"animationFrameScheduler",(function(){return f.a}));var m=n(344);n.d(t,"VirtualTimeScheduler",(function(){return m.b})),n.d(t,"VirtualAction",(function(){return m.a}));var g=n(252);n.d(t,"Scheduler",(function(){return g.a}));var b=n(31);n.d(t,"Subscription",(function(){return b.a}));var v=n(10);n.d(t,"Subscriber",(function(){return v.a}));var _=n(95);n.d(t,"Notification",(function(){return _.a})),n.d(t,"NotificationKind",(function(){return _.b}));var y=n(171);n.d(t,"pipe",(function(){return y.a}));var w=n(87);n.d(t,"noop",(function(){return w.a}));var E=n(98);n.d(t,"identity",(function(){return E.a}));var x=n(395);n.d(t,"isObservable",(function(){return x.a}));var O=n(120);n.d(t,"ArgumentOutOfRangeError",(function(){return O.a}));var S=n(132);n.d(t,"EmptyError",(function(){return S.a}));var C=n(112);n.d(t,"ObjectUnsubscribedError",(function(){return C.a}));var j=n(158);n.d(t,"UnsubscriptionError",(function(){return j.a}));var k=n(290);n.d(t,"TimeoutError",(function(){return k.a}));var T=n(396);n.d(t,"bindCallback",(function(){return T.a}));var P=n(397);n.d(t,"bindNodeCallback",(function(){return P.a}));var N=n(151);n.d(t,"combineLatest",(function(){return N.b}));var A=n(128);n.d(t,"concat",(function(){return A.a}));var I=n(184);n.d(t,"defer",(function(){return I.a}));var R=n(52);n.d(t,"empty",(function(){return R.b}));var F=n(398);n.d(t,"forkJoin",(function(){return F.a}));var M=n(68);n.d(t,"from",(function(){return M.a}));var D=n(94);n.d(t,"fromEvent",(function(){return D.a}));var L=n(399);n.d(t,"fromEventPattern",(function(){return L.a}));var B=n(400);n.d(t,"generate",(function(){return B.a}));var U=n(401);n.d(t,"iif",(function(){return U.a}));var H=n(355);n.d(t,"interval",(function(){return H.a}));var V=n(148);n.d(t,"merge",(function(){return V.a}));var z=n(287);n.d(t,"never",(function(){return z.b}));var G=n(118);n.d(t,"of",(function(){return G.a}));var W=n(402);n.d(t,"onErrorResumeNext",(function(){return W.a}));var $=n(403);n.d(t,"pairs",(function(){return $.a}));var q=n(404);n.d(t,"partition",(function(){return q.a}));var Y=n(292);n.d(t,"race",(function(){return Y.a}));var K=n(405);n.d(t,"range",(function(){return K.a}));var Q=n(217);n.d(t,"throwError",(function(){return Q.a}));var X=n(234);n.d(t,"timer",(function(){return X.a}));var J=n(369);n.d(t,"using",(function(){return J.a}));var Z=n(219);n.d(t,"zip",(function(){return Z.b}));var ee=n(294);n.d(t,"scheduled",(function(){return ee.a})),n.d(t,"EMPTY",(function(){return R.a})),n.d(t,"NEVER",(function(){return z.a}));var te=n(69);n.d(t,"config",(function(){return te.a}))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"initMessage",(function(){return d})),n.d(t,"onBackgroundPortReconnect",(function(){return m})),n.d(t,"emitError",(function(){return g})),n.d(t,"init",(function(){return b})),n.d(t,"one",(function(){return v})),n.d(t,"on",(function(){return _})),n.d(t,"off",(function(){return y})),n.d(t,"emitTabs",(function(){return w})),n.d(t,"emitTo",(function(){return E})),n.d(t,"emitFocusedTab",(function(){return x})),n.d(t,"emitBackground",(function(){return O})),n.d(t,"promiseBackground",(function(){return S}));var i=n(90),r=n(232),o=n(11),a=n(22),s=n(8),c=n(85),l=n(359);let u;function d(t){if(u)return u;const n=(e&&e.env,t);return u=n,n}function h(){return u||d((Object(o.i)()?Object(c.a)():Object(c.b)()).message)}const p=Object(i.emitter)({}),f={};function m(e){const t=h();"content-script-message-api"===t.kind&&t.onBackgroundPortReconnect&&t.onBackgroundPortReconnect(e)}const g=Object(l.a)(e=>p.emit("__bgerror",e),1e3);function b(e){d(e),Object(r.a)(document,"grammarly:offline",()=>g("proxy dead"),void 0)}function v(e,t){_(e,(function n(...i){y(e,n),t.apply(this,i)}))}function _(e,t){if("__bgerror"===e)return void p.on("__bgerror",t);const n=f[e]=f[e]||[];if(n.push(t),1===n.length)try{h().listen(e,(...e)=>{for(const t of n)t(...e)})}catch(e){g(e)}}function y(e,t){if("__bgerror"===e)return void p.off("__bgerror",t);const n=f[e];if(!n)return;const i=n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&delete f[e]}function w(e){try{const t=h();switch(t.kind){case"background-message-api":t.broadcast(e,{});break;default:throw new Error("emitTabs can be used only on background")}}catch(e){g(e)}}function E(e,t,n={},i=s.n,r=s.n,o){try{if(!e)throw TypeError("emitTo can't be used without destination point");const a=h();switch(a.kind){case"background-message-api":a.sendTo(e,t,n,i,r,o);break;default:throw new Error("emitTo can be used only on background")}}catch(e){g(e)}}function x(e,t){try{h().toFocused(e,t)}catch(e){g(e)}}function O(e,t,n,i){try{const r=h();switch(r.kind){case"content-script-message-api":r.broadcastBackground(e,t,n,i);break;default:throw new Error("emitBackground can be used only in content script")}}catch(e){g(e)}}function S(e,t={},n=1e4){const i=new Promise((n,i)=>{try{const r=h();switch(r.kind){case"content-script-message-api":r.broadcastBackground(e,t,n,i);break;default:throw new Error("promiseBackground can be used only on client scripts")}}catch(e){i(e),g(e)}});return Promise.race([i,Object(a.m)(n).then(()=>{throw new Error(`Request to bg page (${u}) rejected by timeout`)})])}}.call(this,n(190))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(46),r=n(194),o=n(107),a=n(158),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u)n[u].remove(this);if(Object(o.a)(s))try{s.call(this)}catch(e){t=e instanceof a.a?c(e.errors):[e]}if(Object(i.a)(l)){u=-1;for(var d=l.length;++u<d;){var h=l[u];if(Object(r.a)(h))try{h.unsubscribe()}catch(e){t=t||[],e instanceof a.a?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new a.a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof a.a?t.errors:t)}),[])}},function(e,t,n){e.exports={wrapper:"ltSxj",wrapperHide:"_2L5dv",hideWrapper:"_2QtxY",wrapperShow:"_2ubUk",showWrapper:"_1sGwQ",popup:"VaXUP",popupHideNotification:"_1-jlu",popupShowNotification:"_38KbI",topIconsPannel:"_1rnxx",popupWrapper:"_15Vu8",popupEmotions:"_2Y_Lo",popupContent:"_1Eo96",popupReportCheckbox:"_3FAWg",checkboxWrapper:"_23gs5",popupText:"f9D8j",popupTitle:"_3y6l-",popupSubTitle:"_34vN0",popupRecommendation:"_2hOX8",popupNotification:"_1R116",priority:"_1JBIl",emoji:"j30Wa",cardEmoji:"_2UidN",mouthless:"shyw6",emojiButtonWrapper:"_2okjE",emojiTop:"_1RKhv",emojiPointer:"_3r4Mt",emotion:"_3G0ji",emotionWrapper:"anZjf",emotionName:"s2Vus",emotionEmoji:"_3fJY-",emotionIntensity:"_2pZYf",emotionPoll:"_13O1b",emotionIntensityItem:"sKj8o",emotionIntensityActive:"_277zg",emotionIntensityWrapper:"_2HvtI",label:"cOwYE",labelBetaWrapper:"_2oHmO",labelBeta:"_3fBWB",close:"_2dCZQ",checkbox:"_2RY5X",checkboxActive:"_2C_8R",thumbs:"_2R7Ze",thumbsActive:"zSs2V",thumbsWrapper:"_1q6wE",thumbsHovered:"_3maYL",thumbsIsDown:"_1MUYU",tooltip:"yQft8",tooltipFade:"_2DPGZ",emojiButtonShow:"_1-uTj",emojiButtonHide:"_3cj3L",emogenieWrapper:"_2U_c5",emogenieDot:"_2s3VV",emogenieDotHide:"_3N1jW",emogenieDotAnimation:"_2gZyL",dotAnimation:"_1wwI0",emogenieEmoji:"_1Bok_",emogenieEmojiAnimation:"PMkt0",emojiAnimation:"_24xXB",emogenieGButton:"t6761",emogenieGButtonAnimation:"_1JZ3K",gbuttonAnimation:"_1QU_3",emogenieWrapperShow:"_1-04u",emogenieWrapperHide:"_2oT-N",welcomeEmotionAnimation:"GCWdj",emotionAnimation:"_18C0J"}},function(e,t,n){"use strict";var i=Array.isArray;t.a=i},,function(e,t,n){"use strict";n.r(t);var i=n(265),r=n(407),o=n(356),a=n(4),s=n(10);function c(e,t){return void 0===t&&(t=null),function(n){return n.lift(new l(e,t))}}var l=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?d:u}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),u=function(e){function t(t,n){var i=e.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return a.a(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(s.a),d=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.bufferSize=n,r.startBufferEvery=i,r.buffers=[],r.count=0,r}return a.a(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,i=this.buffers,r=this.count;this.count++,r%n==0&&i.push([]);for(var o=i.length;o--;){var a=i[o];a.push(e),a.length===t&&(i.splice(o,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var i=t.shift();i.length>0&&n.next(i)}e.prototype._complete.call(this)},t}(s.a),h=n(357),p=n(31),f=n(20),m=n(21);function g(e,t){return function(n){return n.lift(new b(e,t))}}var b=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new v(e,this.openings,this.closingSelector))},e}(),v=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.openings=n,r.closingSelector=i,r.contexts=[],r.add(Object(f.a)(r,n)),r}return a.a(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,i=0;i<n;i++)t[i].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,i,r){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,i=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(i),i.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new p.a,i={buffer:[],subscription:n};t.push(i);var r=Object(f.a)(this,e,i);!r||r.closed?this.closeBuffer(i):(r.context=i,this.add(r),n.add(r))},t}(m.a),_=n(408),y=n(409),w=n(151);function E(e){return function(t){return t.lift(new w.a(e))}}var x=n(348),O=n(410),S=n(291),C=n(266);function j(e,t){return Object(C.a)((function(){return e}),t)}function k(e){return function(t){return t.lift(new T(e,t))}}var T=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new P(e,this.predicate,this.source))},e}(),P=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.count=0,r.index=0,r}return a.a(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(s.a),N=n(370),A=n(411),I=n(131),R=n(349),F=n(16);function M(e,t){return t?function(n){return new B(n,t).lift(new D(e))}:function(t){return t.lift(new D(e))}}var D=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new L(e,this.delayDurationSelector))},e}(),L=function(e){function t(t,n){var i=e.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return a.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(e),this.removeSubscription(r),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(f.a)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(m.a),B=function(e){function t(t,n){var i=e.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return a.a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new U(e,this.source))},t}(F.a),U=function(e){function t(t,n){var i=e.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return a.a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(s.a);function H(){return function(e){return e.lift(new V)}}var V=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new z(e))},e}(),z=function(e){function t(t){return e.call(this,t)||this}return a.a(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(s.a);function G(e,t){return function(n){return n.lift(new W(e,t))}}var W=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new $(e,this.keySelector,this.flushes))},e}(),$=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.keySelector=n,r.values=new Set,i&&r.add(Object(f.a)(r,i)),r}return a.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(m.a),q=n(130);function Y(e,t){return Object(q.a)((function(n,i){return t?t(n[e],i[e]):n[e]===i[e]}))}var K=n(120),Q=n(79),X=n(164),J=n(166);function Z(e,t){if(e<0)throw new K.a;var n=arguments.length>=2;return function(i){return i.pipe(Object(Q.a)((function(t,n){return n===e})),Object(J.a)(1),n?Object(I.a)(t):Object(X.a)((function(){return new K.a})))}}var ee=n(128),te=n(118);function ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(ee.a)(t,te.a.apply(void 0,e))}}function ie(e,t){return function(n){return n.lift(new re(e,t,n))}}var re=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new oe(e,this.predicate,this.thisArg,this.source))},e}(),oe=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.source=r,o.index=0,o.thisArg=i||o,o}return a.a(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(s.a);function ae(){return function(e){return e.lift(new se)}}var se=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new ce(e))},e}(),ce=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return a.a(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(f.a)(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(m.a),le=n(412);function ue(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(i){return i.lift(new de(e,t,n))}}var de=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new he(e,this.project,this.concurrent,this.scheduler))},e}(),he=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.project=n,o.concurrent=i,o.scheduler=r,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return a.a(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,i=e.value,r=e.index;t.subscribeToProjection(n,i,r)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){n.next(e);try{var r=(0,this.project)(e,i);if(this.scheduler){var o={subscriber:this,result:r,value:e,index:i};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(r,e,i)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add(Object(f.a)(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,r){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(m.a),pe=n(413);function fe(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new me(e,n,!1,t))}}var me=function(){function e(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return e.prototype.call=function(e,t){return t.subscribe(new ge(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),ge=function(e){function t(t,n,i,r,o){var a=e.call(this,t)||this;return a.predicate=n,a.source=i,a.yieldIndex=r,a.thisArg=o,a.index=0,a}return a.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,i=this.index++;try{t.call(n||this,e,i,this.source)&&this.notifyComplete(this.yieldIndex?i:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(s.a);function be(e,t){return function(n){return n.lift(new me(e,n,!0,t))}}var ve=n(347),_e=n(286);function ye(){return function(e){return e.lift(new we)}}var we=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ee(e))},e}(),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.a(t,e),t.prototype._next=function(e){},t}(s.a);function xe(){return function(e){return e.lift(new Oe)}}var Oe=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Se(e))},e}(),Se=function(e){function t(t){return e.call(this,t)||this}return a.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(s.a),Ce=n(132),je=n(52);function ke(e){return function(t){return 0===e?Object(je.b)():t.lift(new Te(e))}}var Te=function(){function e(e){if(this.total=e,this.total<0)throw new K.a}return e.prototype.call=function(e,t){return t.subscribe(new Pe(e,this.total))},e}(),Pe=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return a.a(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=t++%n;e.next(i[o])}e.complete()},t}(s.a),Ne=n(98);function Ae(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?Object(Q.a)((function(t,n){return e(t,n,i)})):Ne.a,ke(1),n?Object(I.a)(t):Object(X.a)((function(){return new Ce.a})))}}var Ie=n(39),Re=n(212),Fe=n(95);function Me(){return function(e){return e.lift(new De)}}var De=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Le(e))},e}(),Le=function(e){function t(t){return e.call(this,t)||this}return a.a(t,e),t.prototype._next=function(e){this.destination.next(Fe.a.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(Fe.a.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(Fe.a.createComplete()),e.complete()},t}(s.a),Be=n(175),Ue=n(171);function He(e,t){return arguments.length>=2?function(n){return Object(Ue.a)(Object(Be.a)(e,t),ke(1),Object(I.a)(t))(n)}:function(t){return Object(Ue.a)(Object(Be.a)((function(t,n,i){return e(t,n,i+1)})),ke(1))(t)}}function Ve(e){return He("function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var ze=n(371),Ge=n(218),We=n(119);function $e(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?Object(We.a)((function(){return e}),t,n):("number"==typeof t&&(n=t),Object(We.a)((function(){return e}),n))}var qe=n(84);function Ye(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(i){return i.lift(new Ke(e,t,n))}}var Ke=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new Qe(e,this.accumulator,this.seed,this.concurrent))},e}(),Qe=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=i,o.concurrent=r,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return a.a(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(i,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){var i=new qe.a(this,void 0,void 0);this.destination.add(i),Object(f.a)(this,e,t,n,i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,r){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(m.a);function Xe(e){return He("function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var Je=n(93),Ze=n(239),et=(n(68),n(46));function tt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(et.a)(e[0])&&(e=e[0]),function(t){return t.lift(new nt(e))}}var nt=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new it(e,this.nextSources))},e}(),it=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return a.a(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new qe.a(this,void 0,void 0);this.destination.add(t),Object(f.a)(this,e,void 0,void 0,t)}else this.destination.complete()},t}(m.a),rt=n(414),ot=n(301);function at(e,t){return function(n){return[Object(Q.a)(e,t)(n),Object(Q.a)(Object(ot.a)(e,t))(n)]}}function st(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(Ie.a)(function(e,t){return function(n){for(var i=n,r=0;r<t;r++){var o=i[e[r]];if(void 0===o)return;i=o}return i}}(e,n))(t)}}var ct=n(36);function lt(e){return e?Object(Je.a)((function(){return new ct.a}),e):Object(Je.a)(new ct.a)}var ut=n(233);function dt(e){return function(t){return Object(Je.a)(new ut.a(e))(t)}}var ht=n(135);function pt(){return function(e){return Object(Je.a)(new ht.a)(e)}}var ft=n(216);function mt(e,t,n,i){n&&"function"!=typeof n&&(i=n);var r="function"==typeof n?n:void 0,o=new ft.a(e,t,i);return function(e){return Object(Je.a)((function(){return o}),r)(e)}}var gt=n(292);function bt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(et.a)(e[0])&&(e=e[0]),t.lift.call(gt.a.apply(void 0,[t].concat(e)))}}function vt(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(je.b)():e<0?t.lift(new _t(-1,t)):t.lift(new _t(e-1,t))}}var _t=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new yt(e,this.count,this.source))},e}(),yt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return a.a(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(s.a);function wt(e){return function(t){return t.lift(new Et(e))}}var Et=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new xt(e,this.notifier,t))},e}(),xt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r.sourceIsBeingSubscribedTo=!0,r}return a.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new ct.a;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(f.a)(this,t)},t}(m.a);function Ot(e){return void 0===e&&(e=-1),function(t){return t.lift(new St(e,t))}}var St=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Ct(e,this.count,this.source))},e}(),Ct=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return a.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,i=this.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(s.a);function jt(e){return function(t){return t.lift(new kt(e,t))}}var kt=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Tt(e,this.notifier,this.source))},e}(),Tt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r}return a.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,r=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{n=new ct.a;try{i=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}r=Object(f.a)(this,i)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=r,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,i,r){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},t}(m.a),Pt=n(183),Nt=n(203),At=n(48);function It(e,t){return void 0===t&&(t=At.a),function(n){return n.lift(new Rt(e,t))}}var Rt=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Ft(e,this.period,this.scheduler))},e}(),Ft=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.period=n,r.scheduler=i,r.hasValue=!1,r.add(i.schedule(Mt,n,{subscriber:r,period:n})),r}return a.a(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(s.a);function Mt(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function Dt(e,t){return function(n){return n.lift(new Lt(e,t))}}var Lt=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Bt(e,this.compareTo,this.comparator))},e}(),Bt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.compareTo=n,r.comparator=i,r._a=[],r._b=[],r._oneComplete=!1,r.destination.add(n.subscribe(new Ut(t,r))),r}return a.a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var i=e.shift(),r=t.shift(),o=!1;try{o=n?n(i,r):i===r}catch(e){this.destination.error(e)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(s.a),Ut=function(e){function t(t,n){var i=e.call(this,t)||this;return i.parent=n,i}return a.a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(s.a),Ht=n(179),Vt=n(415);function zt(e){return function(t){return t.lift(new Gt(e,t))}}var Gt=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Wt(e,this.predicate,this.source))},e}(),Wt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.seenValue=!1,r.index=0,r}return a.a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Ce.a)},t}(s.a),$t=n(358);function qt(e){return function(t){return t.lift(new Yt(e))}}var Yt=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new K.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new s.a(e)):t.subscribe(new Kt(e,this._skipCount))},e}(),Kt=function(e){function t(t,n){var i=e.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return a.a(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var i=n%t,r=this._ring,o=r[i];r[i]=e,this.destination.next(o)}},t}(s.a);function Qt(e){return function(t){return t.lift(new Xt(e))}}var Xt=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new Jt(e,this.notifier))},e}(),Jt=function(e){function t(t,n){var i=e.call(this,t)||this;i.hasValue=!1;var r=new qe.a(i,void 0,void 0);return i.add(r),i.innerSubscription=r,Object(f.a)(i,n,void 0,void 0,r),i}return a.a(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,n,i,r){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(m.a);function Zt(e){return function(t){return t.lift(new en(e))}}var en=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new tn(e,this.predicate))},e}(),tn=function(e){function t(t,n){var i=e.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return a.a(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(s.a),nn=n(273),rn=n(181),on=n(137),an=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=rn.a);var r=e.call(this)||this;return r.source=t,r.delayTime=n,r.scheduler=i,(!Object(on.a)(n)||n<0)&&(r.delayTime=0),i&&"function"==typeof i.schedule||(r.scheduler=rn.a),r}return a.a(t,e),t.create=function(e,n,i){return void 0===n&&(n=0),void 0===i&&(i=rn.a),new t(e,n,i)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,i=this.source;return this.scheduler.schedule(t.dispatch,n,{source:i,subscriber:e})},t}(F.a);function sn(e,t){return void 0===t&&(t=0),function(n){return n.lift(new cn(e,t))}}var cn=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new an(t,this.delay,this.scheduler).subscribe(e)},e}(),ln=n(416),un=n(147);function dn(e,t){return t?Object(un.a)((function(){return e}),t):Object(un.a)((function(){return e}))}var hn=n(417),pn=n(418),fn=n(419),mn=n(267);function gn(e,t,n){return void 0===t&&(t=At.a),void 0===n&&(n=mn.a),function(i){return i.lift(new bn(e,t,n.leading,n.trailing))}}var bn=function(){function e(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return e.prototype.call=function(e,t){return t.subscribe(new vn(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),vn=function(e){function t(t,n,i,r,o){var a=e.call(this,t)||this;return a.duration=n,a.scheduler=i,a.leading=r,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return a.a(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(_n,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(s.a);function _n(e){e.subscriber.clearThrottle()}var yn=n(184);function wn(e){return void 0===e&&(e=At.a),function(t){return Object(yn.a)((function(){return t.pipe(Object(Be.a)((function(t,n){var i=t.current;return{value:n,current:e.now(),last:i}}),{current:e.now(),value:void 0,last:void 0}),Object(Ie.a)((function(e){var t=e.current,n=e.last,i=e.value;return new En(i,t-n)})))}))}}var En=function(e,t){this.value=e,this.interval=t},xn=n(420),On=n(293);function Sn(e){return void 0===e&&(e=At.a),Object(Ie.a)((function(t){return new Cn(t,e.now())}))}var Cn=function(e,t){this.value=e,this.timestamp=t};function jn(e,t,n){return 0===n?[t]:(e.push(t),e)}function kn(){return He(jn,[])}function Tn(e){return function(t){return t.lift(new Pn(e))}}var Pn=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new Nn(e),i=t.subscribe(n);return i.closed||n.add(Object(f.a)(n,this.windowBoundaries)),i},e}(),Nn=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new ct.a,t.next(n.window),n}return a.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new ct.a;t.next(n)},t}(m.a);function An(e,t){return void 0===t&&(t=0),function(n){return n.lift(new In(e,t))}}var In=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new Rn(e,this.windowSize,this.startWindowEvery))},e}(),Rn=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.destination=t,r.windowSize=n,r.startWindowEvery=i,r.windows=[new ct.a],r.count=0,t.next(r.windows[0]),r}return a.a(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,i=this.windowSize,r=this.windows,o=r.length,a=0;a<o&&!this.closed;a++)r[a].next(e);var s=this.count-i+1;if(s>=0&&s%t==0&&!this.closed&&r.shift().complete(),++this.count%t==0&&!this.closed){var c=new ct.a;r.push(c),n.next(c)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(s.a),Fn=n(59);function Mn(e){var t=At.a,n=null,i=Number.POSITIVE_INFINITY;return Object(Fn.a)(arguments[3])&&(t=arguments[3]),Object(Fn.a)(arguments[2])?t=arguments[2]:Object(on.a)(arguments[2])&&(i=arguments[2]),Object(Fn.a)(arguments[1])?t=arguments[1]:Object(on.a)(arguments[1])&&(n=arguments[1]),function(r){return r.lift(new Dn(e,n,i,t))}}var Dn=function(){function e(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new Bn(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),Ln=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return a.a(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(ct.a),Bn=function(e){function t(t,n,i,r,o){var a=e.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=r,a.scheduler=o,a.windows=[];var s=a.openWindow();if(null!==i&&i>=0){var c={subscriber:a,window:s,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Vn,n,c)),a.add(o.schedule(Hn,i,l))}else{var u={subscriber:a,window:s,windowTimeSpan:n};a.add(o.schedule(Un,n,u))}return a}return a.a(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,i=0;i<n;i++){var r=t[i];r.closed||(r.next(e),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new Ln;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.a);function Un(e){var t=e.subscriber,n=e.windowTimeSpan,i=e.window;i&&t.closeWindow(i),e.window=t.openWindow(),this.schedule(e,n)}function Hn(e){var t=e.windowTimeSpan,n=e.subscriber,i=e.scheduler,r=e.windowCreationInterval,o=n.openWindow(),a={action:this,subscription:null},s={subscriber:n,window:o,context:a};a.subscription=i.schedule(Vn,t,s),this.add(a.subscription),this.schedule(e,r)}function Vn(e){var t=e.subscriber,n=e.window,i=e.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),t.closeWindow(n)}function zn(e,t){return function(n){return n.lift(new Gn(e,t))}}var Gn=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Wn(e,this.openings,this.closingSelector))},e}(),Wn=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.openings=n,r.closingSelector=i,r.contexts=[],r.add(r.openSubscription=Object(f.a)(r,n,n)),r}return a.a(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,i=0;i<n;i++)t[i].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,r=-1;++r<i;){var o=n[r];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var r=t[i];r.window.complete(),r.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var i=e[n];i.window.unsubscribe(),i.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,i,r){if(e===this.openings){var o=void 0;try{o=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var a=new ct.a,s=new p.a,c={window:a,subscription:s};this.contexts.push(c);var l=Object(f.a)(this,o,c);l.closed?this.closeWindow(this.contexts.length-1):(l.context=c,s.add(l)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],i=n.window,r=n.subscription;t.splice(e,1),i.complete(),r.unsubscribe()}},t}(m.a);function $n(e){return function(t){return t.lift(new qn(e))}}var qn=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Yn(e,this.closingSelector))},e}(),Yn=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return a.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.openWindow(r)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,i=this.window=new ct.a;this.destination.next(i);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=Object(f.a)(this,n))},t}(m.a),Kn=n(372),Qn=n(219);function Xn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Qn.b.apply(void 0,[t].concat(e)))}}function Jn(e){return function(t){return t.lift(new Qn.a(e))}}n.d(t,"audit",(function(){return i.a})),n.d(t,"auditTime",(function(){return r.a})),n.d(t,"buffer",(function(){return o.a})),n.d(t,"bufferCount",(function(){return c})),n.d(t,"bufferTime",(function(){return h.a})),n.d(t,"bufferToggle",(function(){return g})),n.d(t,"bufferWhen",(function(){return _.a})),n.d(t,"catchError",(function(){return y.a})),n.d(t,"combineAll",(function(){return E})),n.d(t,"combineLatest",(function(){return x.a})),n.d(t,"concat",(function(){return O.a})),n.d(t,"concatAll",(function(){return S.a})),n.d(t,"concatMap",(function(){return C.a})),n.d(t,"concatMapTo",(function(){return j})),n.d(t,"count",(function(){return k})),n.d(t,"debounce",(function(){return N.a})),n.d(t,"debounceTime",(function(){return A.a})),n.d(t,"defaultIfEmpty",(function(){return I.a})),n.d(t,"delay",(function(){return R.a})),n.d(t,"delayWhen",(function(){return M})),n.d(t,"dematerialize",(function(){return H})),n.d(t,"distinct",(function(){return G})),n.d(t,"distinctUntilChanged",(function(){return q.a})),n.d(t,"distinctUntilKeyChanged",(function(){return Y})),n.d(t,"elementAt",(function(){return Z})),n.d(t,"endWith",(function(){return ne})),n.d(t,"every",(function(){return ie})),n.d(t,"exhaust",(function(){return ae})),n.d(t,"exhaustMap",(function(){return le.a})),n.d(t,"expand",(function(){return ue})),n.d(t,"filter",(function(){return Q.a})),n.d(t,"finalize",(function(){return pe.a})),n.d(t,"find",(function(){return fe})),n.d(t,"findIndex",(function(){return be})),n.d(t,"first",(function(){return ve.a})),n.d(t,"groupBy",(function(){return _e.b})),n.d(t,"ignoreElements",(function(){return ye})),n.d(t,"isEmpty",(function(){return xe})),n.d(t,"last",(function(){return Ae})),n.d(t,"map",(function(){return Ie.a})),n.d(t,"mapTo",(function(){return Re.a})),n.d(t,"materialize",(function(){return Me})),n.d(t,"max",(function(){return Ve})),n.d(t,"merge",(function(){return ze.a})),n.d(t,"mergeAll",(function(){return Ge.a})),n.d(t,"mergeMap",(function(){return We.a})),n.d(t,"flatMap",(function(){return We.a})),n.d(t,"mergeMapTo",(function(){return $e})),n.d(t,"mergeScan",(function(){return Ye})),n.d(t,"min",(function(){return Xe})),n.d(t,"multicast",(function(){return Je.a})),n.d(t,"observeOn",(function(){return Ze.b})),n.d(t,"onErrorResumeNext",(function(){return tt})),n.d(t,"pairwise",(function(){return rt.a})),n.d(t,"partition",(function(){return at})),n.d(t,"pluck",(function(){return st})),n.d(t,"publish",(function(){return lt})),n.d(t,"publishBehavior",(function(){return dt})),n.d(t,"publishLast",(function(){return pt})),n.d(t,"publishReplay",(function(){return mt})),n.d(t,"race",(function(){return bt})),n.d(t,"reduce",(function(){return He})),n.d(t,"repeat",(function(){return vt})),n.d(t,"repeatWhen",(function(){return wt})),n.d(t,"retry",(function(){return Ot})),n.d(t,"retryWhen",(function(){return jt})),n.d(t,"refCount",(function(){return Pt.a})),n.d(t,"sample",(function(){return Nt.a})),n.d(t,"sampleTime",(function(){return It})),n.d(t,"scan",(function(){return Be.a})),n.d(t,"sequenceEqual",(function(){return Dt})),n.d(t,"share",(function(){return Ht.a})),n.d(t,"shareReplay",(function(){return Vt.a})),n.d(t,"single",(function(){return zt})),n.d(t,"skip",(function(){return $t.a})),n.d(t,"skipLast",(function(){return qt})),n.d(t,"skipUntil",(function(){return Qt})),n.d(t,"skipWhile",(function(){return Zt})),n.d(t,"startWith",(function(){return nn.a})),n.d(t,"subscribeOn",(function(){return sn})),n.d(t,"switchAll",(function(){return ln.a})),n.d(t,"switchMap",(function(){return un.a})),n.d(t,"switchMapTo",(function(){return dn})),n.d(t,"take",(function(){return J.a})),n.d(t,"takeLast",(function(){return ke})),n.d(t,"takeUntil",(function(){return hn.a})),n.d(t,"takeWhile",(function(){return pn.a})),n.d(t,"tap",(function(){return fn.a})),n.d(t,"throttle",(function(){return mn.b})),n.d(t,"throttleTime",(function(){return gn})),n.d(t,"throwIfEmpty",(function(){return X.a})),n.d(t,"timeInterval",(function(){return wn})),n.d(t,"timeout",(function(){return xn.a})),n.d(t,"timeoutWith",(function(){return On.a})),n.d(t,"timestamp",(function(){return Sn})),n.d(t,"toArray",(function(){return kn})),n.d(t,"window",(function(){return Tn})),n.d(t,"windowCount",(function(){return An})),n.d(t,"windowTime",(function(){return Mn})),n.d(t,"windowToggle",(function(){return zn})),n.d(t,"windowWhen",(function(){return $n})),n.d(t,"withLatestFrom",(function(){return Kn.a})),n.d(t,"zip",(function(){return Xn})),n.d(t,"zipAll",(function(){return Jn}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(4),r=n(16),o=n(10),a=n(31),s=n(112),c=n(297),l=n(157),u=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return i.a(t,e),t}(o.a),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i.a(t,e),t.prototype[l.a]=function(){return new u(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.a;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new c.a(this,e))},t.prototype.asObservable=function(){var e=new r.a;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(r.a),h=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return i.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.a.EMPTY},t}(d)},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){e.exports={start:"_2aMvB",info:"f2DLz",finish:"I4WND",startVideo:"_1AzDb",infoVideo:"_2nKB1",finishVideo:"d5i1E",step:"xyJ3x",content:"_1fSeZ",title:"_3q_ep",text:"_1kl-M",button:"aGC-Y",inactive:"_3BC6F",link:"M7KBh",personalize:"uWd9M",registration:"_3rqBp",fbSignin:"_1q5Ax",googleSignin:"_1URxb",progress:"AA0DS",bar:"W5Pcc",progressValue:"cI_Y5",barValue:"_2zxVl",grid:"Cmp32",item:"_3hzzZ",name:"_1u1ZY",description:"_1niEm",footer:"_2eB-t",skipSettings:"_39TeU",gdprSignupEnabled:"ay5xM",slider:"_22FZo",sliderItem:"_3oCBk",sliderActive:"p8AUn",unifiedFunnel:"_2yC7l",sub:"_3gLJP",login:"_1ScDO",skip:"_1HCs4",bottom:"_2xSZl",terms:"_3uCd0",fb:"_3aRWF",google:"_3zvo5",email:"_1WkcM",placeholder:"gbTSb"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(10);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.project=n,r.count=0,r.thisArg=i||r,r}return i.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d}));var i,r,o,a,s,c,l,u,d,h=n(12),p=n(66),f=n(80);!function(e){e.synonym="Synonym",e.plagiarism="Plagiarism",e.grammar="Grammar",e.contextualSpelling="ContextualSpelling",e.sentenceStructure="SentenceStructure",e.punctuation="Punctuation",e.style="Style",e.enhancement="Enhancement",e.spelling="Spelling",e.voxStyle="VoxStyle",e.other="Other"}(i||(i={})),function(e){e.critical="critical",e.advanced="advanced"}(r||(r={})),function(e){const t=h.a.create("LegacySynonyms");e.create=function(e,n,i){const r=i.synonyms;return r?{id:e,kind:"synonym",token:r.token||"",position:n||0,meanings:r.meanings||[],url:r.url||"",replacements:i.replacements||[]}:(t.warn("no synonym data in RawMatch",i),{id:e,kind:"synonym",token:"",position:n,meanings:[],url:"",replacements:[]})},e.toRawData=function(e){return{id:e.id,action:"synonyms",group:void 0,synonyms:{pos:e.position.toString(),token:e.token,url:e.url,meanings:e.meanings},replacements:e.replacements,begin:e.position,end:e.position+e.token.length,text:e.token}}}(o||(o={})),function(e){e.correctness="correctness",e.clarity="clarity",e.engagement="engagement",e.tone="tone",e.vox="vox",e.other="other"}(a||(a={})),function(e){e.critical="critical",e.advanced="advanced",e.clarity="clarity",e.engagement="engagement",e.tone="tone",e.vox="vox"}(s||(s={})),function(e){e.create=(e,t)=>{const s="critical"===e.impact?r.critical:r.advanced,c=function(e){return e&&o[e]||a.other}(e.cardLayout.outcome);return{_tag:p.b.capi,id:String(e.id),highlightRange:{start:e.highlightBegin,end:e.highlightEnd},cardLayout:{group:e.cardLayout.group,outcome:c},highlightText:e.highlightText,transformRange:{start:e.begin,end:e.end},transformText:e.text,hasTransforms:e.replacements.length>0,revision:`${t}-${e.rev}`,priority:parseInt(e.extra_properties&&e.extra_properties.priority||"0",10)||0,isFree:!!e.free,isHidden:!!e.hidden,isMuted:!!e.muted,isFreePremium:e.extra_properties&&!!e.extra_properties.free_occasional_premium_alert,isLockedPremium:e.extra_properties&&!!e.extra_properties.is_locked_premium_alert,isVox:c===a.vox,group:e.group||"synonyms"!==e.action?n(e.group):i.synonym,outcome:c,category:e.category,categoryHuman:e.categoryHuman,patternName:e.pname,point:e.point,sentenceNo:e.sentence_no,impact:s,displayType:l(s,c),isEmogenie:!!e.extra_properties.emoji,_legacyAlert:e}};const t={Spelling:i.contextualSpelling,ContextualSpelling:i.contextualSpelling,Grammar:i.grammar,Style:i.style,SentenceStructure:i.sentenceStructure,Punctuation:i.punctuation,Enhancement:i.enhancement,VoxStyle:i.voxStyle};function n(e){return t[e]||i.other}e.createAlertGroup=n;const o={Correctness:a.correctness,Clarity:a.clarity,Engagement:a.engagement,Tone:a.tone,"Style guide":a.vox};e.toRawCapiAlert=function(e){return Object.assign(Object.assign({},e._legacyAlert),{begin:e.transformRange.start,end:e.transformRange.end,highlightBegin:e.highlightRange.start,highlightEnd:e.highlightRange.end})};const c={[a.correctness]:s.critical,[a.clarity]:s.clarity,[a.engagement]:s.engagement,[a.tone]:s.tone,[a.vox]:s.vox,[a.other]:s.advanced};function l(e,t){return e===r.critical?s.critical:c[t]}e.ordering={greaterThan:(e,t)=>!e.isFree&&t.isFree||e.isFree&&!t.isFree?e.isVox||t.isVox?e.isVox:e.isFree:e.group===i.spelling&&t.group===i.spelling||e.group===i.contextualSpelling&&t.group===i.contextualSpelling?e.priority>=t.priority:e.isVox&&t.isVox?e.priority>=t.priority:e.group===i.spelling||t.group!==i.spelling&&e.priority<t.priority,areConflicting:(e,t)=>(!e.isFree&&!t.isFree||e.isFree&&t.isFree||e.isVox||t.isVox)&&(f.b.equals(e.transformRange,t.transformRange)||f.b.equals(e.highlightRange,t.highlightRange))}}(c||(c={})),function(e){let t;!function(e){e.start="start",e.add="add",e.remove="remove",e.finished="finished",e.emogenie="emogenie"}(t=e.Type||(e.Type={})),e.start=function(e){return{_tag:t.start,isEnterprise:e.isEnterprise,domainName:e.domainName}},e.add=function(e){return{_tag:t.add,alert:e}},e.remove=function(e){return{_tag:t.remove,removedId:e}},e.finished=function(e){return{_tag:t.finished,finished:e}},e.emogenie=function(e){return{_tag:t.emogenie,emogenieReport:{emotions:e.emotions,hidden:e.hidden,recommendation:e.recommendation}}}}(l||(l={})),function(e){e.british="british",e.american="american",e.australian="australian",e.canadian="canadian"}(u||(u={})),function(e){e.idle="idle",e.inProgress="inProgress"}(d||(d={}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return l}));var i,r,o=n(324),a=n(0),s=n(123);!function(e){e.fromDocument=function(e,t="grammarly-extension"){return()=>e.createElement(t)}}(i||(i={})),function(e){e.appendChild=function(e){return t=>e.appendChild(t)}}(r||(r={}));class c{constructor(e,t,n,i){this._elementCreator=e,this._injector=t,this._afterLoad=n,this._beforeUnload=i,this._root=null,this._init()}_init(){this._root=this._elementCreator(),this._injector(this._root),this._afterLoad(this._root)}dispose(){this._root&&(this._beforeUnload&&this._beforeUnload(this._root),this._root.parentNode?this._root.parentNode.removeChild(this._root):this._root.remove(),this._root=null)}}class l extends c{constructor(e,t,n){super(e,t,e=>{s.render(a.createElement(n,null),e),e.classList.add(o.gr_no_print)},e=>{s.unmountComponentAtNode(e)})}}},,,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),function(e){e.TRACE="TRACE",e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.FATAL="FATAL"}(i||(i={}));const r={[i.TRACE]:1,[i.DEBUG]:2,[i.INFO]:3,[i.WARN]:4,[i.ERROR]:5,[i.FATAL]:6};function o(e){return r[e]||0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";var i=n(199),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(136),r=new(n(134).a)(i.a)},,function(e,t,n){"use strict";var i,r,o,a;n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),function(e){e.zero={top:0,left:0},e.minus=function(e,t){return{top:e.top-t.top,left:e.left-t.left}},e.plus=function(e,t){return{top:e.top+t.top,left:e.left+t.left}},e.create=function(e){return{top:e.top,left:e.left}}}(i||(i={})),function(e){function t(e){return{top:e.top,left:e.left}}e.create=t,e.fromClientPoint=function(e,n,i){return t({top:e.top-n.top+i.top,left:e.left-n.left+i.left})},e.zero={top:0,left:0}}(r||(r={})),function(e){function t(e){return{top:e.top,left:e.left}}e.create=t,e.fromOffsetPoint=function(e,n,i){return t({top:e.top+n.top-i.top,left:e.left+n.left-i.left})},e.fromPage=function(e,n){return t({top:e.top-n.top,left:e.left-n.left})}}(o||(o={})),function(e){function t(e){return{top:e.top,left:e.left}}e.create=t,e.getHighlightsPosition=function(e,n,i,r={top:0,left:0}){return t({top:e.top+n.top+i.top+r.top,left:e.left+n.left+i.left+r.left})},e.fromClient=function(e,n){return t({top:e.top+n.top,left:e.left+n.left})},e.fromOffset=function(e,t,n,i={top:0,left:0}){return{top:e.top+t.top-n.top+i.top,left:e.left+t.left-n.left+i.left}}}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"j",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"i",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return b}));class i{constructor(e){this.expectedType=e}}class r extends i{constructor(e,t){super(e),this.value=t}}class o{constructor(e,t){this.fieldName=e,this.error=t}}class a extends i{constructor(e,t){super(e),this.fieldErrors=t}}function s(e){return"string"==typeof e?{result:e}:{error:new r("string",e)}}function c(e){return"boolean"==typeof e?{result:e}:{error:new r("boolean",e)}}function l(e){if("string"==typeof e){let t;try{t=new Date(e)}catch(t){return{error:new r("ISO date",e)}}return{result:t}}return{error:new r("ISO date",e)}}function u(e){return t=>void 0===t?{result:void 0}:e(t)}function d(e){return t=>null===t?{result:null}:e(t)}function h(e,t){return n=>{if("object"!=typeof n||null==n)return{error:new r(e,n)};const i={},s=[];return Object.keys(t).forEach(e=>{const r=t[e](n[e],n,e);"error"in r?s.push(new o(e,r.error)):i[e]=r.result}),s.length>0?{error:new a(e,s)}:{result:i}}}function p(e){return t=>{if(!Array.isArray(t))return{error:new r("Array",t)};const n=[],i=t.reduce((t,i,r)=>{const a=e(i);return"error"in a?n.push(new o(r.toString(),a.error)):t.push(a.result),t},[]);return n.length>0?{error:new a("Array",n)}:{result:i}}}function f(...e){return t=>{if(!Array.isArray(t))return{error:new r("Array",t)};const n=e.length;if(t.length!==n)return{error:new a("Array",[new o("length",new i(n.toString()))])};const s=[];return{result:t.reduce((t,n,i)=>{const r=e[i](n);return"error"in r?s.push(new o(i.toString(),r.error)):t.push(r.result),t},[])}}}function m(e,t){return n=>{const i=e(n);return"error"in i?i:{result:t(i.result)}}}function g(e){return t=>{const n=e(t);if("error"in n)throw new Error(`Parse error: ${JSON.stringify(n.error)}`);return n.result}}function b(e,t){return(n,i)=>t(i[e])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(16),r=new i.a((function(e){return e.complete()}));function o(e){return e?function(e){return new i.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(30);const r=new Proxy({},{get:(e,t)=>(...e)=>i.emitBackground("gnar-track",{method:t,props:e})})},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"m",(function(){return _})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return w})),n.d(t,"l",(function(){return E})),n.d(t,"g",(function(){return x}));var i=n(11);function r(e,t){return{key:e,value:t}}function o(e,t){return r(e,t)}function a(e){return e.map(e=>[e.key,e.value].map(encodeURIComponent).join("=")).join("&")}function s(e,t){if(0===t.length)return e;const n=e.includes("?");return[e,a(t)].join(n?"&":"?")}function c(e){const t=[];return void 0!==e.medium&&t.push(o("utm_medium",e.medium)),void 0!==e.source&&t.push(o("utm_source",e.source)),void 0!==e.campaign&&t.push(o("utm_campaign",e.campaign)),t}function l(e){return c(e)}function u(e){return c({medium:"internal",source:e})}const d=r("fromExtension",""+!0);function h(e,t){return s(Object(i.f)().signup,[...l({medium:"internal",source:e,campaign:t}),d])}function p(){return s(Object(i.f)().signin,[...u("signinHook"),d])}function f(e){return s(Object(i.f)().fbSignup,u(e))}function m(e){return s(Object(i.f)().googleSignup,u(e))}const g=c({medium:"internal"})[0];function b(){return s(Object(i.f)().terms,[g])}function v(){return s(Object(i.f)().policy,[g])}function _(e,t){return s(Object(i.f)().upgrade,l({medium:"internal",source:e,campaign:t}))}function y(e){return s(Object(i.f)().welcomeC,c({medium:e?"navigation":"store",source:Object(i.b)()}))}function w(e){return s(Object(i.f)().afterInstall,[r("extension_install",""+!0),...c({medium:e?"navigation":"store",source:e?void 0:Object(i.b)()})])}function E(e){return s(Object(i.f)().uninstall,[...void 0===e?[]:[r("domain",e)],...c({medium:"internal",campaign:"extensionUninstall"})])}function x(e){return s(Object(i.f)().planComparison,[r("app_type","extension"),r("browser",Object(i.b)()),...l({medium:"internal",source:"upHook",campaign:e})])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));const i={bridge:"bridge",background:"message:to-priv",broadcast:"message:to-non-priv"};var r;!function(e){e[e.success=0]="success",e[e.successWithEmpty=1]="successWithEmpty",e[e.alreadyMigrated=2]="alreadyMigrated"}(r||(r={}))},,function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return i}))},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return b}));var i=n(11),r=n(224),o=n(220);const a=e=>e.replace("www.","");function s(e){const t=e&&e.ownerDocument||document,n=t.location||t.defaultView.location;return n?a(n.hostname):""}function c(e){if(Object(i.k)()&&/^about:/.test(e))return e;const t=document.createElement("a");return t.href=e,a(t.hostname)}const l=()=>r.b.includes(s()),u=()=>/\/document\//.test(m())&&"docs.google.com"===s(),d=()=>/\.atlassian\.net/.test(s()),h=()=>/\.blackboard\.com/.test(s()),p=/d\/(.*?)\//,f=()=>{if(!document||!document.location)return null;if(p.test(document.location.href)){const e=document.location.href.match(p)[1];return o.createHash("superfasthash").hash(e)}return null};function m(e){const t=e&&e.ownerDocument||document,n=t.location||t.defaultView.location;return n?n.pathname+n.search:""}function g(){const e=new RegExp("^(?:[a-z]+:)?//","i");let t="";const n=document.getElementsByTagName("link");for(let e=0;e<n.length;e++){const i=n[e],r=/(\"icon )|( icon\")|(\"icon\")|( icon )/i;-1!==('"'+i.getAttribute("rel")+'"').search(r)&&(t=i.getAttribute("href"))}return t||(t="favicon.ico"),e.test(t)?t:"/"!==t[0]?"//"+document.location.host+document.location.pathname+t:"//"+document.location.host+t}function b(){const e=s();return"Back to "+(e&&{"mail.google.com":"Gmail","facebook.com":"Facebook","twitter.com":"Twitter"}[e]||document.title)}},function(e,t,n){e.exports={title:"_1hgd_",titleVox:"_2E-bR",titleIcon:"_8E84J",replacement:"_3qVl5",singleReplacement:"_31RDm",listItemReplacement:"_39wr-",sideCommas:"_1z-hz",orReplacement:"qaIZN",insertReplacement:"_2vDhI",longReplacement:"_6h7yo",didYouMean:"_1ZTEV",wordPart:"_3B9tn",wordBeforeInsert:"_2q0Qr",insertPart:"_33x6N",insertPunctuation:"_3hA_y",deleteReplacement:"_2X5uZ",deletePart:"_3kd46",wordBeforeDelete:"_3Y--k",deletePunctuation:"gP7oE",deleteColonOrSemicolon:"_1TRjy",deleteParenthesis:"_2Gk1U",deleteQuestion:"_1RVl3",deleteExclamation:"_30Tga",deletePeriod:"_3hZ-4",deleteQuote:"_1NDaw",deleteDash:"_3dzHS",deleteEllipsis:"_3gTT6",deleteQuoteWithPunctuation:"eqX81",deleteApostrophe:"_3qPbk",deletePunctuationBeforeLetter:"_1BHT1",deleteLetter:"dneXE",deleteDoubleComma:"_9jaEM",insertQuestion:"_3HfQI",listReplacement:"zWhnG",nextIsWord:"K0PjN",arrowPart:"_2s4vw",bold:"_36c58",orSeparator:"_1zttk",didYouMeanLabel:"_22Xa1",listItemReplacementNoHeader:"_1F5HS",listItemReplacementWrapper:"_3mOJO",flattenListItemReplacementWrapper:"_2bHdN"}},function(e,t,n){"use strict";var i=n(75),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i.a?i.a.toStringTag:void 0,c=Object.prototype.toString,l=i.a?i.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}(e):function(e){return c.call(e)}(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i,r,o=n(205),a=n(8);!function(e){let t;function n(e){return e._tag===t.ins}function i(e){return e._tag===t.del}!function(e){e.ins="ins",e.del="del"}(t=e.Type||(e.Type={})),e.isIns=n,e.ins=function(e,n){return{_tag:t.ins,pos:e,text:n}},e.isDel=i,e.del=function(e,n){return{_tag:t.del,pos:e,length:n}},e.applyChanges=function(e,t){return t.reduce((e,t)=>n(t)?e.slice(0,t.pos)+t.text+e.slice(t.pos):i(t)?e.slice(0,t.pos)+e.slice(t.pos+t.length):Object(a.g)(t),e)},e.getTransformOffset=function(e){return n(e)?e.text.length:i(e)?-e.length:Object(a.g)(e)},e.getRange=function(e){return{start:e.pos,end:e.pos+(n(e)?e.text.length:e.length)}}}(i||(i={})),function(e){const t=new o.diff_match_patch;e.fromDiff=function(e,n){const r=t.diff_main(e,n,void 0,.05);t.diff_cleanupEfficiency(r);let a=0;const s=[];for(const e of r)e[0]===o.DIFF_EQUAL?a+=e[1].length:e[0]===o.DIFF_INSERT?(s.push(i.ins(a,e[1])),a+=e[1].length):s.push(i.del(a,e[1].length));return s}}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i,r,o=n(8),a=n(162),s=n(80),c=n(40);!function(e){e.capi="capiAlert",e.autocorrect="autocorrectAlert"}(i||(i={})),function(e){function t(e){return e._tag===i.capi}e.isCapiAlert=t,e.isAutocorrectAlert=function(e){return e._tag===i.autocorrect},e.ordering={greaterThan:(e,n)=>t(e)?t(n)?c.a.ordering.greaterThan(e,n):n.state===a.a.applied:t(n)?e.state===a.a.initial:e.state===a.a.applied,areConflicting:(e,n)=>t(e)&&t(n)?c.a.ordering.areConflicting(e,n):e._tag===n._tag&&(s.b.equals(e.transformRange,n.transformRange)||s.b.equals(e.highlightRange,n.highlightRange))},e.alertMapToCapiAlerts=t=>o.f.values(t).filter(t=>!!t&&e.isCapiAlert(t))}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));class i extends Error{constructor(e){super(`Assertion failed: ${e?"string"==typeof e?e:e():"(unnamed)"}`)}}function r(e,t){if(!e)throw new i(t)}function o(e,t){if(null==e)throw new i(()=>t?`Expected ${t} to be non-null`:"Expected non-null");return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(16),r=n(192),o=n(294);function a(e,t){return t?Object(o.a)(e,t):e instanceof i.a?e:new i.a(Object(r.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},function(e,t,n){"use strict";var i,r=n(99),o=n(47).a["__core-js_shared__"],a=(i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",s=n(37),c=n(111),l=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,h=u.toString,p=d.hasOwnProperty,f=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=function(e){return!(!Object(s.a)(e)||function(e){return!!a&&a in e}(e))&&(Object(r.a)(e)?f:l).test(Object(c.a)(e))};t.a=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return m(n)?n:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(355),o=(n(148),n(179)),a=(n(267),n(265),n(8));!function(e){const t=e=>Object(r.a)(e).pipe(Object(o.a)());e.sec2=t(a.e.seconds(2)),e.sec1=t(a.e.seconds(1)),e.hz4=t(a.e.hertz(4)),e.hz10=t(a.e.hertz(10)),e.hz30=t(a.e.hertz(30));const n=new Map;e.create=function(e){const i=n.get(e);if(i)return i;{const i=t(e);return n.set(e,i),i}}}(i||(i={}))},,function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"j",(function(){return E}));var i=n(94),r=n(148),o=n(81),a=n(71),s=n(77),c=n(50),l=n(186),u=n(160);function d(e){return[Object(i.a)(e,"scroll"),Object(i.a)(e,"mousewheel"),Object(i.a)(e,"touchmove")]}function h(e){return Object(r.a)(...d(e),o.a.create(e,{attributes:!1,childList:!0,subtree:!0,characterData:!0}),Object(i.a)(e,"keydown"),Object(i.a)(e,"keyup"))}function p(e){return{left:parseFloat(e.paddingLeft)||0,top:parseFloat(e.paddingTop)||0,right:parseFloat(e.paddingRight)||0,bottom:parseFloat(e.paddingBottom)||0}}const f=a.a.hz4,m=a.a.sec2,g=a.a.hz30,b=4;function v(e,t=b,n=e.container,i={top:0,left:0}){return{zIndex:e.zIndex.map(e=>e+1,s.a),position:e.textFieldRect.map(e=>{const n=Math.max(e.padding.right,t),r=Math.max(e.padding.bottom,t);return Object.assign(Object.assign({},c.c.create({top:e.position.top+e.height-r+i.top,left:e.position.left+e.width-n+i.left})),{effectivePadding:{right:n,bottom:r,left:e.padding.left,top:e.padding.top},textFieldHeight:e.height,textFieldWidth:e.width,_tag:u.a.absolute})},s.a),container:n,getShouldFlipMenu:(e,t)=>e<t}}function _(e){return l.a.create(()=>(function e(t){const n=getComputedStyle(t).zIndex,i="auto"!==n&&parseInt(n||"0",10)||null;return null!==i?i:t.parentNode&&t.parentNode.nodeType===Node.ELEMENT_NODE?e(t.parentNode):null}(e)||0)+1,m,s.a)}function y(e,t){const n=[];let i=0,r=e;for(;r.parentElement&&i<t;)n.push(r.parentElement),r=r.parentElement,i++;return n}function w(e,t){let n=0,i=e;for(;n<t&&i.parentElement;)i=i.parentElement,n++;return n<t?null:i}function E(e,t){return Object(r.a)(...y(e,t).map(e=>Object(i.a)(e,"scroll")))}},,function(e,t,n){"use strict";var i=n(47).a.Symbol;t.a=i},function(e,t,n){"use strict";var i=n(30),r=n(11),o=n(6),a=n(22);class s{constructor(e,t,n,i,r){this._baseUrl=e,this._appName=t,this._appVersion=n,this._env=i,this._fetch=r,this._context={userId:void 0,containerId:void 0},this._sessionId=Object(a.q)(),this._logEndpoint=Object(o.d)(this._baseUrl),this._crashEndpoint=Object(o.c)(this._baseUrl)}setUserId(e){this._context=Object.assign({},this._context,{userId:e})}setContainerId(e){this._context=Object.assign({},this._context,{containerId:e})}getContext(){return this._context}_sendRaw(e,t){return this._fetch(e,{mode:"cors",headers:{"Content-Type":"application/json"},method:"post",cache:"no-cache",body:JSON.stringify(t)}).then(e=>void 0,e=>{})}sendEvent(e){const t=Object(o.b)(e,{application:this._appName,version:this._appVersion,env:this._env,context:this.getContext()});return this._sendRaw(this._logEndpoint,t)}sendCrashLog(e){const t=e.map(e=>Object(o.b)(e,{application:this._appName,version:this._appVersion,sessionId:this._sessionId,env:this._env,context:this.getContext()}));return this._sendRaw(this._crashEndpoint,t)}sendUsageEvent(e,t,n,i){const r=Object(o.b)({logger:e,message:t,level:n,extra_usage:i},{application:this._appName,version:this._appVersion,env:this._env});return this._sendRaw(this._logEndpoint,r)}}var c=n(235);class l{constructor(e,t,n,i,r){this._baseUrl=e,this._appName=t,this._appVersion=n,this._env=i,this._fetch=r,this._context={userId:void 0,containerId:void 0}}setUserId(e){this._context=Object.assign({},this._context,{userId:e})}setContainerId(e){this._context=Object.assign({},this._context,{containerId:e})}getContext(){return this._context}send(e){const t=Object(o.b)(e,{application:this._appName,version:this._appVersion,env:this._env,context:this.getContext()});return this._fetch(this._baseUrl,{mode:"no-cors",method:"post",headers:{"Content-Type":"application/json"},cache:"no-cache",body:JSON.stringify(t)})}}var u=n(149),d=n(12),h=n(124);n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return _}));const p=d.a.create("lib.tracking.call");let f,m;var g;!function(e){function t(){return f||(f=Object(r.i)()?new s(Object(r.f)().newFelog,Object(r.a)(),Object(r.h)(),Object(r.c)(),window.fetch.bind(window)):void 0),f}function n(){return m||(m=Object(r.i)()?new l(Object(r.f)().sumoLogic,Object(r.a)(),Object(r.h)(),Object(r.c)(),window.fetch.bind(window)):void 0),m}let i;!function(e){e.sendFelog=function(e,n,i,r){const o=t();if(!o)throw Error("sendFelog unavailable");o.sendEvent({logger:e,message:n,level:i,extra:r}).catch(t=>Object(c.a)(e,n,i,r,o.getContext()))},e.sendFelogEvent=function(e){const n=t();if(!n)throw Error("felog unavailable");n.sendEvent(e).catch(t=>Object(c.b)(e,n.getContext()))},e.sendSumoLogic=function(e,t,i,r){const o=n();if(!o)throw Error("sumoLogicClient unavailable");o.send({logger:e,message:t,level:i,extra:r}).catch(n=>Object(c.a)(e,t,i,r,o.getContext()))},e.sendFelogCrashLogs=function(e){const n=t();n&&n.sendCrashLog(e)},e.sendFelogUsageEvent=function(e,n,i,r){const o=t();if(!o)throw Error("felogClient unavailable");o.sendUsageEvent(e,n,i,r).catch(t=>Object(c.a)(e,n,i))},e.setUserId=function(e){const i=t();i&&i.setUserId(e);const r=n();r&&r.setUserId(e)},e.setContainerId=function(e){const i=t();i&&i.setContainerId(e);const r=n();r&&r.setContainerId(e)}}(i=e.methods||(e.methods={})),e.CALL_HANDLER_ID="tracking/RPC"}(g||(g={}));const b=Object.keys(g.methods).reduce((e,t)=>(e[t]=(...e)=>v(g.CALL_HANDLER_ID,t,...e),e),{});function v(e,...t){const n=t=>{p.warn(`tracking call ${e} failed, reason: `,t)};if(Object(r.i)())Object(a.f)(()=>{try{switch(_(e,t),e){case g.CALL_HANDLER_ID:const n=t[0],i=t.slice(1);g.methods[n](...i);break;default:!function(e,t){const[n,i]=e.split(".");if("gnar"===n)if(u.a.gnar)if("track"===i){const[e,n]=t;u.a.gnar.track(Object.assign({eventName:Object(r.d)()+"/"+e},n))}else if("pingMaybe"===i)u.a.gnar.pingMaybe();else if("setUser"===i)try{u.a.gnar.setUser(t[0],t[1])}catch(e){Object(h.a)().gnar.errorSetUser(JSON.stringify(e))}else p.error(`gnar client does not have method '${i}' for '${e}' in runMessage`);else p.error(`gnar client not available for '${e}' in runMessage`);else p.error(`unrecognized '${e}' in runMessage`)}(e,t)}}catch(e){n(e)}},20);else{const r=1e4;let o;const a=()=>clearInterval(o),s=e=>{a(),n(e)};o=window.setTimeout(()=>s("timeout call through bg page"),r),i.emitBackground("tracking-call",{msg:e,data:t},a)}}function _(e,t){p.info(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=n(319).equals},function(e,t,n){e.exports={enhancementsPopup:"_13F1U",popupHeader:"Nnbn4",grammarlyLogo:"_8iWhi",checkingIcon:"_5rAHM",gr__spin:"_2i864",popupControls:"_3Pu3i",closeBtn:"cgmmC",feedbackBtn:"_3bmms",feedbackTooltip:"_3EE5o",disableBtn:"zU1WU",disableTooltip:"_1ASRS",alertRow:"_2GODu",alertsText:"_3H4Q7",criticalAlertsText:"_5B3M-",enhancementsAlerts:"_2frgV",toggleEnhancements:"_1ioJr",premiumAlerts:"c-M1V",goPremium:"_16Q33",alertCountWrapper:"_1srFX",alertCount:"_2C1Ph",criticalAlert:"_1kXeR",premiumAlert:"_3SFkf",clarityAlert:"ZV7Uj",engagementAlert:"_6Y94s",deliveryAlert:"FjRNK",plusSign:"_3kk17",noAlerts:"_27vwZ"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(10);function o(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.thisArg=i,r.count=0,r}return i.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i,r,o,a=n(65);!function(e){e.isNoop=function(e){return 0===e.startOffset&&0===e.endOffset}}(i||(i={})),function(e){e.translate=function(e,t){return 0===t?e:{start:e.start+t,end:e.end+t}},e.transform=function(e,t){return i.isNoop(t)?e:{start:e.start+t.startOffset,end:e.end+t.endOffset}},e.rebase=function(e,t){return t.reduce((e,t)=>{const n=a.a.getTransformOffset(t);return{start:t.pos<=e.start?Math.max(t.pos,e.start+n):e.start,end:t.pos<e.end?Math.max(t.pos,e.end+n):e.end}},e)},e.contains=function(e,t){return t.start>=e.start&&t.start<e.end&&t.end>=e.start&&t.end<=e.end},e.isAdjacent=function(e,t){return e.end===t.start||t.end===e.start},e.intersects=function(e,t){return e.start>=t.start&&e.start<t.end||t.start>=e.start&&t.start<e.end},e.equals=function(e,t){return e.start===t.start&&e.end===t.end},e.toString=function(e){return`[${e.start}, ${e.end}]`}}(r||(r={})),function(e){e.isConsistentWithText=function(e,t){return t.slice(e.transformRange.start,e.transformRange.end)===e.transformText&&t.slice(e.highlightRange.start,e.highlightRange.end)===e.highlightText},e.translate=function(e,t){return Object.assign(Object.assign({},e),{highlightRange:r.translate(e.highlightRange,t),transformRange:r.translate(e.transformRange,t)})},e.transform=function(e,t,n){return Object.assign(Object.assign({},e),{highlightRange:r.transform(e.highlightRange,n),transformRange:r.transform(e.transformRange,t)})}}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(181),o=n(16),a=n(179),s=n(239),c=n(266),l=n(39);!function(e){function t(e,t){return n(e,t).pipe(Object(a.a)(),Object(s.b)(r.a))}function n(e,t){return new o.a(n=>{const i=new MutationObserver(e=>n.next(e));return i.observe(e,t),()=>i.disconnect()})}e.create=t,e.createUnsafe=n,e.createFlattenHot=function(e,t){return n(e,t).pipe(Object(c.a)(e=>e),Object(a.a)())},e.observeAttribute=function(e,n){return t(e,{attributes:!0,attributeFilter:[n],subtree:!1,childList:!1}).pipe(Object(l.a)(t=>e.getAttribute(n)))},e.observeStyle=function(e){return t(e,{attributes:!0,attributeFilter:["style"],subtree:!1,childList:!1}).pipe(Object(l.a)(t=>e.style))},e.observeChildList=function(e){return t(e,{attributes:!1,subtree:!1,childList:!0}).pipe(Object(l.a)(t=>e.childNodes))}}(i||(i={}))},,function(e,t,n){e.exports={expanded:"xfXSY",minimized:"_1DuW9",btn:"zHbW1",line:"_2RF2p",panel:"_1A9b_",premium:"_2Gxc3",btn_premium:"_1g-AA",anonymous:"_3erZ7",btn_grammarly:"_3iHqO",panelText:"_38zdu",critical:"_15AfV",btn_nopopup:"_2f1pV",btn_gdocsInfo:"_1253e",checking:"_1qP2A",gr__spin:"_2Mtmx",padLeft:"ZlHZ1",counter:"Okai4",counter100:"T87hd",btn_feedback:"hzl9_",btn_clarity:"_3VZ6V",itemArea:"_2EErW",clarity_text:"C8xhZ",clarityNotification:"y9FhH",gr__notification_fade_in:"_1tzBn",notificationNew:"_3rvGZ",notificationText:"_2nG3t",btn_disable:"_1pmw0",btn_showAll:"_1OVHY",btn_showAllPremium:"_3tVO2",feedback:"_1Jc8w",tooltip:"LzS0V",tooltip_grammarly:"_1M8Vf",tooltip_premium:"_4N7BZ",tooltip_clarity:"_1_KfE",tooltip_disable:"_3QL21",plus:"_13Emw",tooltip_visible:"_2OdDM",gr__fade_in:"_1FmS7",tooltip_hidden:"_1kFTh",counterExperiment:"_20jYi",title:"iXtR6",shadowWrap:"_2GslU",errorCategories:"_1pEDN",listSharow:"_3Ky4k",category:"_1-C2m",categoryName:"meRmD",count:"_3rMBS",enterprise:"_2qS6L",enterpriseWrapper:"_3WRxT",enterpriseText:"yhzEh",enterpriseClarityCircle:"_1rago",enterpriseEmogenieCircle:"yExc3",enterpriseArrow:"nfNNX"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(4),r=function(e){function t(t,n,i){var r=e.call(this)||this;return r.parent=t,r.outerValue=n,r.outerIndex=i,r.index=0,r}return i.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(10).a)},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n(67);const r=n(12).a.create("extension-api");function o(e){window.extensionBackgroundPageApi&&r.warn("Background Page Extension Api init called more than once"),window.extensionBackgroundPageApi=window.extensionBackgroundPageApi||e}function a(e){window.extensionContentScriptApi&&r.warn("Content Script Extension Api init called more than once"),window.extensionContentScriptApi=window.extensionContentScriptApi||e}function s(e){window.extensionPopupApi&&r.warn("Popup Extension Api init called more than once"),window.extensionPopupApi=window.extensionPopupApi||e}function c(){return Object(i.c)(window.extensionPopupApi,"popup extension api was not initialized")}function l(){return Object(i.c)(window.extensionContentScriptApi,"content script extension api was not initialized")}function u(){return Object(i.c)(window.extensionBackgroundPageApi,"backgound page extension api was not initialized")}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){function t(e){return new Promise(e)}e.create=t,e.createCompletionSource=function(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve(t){e(t)},reject(e){t(e)}}},e.sync=function(e){return t((t,n)=>t(e()))},e.delay=function(t){return e.create(e=>{setTimeout(()=>{e()},t)})}}(i||(i={}))},function(e,t,n){"use strict";function i(){}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(99),r=n(150);t.a=function(e){return null!=e&&Object(r.a)(e.length)&&!Object(i.a)(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return u}));const i=new Set(["absolute","relative","fixed","sticky"]),r=new Set(["flex","inline-flex"]);function o(e){const t=e.ownerDocument;if(t)return t;throw new Error("target does not have ownerDocument")}function a(e){const t=o(e).defaultView;if(t)return t;throw new Error("active document is detached from a window")}function s(e){return a(e).getComputedStyle(e)}function c(e,t){const n=i.has(t.position);return!n&&null!==t.zIndex&&"auto"!==t.zIndex&&e.parentElement?r.has(s(e.parentElement).display):n}function l(e){const t=o(e).body;if(e===t)throw new Error("target is body");let n=e;do{if(n=n.parentElement,n&&(r=n,i.has(s(r).position)))return n}while(null!==n&&n!==t);var r;return n||t}function u(e){const t=s(e);return"auto"===t.overflow||"scroll"===t.overflow||"auto"===t.overflowY||"scroll"===t.overflowY||"auto"===t.overflowX||"scroll"===t.overflowX}},function(e,t,n){"use strict";function i(e){const t={},n=e||{};return n.emit=function(e,n){e=i(e);const r=t[e];if(!r)return;const o=r.concat();for(let e=0;e<o.length;e++)o[e](n)},n.emitArgs=function(e){e=i(e);const n=t[e],r=[].slice.call(arguments,1);if(!n)return;const o=n.concat();for(let e=0;e<o.length;e++)o[e].apply(null,r)},n.on=function(e,r){return e=i(e),t[e]=t[e]||[],t[e].push(r),{un:function(){n.un(e,r)}}},n.off=n.un=function(e,n){e=i(e);const r=t[e];if(!r)return;const o=r.indexOf(n);o>-1&&(r.splice(o,1),r.length>0||delete t[e])},n.one=function(e,t){const i=n.on(e,(function(){i.un(),t.apply(null,arguments)}))},n.delegate=function(e,t,r){t=i(t),n.on(t,(function(n){e.emit(r||t,n)}))},n;function i(e){return"string"!=typeof e?e.join(" "):e}}n.r(t),n.d(t,"emitter",(function(){return i}))},function(e,t,n){"use strict";n.r(t),n.d(t,"t",(function(){return i})),n.d(t,"DAPI_ACTIONS",(function(){return r})),n.d(t,"CACHED_ACTIONS",(function(){return o})),n.d(t,"setDapiProp",(function(){return a})),n.d(t,"changeWeakDialect",(function(){return s})),n.d(t,"changeStrongDialect",(function(){return c})),n.d(t,"initialSettings",(function(){return l})),n.d(t,"toggleDefs",(function(){return u})),n.d(t,"toggleAutocorrect",(function(){return d})),n.d(t,"toggleHotkeys",(function(){return h})),n.d(t,"toggleSite",(function(){return p})),n.d(t,"toggleField",(function(){return f})),n.d(t,"seenNews",(function(){return m})),n.d(t,"gdocsOptedIn",(function(){return g})),n.d(t,"gdocsOptedOut",(function(){return b})),n.d(t,"seenGdocsOptIn",(function(){return v})),n.d(t,"seenGdocsLargeDocumentWarning",(function(){return _})),n.d(t,"hideGdocsSigninPopup",(function(){return y})),n.d(t,"clickGdocsAuthentication",(function(){return w})),n.d(t,"setGdocsEnabledSetting",(function(){return E})),n.d(t,"showOnboarding",(function(){return x})),n.d(t,"seenOnboarding",(function(){return O})),n.d(t,"seenDelightfulMessage",(function(){return S})),n.d(t,"showNews",(function(){return C})),n.d(t,"saveAnonymousProps",(function(){return j})),n.d(t,"disableOnTab",(function(){return k})),n.d(t,"showDisableReminder",(function(){return T})),n.d(t,"disableReminder",(function(){return P})),n.d(t,"showEdgePopupFromGButton",(function(){return N})),n.d(t,"showLoginReminder",(function(){return A})),n.d(t,"hideLoginReminder",(function(){return I})),n.d(t,"disableLoginReminder",(function(){return R})),n.d(t,"disableEmailSummarization",(function(){return F})),n.d(t,"saveEmailConnectednessData",(function(){return M})),n.d(t,"setEmogenieEmojiState",(function(){return D})),n.d(t,"seenClarityNotification",(function(){return L})),n.d(t,"dismissEmogenieUpgradeHookPopup",(function(){return B})),n.d(t,"showGmailSendEmailPremiumPopup",(function(){return U})),n.d(t,"setHideWelcomeEmogenieNotification",(function(){return H}));const i={SETTINGS_INITIAL:"settings/SETTINGS_INITIAL",TOGGLE_DEFS:"settings/TOGGLE_DEFS",TOGGLE_AUTOCORRECT:"settings/TOGGLE_AUTOCORRECT",TOGGLE_HOTKEYS:"settings/TOGGLE_HOTKEYS",TOGGLE_SITE:"settings/TOGGLE_SITE",TOGGLE_FIELD:"settings/TOGGLE_FIELD",DISABLE_ON_TAB:"settings/DISABLE_ON_TAB",DISABLE_REMINDER_NOTIFICATION:"settings/DISABLE_REMINDER_NOTIFICATION",SHOW_DISABLE_REMINDER:"settings/SHOW_DISABLE_REMINDER",DISABLE_EMAIL_SUMMARIZATION:"settings/DISABLE_EMAIL_SUMMARIZATION",SHOW_NEWS:"settings/SHOW_NEWS",SEEN_NEWS:"settings/SEEN_NEWS",SEEN_GDOCS_OPT_IN:"settings/SEEN_GDOCS_OPT_IN",SEEN_GDOCS_LARGE_DOCUMENT_WARNING:"settings/SEEN_GDOCS_LARGE_DOCUMENT_WARNING",SET_GDOCS_OPT_IN:"setting/SET_GDOCS_OPT_IN",SET_GDOCS_OPT_OUT:"setting/SET_GDOCS_OPT_OUT",HIDE_GDOCS_SIGNIN_POPUP:"settings/HIDE_GDOCS_SIGNIN_POPUP",CLICK_GDOCS_AUTHENTICATION:"settings/CLICK_GDOCS_AUTHENTICATION",SET_GDOCS_ENABLED_SETTING:"settings/SET_GDOCS_ENABLED_SETTING",SHOW_ONBOARDING:"settings/SHOW_ONBOARDING",SEEN_ONBOARDING:"settings/SEEN_ONBOARDING",SEEN_DELIGHTFUL_MESSAGE:"settings/SEEN_DELIGHTFUL_MESSAGE",SHOW_LOGIN_REMINDER:"settings/SHOW_LOGIN_REMINDER",HIDE_LOGIN_REMINDER:"settings/HIDE_LOGIN_REMINDER",DISABLE_LOGIN_REMINDER:"settings/DISABLE_LOGIN_REMINDER",SET_DAPI_PROP:"settings/SET_DAPI_PROP",CHANGE_WEAK_DIALECT:"settings/CHANGE_WEAK_DIALECT",CHANGE_STRONG_DIALECT:"settings/CHANGE_STRONG_DIALECT",SAVE_ANONYMOUS_PROPERTIES:"settings/SAVE_ANONYMOUS_PROPERTIES",EDGE_POPUP_FROM_GBUTTON:"settings/EDGE_POPUP_FROM_GBUTTON",SAVE_EMAIL_CONNECTEDNESS_DATA:"settings/SAVE_EMAIL_CONNECTEDNESS_DATA",SHOW_DATA_CONTROL_POPUP:"settings/SHOW_DATA_CONTROL_POPUP",SET_EMOGENIE_EMOJI_STATE:"settings/SET_EMOGENIE_EMOJI_STATE",SET_HIDE_WELCOME_EMOGENIE_NOTIFICATION:"settings/SET_HIDE_WELCOME_EMOGENIE_NOTIFICATION",SEEN_CLARITY_NOTIFICATION:"settings/SEEN_CLARITY_NOTIFICATION",DISMISS_EMOGENIE_UPGRADE_HOOK_POPUP:"settings/DISMISS_EMOGENIE_UPGRADE_HOOK_POPUP",SHOW_GMAIL_SEND_EMAIL_PREMIUM_POPUP:"setting/SHOW_GMAIL_SEND_EMAIL_PREMIUM_POPUP"},r=[i.CHANGE_WEAK_DIALECT,i.CHANGE_STRONG_DIALECT,i.SET_EMOGENIE_EMOJI_STATE],o=[i.TOGGLE_DEFS,i.TOGGLE_AUTOCORRECT,i.TOGGLE_SITE,i.TOGGLE_FIELD,i.SEEN_NEWS,i.SEEN_GDOCS_OPT_IN,i.SEEN_GDOCS_LARGE_DOCUMENT_WARNING,i.HIDE_GDOCS_SIGNIN_POPUP,i.CLICK_GDOCS_AUTHENTICATION,i.SET_GDOCS_ENABLED_SETTING,i.SET_GDOCS_OPT_IN,i.SET_GDOCS_OPT_OUT,i.SHOW_ONBOARDING,i.SEEN_ONBOARDING,i.SEEN_DELIGHTFUL_MESSAGE,i.SHOW_LOGIN_REMINDER,i.HIDE_LOGIN_REMINDER,i.DISABLE_LOGIN_REMINDER,i.SHOW_DISABLE_REMINDER,i.DISABLE_REMINDER_NOTIFICATION,i.DISABLE_EMAIL_SUMMARIZATION,i.EDGE_POPUP_FROM_GBUTTON,i.SHOW_DATA_CONTROL_POPUP,i.SEEN_CLARITY_NOTIFICATION,i.DISMISS_EMOGENIE_UPGRADE_HOOK_POPUP,i.SHOW_GMAIL_SEND_EMAIL_PREMIUM_POPUP,i.SET_HIDE_WELCOME_EMOGENIE_NOTIFICATION];function a(e,t){return{type:i.SET_DAPI_PROP,propKey:e,data:t}}function s(e){return{type:i.CHANGE_WEAK_DIALECT,data:e}}function c(e){return{type:i.CHANGE_STRONG_DIALECT,data:e}}function l(e){return{type:i.SETTINGS_INITIAL,data:e}}function u(e){return{type:i.TOGGLE_DEFS,enabledDefs:e}}function d(e){return{type:i.TOGGLE_AUTOCORRECT,enabled:e}}function h(e){return{type:i.TOGGLE_HOTKEYS,enabledHotkeys:e}}function p(e,t){return{type:i.TOGGLE_SITE,domain:t,enabled:e}}function f(e,t){return{type:i.TOGGLE_FIELD,domain:t,data:e}}function m(){return{type:i.SEEN_NEWS}}function g(){return{type:i.SET_GDOCS_OPT_IN}}function b(){return{type:i.SET_GDOCS_OPT_OUT}}function v(){return{type:i.SEEN_GDOCS_OPT_IN}}function _(){return{type:i.SEEN_GDOCS_LARGE_DOCUMENT_WARNING}}function y(){return{type:i.HIDE_GDOCS_SIGNIN_POPUP}}function w(){return{type:i.CLICK_GDOCS_AUTHENTICATION}}function E(){return{type:i.SET_GDOCS_ENABLED_SETTING}}function x(){return{type:i.SHOW_ONBOARDING}}function O(){return{type:i.SEEN_ONBOARDING}}function S(e){return{type:i.SEEN_DELIGHTFUL_MESSAGE,delightfulMessageId:e}}function C(e){return{type:i.SHOW_NEWS,showNews:e}}function j(e){return{type:i.SAVE_ANONYMOUS_PROPERTIES,props:e}}function k(){return{type:i.DISABLE_ON_TAB}}function T(e){return{type:i.SHOW_DISABLE_REMINDER,domain:e}}function P(e){return{type:i.DISABLE_REMINDER_NOTIFICATION,domain:e}}function N(){return{type:i.EDGE_POPUP_FROM_GBUTTON}}function A(e){return{type:i.SHOW_LOGIN_REMINDER,loginReminderType:e}}function I(){return{type:i.HIDE_LOGIN_REMINDER}}function R(){return{type:i.DISABLE_LOGIN_REMINDER}}function F(){return{type:i.DISABLE_EMAIL_SUMMARIZATION}}function M(e){return{type:i.SAVE_EMAIL_CONNECTEDNESS_DATA,emailConnectednessData:e}}function D(e){return{type:i.SET_EMOGENIE_EMOJI_STATE,data:e}}function L(){return{type:i.SEEN_CLARITY_NOTIFICATION}}function B(){return{type:i.DISMISS_EMOGENIE_UPGRADE_HOOK_POPUP}}function U(){return{type:i.SHOW_GMAIL_SEND_EMAIL_PREMIUM_POPUP}}function H(){return{type:i.SET_HIDE_WELCOME_EMOGENIE_NOTIFICATION}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(289);function r(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new o(r,t));var a=Object.create(n,i.b);return a.source=n,a.subjectFactory=r,a}}var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(e);return r.add(t.subscribe(i)),r},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(16),r=n(46),o=n(107),a=n(39);function s(e,t,n,c){return Object(o.a)(n)&&(c=n,n=void 0),c?s(e,t,n).pipe(Object(a.a)((function(e){return Object(r.a)(e)?c.apply(void 0,e):c(e)}))):new i.a((function(i){!function e(t,n,i,r,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,i,o),a=function(){return s.removeEventListener(n,i,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var c=t;t.on(n,i),a=function(){return c.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var l=t;t.addListener(n,i),a=function(){return l.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,d=t.length;u<d;u++)e(t[u],n,i,r,o)}r.add(a)}(e,t,(function(e){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(e)}),i,n)}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var i,r=n(52),o=n(118),a=n(217);i||(i={});var s=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(a.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){"use strict";(function(e){var i=n(47),r=n(323),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.a.Buffer:void 0,c=(s?s.isBuffer:void 0)||r.a;t.a=c}).call(this,n(230)(e))},function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";function i(e){return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(64),r=n(37);t.a=function(e){if(!Object(r.a)(e))return!1;var t=Object(i.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},function(e,t,n){"use strict";var i,r=n(0),o=n(151),a=n(118),s=n(94),c=n(39),l=n(147),u=n(130),d=n(273),h=n(77),p=n(283),f=n(343),m=n(303),g=n(50),b=n(109);!function(e){e[e.positioned=0]="positioned",e[e.nonPositioned=1]="nonPositioned"}(i||(i={}));var v=n(89),_=n(148),y=n(212),w=n(81),E=n(71),x=n(385),O=n(186),S=n(73);function C(e,t,n){const i=Object(v.d)(e),r=n&&e.contentWindow||null,o=n&&e.contentDocument||null,a=e=>[Object(s.a)(e,"resize"),Object(s.a)(e,"keydown"),Object(s.a)(e,"mousedown")],c=Object(_.a)(E.a.sec1,...a(i),...r?a(r):[],w.a.create(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0})).pipe(Object(y.a)(null)),l=O.a.create(()=>(function(e,t){const n=e.getBoundingClientRect(),i=t&&t.getBoundingClientRect(),r=t===Object(v.b)(e).body,o=i&&t?{top:n.top-i.top+(r?0:t.scrollTop),left:n.left-i.left+(r?0:t.scrollLeft)}:{top:0,left:0};return{client:g.a.create(n),offset:g.b.create(o),size:{width:n.width,height:n.height}}})(e,t),c,h.a),u=Object(_.a)(Object(S.g)(e),...r?Object(S.h)(r):[]);return{borderRect:l,scroll:O.a.create(()=>g.d.plus({left:e.scrollLeft,top:e.scrollTop},{left:r&&r.scrollX||0,top:r&&r.scrollY||0}),u,h.a),scrollSize:O.a.create(()=>{const t=o&&o.documentElement&&o.documentElement.scrollWidth||0,n=o&&o.documentElement&&o.documentElement.scrollHeight||0,r=i.outerWidth,a=i.outerHeight;return{width:e.scrollWidth+t+r,height:e.scrollHeight+n+a}},c,h.a)}}function j(e,t,n){const i=Object(v.d)(e),r=C(e,t,n);return Object.assign(Object.assign({},r),{paddingRect:r.borderRect.map(t=>{const n=i.getComputedStyle(e),r=Object(x.a)(e,n,Object.assign(Object.assign({},t.client),t.size)),o=g.d.minus(t.client,r);return{client:g.a.create(r),size:{width:r.width,height:r.height},offset:g.b.create(g.d.minus(t.offset,o)),padding:Object(S.f)(n)}},h.a)})}var k=n(384),T=n(42),P=n(7),N=n(247);function A(e){return{boxSizing:"content-box",top:e.top,left:e.left,width:e.width,height:e.height,position:"relative",pointerEvents:"none",overflow:"hidden",border:0,borderRadius:0,padding:0,margin:0}}n.d(t,"a",(function(){return M}));const I=({layout:e,children:t,skipFieldScroll:n})=>e.scrollables.reduce((e,t)=>r.createElement(P.F.div,{style:t.borderRect.behavior.pipe(Object(c.a)(e=>Object.assign({},A(Object.assign(Object.assign({},e.offset),e.size))))),mount:Object(N.setElementProps)({scrollTop:t.scroll.behavior.pipe(Object(c.a)(e=>e.top)),scrollLeft:t.scroll.behavior.pipe(Object(c.a)(e=>e.left))})},e,r.createElement(P.F.div,{style:t.scrollSize.behavior.pipe(Object(c.a)(e=>({boxSizing:"content-box",width:e.width,height:e.height,pointerEvents:"none",visibility:"hidden"})))})),r.createElement(R,{layout:e,skipFieldScroll:n},t)),R=({layout:e,children:t,skipFieldScroll:n})=>r.createElement(P.F.div,{style:e.textField.paddingRect.behavior.pipe(Object(c.a)(e=>Object.assign({},A(Object.assign(Object.assign({},e.offset),e.size))))),mount:t=>{n||Object(N.setElementProps)({scrollTop:Object(o.b)(e.textField.scroll.behavior,e.textField.scrollSize.behavior,e=>e.top),scrollLeft:Object(o.b)(e.textField.scroll.behavior,e.textField.scrollSize.behavior,e=>e.left)})(t)}},t);function F(e,t,n,i,r){t?(i.style.zIndex=n.zIndex,e.insertAdjacentElement("afterend",i)):r.insertAdjacentElement("afterbegin",i)}class M{constructor(e,t={}){if(this._highlightsField=e,this._opts=t,this._resetClass=void 0!==this._opts.resetClass?this._opts.resetClass:k.layout,this._prepareField=e=>{const t=Object(v.a)(e),n=this._opts.positionedAncestor||Object(v.c)(e),r=function(e,t,n,r){const o=function(e,t){const n=[];let i=e.parentElement;for(;i!==t&&i;)Object(v.f)(i)&&n.push(i),i=i.parentElement;return n}(e,r);return{fieldPaintingPositioning:Object(v.e)(e,n)?i.positioned:i.nonPositioned,positionedAncestor:r,textField:j(e,o[0]||r,t),scrollables:o.map((e,t,n)=>C(e,n[t+1]||r,!1))}}(e,!!this._opts.iframe,t,n);return{layout:r,rootInjector:function(e,t,n,r,o){const a=Object(v.b)(e).body,s=Object(v.d)(e);let c={left:"0px",top:"0px"};if(t.fieldPaintingPositioning===i.nonPositioned&&t.positionedAncestor===a){const e=s.getComputedStyle(a);c={left:e.marginLeft||"0px",top:e.marginRight||"0px"}}else if(t.positionedAncestor!==a){const e=s.getComputedStyle(t.positionedAncestor);c={left:e.borderLeftWidth&&`-${e.borderLeftWidth}`||"0px",top:e.borderTopWidth&&`-${e.borderTopWidth}`||"0px"}}return a=>{a.style.position="absolute",a.style.top=c.top,a.style.left=c.left,a.style.pointerEvents="none",o(e,t.fieldPaintingPositioning===i.positioned||r,n,a,t.positionedAncestor)}}(e,r,t,!!this._opts.pretendFieldPositioned,this._opts.injectIntegrationRoot||F)}},this._highlights=this._prepareField(this._highlightsField),this._innerElements=this._opts.innerElementsField?this._prepareField(this._opts.innerElementsField):this._highlights,this._win=Object(v.d)(this._highlightsField),this._createTextFieldRect=e=>({page:g.c.fromClient(e.client,{top:this._win.scrollY,left:this._win.scrollX}),offset:e.offset,client:e.client,size:e.size}),this.textField={rect:this._highlights.layout.textField.paddingRect.map(this._createTextFieldRect),scroll:this._highlights.layout.textField.scroll,scrollSize:this._highlights.layout.textField.scrollSize},this._gbuttonMinPadding=void 0!==this._opts.gbuttonMinPadding?this._opts.gbuttonMinPadding:S.b,this._gbuttonShift=this._opts.createGbuttonShiftBehavior&&this._opts.createGbuttonShiftBehavior(this.textField)||Object(a.a)({top:0,left:0}),this._gbuttonPosition=Object(o.b)(this._innerElements.layout.textField.paddingRect.behavior,this._gbuttonShift,(e,t)=>{const n=Math.max(e.padding.right,this._gbuttonMinPadding),i=Math.max(e.padding.bottom,this._gbuttonMinPadding),r=g.b.create({top:e.size.height-i+t.top,left:e.size.width-n+t.left});return{offset:r,page:g.c.fromOffset(r,g.c.fromClient(e.client,{top:this._win.scrollY,left:this._win.scrollX}),{top:0,left:0}),effectivePadding:{top:e.padding.top,left:e.padding.left,right:n,bottom:i}}}),this.gbutton={positionBehavior:this._gbuttonPosition.pipe(Object(c.a)(e=>({top:e.page.top,left:e.page.left,effectivePadding:e.effectivePadding}))),minimizeEnabled:void 0===this._opts.minimizeEnabled||this._opts.minimizeEnabled,getShouldFlipPopup:(e,t)=>e<t,zIndexBehavior:null},this.highlightHeightOffset=this._opts.highlightHeightOffset||0,this.mouse=Object(o.b)(this._highlights.layout.textField.paddingRect.behavior,this._highlights.layout.textField.scroll.behavior,(e,t)=>({rect:this._textFieldClientRectangle(e),scroll:t})).pipe(Object(l.a)(({rect:e,scroll:t})=>this._opts.iframe?Object(m.a)(this._highlightsField,e,t):Object(m.b)(this._win,e,t)),Object(u.a)(h.a)),this.getTranslationToCards=()=>g.d.zero,this._outerViewContainer=(e,t)=>r.createElement(P.F.Fragment,{key:"outer-elements"},t.pipe(Object(c.a)(t=>t?r.createElement(P.F.div,{"data-grammarly-part":"popups",style:Object(o.b)(this._innerElements.layout.textField.paddingRect.behavior,this._gbuttonPosition,this._gbuttonShift,Object(s.a)(this._win,"resize").pipe(Object(d.a)(null)),(e,t,n)=>{const i=e.client.top+e.size.height-t.effectivePadding.bottom+n.top,r=e.client.left+e.size.width-t.effectivePadding.right+n.left,o=this._win.document.documentElement;return{position:"fixed",zIndex:p.b-1,bottom:o.clientHeight-i,right:o.clientWidth-r}})},r.createElement(e,null)):null))),this._opts.iframe&&"IFRAME"!==this._highlightsField.tagName)throw new Error("expected text field element to be an iframe")}_textFieldClientRectangle(e){return this._opts.iframe?b.a.create(Object.assign({top:-e.padding.top,left:-e.padding.left},e.size)):b.a.create(Object.assign(Object.assign({},e.client),e.size))}createGeometryLayout(){return new f.a(()=>this._textFieldClientRectangle(this._highlights.layout.textField.paddingRect.getCurrent()),()=>this._highlights.layout.textField.scroll.getCurrent(),()=>this._textFieldClientRectangle(this._highlights.layout.textField.paddingRect.getApproximate()),()=>this._highlights.layout.textField.scroll.getApproximate())}render(e,t,n,i){const o={position:"absolute",top:0,left:0},a=!!this._opts.innerElementsField&&this._highlightsField!==this._opts.innerElementsField,s=()=>t&&r.createElement("div",{"data-grammarly-part":"button",className:this._resetClass||void 0,style:o},r.createElement(I,{layout:this._innerElements.layout,skipFieldScroll:!0},r.createElement(P.F.div,{style:this._gbuttonPosition.pipe(Object(c.a)(e=>({position:"absolute",transform:"translate(-100%, -100%)",top:e.offset.top,left:e.offset.left,width:"auto",height:"auto",pointerEvents:"all"})))},r.createElement(t,null)))),l=Object(v.b)(this._highlightsField),u=new T.b(T.a.fromDocument(l,"grammarly-extension"),this._highlights.rootInjector,()=>r.createElement(r.Fragment,null,e&&r.createElement("div",{"data-grammarly-part":"highlights",className:this._resetClass||void 0,style:o},r.createElement(I,{layout:this._highlights.layout},r.createElement("div",{style:o},r.createElement(e,null)))),!a&&r.createElement(s,null))),d=a&&new T.b(T.a.fromDocument(l,"grammarly-extension"),this._innerElements.rootInjector,s),h=n&&new T.b(T.a.fromDocument(l,"grammarly-popups"),T.c.appendChild(l.documentElement),()=>this._outerViewContainer(n.component,n.shouldRender)),p=i&&new T.b(T.a.fromDocument(l,"grammarly-autocorrect-cards"),T.c.appendChild(l.documentElement),i);return{dispose:()=>{u&&u.dispose(),d&&d.dispose(),h&&h.dispose(),p&&p.dispose()}}}}},function(e,t,n){e.exports={wrapper:"_3Nuxa",wrapperHide:"_1P7q8",hideWrapper:"_1SoVj",wrapperShow:"o_JTN",showWrapper:"_1WWqs",popup:"TMAyi",showClose:"ruN3i",popupWrapper:"_3u3By",popupContent:"_1HX0K",popupTitle:"ZZ4y3",popupText:"_29-QH",popupSubTitle:"_3vvAG",popupTitleHighlight:"_1LFO_",comparison:"_3MX47",comparisonColumn:"_16nEP",comparisonContent:"_3iX8b",comparisonTitle:"_3MmmA",comparisonSubtitle:"_37CQ8",comparisonSubtitleUnderline:"_1LfKG",tooltip:"_3RfXp",button:"_3gR42",buttonText:"_1D5d1",dismiss:"_3nYof",label:"_1EivI",topIconsPannel:"Eq8WK"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(e,t,n){e.exports={btnContainer:"kTiO8",container:"_3YMri",header:"_1FYmR",optInVideo:"_3uNsn",bold:"_1fnlS",button:"_2o8Lb",large:"_80wvm",optIn:"grYdT",note:"_3LTPz",offlineDialogHeader:"XAQhO",largeDocumentDialogHeader:"_3nE8t",dialogMessage:"_2VyIL",offlineDialogButton:"_fS1O"}},function(e,t,n){"use strict";var i=n(97),r=function(e,t){for(var n=e.length;n--;)if(Object(i.a)(e[n][0],t))return n;return-1},o=Array.prototype.splice;function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}a.prototype.clear=function(){this.__data__=[],this.size=0},a.prototype.delete=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))},a.prototype.get=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]},a.prototype.has=function(e){return r(this.__data__,e)>-1},a.prototype.set=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},t.a=a},function(e,t,n){"use strict";var i=n(64),r=n(150),o=n(58),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=n(296),c=n(255),l=c.a&&c.a.isTypedArray,u=l?Object(s.a)(l):function(e){return Object(o.a)(e)&&Object(r.a)(e.length)&&!!a[Object(i.a)(e)]};t.a=u},function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.d(t,"a",(function(){return i}))},,function(e,t,n){"use strict";var i,r,o,a,s;n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),function(e){e.create=function(e){return{width:e.width,height:e.height}}}(i||(i={})),function(e){e.contains=function(e,t){return e.left>=t.left&&e.left<=t.left+t.width&&e.top>=t.top&&e.top<=t.top+t.height},e.intersects=function(e,t){const n=e.left<=t.left?e:t,i=n===e?t:e,r=e.top<=t.top?e:t,o=r===e?t:e;return n.left+n.width>=i.left&&r.top+r.height>=o.top},e.setPosition=function(e,t){return Object.assign({},e,i.create(t))}}(r||(r={})),function(e){e.create=function(e){return e}}(o||(o={})),function(e){e.create=function(e){return e}}(a||(a={})),function(e){e.create=function(e){return e}}(s||(s={}))},function(e,t,n){"use strict";var i=n(64),r=n(58),o=function(e){return Object(r.a)(e)&&"[object Arguments]"==Object(i.a)(e)},a=Object.prototype,s=a.hasOwnProperty,c=a.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return Object(r.a)(e)&&s.call(e,"callee")&&!c.call(e,"callee")};t.a=l},function(e,t,n){"use strict";var i=Function.prototype.toString;t.a=function(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var i=n(204);function r(e,t=i.defaults){return t.every(t=>t(e))}n.d(t,"a",(function(){return i}))},,function(e,t,n){"use strict";var i=n(70),r=n(47),o=Object(i.a)(r.a,"Map");t.a=o},function(e,t,n){"use strict";var i=n(127);t.a=function(e){if("string"==typeof e||Object(i.a)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(59),r=n(133),o=n(223);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(i.a)(n)?(e.pop(),Object(o.a)(e,n)):Object(r.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(4),r=n(20),o=n(21),a=n(84),s=n(39),c=n(68);function l(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(i){return i.pipe(l((function(n,i){return Object(c.a)(e(n,i)).pipe(Object(s.a)((function(e,r){return t(n,e,i,r)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project,this.concurrent))},e}(),d=function(e){function t(t,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var r=e.call(this,t)||this;return r.project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return i.a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=new a.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,e,t,n,i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";function i(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n(0),r=n(151),o=n(94),a=n(39),s=n(130),c=n(349),l=n(348),u=n(273),d=n(343),h=n(50),p=n(109),f=n(89),m=n(160),g=n(516),b=n(521),v=n(384),_=n(42),y=n(7),w=n(247);function E(e){return{page:e.position,offset:h.b.create(e.position),client:e.clientPosition,size:p.d.create(e)}}class x{constructor(e,t={}){this._target=e,this._opts=t,this._innerLayout=this._opts.overrideInternalLayoutImpl||Object(g.a)(this._target,this._opts.getTextFieldRect,this._opts.highlightHeightOffset,this._opts.extraRectChangeEvents,this._opts.onScrollMaxAncestors,this._opts.gbuttonMinPadding,this._opts.createHighlightAreaRect,this._opts.highlightsContainer,this._opts.gbuttonContainer,this._opts.zIndex,this._opts.createGButtonLayout,this._opts.getTranslationToCards,this._opts.extendGButtonLayout),this.textField={rect:this._innerLayout.highlights.textFieldRect.map(E),scroll:this._innerLayout.highlights.scroll.map(h.d.create),scrollSize:this._innerLayout.highlights.scroll.map(p.d.create)},this.gbutton={positionBehavior:this._innerLayout.gbutton.position.map(e=>e._tag===m.a.absolute?{top:e.top,left:e.left,effectivePadding:e.effectivePadding}:{top:e.top,left:e.left,effectivePadding:{top:0,left:0,bottom:0,right:0}}).behavior,minimizeEnabled:this._innerLayout.gbutton.position.getApproximate()._tag===m.a.absolute,getShouldFlipPopup:this._innerLayout.gbutton.getShouldFlipMenu,zIndexBehavior:this._innerLayout.gbutton.zIndex.behavior},this._resetClass=void 0!==this._opts.resetClass?this._opts.resetClass:v.layout,this.highlightHeightOffset=this._innerLayout.highlights.highlightHeightOffset,this.mouse=this._innerLayout.mouse,this.getTranslationToCards=this._innerLayout.highlights.getTranslationToCards,this._highlightsViewContainer=e=>i.createElement(y.F.div,{"data-grammarly-part":"highlights",className:this._resetClass,style:Object(r.b)(this._innerLayout.highlights.highlightsRect.behavior,this._innerLayout.highlights.zIndex.behavior,(e,t)=>({boxSizing:"content-box",top:e.position.top,left:e.position.left,width:e.width,height:e.height,overflow:"hidden",position:"absolute",pointerEvents:"none",zIndex:t,border:0,borderRadius:0,padding:0,margin:0,transition:"top .2s ease-in-out -0.2s"})),mount:Object(w.setElementProps)({scrollTop:this._innerLayout.highlights.scroll.behavior.pipe(Object(a.a)(e=>e.top),Object(s.a)(),Object(c.a)(0)),scrollLeft:this._innerLayout.highlights.scroll.behavior.pipe(Object(a.a)(e=>e.left),Object(s.a)(),Object(c.a)(0))})},i.createElement(e,null)),this._outerViewContainer=e=>{const t=Object(f.d)(this._target),n=t.document.documentElement,r=e=>this._innerLayout.gbutton.position.behavior.pipe(Object(l.a)(Object(o.a)(t,"resize").pipe(Object(u.a)(null)),t=>{const i=e(t);return i?Object.assign({position:"fixed",zIndex:Number.MAX_SAFE_INTEGER},(e=>({bottom:n.clientHeight-e.top,right:n.clientWidth-e.left}))(i)):{}})),a=this._opts.getGbuttonPositionStyleBehavior?r(e=>{const t=this._innerLayout.gbutton.container.querySelector(`.${b.gr_gbutton_container}`);if(t){const e=t.getBoundingClientRect();return h.a.create({top:e.bottom,left:e.right})}return null}):r(e=>e._tag===m.a.fixed?e:h.a.fromPage(e,{top:t.scrollY,left:t.scrollX}));return i.createElement(y.F.div,{"data-grammarly-part":"popups",style:a},i.createElement(e,null))}}createGeometryLayout(){return new d.a(()=>this._innerLayout.highlights.textFieldRect.getCurrent().clientPosition,()=>this._innerLayout.highlights.scroll.getCurrent(),()=>this._innerLayout.highlights.textFieldRect.getApproximate().clientPosition,()=>this._innerLayout.highlights.scroll.getApproximate())}render(e,t,n,r){const o=e&&new _.b(_.a.fromDocument(Object(f.b)(this._innerLayout.highlights.container),"grammarly-highlights"),_.c.appendChild(this._innerLayout.highlights.container),()=>this._highlightsViewContainer(e)),s=this._opts.getGbuttonPositionStyleBehavior||(e=>this._innerLayout.gbutton.position.behavior.pipe(Object(l.a)(e,(e,t)=>({position:e._tag===m.a.fixed?"fixed":"absolute",top:e.top,left:e.left,zIndex:t,transform:"translate(-100%, -100%)"})))),c=t&&new _.b(_.a.fromDocument(Object(f.b)(this._innerLayout.gbutton.container),"grammarly-button"),_.c.appendChild(this._innerLayout.gbutton.container),()=>i.createElement(i.Fragment,null,t&&i.createElement(y.F.div,Object.assign({"data-grammarly-part":"button",style:s(this._innerLayout.gbutton.zIndex.behavior)},Object(y.classes)(b.gr_gbutton_container,this._resetClass)),i.createElement(t,null)))),u=Object(f.b)(this._target),d=n&&new _.b(_.a.fromDocument(u,"grammarly-popups"),_.c.appendChild(u.documentElement),()=>i.createElement(y.F.Fragment,{key:"outer-elements"},n.shouldRender.pipe(Object(a.a)(e=>e?this._outerViewContainer(n.component):null)))),h=r&&new _.b(_.a.fromDocument(u,"grammarly-autocorrect-cards"),_.c.appendChild(u.documentElement),r);return{dispose(){o&&o.dispose(),c&&c.dispose(),d&&d.dispose(),h&&h.dispose()}}}}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(476)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var i=n(24),r=n(76),o=n(362),a=n(155),s=n(11);const c=n(12).a.create("lib.tracking.logger");let l;function u(){return l||(l=new o.a(r.b.sendFelog.bind(r.b),r.b.sendFelogUsageEvent.bind(r.b),r.b.setUserId.bind(r.b),r.b.setContainerId.bind(r.b),i.a().appConfig.felog.sendUsageMetrics,a.a.create(window.performance),i.a().appConfig.felog.sendPerfMetrics,r.b.sendFelogEvent.bind(r.b),r.b.sendFelogCrashLogs.bind(r.b))),l}function d(){Object(s.i)()&&(c.info("Installing unhandled error loggers..."),function(){const e=u();window.addEventListener("error",t=>e.unhandledBgPageException(t)),window.addEventListener("unhandledrejection",t=>e.unhandledBgPageRejection(t))}())}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var i=n(105),r=n(116),o=n(139);function a(e){var t=this.__data__=new i.a(e);this.size=t.size}a.prototype.clear=function(){this.__data__=new i.a,this.size=0},a.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},a.prototype.get=function(e){return this.__data__.get(e)},a.prototype.has=function(e){return this.__data__.has(e)},a.prototype.set=function(e,t){var n=this.__data__;if(n instanceof i.a){var a=n.__data__;if(!r.a||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o.a(a)}return n.set(e,t),this.size=n.size,this},t.a=a},function(e,t,n){"use strict";var i=n(64),r=n(58);t.a=function(e){return"symbol"==typeof e||Object(r.a)(e)&&"[object Symbol]"==Object(i.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(118),r=n(291);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.a)()(i.a.apply(void 0,e))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(10);function o(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.compare,this.keySelector))},e}(),s=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.keySelector=i,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return i.a(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(10);function o(e){return void 0===e&&(e=null),function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.defaultValue))},e}(),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return i.a(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(16),r=n(298),o=n(223);function a(e,t){return t?Object(o.a)(e,t):new i.a(Object(r.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(252),o=function(e){function t(n,i){void 0===i&&(i=r.a.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():i()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return i.a(t,e),t.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,i,r):e.prototype.schedule.call(this,n,i,r)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(36),o=n(31),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return i.a(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(r.a)},function(e,t,n){"use strict";var i=n(4),r=function(e){function t(t,n){return e.call(this)||this}return i.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(31).a);n.d(t,"a",(function(){return o}));var o=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return i.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(46);function r(e){return!Object(i.a)(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){e.exports={wrapperMinimized:"_2-FBw",wrapperMinimizedNewLayout:"_3-ITD",gbutton:"_5WizN",status:"_3QdKe",disabled:"_2iFE3",errors_100:"_5laW6",errors:"_1y8ub",checking:"_37oOc",gr__spin:"_2UPLX",has_errors:"_34Jb6",offline:"_1PNYf",plus_only:"_1Nifw",clarity:"_34o4X",emogenie:"_1HeSh",minimized:"aN9_b",minimize_transition:"_3IbZ2",login_reminder:"Vxw1H",transform_wrap:"_3YmQx",errors_checking:"_2IBj6",enableTransition:"_1QzSN",disableTransition:"_3GltC",gbtn_to_checking:"_1PhWF",gbtn_to_checking_animation:"_13_3E",checking_to_gbtn:"_1euJQ",checking_to_gbtn_animation:"_5oHQe",checking_to_err:"BYjA-",checking_to_err_animation:"LTjmb",err_to_checking:"_1_1Ws",err_to_checking_animation:"_9j4kj",checking_1:"_3GEct",checking_1_animation:"_1JXsP",checking_2:"_1sj3a",checking_2_animation:"_1jnzo",checking_3:"_2ogpO",checking_3_animation:"_3cByL"}},function(e,t,n){"use strict";var i=n(70),r=Object(i.a)(Object,"create"),o=Object.prototype.hasOwnProperty,a=Object.prototype.hasOwnProperty;function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=function(){this.__data__=r?r(null):{},this.size=0},s.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},s.prototype.get=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0},s.prototype.has=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)},s.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this};var c=s,l=n(105),u=n(116),d=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function h(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}h.prototype.clear=function(){this.size=0,this.__data__={hash:new c,map:new(u.a||l.a),string:new c}},h.prototype.delete=function(e){var t=d(this,e).delete(e);return this.size-=t?1:0,t},h.prototype.get=function(e){return d(this,e).get(e)},h.prototype.has=function(e){return d(this,e).has(e)},h.prototype.set=function(e,t){var n=d(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},t.a=h},,,function(e,t,n){"use strict";var i=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";var i=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}},,function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.popupEditorIFrame="popupEditorIFrame",e.bgPopupEditorIFrameToPopupEditor="bg-PopupEditorIFrame-toPopupEditor",e.bgPopupEditorIFrameFromPopupEditor="bg-PopupEditorIFrame-fromPopupEditor"}(i||(i={})),function(e){e.openPopup="open-popup",e.closePopup="close-popup",e.loaded="iframe-cs-loaded",e.popupClosing="iframe-cs-popup-closing-state",e.changeUser="change-user-popup",e.fullyLoaded="denali-editor-loaded"}(r||(r={}))},function(e,t,n){e.exports={topLevel:"_27v6d",autocorrectCard:"_5M6e4",divider:"t6aSC",footerCaption:"_1Ijb_",listItem:"_3FLxA",buttonWrap:"_25kD9",revertButtonCaption:"rLAeU",icon:"_2WCcx",caption:"_1ZQPz",replaceButtonCaption:"_3tfXq"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(4),r=n(21),o=n(84),a=n(20),s=n(39),c=n(68);function l(e,t){return"function"==typeof t?function(n){return n.pipe(l((function(n,i){return Object(c.a)(e(n,i)).pipe(Object(s.a)((function(e,r){return t(n,e,i,r)})))})))}:function(t){return t.lift(new u(e))}}var u=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project))},e}(),d=function(e){function t(t,n){var i=e.call(this,t)||this;return i.project=n,i.index=0,i}return i.a(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new o.a(this,void 0,void 0);this.destination.add(r),this.innerSubscription=Object(a.a)(this,e,t,n,r)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(16),r=n(59),o=n(218),a=n(133);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,c=e[e.length-1];return Object(r.a)(c)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof c&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof i.a?e[0]:Object(o.a)(n)(Object(a.a)(e,s))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={}},function(e,t,n){"use strict";t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(4),r=n(59),o=n(46),a=n(21),s=n(20),c=n(133),l={};function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,i=null;return Object(r.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),Object(c.a)(e,i).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n){var i=e.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return i.a(t,e),t.prototype._next=function(e){this.values.push(l),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(Object(s.a)(this,i,i,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,i,r){var o=this.values,a=o[n],s=this.toRespond?a===l?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.a)},function(e,t,n){e.exports=function(){"use strict";var e=Object.freeze||function(e){return e},t=e(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),n=e(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),i=e(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),r=e(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),o=e(["#text"]),a=Object.freeze||function(e){return e},s=a(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","minlength","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),c=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),l=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),u=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),d=Object.hasOwnProperty,h=Object.setPrototypeOf,p=("undefined"!=typeof Reflect&&Reflect).apply;function f(e,t){h&&h(e,null);for(var n=t.length;n--;){var i=t[n];if("string"==typeof i){var r=i.toLowerCase();r!==i&&(Object.isFrozen(t)||(t[n]=r),i=r)}e[i]=!0}return e}function m(e){var t={},n=void 0;for(n in e)p(d,e,[n])&&(t[n]=e[n]);return t}p||(p=function(e,t,n){return e.apply(t,n)});var g=Object.seal||function(e){return e},b=g(/\{\{[\s\S]*|[\s\S]*\}\}/gm),v=g(/<%[\s\S]*|[\s\S]*%>/gm),_=g(/^data-[\-\w.\u00B7-\uFFFF]/),y=g(/^aria-[\-\w]+$/),w=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),E=g(/^(?:\w+script|data):/i),x=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function S(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var C=("undefined"!=typeof Reflect&&Reflect).apply,j=Array.prototype.slice,k=Object.freeze,T=function(){return"undefined"==typeof window?null:window};C||(C=function(e,t,n){return e.apply(t,n)});var P=function(e,t){if("object"!==(void 0===e?"undefined":O(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T(),d=function(t){return e(t)};if(d.version="2.0.7",d.removed=[],!a||!a.document||9!==a.document.nodeType)return d.isSupported=!1,d;var h=a.document,p=!1,g=!1,N=a.document,A=a.DocumentFragment,I=a.HTMLTemplateElement,R=a.Node,F=a.NodeFilter,M=a.NamedNodeMap,D=void 0===M?a.NamedNodeMap||a.MozNamedAttrMap:M,L=a.Text,B=a.Comment,U=a.DOMParser,H=a.TrustedTypes;if("function"==typeof I){var V=N.createElement("template");V.content&&V.content.ownerDocument&&(N=V.content.ownerDocument)}var z=P(H,h),G=z?z.createHTML(""):"",W=N,$=W.implementation,q=W.createNodeIterator,Y=W.getElementsByTagName,K=W.createDocumentFragment,Q=h.importNode,X={};d.isSupported=$&&void 0!==$.createHTMLDocument&&9!==N.documentMode;var J=b,Z=v,ee=_,te=y,ne=E,ie=x,re=w,oe=null,ae=f({},[].concat(S(t),S(n),S(i),S(r),S(o))),se=null,ce=f({},[].concat(S(s),S(c),S(l),S(u))),le=null,ue=null,de=!0,he=!0,pe=!1,fe=!1,me=!1,ge=!1,be=!1,ve=!1,_e=!1,ye=!1,we=!1,Ee=!1,xe=!0,Oe=!0,Se=!1,Ce={},je=f({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),ke=f({},["audio","video","img","source","image"]),Te=null,Pe=f({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ne=null,Ae=N.createElement("form"),Ie=function(e){Ne&&Ne===e||(e&&"object"===(void 0===e?"undefined":O(e))||(e={}),oe="ALLOWED_TAGS"in e?f({},e.ALLOWED_TAGS):ae,se="ALLOWED_ATTR"in e?f({},e.ALLOWED_ATTR):ce,Te="ADD_URI_SAFE_ATTR"in e?f(m(Pe),e.ADD_URI_SAFE_ATTR):Pe,le="FORBID_TAGS"in e?f({},e.FORBID_TAGS):{},ue="FORBID_ATTR"in e?f({},e.FORBID_ATTR):{},Ce="USE_PROFILES"in e&&e.USE_PROFILES,de=!1!==e.ALLOW_ARIA_ATTR,he=!1!==e.ALLOW_DATA_ATTR,pe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,fe=e.SAFE_FOR_JQUERY||!1,me=e.SAFE_FOR_TEMPLATES||!1,ge=e.WHOLE_DOCUMENT||!1,_e=e.RETURN_DOM||!1,ye=e.RETURN_DOM_FRAGMENT||!1,we=e.RETURN_DOM_IMPORT||!1,Ee=e.RETURN_TRUSTED_TYPE||!1,ve=e.FORCE_BODY||!1,xe=!1!==e.SANITIZE_DOM,Oe=!1!==e.KEEP_CONTENT,Se=e.IN_PLACE||!1,re=e.ALLOWED_URI_REGEXP||re,me&&(he=!1),ye&&(_e=!0),Ce&&(oe=f({},[].concat(S(o))),se=[],!0===Ce.html&&(f(oe,t),f(se,s)),!0===Ce.svg&&(f(oe,n),f(se,c),f(se,u)),!0===Ce.svgFilters&&(f(oe,i),f(se,c),f(se,u)),!0===Ce.mathMl&&(f(oe,r),f(se,l),f(se,u))),e.ADD_TAGS&&(oe===ae&&(oe=m(oe)),f(oe,e.ADD_TAGS)),e.ADD_ATTR&&(se===ce&&(se=m(se)),f(se,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&f(Te,e.ADD_URI_SAFE_ATTR),Oe&&(oe["#text"]=!0),ge&&f(oe,["html","head","body"]),oe.table&&(f(oe,["tbody"]),delete le.tbody),k&&k(e),Ne=e)},Re=function(e){d.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=G}},Fe=function(e,t){try{d.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){d.removed.push({attribute:null,from:t})}t.removeAttribute(e)},Me=function(e){var t=void 0,n=void 0;if(ve)e="<remove></remove>"+e;else{var i=e.match(/^[\s]+/);(n=i&&i[0])&&(e=e.slice(n.length))}if(p)try{t=(new U).parseFromString(e,"text/html")}catch(e){}if(g&&f(le,["title"]),!t||!t.documentElement){var r=(t=$.createHTMLDocument("")).body;r.parentNode.removeChild(r.parentNode.firstElementChild),r.outerHTML=z?z.createHTML(e):e}return e&&n&&t.body.insertBefore(N.createTextNode(n),t.body.childNodes[0]||null),Y.call(t,ge?"html":"body")[0]};d.isSupported&&(function(){try{Me('<svg><p><textarea><img src="</textarea><img src=x abc=1//">').querySelector("svg img")&&(p=!0)}catch(e){}}(),function(){try{var e=Me("<x/><title>&lt;/title&gt;&lt;img&gt;");/<\/title/.test(e.querySelector("title").innerHTML)&&(g=!0)}catch(e){}}());var De=function(e){return q.call(e.ownerDocument||e,e,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,(function(){return F.FILTER_ACCEPT}),!1)},Le=function(e){return"object"===(void 0===R?"undefined":O(R))?e instanceof R:e&&"object"===(void 0===e?"undefined":O(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Be=function(e,t,n){X[e]&&X[e].forEach((function(e){e.call(d,t,n,Ne)}))},Ue=function(e){var t,n=void 0;if(Be("beforeSanitizeElements",e,null),!((t=e)instanceof L||t instanceof B||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof D&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI))return Re(e),!0;var i=e.nodeName.toLowerCase();if(Be("uponSanitizeElement",e,{tagName:i,allowedTags:oe}),("svg"===i||"math"===i)&&0!==e.querySelectorAll("p, br").length)return Re(e),!0;if(!oe[i]||le[i]){if(Oe&&!je[i]&&"function"==typeof e.insertAdjacentHTML)try{var r=e.innerHTML;e.insertAdjacentHTML("AfterEnd",z?z.createHTML(r):r)}catch(e){}return Re(e),!0}return"noscript"===i&&/<\/noscript/i.test(e.innerHTML)?(Re(e),!0):"noembed"===i&&/<\/noembed/i.test(e.innerHTML)?(Re(e),!0):(!fe||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(d.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),me&&3===e.nodeType&&(n=(n=(n=e.textContent).replace(J," ")).replace(Z," "),e.textContent!==n&&(d.removed.push({element:e.cloneNode()}),e.textContent=n)),Be("afterSanitizeElements",e,null),!1)},He=function(e,t,n){if(xe&&("id"===t||"name"===t)&&(n in N||n in Ae))return!1;if(he&&ee.test(t));else if(de&&te.test(t));else{if(!se[t]||ue[t])return!1;if(Te[t]);else if(re.test(n.replace(ie,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==n.indexOf("data:")||!ke[e])if(pe&&!ne.test(n.replace(ie,"")));else if(n)return!1}return!0},Ve=function(e){var t=void 0,n=void 0,i=void 0,r=void 0,o=void 0;Be("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se};for(o=a.length;o--;){var c=t=a[o],l=c.name,u=c.namespaceURI;if(n=t.value.trim(),i=l.toLowerCase(),s.attrName=i,s.attrValue=n,s.keepAttr=!0,Be("uponSanitizeAttribute",e,s),n=s.attrValue,"name"===i&&"IMG"===e.nodeName&&a.id)r=a.id,a=C(j,a,[]),Fe("id",e),Fe(l,e),a.indexOf(r)>o&&e.setAttribute("id",r.value);else{if("INPUT"===e.nodeName&&"type"===i&&"file"===n&&s.keepAttr&&(se[i]||!ue[i]))continue;"id"===l&&e.setAttribute(l,""),Fe(l,e)}if(s.keepAttr)if(/svg|math/i.test(e.namespaceURI)&&new RegExp("</("+Object.keys(je).join("|")+")","i").test(n))Fe(l,e);else{me&&(n=(n=n.replace(J," ")).replace(Z," "));var h=e.nodeName.toLowerCase();if(He(h,i,n))try{u?e.setAttributeNS(u,l,n):e.setAttribute(l,n),d.removed.pop()}catch(e){}}}Be("afterSanitizeAttributes",e,null)}},ze=function e(t){var n=void 0,i=De(t);for(Be("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)Be("uponSanitizeShadowNode",n,null),Ue(n)||(n.content instanceof A&&e(n.content),Ve(n));Be("afterSanitizeShadowDOM",t,null)};return d.sanitize=function(e,t){var n=void 0,i=void 0,r=void 0,o=void 0,s=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Le(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!d.isSupported){if("object"===O(a.toStaticHTML)||"function"==typeof a.toStaticHTML){if("string"==typeof e)return a.toStaticHTML(e);if(Le(e))return a.toStaticHTML(e.outerHTML)}return e}if(be||Ie(t),d.removed=[],Se);else if(e instanceof R)1===(i=(n=Me("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===i.nodeName?n=i:"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!_e&&!me&&!ge&&Ee&&-1===e.indexOf("<"))return z?z.createHTML(e):e;if(!(n=Me(e)))return _e?null:G}n&&ve&&Re(n.firstChild);for(var c=De(Se?e:n);r=c.nextNode();)3===r.nodeType&&r===o||Ue(r)||(r.content instanceof A&&ze(r.content),Ve(r),o=r);if(o=null,Se)return e;if(_e){if(ye)for(s=K.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return we&&(s=Q.call(h,s,!0)),s}var l=ge?n.outerHTML:n.innerHTML;return me&&(l=(l=l.replace(J," ")).replace(Z," ")),z&&Ee?z.createHTML(l):l},d.setConfig=function(e){Ie(e),be=!0},d.clearConfig=function(){Ne=null,be=!1},d.isValidAttribute=function(e,t,n){Ne||Ie({});var i=e.toLowerCase(),r=t.toLowerCase();return He(i,r,n)},d.addHook=function(e,t){"function"==typeof t&&(X[e]=X[e]||[],X[e].push(t))},d.removeHook=function(e){X[e]&&X[e].pop()},d.removeHooks=function(e){X[e]&&(X[e]=[])},d.removeAllHooks=function(){X={}},d}()}()},function(e,t,n){"use strict";function i(e){return e.nodeType===Node.ELEMENT_NODE}function r(e){return e.nodeType===Node.ELEMENT_NODE&&e instanceof HTMLElement}function o(e,t){if(t(e))return[e];{const n=[];for(let i=0;i<e.childNodes.length;i++){const r=o(e.childNodes[i],t);for(const e of r)n.push(e)}return n}}n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d}));var i=n(0);const r=({className:e})=>i.createElement("svg",{className:e,width:"18",height:"18",viewBox:"0 0 18 18"},i.createElement("g",{transform:"translate(-7 -7)",fill:"none",fillRule:"evenodd"},i.createElement("circle",{fill:"#15C39A",cx:"16",cy:"16",r:"9.008"}),i.createElement("path",{d:"M17.318 17.843c.052.297.335.504.64.504h.963l.56-.074c-.895 1.297-2.438 1.897-4.13 1.638-1.38-.214-2.566-1.14-3.065-2.437-1.134-2.942 1.03-5.75 3.84-5.75 1.468 0 2.75.852 3.49 1.882.193.304.58.385.864.185.267-.185.342-.533.178-.815-1.014-1.578-2.84-2.593-4.906-2.46-2.677.193-4.854 2.37-5.003 5.04-.18 3.103 2.295 5.637 5.382 5.637 1.618 0 3.065-.703 4.056-1.837l-.12.652v.585c0 .304.21.586.508.637.395.074.738-.23.738-.608v-3.52H17.93c-.38.008-.687.35-.612.74z",fill:"#FFF"}))),o=({className:e})=>i.createElement("span",{className:e,dangerouslySetInnerHTML:{__html:'\n            <svg width="32" height="32" viewBox="0 0 32 32">\n              <defs>\n                <path d="M21,12.5 L21,20.1308289 C21,21.7154283 19.6513555,23 17.9996703,23 L14.0003297,23 C12.3432934,23 11,21.7124939 11,20.1308289 L11,12.5 L11,12.5" id="d70af4_ignoreIconUse"></path>\n                <mask data-mask-color="d70af4_ignoreIcon" id="d70af4_ignoreIconMask" x="-1" y="0" width="9.5" height="10.5">\n                  <use data-fix="d70af4_ignoreIcon" xlink:href="#d70af4_ignoreIconUse"/>\n                </mask>\n              </defs>\n              <g stroke="#D2D4DD" fill="none" fill-rule="evenodd">\n                <path d="M9 10.6h14" stroke-width="1.2"/>\n                <g stroke-width="1.2">\n                  <path d="M14.6 14v6M17.4 14v6"/>\n                </g>\n                <use mask="url(#d70af4_ignoreIconMask)" stroke-width="2.4" xlink:href="#d70af4_ignoreIconUse"/>\n                <path d="M18.5 11V9c0-1.1045695-.8982606-2-1.9979131-2h-1.0041738C14.3944962 7 13.5 7.8877296 13.5 9v2" stroke-width="1.2"/>\n              </g>\n            </svg>\n      '}}),a=({className:e})=>i.createElement("span",{className:e,dangerouslySetInnerHTML:{__html:'\n      <svg width="9" height="12" viewBox="0 0 9 12" fill="none">\n      <path d="M0.5 5.85714C0.5 5.38376 0.897969 5 1.38889 5H7.61111C8.10203 5 8.5 5.38376 8.5 5.85714V10.1429C8.5 10.6162 8.10203 11 7.61111 11H1.38889C0.897969 11 0.5 10.6162 0.5 10.1429V5.85714Z" fill="#9FA6BF" stroke="#9FA6BF"/>\n      <path d="M6.5 5V3C6.5 1.89543 5.60457 1 4.5 1V1C3.39543 1 2.5 1.89543 2.5 3V5" stroke="#9FA6BF"/>\n      </svg>\n\n      '}}),s=({className:e})=>i.createElement("span",{className:e,dangerouslySetInnerHTML:{__html:'\n      <svg width="14" height="13" viewBox="0 0 14 13" fill="none">\n      <path d="M0.53125 4.92188L3.25493 1.32812H5.97862M0.53125 4.92188L7 11.75M0.53125 4.92188H4.27632M13.4688 4.92188L10.7451 1.32812H8.02138M13.4688 4.92188L7 11.75M13.4688 4.92188H9.38322M7 11.75L4.27632 4.92188M7 11.75L9.38322 4.92188M4.27632 4.92188H9.38322M4.27632 4.92188L5.97862 1.32812M9.38322 4.92188L8.02138 1.32812M8.02138 1.32812H5.97862" stroke="#F29100" stroke-width="0.71875" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>\n      '}}),c=({className:e})=>i.createElement("span",{className:e,dangerouslySetInnerHTML:{__html:'\n        <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <defs>\n            <mask id="57da07_dictionaryIconMask" x="0" y="0" width="10" height="15" fill="#fff">\n              <path id="57da07_dictionaryIconUse" d="M11 9h10v15l-4.8857422-4L11 24z"/>\n            </mask>\n          </defs>\n          <use mask="url(#57da07_dictionaryIconMask)" xlink:href="#57da07_dictionaryIconUse" stroke-width="2.4" stroke="#D2D4DD" fill="none"/>\n        </svg>\n      '}}),l=({className:e})=>i.createElement("svg",{className:e,width:"15",height:"23",viewBox:"0 0 15 23"},i.createElement("path",{d:"M14.773 22.573V.39h-14v22.183l7-5.326",fill:"#15C49A",fillRule:"evenodd"})),u=({className:e})=>i.createElement("svg",{className:e,width:"32",height:"32",viewBox:"0 0 32 32"},i.createElement("path",{d:"M13.633 21l2.198-4.264L17.64 21h.633l3.756-8.643c.21-.485.62-.776 1.057-.842V11H20.05v.515c.402.09.83.24 1.02.666l-2.758 6.363c-.5-1.06-1.01-2.22-1.498-3.375.504-1.07.915-2.064 1.533-3.04.36-.576.948-.59 1.25-.618V11h-3.23v.51c.404 0 1.242.037.868.822l-.936 1.97-.993-2.19c-.155-.342.145-.57.635-.596L15.938 11h-3.633v.51c.433.015 1.043.013 1.268.38.694 1.274 1.158 2.598 1.79 3.898l-1.636 3.06-2.75-6.323c-.31-.713.425-.943.903-1.002L11.874 11H8v.51c.535.178 1.225.974 1.418 1.376 1.447 3.027 2.176 5.057 3.557 8.114h.658z",fill:"#D2D4DD",fillRule:"evenodd"})),d=({className:e})=>i.createElement("svg",{className:e,width:"100%",height:"100%",viewBox:"0 0 32 32",version:"1.1",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"},i.createElement("path",{d:"M9.003,18c-0.563,0 -1.036,-0.193 -1.422,-0.578c-0.385,-0.386 -0.578,-0.859 -0.578,-1.422c0,-0.563 0.193,-1.036 0.578,-1.422c0.386,-0.385 0.859,-0.578 1.422,-0.578c0.562,0 1.036,0.193 1.422,0.578c0.385,0.386 0.578,0.859 0.578,1.422c0,0.563 -0.193,1.036 -0.578,1.422c-0.386,0.385 -0.86,0.578 -1.422,0.578Zm0,-1c0.271,0 0.505,-0.099 0.703,-0.297c0.198,-0.198 0.297,-0.432 0.297,-0.703c0,-0.271 -0.099,-0.505 -0.297,-0.703c-0.198,-0.198 -0.432,-0.297 -0.703,-0.297c-0.271,0 -0.505,0.099 -0.703,0.297c-0.198,0.198 -0.297,0.432 -0.297,0.703c0,0.271 0.099,0.505 0.297,0.703c0.198,0.198 0.432,0.297 0.703,0.297Zm6.997,1c-0.563,0 -1.036,-0.193 -1.422,-0.578c-0.385,-0.386 -0.578,-0.859 -0.578,-1.422c0,-0.563 0.193,-1.036 0.578,-1.422c0.386,-0.385 0.859,-0.578 1.422,-0.578c0.563,0 1.036,0.193 1.422,0.578c0.385,0.386 0.578,0.859 0.578,1.422c0,0.563 -0.193,1.036 -0.578,1.422c-0.386,0.385 -0.859,0.578 -1.422,0.578Zm0,-1c0.271,0 0.505,-0.099 0.703,-0.297c0.198,-0.198 0.297,-0.432 0.297,-0.703c0,-0.271 -0.099,-0.505 -0.297,-0.703c-0.198,-0.198 -0.432,-0.297 -0.703,-0.297c-0.271,0 -0.505,0.099 -0.703,0.297c-0.198,0.198 -0.297,0.432 -0.297,0.703c0,0.271 0.099,0.505 0.297,0.703c0.198,0.198 0.432,0.297 0.703,0.297Zm7,1c-0.562,0 -1.036,-0.193 -1.422,-0.578c-0.385,-0.386 -0.578,-0.859 -0.578,-1.422c0,-0.563 0.193,-1.036 0.578,-1.422c0.386,-0.385 0.86,-0.578 1.422,-0.578c0.563,0 1.037,0.193 1.422,0.578c0.386,0.386 0.578,0.859 0.578,1.422c0,0.563 -0.192,1.036 -0.578,1.422c-0.385,0.385 -0.859,0.578 -1.422,0.578Zm0,-1c0.271,0 0.506,-0.099 0.703,-0.297c0.198,-0.198 0.297,-0.432 0.297,-0.703c0,-0.271 -0.099,-0.505 -0.297,-0.703c-0.197,-0.198 -0.432,-0.297 -0.703,-0.297c-0.27,0 -0.505,0.099 -0.703,0.297c-0.198,0.198 -0.297,0.432 -0.297,0.703c0,0.271 0.099,0.505 0.297,0.703c0.198,0.198 0.433,0.297 0.703,0.297Z"}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(12),o=n(8);class a{constructor(e){this._perf=e,this._log=r.a.create("cs.telemetry.PerformanceMetricsImpl")}flushMeasures(e){try{const t=this._perf.getEntriesByName(e,"measure");return this._perf.clearMeasures(e),t.map(e=>e.duration)}catch(e){return this._log.warn("failed to retrieve perf measurements",e),[]}}startMeasure(e){const t=Math.random(),n=`__${e}_${t}-start`,i=`__${e}_${t}-end`;try{this._perf.mark(n)}catch(e){return this._log.warn("could not start measure – ignoring measurement",e),{endMeasure:o.n}}let r=!1;return{endMeasure:()=>{if(!r){r=!0;try{this._perf.mark(i),this._perf.measure(e,n,i)}catch(e){this._log.warn("could not complete measure",e)}}}}}measure(e,t){const n=`__${e}-start`,i=`__${e}-end`;try{this._perf.mark(n)}catch(e){return this._log.warn("could not start measure – ignoring measurement",e),t()}try{return t()}finally{try{this._perf.mark(i),this._perf.measure(e,n,i)}catch(e){this._log.warn("could not complete measure",e)}}}}!function(e){e.dummy={flushMeasures:e=>[],measure:(e,t)=>t(),startMeasure:e=>({endMeasure(){}})},e.create=function(t){return void 0!==t?new a(t):e.dummy},e.getStats=function(e){if(0===e.length)return{ct:0};{const t=e.reduce((e,t)=>Math.min(e,t),Number.MAX_VALUE),n=e.reduce((e,t)=>Math.max(e,t),Number.MIN_VALUE),i=e.length>=6?e.reduce((e,t)=>e+t,0)/e.length:void 0;return{ct:e.length,min:t,max:n,range:n-t,avg:i,stddev:void 0!==i&&e.length>1?Math.sqrt(e.reduce((e,t)=>e+Math.pow(t-i,2),0)/(e.length-1)):void 0}}}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n(198),r=n(237),o=n(45),a=n(222),s=n(24),c=n(167);class l{constructor(e){const t=e.testArgs,n=t&&t.processEnv?t.processEnv:c.b.fromBrowserify(),l=c.a.getTargetEnv(n),u="prod"!==l||"cs"!==e.context,d={create:e=>new i.b(e,{writer:new a.a,filterFn:u?e=>!0:Object(r.a)(o.a.ERROR)})},h=Object(s.b)(e.browser,e.context,n,l);this.config=h,this.logger=d}static getInstance(){if(void 0===this._instanceShared)throw new Error("Env not inited yet");return this._instanceShared}static initShared(e){if(void 0!==this._instanceShared)throw new Error("Env already inited");this._instanceShared=e}}function u(){return l.getInstance()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.generic="generic",e.confluenceEditor="confluenceEditor",e.dropboxPaper="dropboxPaper",e.gmail="gmail",e.jira="jira"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var i,r=n(50),o=n(109);function a(e,t,n,i){return o.c.setPosition(r.c.fromOffset(e,t,n,i),e)}!function(e){e.absolute="absolute",e.fixed="fixed"}(i||(i={}))},function(e,t,n){e.exports={unifiedFunnel:"_1s8ew",title:"_39Wt3",sub:"_2qGk3",check:"_3qC74",mark:"_2eLqQ",item:"_2vNq2",itemWrapper:"_1qZ82",button:"_35qTH",fb:"O7QXg",login:"_2tmfo",link:"_3_ae3",popupFooter:"_1bTmN",isFlipped:"_36vXi",close:"l6CtF"}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.initial=0]="initial",e[e.applied=1]="applied"}(i||(i={}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(132),o=n(10);function a(e){return void 0===e&&(e=l),function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.errorFactory))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return i.a(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(o.a);function l(){return new r.a}},function(e,t,n){"use strict";var i=n(221),r=Object(i.a)(Object.getPrototypeOf,Object);t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(4),r=n(10),o=n(120),a=n(52);function s(e){return function(t){return 0===e?Object(a.b)():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o.a}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.total))},e}(),l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return i.a(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(r.a)},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i,r,o=n(325),a=n(254),s=n(322),c=n(168),l=n(8);!function(t){function n(e,t,n,i,r,o,a,s){return{env:e,major_number:t,build_number:n,release_number:i,git_branch:r,git_commit:o,edge_popup_url:a,empty_script_url:s}}t.create=n,t.fromBrowserify=function(){return n("prod","14","950","0","UNVERSIONED","UNVERSIONED",e.env.EDGE_POPUP_URL,e.env.EDGE_EMPTY_SCRIPT_URL)}}(i||(i={})),function(e){e.getTargetEnv=function(e){if(!e.env)throw new Error("processEnv.env is null or undefined");const t=c.c.create(e.env);if(!t)throw new Error(`Invalid processEnv.env: ${e.env}`);return t},e.create=function(e,t,n,i){const r=[n.major_number,n.build_number,n.release_number].map(l.o);let u;if(3===r.length&&r.every(e=>void 0!==e))u=r;else{let n;try{n=a.a.getManifestVersion(e,t,window)}catch(e){}const i=(n||"").split(".").map(l.o);u=3===i.length&&i.every(e=>void 0!==e)?i:[0,0,0]}const[d,h,p]=u;return{buildInfo:a.a.create(d,h,p,e,i,n.git_branch,n.git_commit),bundleInfo:c.a.create(e,i,t),appConfig:o.a.create(e,i,n.edge_popup_url,n.empty_script_url),systemInfo:s.a.create(window)}}}(r||(r={}))}).call(this,n(190))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var i,r,o,a,s=n(8);!function(e){e.create=function(e){return Object(s.p)(["chrome","safari","firefox","edge"],e)},e.detect=function(e){return e.chrome&&/google/i.test(e.navigator.vendor)?e.navigator.appVersion.indexOf("Edg")>-1?"edge":"chrome":-1!==e.navigator.userAgent.indexOf("Firefox")?"firefox":/^((?!chrome).)*safari/i.test(e.navigator.userAgent)?"safari":void 0}}(i||(i={})),function(e){e.create=function(e){return Object(s.p)(["dev","prod","qa"],e)}}(r||(r={})),function(e){e.create=function(e){return Object(s.p)(["bg","cs","popup"],e)},e.detect=function(e,t){const n=!!e.IS_BG,i="safari"===t?function(){try{return e.safari.extension.globalPage.contentWindow!==e}catch(e){return!1}}():!!e.IS_POPUP;return n?"bg":i?"popup":"cs"}}(o||(o={})),function(e){e.create=function(e,t,n){return{browser:e,env:t,context:n}}}(a||(a={}))},function(e,t,n){"use strict";var i=n(47).a.Uint8Array;t.a=i},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n(66),r=n(40);function o(e){return e.group!==r.b.synonym&&e.group!==r.b.plagiarism}function a(e){return o(e)&&!e.isHidden&&!e.isMuted}function s(e){return i.a.isCapiAlert(e)&&a(e)}function c(e){return t=>!i.a.isAutocorrectAlert(t)&&e(t)}function l(e){return t=>i.a.isAutocorrectAlert(t)||e(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(87);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:i.a}},function(e,t,n){"use strict";var i=n(33),r=n(127),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.a=function(e,t){if(Object(i.a)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(r.a)(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){"use strict";var i=n(241),r=n(279),o=n(88);t.a=function(e){return Object(o.a)(e)?Object(i.a)(e):Object(r.a)(e)}},function(e,t,n){"use strict";var i=n(178);t.a=function(e,t,n){"__proto__"==t&&i.a?Object(i.a)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(10);function o(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new a(e,t,n))}}var a=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))},e}(),s=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=i,o.hasSeed=r,o.index=0,o}return i.a(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(r.a)},function(e,t,n){"use strict";var i=n(126),r=n(342),o=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},a=n(326),s=function(e,t,n,i,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var h=c.get(e);if(h&&c.get(t))return h==t;var p=-1,f=!0,m=2&n?new r.a:void 0;for(c.set(e,t),c.set(t,e);++p<u;){var g=e[p],b=t[p];if(i)var v=l?i(b,g,p,t,e,c):i(g,b,p,e,t,c);if(void 0!==v){if(v)continue;f=!1;break}if(m){if(!o(t,(function(e,t){if(!Object(a.a)(m,t)&&(g===e||s(g,e,n,i,c)))return m.push(t)}))){f=!1;break}}else if(g!==b&&!s(g,b,n,i,c)){f=!1;break}}return c.delete(e),c.delete(t),f},c=n(75),l=n(169),u=n(97),d=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},h=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},p=c.a?c.a.prototype:void 0,f=p?p.valueOf:void 0,m=function(e,t,n,i,r,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new l.a(e),new l.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(u.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=d;case"[object Set]":var p=1&i;if(c||(c=h),e.size!=t.size&&!p)return!1;var m=a.get(e);if(m)return m==t;i|=2,a.set(e,t);var g=s(c(e),c(t),i,r,o,a);return a.delete(e),g;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1},g=n(310),b=n(33),v=Object.prototype.propertyIsEnumerable,_=Object.getOwnPropertySymbols,y=_?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}(_(e),(function(t){return v.call(e,t)})))}:function(){return[]},w=n(173),E=function(e){return function(e,t,n){var i=t(e);return Object(b.a)(e)?i:Object(g.a)(i,n(e))}(e,w.a,y)},x=Object.prototype.hasOwnProperty,O=n(242),S=n(96),C=n(106),j="[object Arguments]",k="[object Array]",T="[object Object]",P=Object.prototype.hasOwnProperty,N=function(e,t,n,r,o,a){var c=Object(b.a)(e),l=Object(b.a)(t),u=c?k:Object(O.a)(e),d=l?k:Object(O.a)(t),h=(u=u==j?T:u)==T,p=(d=d==j?T:d)==T,f=u==d;if(f&&Object(S.a)(e)){if(!Object(S.a)(t))return!1;c=!0,h=!1}if(f&&!h)return a||(a=new i.a),c||Object(C.a)(e)?s(e,t,n,r,o,a):m(e,t,u,n,r,o,a);if(!(1&n)){var g=h&&P.call(e,"__wrapped__"),v=p&&P.call(t,"__wrapped__");if(g||v){var _=g?e.value():e,y=v?t.value():t;return a||(a=new i.a),o(_,y,n,r,a)}}return!!f&&(a||(a=new i.a),function(e,t,n,i,r,o){var a=1&n,s=E(e),c=s.length;if(c!=E(t).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in t:x.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++l<c;){var f=e[u=s[l]],m=t[u];if(i)var g=a?i(m,f,u,t,e,o):i(f,m,u,e,t,o);if(!(void 0===g?f===m||r(f,m,n,i,o):g)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,o,a))},A=n(58);t.a=function e(t,n,i,r,o){return t===n||(null==t||null==n||!Object(A.a)(t)&&!Object(A.a)(n)?t!=t&&n!=n:N(t,n,i,r,e,o))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(69),r=n(121),o={closed:!0,next:function(e){},error:function(e){if(i.a.useDeprecatedSynchronousErrorHandling)throw e;Object(r.a)(e)},complete:function(){}}},function(e,t,n){"use strict";var i=n(70),r=function(){try{var e=Object(i.a)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(93),r=n(183),o=n(36);function a(){return new o.a}function s(){return function(e){return Object(r.a)()(Object(i.a)(a)(e))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i={},r={start(e){i[e]=Date.now()},stop(e){const t=this.passed(e);return delete i[e],t},passed:e=>e&&i[e]?Date.now()-i[e]:0}},function(e,t,n){"use strict";var i=n(4),r=1,o={},a=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return i.a(t,e),t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=function(e){var t=r++;return o[t]=e,Promise.resolve().then((function(){return function(e){var t=o[e];t&&t()}(t)})),t}(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);0===t.actions.length&&(function(e){delete o[e]}(n),t.scheduled=void 0)},t}(n(136).a),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(134).a);n.d(t,"a",(function(){return c}));var c=new s(a)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(10);function o(){return function(e){return e.lift(new a(e))}}var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new s(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r},e}(),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.connectable=n,i}return i.a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(16),r=n(68),o=n(52);function a(e){return new i.a((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?Object(r.a)(n):Object(o.b)()).subscribe(t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(8),r=n(201),o=n(270),a=n(313);class s{constructor(e,t=s.defaultFilterNode,n=s.defaultFilterNodeOutput,c=s.defaultIsBlockNode,l=s.defaultFilterOutput,u=s.defaultFinishBlockAfterNode,d={preserveWhiteSpace:!1,isEditable:e.nodeType===Node.ELEMENT_NODE&&a.a.isGeneric.contenteditable(e),outputConsidered:!1}){this._root=e,this._filterNode=t,this._filterNodeOutput=n,this._isBlockNode=c,this._filterOutput=l,this._finishBlockAfterNode=u,this._initialTraversalState=d,this._fragmentSeparator="",this._newLineChar="\n",this._blockSeparator=this._newLineChar,this._blockMap=new r.a(this._root,this._filterNode,this._filterNodeOutput,this._isBlockNode,this._filterOutput,this._finishBlockAfterNode,this._initialTraversalState),this._fragmentGroups=o.b(this._blockMap.blocks,this._fragmentSeparator,this._blockSeparator,this._newLineChar),this._charMapAndText=Object(i.m)(()=>o.c(this._fragmentGroups,this._fragmentSeparator,this._blockSeparator)),this._charMap=Object(i.m)(()=>this._charMapAndText.get().charMap),this._plainText=Object(i.m)(()=>this._charMapAndText.get().text)}static isNotHiddenNode(e){return!("true"===e.getAttribute("aria-hidden")||null!==e.getAttribute("hidden")&&"false"!==e.getAttribute("hidden")||e.style&&("none"===e.style.display||"hidden"===e.style.visibility||"0"===e.style.opacity))}static create(e,t={}){const n=t.andRejectByClass||t.andRejectByTagName||t.andFilterNode?(e,n)=>s.defaultFilterNode(e,n)&&(!t.andRejectByClass||!t.andRejectByClass.some(t=>e.classList.contains(t)))&&(!t.andRejectByTagName||!t.andRejectByTagName.has(e.tagName))&&(!t.andFilterNode||t.andFilterNode(e,n)):s.defaultFilterNode,i=t.andIsBlockNode?(e,n)=>s.defaultIsBlockNode(e,n)&&(!t.andIsBlockNode||t.andIsBlockNode(e,n)):s.defaultIsBlockNode,r=t.andFilterOutput?(e,n)=>s.defaultFilterOutput(e,n)&&t.andFilterOutput(e,n):s.defaultFilterOutput,o=t.andFilterNodeOutput?(e,n)=>s.defaultFilterNodeOutput(e,n)&&t.andFilterNodeOutput(e,n):s.defaultFilterNodeOutput,a=t.andFinishBlockAfterNode||s.defaultFinishBlockAfterNode;return new s(e,n,o,i,r,a,t.initialTraversalState)}getFragmentAtOffset(e){return this._charMap.get()[e]||null}getFragmentAtOrBeforeOffset(e){return this._charMap.get()[e]||this._charMap.get()[e-1]||null}getPlainText(){return this._plainText.get()}getFragmentsByNode(e){const t=[];return i.a.flatten(this._fragmentGroups).forEach(n=>{if(n.mapping&&n.mapping.node===e){const e=o.a.toMappedFragment(n);e&&t.push(e)}}),t.length?t:null}}s.blockTags=new Set(["TABLE","DIV","P","BLOCKQUOTE","BODY","CODE","TR","TH","TD","OL","UL","LI","H1","H2","H3","H4","H5","H6"]),s.ignoredTags=new Set(["PRE","CODE","BLOCKQUOTE","STYLE","SCRIPT","NOSCRIPT","IMG","SVG","CANVAS","AUDIO","VIDEO","IFRAME","EMBED","OBJECT","BUTTON"]),s.defaultFilterNode=e=>!s.ignoredTags.has(e.tagName)&&s.isNotHiddenNode(e),s.defaultIsBlockNode=e=>s.blockTags.has(e.tagName)||e.style&&"block"===e.style.display,s.defaultFilterOutput=()=>!0,s.defaultFilterNodeOutput=()=>!0,s.defaultFinishBlockAfterNode=()=>!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(16),o=n(233),a=n(52),s=n(93),c=n(183),l=n(130),u=n(358),d=n(39),h=n(77);class p{constructor(e,t,n){this._getImmediateValue=e,this._source=t,this._compare=n,this._subject=null,this.behavior=new r.a(e=>{const t=this._source.subscribe(e);return{unsubscribe:()=>{t.unsubscribe(),this._subject=null}}}).pipe(Object(s.a)(()=>(this._subject=new o.a(this._getImmediateValue()),this._subject)),Object(c.a)(),Object(l.a)(this._compare)),this.changes=this.behavior.pipe(Object(u.a)(1)),this.getCurrent=this._getImmediateValue}getApproximate(){return this._subject?this._subject.getValue():this._getImmediateValue()}map(e,t=h.a){return new p(()=>e(this._getImmediateValue()),this.changes.pipe(Object(d.a)(e)),t)}}!function(e){function t(e,t,n){return new p(e,t.pipe(Object(d.a)(e)),n)}e.create=t,e.createOptimized=function(e,t,n){return new p(e,t.pipe(Object(d.a)(t=>void 0!==t?t:e())),n)},e.constant=function(e){return t(()=>e,Object(a.b)(),()=>!0)}}(i||(i={}))},,function(e,t,n){"use strict";n.r(t),n.d(t,"t",(function(){return i})),n.d(t,"updateConnection",(function(){return r})),n.d(t,"onlineConnection",(function(){return o})),n.d(t,"activateDataControl",(function(){return a})),n.d(t,"acceptDataControl",(function(){return s})),n.d(t,"disableDataControl",(function(){return c})),n.d(t,"uninstallExtension",(function(){return l}));const i={UPDATE_CONNECTION:"connection/UPDATE_CONNECTION",ONLINE_STATE:"connection/ONLINE_STATE",ACTIVATE_DATA_CONTROL:"connection/ACTIVATE_DATA_CONTROL",ACCEPT_DATA_CONTROL:"connection/ACCEPT_DATA_CONTROL",DISABLE_DATA_CONTROL:"connection/DISABLE_DATA_CONTROL",UNINSTALL_EXTENSION:"connection/UNINSTALL_EXTENSION"};function r(e){return{type:i.UPDATE_CONNECTION,data:e}}function o(e){return{type:i.ONLINE_STATE,online:e}}function a(){return{type:i.ACTIVATE_DATA_CONTROL}}function s(){return{type:i.ACCEPT_DATA_CONTROL}}function c(){return{type:i.DISABLE_DATA_CONTROL}}function l(){return{type:i.UNINSTALL_EXTENSION}}},,function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.onboarding="onboarding",e.gButton="gButton",e.card="card",e.loginReminder="loginReminder"}(i||(i={})),function(e){e.vox="vox"}(r||(r={}))},function(e,t,n){"use strict";var i=n(298),r=n(121),o=n(100),a=n(103),s=n(299),c=n(300),l=n(194);n.d(t,"a",(function(){return u}));var u=function(e){if(e&&"function"==typeof e[a.a])return u=e,function(e){var t=u[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(i.a)(e);if(Object(c.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,r.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,u,d=Object(l.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},,function(e,t,n){"use strict";function i(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(10);function r(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.a?r:null}return!0}},function(e,t,n){"use strict";var i=n(241),r=n(37),o=n(143),a=Object.prototype.hasOwnProperty,s=function(e){if(!Object(r.a)(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Object(o.a)(e),n=[];for(var i in e)("constructor"!=i||!t&&a.call(e,i))&&n.push(i);return n},c=n(88);t.a=function(e){return Object(c.a)(e)?Object(i.a)(e,!0):s(e)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n(45);class r{constructor(e){this.name=e,this._isError=e=>{const t=e;return t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}}trace(e,t,n){this._logMessage(i.a.TRACE,e,t,n)}debug(e,t,n){this._logMessage(i.a.DEBUG,e,t,n)}info(e,t,n){this._logMessage(i.a.INFO,e,t,n)}warn(e,t,n){this._logMessage(i.a.WARN,e,t,n)}error(e,t,n){this._logMessage(i.a.ERROR,e,t,n)}fatal(e,t,n){this._logMessage(i.a.FATAL,e,t,n)}_logMessage(e,t,n,i){const r={level:e,loggerName:this.name,message:t,timestamp:new Date};n&&(this._isError(n)?r.exception=n:r.data=n),r.data=r.data||i,this.handleEvent(r)}}class o{constructor(e,t){this.name=e,this._createLogger=t}trace(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.trace(e,t,n)}debug(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.debug(e,t,n)}info(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.info(e,t,n)}warn(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.warn(e,t,n)}error(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.error(e,t,n)}fatal(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.fatal(e,t,n)}}class a extends r{constructor(e,t){super(e),this._config=t}handleEvent(e){this._config.filterFn(e)&&this._config.writer.write(e)}}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(163))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i,r,o=n(109),a=n(67);!function(e){function t(e,t,n,i){return e&&t&&e.node.ownerDocument===t.node.ownerDocument?{start:{node:e.node,offset:"BR"===e.node.nodeName?0:n-e.startOffset+e.startOffsetInNode},end:{node:t.node,offset:"BR"===t.node.nodeName?0:i-t.startOffset+t.startOffsetInNode}}:null}function n(e,n,i,r=!1){var o;const a=e.getFragmentAtOrBeforeOffset(n);let s=e.getFragmentAtOrBeforeOffset(i);return r&&!(null===(o=s)||void 0===o?void 0:o.text.trim().length)&&(s=e.getFragmentAtOrBeforeOffset(i-1)),t(a,s,n,i)}function i(e,t=!1){try{const n=Object(a.c)(e.start.node.ownerDocument).createRange();return n.setStart(e.start.node,e.start.offset),n.setEnd(e.end.node,e.end.offset),t||!n.collapsed?n:null}catch(e){return null}}e.getRangeParams=t,e.getRangeParamsFromTextMap=n,e.createRangeFromParams=i,e.createRange=function(e,t,r,o=!1,a=!1){const s=n(e,t,r,a);return s?i(s,o):null},e.createRangeForNode=function(e){try{const t=Object(a.c)(e.ownerDocument).createRange();return t.selectNode(e),t.collapsed?null:t}catch(e){return null}}}(i||(i={})),function(e){function t(e,t,n=1.5){if(e.length<=0)return[];if(1===e.length)return[t(e[0])];{const i=[];let r=null,o=null;for(let a=0;a<e.length;a++){const s=e[a];if(s.width>0){if(r&&o){const e=o.left+o.width-s.left>=-n,a=o.left+o.width-s.left-s.width<=n,c=Math.max(r.top+r.height,s.top+s.height)-Math.min(r.top,s.top)<r.height+s.height;if(r.height>=s.height&&r.top<=s.top&&r.height+r.top>=s.height+s.top&&e&&!a)continue;e&&a&&c?o={top:Math.min(o.top,s.top),left:Math.min(o.left,s.left),height:Math.max(o.height,o.height+o.top-s.top,s.height,s.height+s.top-o.top),width:Math.max(o.left+o.width,s.left+s.width)-o.left}:(i.push(t(o)),o=s)}else o=s;r=s}}return o&&i.push(t(o)),i}}e.collateRects=t,e.provider={create:(e,t)=>i.createRange(t,e.start,e.end),dispose(e){e.detach()},getClientRects:e=>e.collapsed?null:t(e.getClientRects(),o.a.create),getIsConsistent(e,t,n){const r=i.getRangeParamsFromTextMap(n,t.start,t.end);return null!==r&&e.startContainer===r.start.node&&e.startOffset===r.start.offset&&e.endContainer===r.end.node&&e.endOffset===r.end.offset},getIsInvalid:e=>e.collapsed}}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var i,r=n(12),o=n(153);function a(e){return e.nodeType===Node.TEXT_NODE}!function(e){let t;!function(e){e.text="text",e.br="br"}(t=e.Type||(e.Type={})),e.text=function(e,n){return{_tag:t.text,node:e,text:null!==e.nodeValue?e.nodeValue:"",preserveWhiteSpace:n}},e.br=function(e){return{_tag:t.br,node:e}}}(i||(i={}));class s{constructor(e,t,n,i,o,a,c,l=r.a.create(s.name)){this._root=e,this._filterNode=t,this._filterNodeOutput=n,this._isBlockNode=i,this._filterOutput=o,this._finishBlockAfterNode=a,this._initialTraversalState=c,this._log=l,this.blocks=this._buildBlockMap(this._root,this._initialTraversalState)}_buildBlockMap(e,t){const n=[];let r=[],s=!0;const c=(e=!1)=>{r.length>0&&(e||r.length>1||r[0]._tag!==i.Type.br)&&(n.push(r),r=[])},l=(e,t)=>{t&&(s||c(),r.push(e)),s=t},u=(e,t)=>{if(this._filterNode(e,t)){const n=e.getAttribute("contenteditable"),r={preserveWhiteSpace:t.preserveWhiteSpace||!(!e.ownerDocument||!e.ownerDocument.defaultView||"pre-wrap"!==e.ownerDocument.defaultView.getComputedStyle(e).whiteSpace),isEditable:null===n?t.isEditable:"true"===n||"false"!==n&&t.isEditable,outputConsidered:this._filterNodeOutput(e,t)};for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];a(n)?l(i.text(n,r.preserveWhiteSpace),r.outputConsidered&&this._filterOutput(n,r)):Object(o.b)(n)?"BR"===n.tagName?l(i.br(n),r.outputConsidered&&this._filterOutput(n,r)):this._isBlockNode(n,r)?(c(),u(n,r),this._finishBlockAfterNode(n,r)&&c()):u(n,r):n.nodeType===Node.COMMENT_NODE||this._log.warn(`don't know how to handle nodeType=${n.nodeType}`,n)}}};return u(e,t),c(!0),n}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var i,r=n(130);function o(e){return e.rect.map(e=>e.size).behavior.pipe(Object(r.a)((e,t)=>e.height===t.height&&e.width===t.width))}!function(e){e.none="none",e.hovered="hovered"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(21),o=n(20);function a(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),i=t.subscribe(n);return i.add(Object(o.a)(n,this.notifier)),i},e}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return i.a(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,i,r){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(r.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"allSizesDefaults",(function(){return r})),n.d(t,"defaults",(function(){return o}));var i=n(374);const r=[i.a,i.b],o=r.concat([Object(i.c)()])},function(e,t,n){"use strict";function i(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}i.Diff,i.prototype.diff_main=function(e,t,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var r=i;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===n&&(n=!0);var o=n,a=this.diff_commonPrefix(e,t),s=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var c=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var l=this.diff_compute_(e,t,o,r);return s&&l.unshift([0,s]),c&&l.push([0,c]),this.diff_cleanupMerge(l),l},i.prototype.diff_compute_=function(e,t,n,i){var r;if(!e)return[[1,t]];if(!t)return[[-1,e]];var o=e.length>t.length?e:t,a=e.length>t.length?t:e,s=o.indexOf(a);if(-1!=s)return r=[[1,o.substring(0,s)],[0,a],[1,o.substring(s+a.length)]],e.length>t.length&&(r[0][0]=r[2][0]=-1),r;if(1==a.length)return[[-1,e],[1,t]];var c=this.diff_halfMatch_(e,t);if(c){var l=c[0],u=c[1],d=c[2],h=c[3],p=c[4],f=this.diff_main(l,d,n,i),m=this.diff_main(u,h,n,i);return f.concat([[0,p]],m)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},i.prototype.diff_lineMode_=function(e,t,n){e=(u=this.diff_linesToChars_(e,t)).chars1,t=u.chars2;var i=u.lineArray,r=this.diff_main(e,t,!1,n);this.diff_charsToLines_(r,i),this.diff_cleanupSemantic(r),r.push([0,""]);for(var o=0,a=0,s=0,c="",l="";o<r.length;){switch(r[o][0]){case 1:s++,l+=r[o][1];break;case-1:a++,c+=r[o][1];break;case 0:if(a>=1&&s>=1){r.splice(o-a-s,a+s),o=o-a-s;for(var u,d=(u=this.diff_main(c,l,!1,n)).length-1;d>=0;d--)r.splice(o,0,u[d]);o+=u.length}s=0,a=0,c="",l=""}o++}return r.pop(),r},i.prototype.diff_bisect_=function(e,t,n){for(var i=e.length,r=t.length,o=Math.ceil((i+r)/2),a=o,s=2*o,c=new Array(s),l=new Array(s),u=0;u<s;u++)c[u]=-1,l[u]=-1;c[a+1]=0,l[a+1]=0;for(var d=i-r,h=d%2!=0,p=0,f=0,m=0,g=0,b=0;b<o&&!((new Date).getTime()>n);b++){for(var v=-b+p;v<=b-f;v+=2){for(var _=a+v,y=(S=v==-b||v!=b&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-v;S<i&&y<r&&e.charAt(S)==t.charAt(y);)S++,y++;if(c[_]=S,S>i)f+=2;else if(y>r)p+=2;else if(h&&(x=a+d-v)>=0&&x<s&&-1!=l[x]&&S>=(E=i-l[x]))return this.diff_bisectSplit_(e,t,S,y,n)}for(var w=-b+m;w<=b-g;w+=2){for(var E,x=a+w,O=(E=w==-b||w!=b&&l[x-1]<l[x+1]?l[x+1]:l[x-1]+1)-w;E<i&&O<r&&e.charAt(i-E-1)==t.charAt(r-O-1);)E++,O++;if(l[x]=E,E>i)g+=2;else if(O>r)m+=2;else if(!h){var S;if((_=a+d-w)>=0&&_<s&&-1!=c[_])if(y=a+(S=c[_])-_,S>=(E=i-E))return this.diff_bisectSplit_(e,t,S,y,n)}}}return[[-1,e],[1,t]]},i.prototype.diff_bisectSplit_=function(e,t,n,i,r){var o=e.substring(0,n),a=t.substring(0,i),s=e.substring(n),c=t.substring(i),l=this.diff_main(o,a,!1,r),u=this.diff_main(s,c,!1,r);return l.concat(u)},i.prototype.diff_linesToChars_=function(e,t){var n=[],i={};function r(e){for(var t="",r=0,o=-1,a=n.length;o<e.length-1;){-1==(o=e.indexOf("\n",r))&&(o=e.length-1);var s=e.substring(r,o+1);r=o+1,(i.hasOwnProperty?i.hasOwnProperty(s):void 0!==i[s])?t+=String.fromCharCode(i[s]):(t+=String.fromCharCode(a),i[s]=a,n[a++]=s)}return t}return n[0]="",{chars1:r(e),chars2:r(t),lineArray:n}},i.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var i=e[n][1],r=[],o=0;o<i.length;o++)r[o]=t[i.charCodeAt(o)];e[n][1]=r.join("")}},i.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r},i.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r},i.prototype.diff_commonOverlap_=function(e,t){var n=e.length,i=t.length;if(0==n||0==i)return 0;n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n));var r=Math.min(n,i);if(e==t)return r;for(var o=0,a=1;;){var s=e.substring(r-a),c=t.indexOf(s);if(-1==c)return o;a+=c,0!=c&&e.substring(r-a)!=t.substring(0,a)||(o=a,a++)}},i.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;var r=this;function o(e,t,n){for(var i,o,a,s,c=e.substring(n,n+Math.floor(e.length/4)),l=-1,u="";-1!=(l=t.indexOf(c,l+1));){var d=r.diff_commonPrefix(e.substring(n),t.substring(l)),h=r.diff_commonSuffix(e.substring(0,n),t.substring(0,l));u.length<h+d&&(u=t.substring(l-h,l)+t.substring(l,l+d),i=e.substring(0,n-h),o=e.substring(n+d),a=t.substring(0,l-h),s=t.substring(l+d))}return 2*u.length>=e.length?[i,o,a,s,u]:null}var a,s,c,l,u,d=o(n,i,Math.ceil(n.length/4)),h=o(n,i,Math.ceil(n.length/2));return d||h?(a=h?d&&d[4].length>h[4].length?d:h:d,e.length>t.length?(s=a[0],c=a[1],l=a[2],u=a[3]):(l=a[0],u=a[1],s=a[2],c=a[3]),[s,c,l,u,a[4]]):null},i.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],i=0,r=null,o=0,a=0,s=0,c=0,l=0;o<e.length;)0==e[o][0]?(n[i++]=o,a=c,s=l,c=0,l=0,r=e[o][1]):(1==e[o][0]?c+=e[o][1].length:l+=e[o][1].length,r&&r.length<=Math.max(a,s)&&r.length<=Math.max(c,l)&&(e.splice(n[i-1],0,[-1,r]),e[n[i-1]+1][0]=1,i--,o=--i>0?n[i-1]:-1,a=0,s=0,c=0,l=0,r=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(-1==e[o-1][0]&&1==e[o][0]){var u=e[o-1][1],d=e[o][1],h=this.diff_commonOverlap_(u,d),p=this.diff_commonOverlap_(d,u);h>=p?(h>=u.length/2||h>=d.length/2)&&(e.splice(o,0,[0,d.substring(0,h)]),e[o-1][1]=u.substring(0,u.length-h),e[o+1][1]=d.substring(h),o++):(p>=u.length/2||p>=d.length/2)&&(e.splice(o,0,[0,u.substring(0,p)]),e[o-1][0]=1,e[o-1][1]=d.substring(0,d.length-p),e[o+1][0]=-1,e[o+1][1]=u.substring(p),o++),o++}o++}},i.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),r=t.charAt(0),o=n.match(i.nonAlphaNumericRegex_),a=r.match(i.nonAlphaNumericRegex_),s=o&&n.match(i.whitespaceRegex_),c=a&&r.match(i.whitespaceRegex_),l=s&&n.match(i.linebreakRegex_),u=c&&r.match(i.linebreakRegex_),d=l&&e.match(i.blanklineEndRegex_),h=u&&t.match(i.blanklineStartRegex_);return d||h?5:l||u?4:o&&!s&&c?3:s||c?2:o||a?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var r=e[n-1][1],o=e[n][1],a=e[n+1][1],s=this.diff_commonSuffix(r,o);if(s){var c=o.substring(o.length-s);r=r.substring(0,r.length-s),o=c+o.substring(0,o.length-s),a=c+a}for(var l=r,u=o,d=a,h=t(r,o)+t(o,a);o.charAt(0)===a.charAt(0);){r+=o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1);var p=t(r,o)+t(o,a);p>=h&&(h=p,l=r,u=o,d=a)}e[n-1][1]!=l&&(l?e[n-1][1]=l:(e.splice(n-1,1),n--),e[n][1]=u,d?e[n+1][1]=d:(e.splice(n+1,1),n--))}n++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],i=0,r=null,o=0,a=!1,s=!1,c=!1,l=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.Diff_EditCost&&(c||l)?(n[i++]=o,a=c,s=l,r=e[o][1]):(i=0,r=null),c=l=!1):(-1==e[o][0]?l=!0:c=!0,r&&(a&&s&&c&&l||r.length<this.Diff_EditCost/2&&a+s+c+l==3)&&(e.splice(n[i-1],0,[-1,r]),e[n[i-1]+1][0]=1,i--,r=null,a&&s?(c=l=!0,i=0):(o=--i>0?n[i-1]:-1,c=l=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},i.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,n=0,i=0,r=0,o="",a="";n<e.length;)switch(e[n][0]){case 1:r++,a+=e[n][1],n++;break;case-1:i++,o+=e[n][1],n++;break;case 0:i+r>1?(0!==i&&0!==r&&(0!==(t=this.diff_commonPrefix(a,o))&&(n-i-r>0&&0==e[n-i-r-1][0]?e[n-i-r-1][1]+=a.substring(0,t):(e.splice(0,0,[0,a.substring(0,t)]),n++),a=a.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(a,o))&&(e[n][1]=a.substring(a.length-t)+e[n][1],a=a.substring(0,a.length-t),o=o.substring(0,o.length-t))),0===i?e.splice(n-r,i+r,[1,a]):0===r?e.splice(n-i,i+r,[-1,o]):e.splice(n-i-r,i+r,[-1,o],[1,a]),n=n-i-r+(i?1:0)+(r?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,r=0,i=0,o="",a=""}""===e[e.length-1][1]&&e.pop();var s=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),s=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),s=!0)),n++;s&&this.diff_cleanupMerge(e)},i.prototype.diff_xIndex=function(e,t){var n,i=0,r=0,o=0,a=0;for(n=0;n<e.length&&(1!==e[n][0]&&(i+=e[n][1].length),-1!==e[n][0]&&(r+=e[n][1].length),!(i>t));n++)o=i,a=r;return e.length!=n&&-1===e[n][0]?a:a+(t-o)},i.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,r=/>/g,o=/\n/g,a=0;a<e.length;a++){var s=e[a][0],c=e[a][1].replace(n,"&amp;").replace(i,"&lt;").replace(r,"&gt;").replace(o,"&para;<br>");switch(s){case 1:t[a]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case-1:t[a]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[a]="<span>"+c+"</span>"}}return t.join("")},i.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},i.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},i.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,r=0;r<e.length;r++){var o=e[r][0],a=e[r][1];switch(o){case 1:n+=a.length;break;case-1:i+=a.length;break;case 0:t+=Math.max(n,i),n=0,i=0}}return t+Math.max(n,i)},i.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case-1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(e,t){for(var n=[],i=0,r=0,o=t.split(/\t/g),a=0;a<o.length;a++){var s=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{n[i++]=[1,decodeURI(s)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var c=parseInt(s,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+s);var l=e.substring(r,r+=c);"="==o[a].charAt(0)?n[i++]=[0,l]:n[i++]=[-1,l];break;default:if(o[a])throw new Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(r!=e.length)throw new Error("Delta length ("+r+") does not equal source text length ("+e.length+").");return n},i.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},i.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(t),r=this;function o(e,i){var o=e/t.length,a=Math.abs(n-i);return r.Match_Distance?o+a/r.Match_Distance:a?1:o}var a=this.Match_Threshold,s=e.indexOf(t,n);-1!=s&&(a=Math.min(o(0,s),a),-1!=(s=e.lastIndexOf(t,n+t.length))&&(a=Math.min(o(0,s),a)));var c,l,u=1<<t.length-1;s=-1;for(var d,h=t.length+e.length,p=0;p<t.length;p++){for(c=0,l=h;c<l;)o(p,n+l)<=a?c=l:h=l,l=Math.floor((h-c)/2+c);h=l;var f=Math.max(1,n-l+1),m=Math.min(n+l,e.length)+t.length,g=Array(m+2);g[m+1]=(1<<p)-1;for(var b=m;b>=f;b--){var v=i[e.charAt(b-1)];if(g[b]=0===p?(g[b+1]<<1|1)&v:(g[b+1]<<1|1)&v|(d[b+1]|d[b])<<1|1|d[b+1],g[b]&u){var _=o(p,b-1);if(_<=a){if(a=_,!((s=b-1)>n))break;f=Math.max(1,2*n-s)}}}if(o(p+1,n)>a)break;d=g}return s},i.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},i.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var r=t.substring(e.start2-i,e.start2);r&&e.diffs.unshift([0,r]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+i);o&&e.diffs.push([0,o]),e.start1-=r.length,e.start2-=r.length,e.length1+=r.length+o.length,e.length2+=r.length+o.length}},i.prototype.patch_make=function(e,t,n){var r,o;if("string"==typeof e&&"string"==typeof t&&void 0===n)r=e,(o=this.diff_main(r,t,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)o=e,r=this.diff_text1(o);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)r=e,o=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");r=e,o=n}if(0===o.length)return[];for(var a=[],s=new i.patch_obj,c=0,l=0,u=0,d=r,h=r,p=0;p<o.length;p++){var f=o[p][0],m=o[p][1];switch(c||0===f||(s.start1=l,s.start2=u),f){case 1:s.diffs[c++]=o[p],s.length2+=m.length,h=h.substring(0,u)+m+h.substring(u);break;case-1:s.length1+=m.length,s.diffs[c++]=o[p],h=h.substring(0,u)+h.substring(u+m.length);break;case 0:m.length<=2*this.Patch_Margin&&c&&o.length!=p+1?(s.diffs[c++]=o[p],s.length1+=m.length,s.length2+=m.length):m.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(s,d),a.push(s),s=new i.patch_obj,c=0,d=h,l=u)}1!==f&&(l+=m.length),-1!==f&&(u+=m.length)}return c&&(this.patch_addContext_(s,d),a.push(s)),a},i.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=new i.patch_obj;o.diffs=[];for(var a=0;a<r.diffs.length;a++)o.diffs[a]=r.diffs[a].slice();o.start1=r.start1,o.start2=r.start2,o.length1=r.length1,o.length2=r.length2,t[n]=o}return t},i.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,r=[],o=0;o<e.length;o++){var a,s,c=e[o].start2+i,l=this.diff_text1(e[o].diffs),u=-1;if(l.length>this.Match_MaxBits?-1!=(a=this.match_main(t,l.substring(0,this.Match_MaxBits),c))&&(-1==(u=this.match_main(t,l.substring(l.length-this.Match_MaxBits),c+l.length-this.Match_MaxBits))||a>=u)&&(a=-1):a=this.match_main(t,l,c),-1==a)r[o]=!1,i-=e[o].length2-e[o].length1;else if(r[o]=!0,i=a-c,l==(s=-1==u?t.substring(a,a+l.length):t.substring(a,u+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[o].diffs)+t.substring(a+l.length);else{var d=this.diff_main(l,s,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(d)/l.length>this.Patch_DeleteThreshold)r[o]=!1;else{this.diff_cleanupSemanticLossless(d);for(var h,p=0,f=0;f<e[o].diffs.length;f++){var m=e[o].diffs[f];0!==m[0]&&(h=this.diff_xIndex(d,p)),1===m[0]?t=t.substring(0,a+h)+m[1]+t.substring(a+h):-1===m[0]&&(t=t.substring(0,a+h)+t.substring(a+this.diff_xIndex(d,p+m[1].length))),-1!==m[0]&&(p+=m[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),r]},i.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",i=1;i<=t;i++)n+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var r=e[0],o=r.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,n]),r.start1-=t,r.start2-=t,r.length1+=t,r.length2+=t;else if(t>o[0][1].length){var a=t-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],r.start1-=a,r.start2-=a,r.length1+=a,r.length2+=a}return 0==(o=(r=e[e.length-1]).diffs).length||0!=o[o.length-1][0]?(o.push([0,n]),r.length1+=t,r.length2+=t):t>o[o.length-1][1].length&&(a=t-o[o.length-1][1].length,o[o.length-1][1]+=n.substring(0,a),r.length1+=a,r.length2+=a),n},i.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var r=e[n];e.splice(n--,1);for(var o=r.start1,a=r.start2,s="";0!==r.diffs.length;){var c=new i.patch_obj,l=!0;for(c.start1=o-s.length,c.start2=a-s.length,""!==s&&(c.length1=c.length2=s.length,c.diffs.push([0,s]));0!==r.diffs.length&&c.length1<t-this.Patch_Margin;){var u=r.diffs[0][0],d=r.diffs[0][1];1===u?(c.length2+=d.length,a+=d.length,c.diffs.push(r.diffs.shift()),l=!1):-1===u&&1==c.diffs.length&&0==c.diffs[0][0]&&d.length>2*t?(c.length1+=d.length,o+=d.length,l=!1,c.diffs.push([u,d]),r.diffs.shift()):(d=d.substring(0,t-c.length1-this.Patch_Margin),c.length1+=d.length,o+=d.length,0===u?(c.length2+=d.length,a+=d.length):l=!1,c.diffs.push([u,d]),d==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(d.length))}s=(s=this.diff_text2(c.diffs)).substring(s.length-this.Patch_Margin);var h=this.diff_text1(r.diffs).substring(0,this.Patch_Margin);""!==h&&(c.length1+=h.length,c.length2+=h.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=h:c.diffs.push([0,h])),l||e.splice(++n,0,c)}}},i.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},i.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),r=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;r<n.length;){var a=n[r].match(o);if(!a)throw new Error("Invalid patch string: "+n[r]);var s=new i.patch_obj;for(t.push(s),s.start1=parseInt(a[1],10),""===a[2]?(s.start1--,s.length1=1):"0"==a[2]?s.length1=0:(s.start1--,s.length1=parseInt(a[2],10)),s.start2=parseInt(a[3],10),""===a[4]?(s.start2--,s.length2=1):"0"==a[4]?s.length2=0:(s.start2--,s.length2=parseInt(a[4],10)),r++;r<n.length;){var c=n[r].charAt(0);try{var l=decodeURI(n[r].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==c)s.diffs.push([-1,l]);else if("+"==c)s.diffs.push([1,l]);else if(" "==c)s.diffs.push([0,l]);else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+l)}r++}}return t},i.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},i.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=i,e.exports.diff_match_patch=i,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p}));var i=n(148),r=n(347),o=n(212),a=n(313),s=n(81);const c=a.a.isGeneric.contenteditable;function l(e){return e.querySelectorAll("[contenteditable=true]").length>0}function u(e){return s.a.observeAttribute(e,"contenteditable").pipe(Object(r.a)(e=>"true"!==e&&""!==e),Object(o.a)(void 0))}function d(e){return Object(i.a)(h(e,"readonly"),h(e,"disabled"))}function h(e,t){return s.a.observeAttribute(e,t).pipe(Object(r.a)(e=>null!=e),Object(o.a)(void 0))}function p(e,t=(e=>e)){return e.parentNode&&e.parentNode.nodeType===Node.ELEMENT_NODE?t(e.parentNode):null}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.gButtonSize=22,e.gButtonTopLeftMargin=2,e.emojiWidth=e.gButtonSize+8}(i||(i={}))},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(465),s=n(466),c=n(535);t.ValueManager=c.ValueManager,t.BaseStorage=c.BaseStorage,t.MemoryStorage=c.MemoryStorage,t.ContainerIdManager=c.ContainerIdManager,t.GAClientIdManager=c.GAClientIdManager,t.LocalStorage=c.LocalStorage,t.CookieStorage=c.CookieStorage,t.ChromeCookieStorage=c.ChromeCookieStorage,t.WebExtensionsCookieStorage=c.WebExtensionsCookieStorage,t.ReadonlyWebExtensionsCookieStorage=c.ReadonlyWebExtensionsCookieStorage,t.BackendStorage=c.BackendStorage;var l=n(536);t.GoogleAnalyticsClient=l.GoogleAnalyticsClient;var u=["client","clientVersion","userId","isTest","containerId","instanceId","batchId"],d=function(){function e(e,t,n,i,r,o,s,c){void 0===o&&(o=null),void 0===s&&(s=!1),this._client=t,this._clientVersion=n,this._fetch=i,this._containerIdManager=r,this._logger=o,this._storePingTimestamp=s,this._gaClientOpt=c,this._instanceId=a.alphanumeric(8),this._batchId=0,this._isUserReady=!1,this._queue=[],this.userGetter=void 0,this._eventsUrl=e+"/events",this._liteUrl=e+"/lite",this._pingMaybe(),this._initTs=Date.now()}return e.prototype.track=function(e,t){var n=this;if(void 0===t&&(t={lite:!1}),0!==e.eventName.indexOf(this._client+"/"))throw new Error("Event name "+e.eventName+" should start with '"+this._client+"/'");if(Object.keys(e).forEach((function(e){if(-1!==u.indexOf(e))throw new Error("Event data should not contain '"+e+"' prop.")})),!this._isUserReady&&this.userGetter)try{var i=this.userGetter();i&&this.setUser(i.userId,i.isTest)}catch(e){}return this._isUserReady||t.lite&&!t.sendUser?(e.eventName!==this._client+"/ping"&&this._pingMaybe(),this._send(e,t)):(s.guard((function(){return n._logger&&n._logger.trackBeforeSetUser(Date.now()-n._initTs)})),this._enqueue(e,t))},e.prototype.setUser=function(e,t){if(null===e||""===e)throw new Error("Invalid userId: "+e);var n=this._userId&&this._userId!==e&&!(/^-/.test(e)&&/^-/.test(this._userId));this._isTest=t,this._userId=e,this._isUserReady||(this._isUserReady=!0,this._execQueue()),n&&this._pingMaybe(!0)},e.prototype.getContainerId=function(){return this._containerIdManager.getContainerId()},e.prototype._setNextPingTimestamp=function(){var e=this,t=a.getNextPingDate();if(this._nextPingTimestamp=t,this._storePingTimestamp)try{localStorage.setItem("gnar_nextPingTimestamp",t.toString())}catch(t){s.guard((function(){return e._logger&&e._logger.nextPingDateWriteError(t)}))}},e.prototype._getNextPingTimestamp=function(){var e=this,t=this._nextPingTimestamp;if(void 0!==t||!this._storePingTimestamp)return t;try{var n=localStorage.getItem("gnar_nextPingTimestamp");t=null===n?void 0:parseInt(n,10)}catch(n){t=void 0,s.guard((function(){return e._logger&&e._logger.nextPingDateReadError(n)}))}return t},e.prototype._shouldPing=function(e){if(e)return!0;var t=this._getNextPingTimestamp();return void 0===t||t<Date.now()},e.prototype._pingMaybe=function(e){var t=this;if(void 0===e&&(e=!1),this._shouldPing(e)){this._setNextPingTimestamp();var n={eventName:this._client+"/ping",referrer:document.referrer,url:document.location.href};this._gaClientOpt?this._gaClientOpt.getClientId().then((function(e){return t.track(i({},n,{gaClientId:e}))}),(function(e){return t.track(n)})):this.track(n)}},e.prototype.pingMaybe=function(){this._pingMaybe()},e.prototype._enqueue=function(e,t){var n=this;return new Promise((function(i,r){n._queue.push([e,t,{resolve:i,reject:r}])}))},e.prototype._execQueue=function(){var e=this;this._queue.forEach((function(t){var n=t[0],i=t[1],r=t[2],o=r.resolve,a=r.reject;e._send(n,i).then((function(){return o()})).catch((function(e){return a(e)}))})),this._queue=[]},e.prototype._withClientProps=function(e){return i({},e,{client:this._client,clientVersion:this._clientVersion})},e.prototype._withUserProps=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.getContainerId().catch((function(){}))];case 1:return t=n.sent(),[2,i({},e,{containerId:t,userId:this._userId,isTest:this._isTest})]}}))}))},e.prototype._withBrowserProps=function(e){return i({},e,{userAgent:navigator.userAgent,screenWidth:screen.width,screenHeight:screen.height})},e.prototype._withInstanceProps=function(e){var t=this._batchId++;return i({},e,{instanceId:this._instanceId,batchId:t})},e.prototype._send=function(e,t){return r(this,void 0,void 0,(function(){var n,i=this;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),e=this._withClientProps(e),(!t.lite||t.lite&&t.sendInstance)&&(e=this._withInstanceProps(e)),!t.lite||t.lite&&t.sendUser?[4,this._withUserProps(e)]:[3,2];case 1:e=r.sent(),r.label=2;case 2:return(!t.lite||t.lite&&t.sendBrowser)&&(e=this._withBrowserProps(e)),[4,this._doSend(t.lite?this._liteUrl:this._eventsUrl,e)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),s.guard((function(){return i._logger&&i._logger.sendError(n)})),n;case 5:return[2]}}))}))},e.prototype._doSend=function(e,t){return this._fetch(e,{mode:"cors",credentials:"include",method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:[t]})}).then((function(e){return e.ok?Promise.resolve():Promise.reject(new Error(e.statusText))}))},e.prototype.setUserGetter=function(e){this.userGetter=e},e}();t.GnarClientImpl=d;var h=function(){function e(){this.history=[]}return e.prototype.track=function(e){return this.history.push(e),Promise.resolve()},e.prototype.pingMaybe=function(){},e.prototype.setUser=function(e,t){},e.prototype.getContainerId=function(){return Promise.resolve("dummy_container_id")},e.prototype.setUserGetter=function(){},e}();t.MemoryGnarClient=h;var p=function(){function e(){}return e.prototype.track=function(e){try{var t=JSON.parse(localStorage.getItem("trackingGnar"))||[];t.push(e),localStorage.setItem("trackingGnar",JSON.stringify(t))}catch(e){}return Promise.resolve()},e.prototype.pingMaybe=function(){},e.prototype.setUser=function(e,t){},e.prototype.getContainerId=function(){return Promise.resolve("dummy_container_id")},e.prototype.setUserGetter=function(){},e}();t.LocalStorageGnarClient=p},function(e,t,n){e.exports={preSendEmailPremiumPopup:"Ay4ri",header:"_3QnVL",title:"_3hg0X",category:"_2p-A6",name:"_1O5j0",buttons:"_1hPjc",button:"_39-K7",upgrade:"_2-sFr",close:"_1Cwsz",popupFooter:"_3G9kM",isFlipped:"_3rwSX"}},function(e,t,n){"use strict";var i=n(211),r=n(117);t.a=function(e,t){for(var n=0,o=(t=Object(i.a)(t,e)).length;null!=e&&n<o;)e=e[Object(r.a)(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){"use strict";var i=n(33),r=n(172),o=n(139),a="Expected a function";function s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(s.Cache||o.a),n}s.Cache=o.a;var c=s,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,d=function(e){var t=c((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(l,(function(e,n,i,r){t.push(i?r.replace(u,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),h=n(75),p=n(268),f=n(127),m=h.a?h.a.prototype:void 0,g=m?m.toString:void 0,b=function(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(Object(i.a)(t))return Object(p.a)(t,e)+"";if(Object(f.a)(t))return g?g.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)};t.a=function(e,t){return Object(i.a)(e)?e:Object(r.a)(e,t)?[e]:d(b(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(10);function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.value))},e}(),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.value=n,i}return i.a(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(r.a)},,function(e,t,n){"use strict";n.r(t),n.d(t,"second",(function(){return i})),n.d(t,"minute",(function(){return r})),n.d(t,"hour",(function(){return o})),n.d(t,"day",(function(){return a})),n.d(t,"week",(function(){return s})),n.d(t,"days",(function(){return c})),n.d(t,"seconds",(function(){return l})),n.d(t,"hertz",(function(){return u}));const i=1e3,r=60*i,o=60*r,a=24*o,s=7*a;function c(e){return e*a}function l(e){return e*i}function u(e){return i/e}},function(e,t,n){"use strict";var i=n(9),r=n(30);function o(e){if(e&&(function(e){e.__trimmed_content&&delete e.__trimmed_content,e.__node_text&&delete e.__node_text}(e),e.parentNode&&"HTML"!==e.parentNode.nodeName&&e.parentNode.normalize(),e.childNodes.length>0))for(let t=0,n=e.childNodes.length;t<n;t++)o(e.childNodes[t])}var a=n(8),s=n(67),c=n(40),l=n(191);const u=e=>{const t=document.createElement("div");return t.innerHTML=e,Array.from(t.querySelectorAll(".gr-alert")).forEach(e=>(function(e){if(!e.parentNode)return;const t=e.ownerDocument,n=e.parentNode;if(e.childNodes.length>1){const i=t.createDocumentFragment();for(;e.childNodes.length>0;){const t=e.childNodes[0];i.appendChild(t)}n.replaceChild(i,e),o(n)}else e.firstChild?(n.replaceChild(e.firstChild,e),n.normalize(),o(n)):(n.removeChild(e),n.normalize(),o(n))})(e)),t.innerHTML};class d{constructor(e,t=!1){this._dialog=e,this._plainText=t,this._supportedFeatures=[l.b.vox]}_createDialogState(e){const t=e.checkingService.getLegacyApiState(),n=e.state.synonyms?[c.g.toRawData(e.state.synonyms)]:[];return{data:{api:t.textApiState,socketId:t.socketId,cursor:{s:e.state.selection.start,e:e.state.selection.end},[this._plainText?"text":"html"]:e.state.documentContent,matches:n.concat(e.state.alerts.map(e=>c.a.toRawCapiAlert(e))),editorId:t.docId,whiteSpace:"normal",editorImplType:"fluid",selectedMatchId:e.state.selectedAlertId,data:{popupDialogErrorMessage:e.errorMessage}},editorId:t.docId,isOnboarding:!1}}openUnsupportedPopupDialog(e){const t=this._createDialogState(e);t.shouldOpenUnsupportedPopupDialog=!0,this._dialog&&this._dialog.preActivate(),Object(i.d)("show-dialog"),r.emitFocusedTab("show-dialog",t)}openPopupEditor(e){const t=this._createDialogState(e);this._dialog&&this._dialog.preActivate(),Object(i.d)("show-dialog"),r.emitFocusedTab("show-dialog",t),r.one("editor-set-state",t=>{if(t.editorId===e.checkingService.getLegacyApiState().docId){e.checkingService.setLegacyApiState(t.api);const n=a.c.create(),{s:i,e:r}=t.cursor;e.onPopupEditorClosed({documentContent:Object(s.c)(null!=t.text?t.text:t.html&&u(t.html)),alerts:t.matches.map(e=>c.a.create(e.rawMatch,n)),selection:null!==i&&null!==r?{start:i,end:r}:{start:0,end:0}}).then(e=>{})}})}updatePopupEditorState(e){}supports(e){return this._supportedFeatures.includes(e)}}var h=n(24),p=n(36),f=n(148),m=n(79),g=n(347),b=n(39),v=n(266),_=n(12),y=n(243),w=n(85),E=n(145),x=n(7),O=n(42),S=n(62),C=n(0),j=n(48),k=n(239),T=n(283),P=n(275);const N=()=>C.createElement("svg",{className:P.popupBackIcon,width:"10",viewBox:"0 0 10 6"},C.createElement("path",{d:"M5 4.3L.85.14c-.2-.2-.5-.2-.7 0-.2.2-.2.5 0 .7L5 5.7 9.85.87c.2-.2.2-.5 0-.7-.2-.2-.5-.2-.7 0L5 4.28z",stroke:"none"})),A=()=>C.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16"},C.createElement("path",{fill:"#E4E6F2",fillRule:"evenodd",d:"M8 6.871L14.675.245A.776.776 0 0 1 15.239 0c.213 0 .385.082.516.245.163.131.245.311.245.54a.654.654 0 0 1-.245.54L9.129 8l6.626 6.675a.776.776 0 0 1 .245.564.628.628 0 0 1-.245.516.628.628 0 0 1-.516.245.776.776 0 0 1-.564-.245L8 9.129l-6.675 6.626a.654.654 0 0 1-.54.245.654.654 0 0 1-.54-.245.628.628 0 0 1-.245-.516c0-.212.082-.4.245-.564L6.871 8 .245 1.325A.654.654 0 0 1 0 .785C0 .556.082.376.245.245A.654.654 0 0 1 .785 0c.23 0 .41.082.54.245L8 6.871z"}));class I extends C.Component{constructor(){super(...arguments),this._opacity=x.Atom.create(0),this._subs=[],this._onClick=e=>{e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.props.onClose())},this._setRef=e=>{this._ref!==e&&(null!=this._ref&&this._ref.removeEventListener("click",this._onClick),null!=e&&e.addEventListener("click",this._onClick),this._ref=e)}}componentDidMount(){this._opacity.set(0),this._subs.push(this.props.visible.pipe(Object(k.b)(j.a)).subscribe(e=>this._opacity.set(e?1:0)))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){return C.createElement(x.F.div,Object.assign({"data-grammarly-part":"popup-editor",mount:this._setRef},Object(x.classes)(P.overlay,this.props.visible.view(e=>e&&P.overlayVisible)),{style:{opacity:this._opacity,zIndex:T.b}}),C.createElement("div",{className:P.iframeContainer},C.createElement("iframe",{className:P.iframe,src:this.props.iframeHtmlPath})),C.createElement("button",{className:P.popupBackButton},C.createElement(N,null),C.createElement("img",{className:P.popupFavicon,src:Object(S.c)(),alt:""}),C.createElement("span",{className:P.popupBackLabel},Object(S.e)())),C.createElement("button",{className:P.popupCloseButton},C.createElement(A,null)))}}var R=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};function F(){const e=Object(h.a)().systemInfo.os.isMac?"⌘+C":"Ctrl+C";return confirm(`Warning: Grammarly detected a problem which may cause you to lose work! Please select your text and press ${e} to copy it to clipboard before leaving this pop-up.\n\nClick Cancel to keep this editor open.\nClick OK to close this window and discard changes.`)}class M{constructor(e,t=!1,n,i=null){this._textMapType=e,this._isPlainText=t,this._experiments=n,this._dialog=i,this._supportedFeatures=[l.b.vox],this._log=_.a.create(M.name),this._legacyPopupEditor=new d(this._dialog,this._isPlainText)}openUnsupportedPopupDialog(e){this._log.debug("open unsupported popup dialog, state",e.state),this._legacyPopupEditor.openUnsupportedPopupDialog(e)}openPopupEditor(e){this._log.debug("open denali popup editor, state: ",e.state);const t={docId:e.checkingService.getDocId(),state:e.state,isPlainText:this._isPlainText,user:e.userProfile,textMapType:this._textMapType,extDomain:e.extDomain};e.checkingService.closeConnection(),D.getInstance().openPopupEditor(t,t=>e.onPopupEditorClosed(t))}updatePopupEditorState(e){!function(e){r.emitBackground(E.b.bgPopupEditorIFrameToPopupEditor,{type:E.a.changeUser,user:e})}(e)}supports(e){return this._supportedFeatures.includes(e)}}class D{constructor(){this._log=_.a.create(D.name),this._iframeInited=!1,this._visible=x.Atom.create(!1),this._openPopupEditorFirstTime=!0,this._performanceMetricOpenFirstTime=this._openPopupEditorFirstTime,this._subs=[],this._selfClosingSubject=new p.a,this._popupMessages=new p.a,this._iframe=null,r.on(E.b.popupEditorIFrame,(e,t)=>this._popupMessages.next({data:e,callback:t}))}static getInstance(){return null==D._instance&&(D._instance=new D),D._instance}_listenPerformanceMetricTrack(){return this._performanceMetricOpenFirstTime=this._openPopupEditorFirstTime,this._popupMessages.pipe(Object(m.a)(e=>e.data.type===E.a.fullyLoaded),Object(g.a)()).subscribe(e=>y.a.instance.trackLoad(y.a.PopupEditorType.denali,this._performanceMetricOpenFirstTime,e.data.timestamp))}_listenOnceOnLoaded(e){this._popupMessages.pipe(Object(m.a)(e=>e.data.type===E.a.loaded),Object(g.a)()).subscribe(()=>e())}_listenOnceOnPopupClosed(e,t){Object(f.a)(this._popupMessages.pipe(Object(m.a)(e=>e.data.type===E.a.popupClosing),Object(b.a)(({data:e,callback:t})=>({state:e.state,callback:t}))),this._selfClosingSubject.pipe(Object(b.a)(()=>({state:e,callback:void 0})))).pipe(Object(v.a)(({state:e,callback:n})=>t(e,n)),Object(m.a)(e=>e.didClose),Object(g.a)()).subscribe(({callback:e})=>{e&&e()})}_sendCloseMessageToPopupIframe(){return R(this,void 0,void 0,(function*(){"success"===(yield new Promise(e=>r.emitBackground(E.b.bgPopupEditorIFrameToPopupEditor,{type:E.a.closePopup},t=>e(t),()=>e("sender-is-disconnected-from-bg"))))?this._log.debug("close message was successfully sent"):(this._log.warn("cannot send close message"),F()&&(this._log.warn("closing popup..."),this._selfClosingSubject.next()))}))}_initOnce(e){var t,n,i;this._openPopupEditorFirstTime&&(this._openPopupEditorFirstTime=!1,this._iframe&&this._iframe.dispose(),this._listenOnceOnLoaded(()=>{this._iframeInited||e(),this._iframeInited=!0}),this._iframe=new O.b(O.a.fromDocument(document,"grammarly-popup-editor"),O.c.appendChild(document.documentElement),(t=this._visible,n=()=>this._sendCloseMessageToPopupIframe(),i=Object(w.b)().getUrl("src/popupEditorIFrame.html"),()=>C.createElement(I,{visible:t,onClose:n,iframeHtmlPath:i}))))}_initPopupEditor(e,t,n){this._iframeInited&&t(),this._listenOnceOnPopupClosed(e,(e,t)=>R(this,void 0,void 0,(function*(){return e?{didClose:yield n(Object.assign(Object.assign({},e),{alerts:e.alerts})),callback:t}:(this._log.error("could not open popup editor: popup state is empty"),{didClose:!1,callback:t})})))}_sendStateToPopupIframe(e,t=!0){return R(this,void 0,void 0,(function*(){try{const n=yield function(e){return new Promise(t=>r.emitBackground(E.b.bgPopupEditorIFrameToPopupEditor,{type:E.a.openPopup,state:e},e=>t(e),()=>t("sender-is-disconnected-from-bg")))}(e);switch(n){case"success":break;case"sender-is-disconnected-from-bg":this._log.error("Cannot send state to popup editor",n),this._visible.set(!1);break;case"addressee-is-disconnected-from-bg":t?(this._log.warn("Cannot send state to popup editor, reloading iframe",n),this._openPopupEditorFirstTime=!0,this._performanceMetricOpenFirstTime=this._openPopupEditorFirstTime,this._iframeInited=!1,this._initOnce(()=>this._sendStateToPopupIframe(e,!1))):this._log.error("Cannot send state to popup editor",n);break;default:Object(a.g)(n)}}catch(e){this._log.error("Error sending state to popup editor",e)}}))}openPopupEditor(e,t){this._subs.forEach(e=>e.unsubscribe()),this._subs=[],this._subs.push(this._listenPerformanceMetricTrack()),this._openPopupEditorFirstTime&&this._initOnce(()=>this._sendStateToPopupIframe(e)),this._initPopupEditor(e.state,()=>this._sendStateToPopupIframe(e),e=>R(this,void 0,void 0,(function*(){try{yield t(e)}catch(e){if(!F())return!1}return this._visible.set(!1),!0}))),this._visible.set(!0)}}function L(e,t,n){return"chrome"===e.pageContext.config.bundleInfo.browser||"edge"===e.pageContext.config.bundleInfo.browser?new M(t,n,e.state.user.experiments||null,e.app.dialog):function(e,t=!1){return new d(e,t)}(e.app.dialog,n)}D._instance=null,n.d(t,"a",(function(){return L}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(4),r=n(36),o=n(295),a=n(31),s=n(239),c=n(112),l=n(297),u=function(e){function t(t,n,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this)||this;return r.scheduler=i,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=t<1?1:t,r._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return i.a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new d(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new c.a;if(this.isStopped||this.hasError?t=a.a.EMPTY:(this.observers.push(e),t=new l.a(this,e)),r&&e.add(e=new s.a(e,r)),n)for(var u=0;u<o&&!e.closed;u++)e.next(i[u]);else for(u=0;u<o&&!e.closed;u++)e.next(i[u].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i},t}(r.a),d=function(e,t){this.time=e,this.value=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(16);function r(e,t){return t?new i.a((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new i.a((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(119),r=n(98);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(i.a)(r.a,e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(4),r=n(133),o=n(46),a=n(10),s=n(21),c=n(20),l=n(100);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(r.a)(e,void 0).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n,i){void 0===i&&(i=Object.create(null));var r=e.call(this,t)||this;return r.iterators=[],r.active=0,r.resultSelector="function"==typeof n?n:null,r.values=i,r}return i.a(t,e),t.prototype._next=function(e){var t=this.iterators;Object(o.a)(e)?t.push(new f(e)):"function"==typeof e[l.a]?t.push(new p(e[l.a]())):t.push(new m(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++)if("function"==typeof(a=e[i]).hasValue&&!a.hasValue())return;var r=!1,o=[];for(i=0;i<t;i++){var a,s=(a=e[i]).next();if(a.hasCompleted()&&(r=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),r&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.a),p=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),f=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[l.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),m=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.parent=n,r.observable=i,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return i.a(t,e),t.prototype[l.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,i,r){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(c.a)(this,this.observable,this,t)},t}(s.a)},function(e,t,n){n(367);var i={superfasthash:n(390),murmurhash3:n(391)};e.exports={createHash:function(e){e=e.replace(/![a-zA-z0-9]/g,"").toLowerCase();try{return i[e]}catch(e){throw new Error(e)}}}},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(45);class r{constructor(){this._writeFunc=r._commonWriteFunc}write(e){try{const t=[`grm ${e.level} 【${e.loggerName}】░░ ${e.message}`];e.data&&t.push(e.data),e.exception&&t.push(e.exception),this._writeFunc[e.level].apply(null,t)}catch(e){}}}r._commonWriteFunc={[i.a.TRACE]:console.log.bind(console),[i.a.DEBUG]:console.log.bind(console),[i.a.INFO]:console.info.bind(console),[i.a.WARN]:console.warn.bind(console),[i.a.ERROR]:console.error.bind(console),[i.a.FATAL]:console.error.bind(console)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(16),r=n(31);function o(e,t){return new i.a((function(n){var i=new r.a,o=0;return i.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}},function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return p}));var i=n(327),r=n(11);const o="1.0",a=["inbox.google.com","mail.google.com","yahoo.com","mail.live.com","facebook.com","tumblr.com","stackoverflow.com","wordpress.com","wordpress.org","blogspot.com"],s=["facebook.com","messenger.com","work.fb.com","business.facebook.com"],c={"drive.google.com":{title:"Google Drive Not Supported",getMessage:()=>`We hope to support Google Drive apps<br/> in the future, but for now please use your</br> <a class="openGrammarly" href="${Object(r.f)().app}">Grammarly Editor</a>.`},"docs.google.com":{title:"Google Drive Not Supported",getMessage:()=>`We hope to support Google Drive apps<br/> in the future, but for now please use your</br> <a class="openGrammarly" href="${Object(r.f)().app}">Grammarly Editor</a>.`},"chrome.google.com":{title:"Web Store Not Supported"}},l=18e5,u=[6e5,l,36e5,108e5,432e5,864e5,31536e6],d={},h={"hootsuite.com":{enabled:!1},"chrome.google.com":{enabled:!1},"facebook.com":{enabled:!0,pages:{".*/notes":{enabled:!1}}},"onedrive.live.com":{enabled:!1},"docs.com":{enabled:!1},"sp.docs.com":{enabled:!1},"docs.google.com":{enabled:!0,matchInclusions:!1,matchSubdomains:!1,disabledBrowsers:["edge"],pages:{".*/document":{matchPartOfUrl:!0,minFieldHeight:0,minFieldWidth:0,enabled:!0},".*/spreadsheets":{enabled:!1},".*/presentation":{enabled:!1}},track:!0},"drive.google.com":{enabled:!1},"texteditor.nsspot.net":{enabled:!1},"jsbin.com":{enabled:!1},"jsfiddle.net":{enabled:!1},"quora.com":{enabled:!1},"paper.dropbox.com":{enabled:!1},"mail.live.com":{enabled:!1,matchInclusions:!0},"imperavi.com":{enabled:!1},"usecanvas.com":{enabled:!1}};function p(){return{pageConfig:Object(i.a)({},h,{version:{enabled:!1,servicePage:!0},extensions:{enabled:!1,servicePage:!0},settings:{enabled:!1,servicePage:!0},"com.safari.grammarlyspellcheckergrammarchecker":{enabled:!1,matchInclusions:!0,servicePage:!0},[`app.${Object(r.e)()}`]:{enabled:!1,grammarlyEditor:!0},"linkedin.com":{pages:{"/messaging":{afterReplaceEvents:["input"]}}},"plus.google.com":{afterReplaceEvents:["keyup"],minFieldHeight:0,minFieldWidth:0},"facebook.com":{minFieldHeight:0,pages:{"/marketplace":{afterReplaceEvents:["input"]}}},"mail.google.com":{fields:[{name:"to"},{name:"cc"},{name:"bcc"},{className:"vO"}],subframes:!1},"drive.google.com":{track:!0},"docs.google.com":{track:!0},"app.asana.com":{fields:[{className:"task-row-text-input"}]},"tumblr.com":{fields:[{attr:["aria-label","Post title"]},{attr:["aria-label","Type or paste a URL"]}]},"chrome.google.com":{dontShowDisabledBadge:!0}})}}},,function(e,t,n){e.exports={dialog:"_3nFdp",gr__dialog_appear:"_3T5nn",viewContainer:"_28_x1",view:"WuCcu",windows:"_19NKq",footer:"_2JKSq",hide:"_2T-3G",gr__dialog_disappear:"_341Vn",content:"_3LAq1",gr__dialog_content_disappear:"uC8vM",gr__dialog_content_appear:"D11g4",title:"_1MyEd",text:"_2sq_7",label:"pvMtM",btnClose:"_3L3rI"}},function(e,t,n){e.exports={notification:"_1Q4vz",reminder:"_1q4NH",title:"_3_Az-",text:"_3BNie",disableOnTab:"btJ71",disable:"_3kK50",bold:"_1xnmM",action:"_1aC8K",secondary:"_24QEk",close:"_1-apm"}},function(e,t,n){e.exports={colorRed:"_3mEyK",hovered:"_3GrEs",colorBlue:"_3PP6T",colorGreen:"AZEz6",colorPurple:"_1pzC3",colorGold:"_3KqP2",colorDenaliRed:"_1KAER",colorDenaliYellow:"_30H-e",colorGray:"_1FtBU",highlight:"_3F-Wk",showUnderline:"_3IEsw",noAnimation:"_2Qe2S",highlightFadeIn:"_3Q9ZP",synonym:"x9FIO"}},,function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return f}));var i=n(24),r=n(11),o=n(22),a=n(8),s=n(12),c=n(56),l=n(248);const u=s.a.create("extension-api.message.bg"),d="popup";function h(){if((Object(r.j)()||Object(r.k)())&&(!chrome.extension||!chrome.tabs||!chrome.runtime||!chrome.runtime.onConnect)){const e=window.localStorage.getItem("bgInitFail")||"0",t=parseInt(e,10);t>4?u.error(`too many bgInitFail ${t}`):(window.localStorage.setItem("bgInitFail",(t+1).toString()),document.location.reload())}}function p(e){if(!e)return!1;const{browser:t}=i.a().bundleInfo,n="firefox"===t?/^moz-extension:\/\/.*\/src\/popup.html$/:"chrome"===t||"edge"===t?chrome&&chrome.runtime&&chrome.runtime.id?new RegExp(chrome.runtime.id+"/src/popup.html"):void 0:Object(a.g)(t);return void 0!==n&&n.test(e)}class f{constructor(e,t,n){this._getActiveTab=t,this._getAllTabs=n,this.kind="background-message-api",this._callbacks={},this._tabPorts={popup:[]},this._messageHelper=new l.a,this._sendMessageToPorts=(e,t)=>{const n=this._tabPorts[e];n&&n.forEach(e=>e.postMessage(t))},this.toFocused=(e,t)=>this._getActiveTab().then(({id:n,url:i})=>{if(n)return p(i)?u.warn(`toFocussed not allowed for popup when it open like regular tab ${e}`,t):void this._sendMessageToPorts(n.toString(),{type:e,content:t,callid:Object(o.q)()})}),this.broadcast=(e,t)=>{if(!t)return;const n=({id:n,url:i})=>{n&&i&&-1===i.indexOf("chrome-extension:")&&this._sendMessageToPorts(n.toString(),{type:e,callid:Object(o.q)(),content:t})};this._getAllTabs().then(e=>e.forEach(n)),this._tabPorts.popup&&this._tabPorts.popup.length&&this._getActiveTab().then(({url:e})=>{n({id:d,url:e})})},this._initPortListener=e=>{if(e.name===c.b.bridge)e.onMessage(e=>{"message.toFocussed"===e.method&&this.toFocused(e.params&&e.params.type,e.params&&e.params.content)});else if(e.name===c.b.broadcast)e.onMessage(e=>this.broadcast(e.type,e.content));else if(e.name===c.b.background){const{sender:t}=e;if(t){if(t.tab){const{id:n,url:i}=t.tab;if(n){let t=this._tabPorts[n];void 0===t&&(t=this._tabPorts[n]=[]),t.push(e)}i&&0===i.indexOf("http")&&this._messageHelper.fire("tab-connected",{tab:n,url:i}),e.onDisconnect(()=>{if(!n)return;const t=this._tabPorts[n];t&&t.splice(t.indexOf(e),1)})}const n=t.url?t.url:t.tab?t.tab.url:"";if(n&&p(n)){const t=d;this._tabPorts[t]=this._tabPorts[t]||[],this._tabPorts[t].push(e),e.onDisconnect(()=>{const n=this._tabPorts[t];n.splice(n.indexOf(e),1)})}}e.onMessage(n=>{const i=({callid:n,content:i,type:r})=>{this._callbacks[n]&&(this._callbacks[n](i),delete this._callbacks[n]),this._messageHelper.fire(r,i,t=>e.postMessage({content:t,callid:n}),t&&t.tab?t.tab.id:-1)};"tab-connected"===n.type?this._getActiveTab().then(({url:e})=>{n.content={tab:d,url:e},i(n)}):i(n)})}},e(this._initPortListener)}getPortExists(e){return!!this._tabPorts[e]}sendTo(e,t,n,i,r,a){const s=this._tabPorts[e];if(!s||!s.length)return void(r&&r({message:"no ports on specified tabId"}));const c=a?s.filter(e=>a(e.sender&&e.sender.url)):s;if(!c.length)return void(r&&r({message:"no ports on specified tabFilter"}));const l={type:t,content:n};i&&"function"==typeof i&&(l.callid=Object(o.q)(),this._callbacks[l.callid]=i),c.forEach(e=>e.postMessage(l))}listen(e,t){this._messageHelper.listen(e,t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n(460),r=n(22);const o=Object(r.q)();function a(e,t,n,r,s=!1){if(null==e)return;const c=e;if("string"!=typeof t)return Object(i.a)(t,(e,t)=>{a(c,t,e,r)});{if(!n)return;const e=c[o]||[];return c[o]=e,r?(c[o]=e.filter(e=>!(e.event===t&&e.cb===n)),c.removeEventListener(t,n,s)):(e.push({event:t,cb:n}),c.addEventListener(t,n,s)),{el:c,event:t,cb:n,bubble:s}}}function s(e,t,n,i){const r=e;t||null==r[o]?a(r,t,n,!0,i):r[o].forEach(e=>s(r,e.event,e.cb,e.bubble))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(36),o=n(112),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(16),r=n(48),o=n(137),a=n(59);function s(e,t,n){void 0===e&&(e=0);var s=-1;return Object(o.a)(t)?s=Number(t)<1?1:Number(t):Object(a.a)(t)&&(n=t),Object(a.a)(n)||(n=r.a),new i.a((function(t){var i=Object(o.a)(e)?e:+e-n.now();return n.schedule(c,i,{index:0,period:s,subscriber:t})}))}function c(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n(11),r=n(6);function o(e,t){const n=document.createElement("img"),o=Object(r.b)(e,{application:Object(i.a)(),version:Object(i.h)(),env:Object(i.c)(),context:t});return n.src=Object(r.e)(o,Object(i.f)().newFelog),Promise.resolve()}function a(e,t,n,i,r){return o({logger:e,level:n,message:t,extra:i},r)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(45);const r=e=>t=>Object(i.b)(t.level)>=Object(i.b)(e)},function(e,t,n){"use strict";var i=n(37),r=Object.create,o=function(){function e(){}return function(t){if(!Object(i.a)(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();t.a=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var i=n(4),r=n(10),o=n(95);function a(e,t){return void 0===t&&(t=0),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))},e}(),c=function(e){function t(t,n,i){void 0===i&&(i=0);var r=e.call(this,t)||this;return r.scheduler=n,r.delay=i,r}return i.a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new l(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.a.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.a.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},t}(r.a),l=function(e,t){this.notification=e,this.destination=t}},function(e,t,n){"use strict";var i=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),a=o.length;a--;){var s=o[++i];if(!1===t(r[s],s,r))break}return e};t.a=i},function(e,t,n){"use strict";var i=n(110),r=n(33),o=n(96),a=n(142),s=n(106),c=Object.prototype.hasOwnProperty;t.a=function(e,t){var n=Object(r.a)(e),l=!n&&Object(i.a)(e),u=!n&&!l&&Object(o.a)(e),d=!n&&!l&&!u&&Object(s.a)(e),h=n||l||u||d,p=h?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],f=p.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||u&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||Object(a.a)(m,f))||p.push(m);return p}},function(e,t,n){"use strict";var i=n(70),r=n(47),o=Object(i.a)(r.a,"DataView"),a=n(116),s=Object(i.a)(r.a,"Promise"),c=Object(i.a)(r.a,"Set"),l=Object(i.a)(r.a,"WeakMap"),u=n(64),d=n(111),h=Object(d.a)(o),p=Object(d.a)(a.a),f=Object(d.a)(s),m=Object(d.a)(c),g=Object(d.a)(l),b=u.a;(o&&"[object DataView]"!=b(new o(new ArrayBuffer(1)))||a.a&&"[object Map]"!=b(new a.a)||s&&"[object Promise]"!=b(s.resolve())||c&&"[object Set]"!=b(new c)||l&&"[object WeakMap]"!=b(new l))&&(b=function(e){var t=Object(u.a)(e),n="[object Object]"==t?e.constructor:void 0,i=n?Object(d.a)(n):"";if(i)switch(i){case h:return"[object DataView]";case p:return"[object Map]";case f:return"[object Promise]";case m:return"[object Set]";case g:return"[object WeakMap]"}return t}),t.a=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(53),o=n(12);class a{constructor(e){this._gnar=e,this._log=o.a.create(a.name),this._startTs=null}start(e=Date.now()){this._log.debug("mark load START",e),null!==this._startTs&&this._log.warn("start time double mark"),this._startTs=e}trackLoad(e,t,n){this._log.debug("mark load END",{popupEditorType:e,firstLoad:t,ts:n,total:this._startTs&&n-this._startTs}),null!==this._startTs?(this._gnar.popupEditorLaunchTime(t,e,n-this._startTs),this._startTs=null):this._log.warn("can't track popup editor load time -- no start mark")}}!function(e){let t;e.instance=new a(r.a),function(e){e.denali="denali",e.old="old"}(t=e.PopupEditorType||(e.PopupEditorType={}))}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n(86),r=n(248),o=n(22),a=n(56);const s=n(12).a.create("Messaging.extension-api.content");class c{constructor(e){this.kind="content-script-message-api",this._callbacks={},this._messageHelper=new r.a,this._proxyPortsStorage={},this.broadcastBackground=(...e)=>this._emit(this.backgroundPort,"bg").apply(null,e),this.broadcast=(...e)=>this._emit(this.broadcastPort,"tabs").apply(null,e),this._onPortMessage=e=>{s.trace("portMessage",e)},this._checkHealth=(()=>{let e=null,t=null;const n=()=>{document.dispatchEvent(new CustomEvent("grammarly:ping"))},i=()=>{o()},r=()=>{[this.port,this.backgroundPort,this.broadcastPort].forEach(e=>{e&&e.removeMessageListeners&&e.removeMessageListeners()}),this.port=this.backgroundPort=this.broadcastPort=null,o(),document.addEventListener("grammarly:proxyports",this._onGrammarlyResetAfterTimeout),document.dispatchEvent(new CustomEvent("grammarly:offline"))};function o(){document.removeEventListener("grammarly:pong",i),t&&(clearTimeout(t),t=null),e&&(clearInterval(e),e=null)}return()=>{o(),document.addEventListener("grammarly:pong",i),e=window.setInterval(n,500),t=window.setTimeout(r,5e3)}})(),this._onGrammarlyResetAfterTimeout=()=>{document.removeEventListener("grammarly:proxyports",this._onGrammarlyResetAfterTimeout),this.port=this._initProxyPort(a.b.bridge,this._onPortMessage,this._checkHealth,!0),this.backgroundPort=this._initProxyPort(a.b.background,this._onBgPortMessage,this._checkHealth),this.broadcastPort=this._initProxyPort(a.b.broadcast,null,this._checkHealth)},this._onBgPortMessage=({callid:e,content:t,type:n})=>{this._callbacks[e]?(this._callbacks[e](t),delete this._callbacks[e]):this._messageHelper.fire(n,t,t=>{if(!this.backgroundPort)throw new Error("fail reply to bg page - connection lost");this.backgroundPort.postMessage({content:t,callid:e})})},this._initProxyPort=(e,t,n,i=!1)=>{const r=this._proxyPort(e);return i&&this._checkHealth(),t&&r.onMessage(t),n&&r.onDisconnect(n),r},this._emit=(e,t)=>(n,i,r,a)=>{const s=Object(o.q)();r&&"function"==typeof r&&(this._callbacks[s]=r);try{if(!e)throw new Error("lost connection to "+t+" port");e.postMessage({type:n,callid:s,content:i})}catch(e){if(!a)throw e;a(e)}},this._proxyPort=e=>{this._proxyPortsStorage[e]={};const t=(t,n)=>{const i=n.detail;if(i.name!==e)return;const r=this._proxyPortsStorage[e][t];r&&r(i.msg)},n=e=>t("success",e),i=e=>t("error",e);return document.addEventListener("grammarly:message",n),document.addEventListener("grammarly:error",i),{postMessage(t={}){const n={data:t,name:e};return document.dispatchEvent(new CustomEvent("grammarly:action",{detail:n}))},onMessage:t=>{this._proxyPortsStorage[e].success=t},onDisconnect:t=>{this._proxyPortsStorage[e].error=t},removeMessageListeners(){document.removeEventListener("grammarly:message",n),document.removeEventListener("grammarly:error",i)}}},this.port=e(a.b.bridge),this.port.onMessage(this._onPortMessage),this.port.onDisconnect(()=>{this.port=null,this.port=this._initProxyPort(a.b.bridge,this._onPortMessage,this._checkHealth,!0)}),this.backgroundPort=e(a.b.background),this.backgroundPort.onMessage(this._onBgPortMessage),this.backgroundPort.onDisconnect(()=>{this.backgroundPort=null,this.backgroundPort=this._initProxyPort(a.b.background,this._onBgPortMessage,this._checkHealth)}),this.broadcastPort=e(a.b.broadcast),this.broadcastPort.onDisconnect(()=>{this.broadcastPort=null,this.broadcastPort=this._initProxyPort(a.b.broadcast,null,this._checkHealth)})}onBackgroundPortReconnect(e){this.backgroundPort&&this.backgroundPort.onReconnect&&this.backgroundPort.onReconnect(e)}listen(e,t){this._messageHelper.listen(e,t)}toFocused(e,t){return i.a.create(n=>{if(!this.port)throw new Error("lost connection to bg page");this.port.postMessage({method:"message.toFocussed",params:{type:e,content:t}}),n()})}}function l(){window.addEventListener("update-window-size-gr",e=>{const t=document.createElement("div");if(t.style.height="1px",e.detail&&e.detail.force){const e=setInterval((function(){document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},10)}),100);setTimeout(()=>clearInterval(e),405)}},!1),window.addEventListener("close-popup-gr",()=>{window.close()},!1)}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t,n){"use strict";var i=n(240),r=n(173);t.a=function(e,t){return e&&Object(i.a)(e,t,r.a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(406));var i=n(483);t.F=i.createLiftedIntrinsics()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i=n(12).a.create("extension-api.message"),r=()=>{};class o{constructor(){this._listeners={},this._queue={},this.fire=(e,t,n=r,i)=>{const o=this._listeners[e]||[];o.length?o.forEach(e=>e(t,n,i)):(this._queue[e]=this._queue[e]||[],this._queue[e].push({content:t,callback:n,sender:i}))},this.unlisten=(e,t)=>{const n=this._listeners[e]||[],i=n.indexOf(t);-1!==i&&(1===n.length?delete this._listeners[e]:n.splice(i,1))},this.listenOnce=(e,t)=>{const n=(i,r,o)=>{this.unlisten(e,n),t&&t(i,r,o)};this.listen(e,n)},this.listen=(e,t)=>{this._listeners[e]=this._listeners[e]||[],-1===this._listeners[e].indexOf(t)&&this._listeners[e].push(t);const n=this._queue[e]||[];if(n.length){for(const r of n)try{t(r.content,r.callback,r.sender)}catch(e){i.error("exception during proccesing buffered messages",e)}delete this._queue[e]}}}}},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l}));let i=["The G logo gets out of the way when you're typing","Switch between American, British, Australian, and Canadian English","Quickly disable checking in certain types of text fields","A fully redesigned and improved interface"],r=["id","email","firstName","anonymous","type","subscriptionFree","experiments","isTest","premium","settings","registrationDate","mimic","groups","extensionInstallDate","fixed_errors","edc"];r.push("token");const o=["data-gramm_editor","data-gramm","data-gramm_id","gramm_editor","readonly","disabled"],a=["pm-container",["class","ProseMirror"],"data-synchrony",["data-gramm","false"],["data-enable-grammarly","false"],["class","redactor-layer"],["class","redactor-editor"],["class","ck-editor__editable"],["class","redactor_box"],["aria-label","Search Facebook"]],s=[...o,...a],c={name:"data-enable-grammarly",value:"true"},l=["changed-user","changed-plan","changed-dialect","cleanup","editor-fix"]},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.gdocs="gdocs",e.other="other"}(i||(i={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"t",(function(){return i})),n.d(t,"setUser",(function(){return r})),n.d(t,"setGroups",(function(){return o})),n.d(t,"setSettings",(function(){return a})),n.d(t,"sessionInvalidate",(function(){return s})),n.d(t,"incFixed",(function(){return c})),n.d(t,"updateGroups",(function(){return l}));const i={SET_USER:"user/SET_USER",SET_GROUPS:"user/SET_GROUPS",SET_SETTINGS:"user/SET_SETTINGS",SESSION_INVALIDATE:"user/SESSION_INVALIDATE",INC_FIXED:"user/INC_FIXED",UPDATE_GROUPS:"user/UPDATE_GROUPS"};function r(e){return{type:i.SET_USER,data:e}}function o(e){return{type:i.SET_GROUPS,data:e}}function a(e){return{type:i.SET_SETTINGS,data:e}}function s(e){return{type:i.SESSION_INVALIDATE,reason:e}}function c(){return{type:i.INC_FIXED}}function l(){return{type:i.UPDATE_GROUPS}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){"use strict";var i=n(210);t.a=function(e,t,n){var r=null==e?void 0:Object(i.a)(e,t);return void 0===r?n:r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(8),o=n(264);!function(e){e.create=function(e,t,n,i,r,o,a){const s=void 0!==o&&void 0!==a?o:"UNVERSIONED",c=`${e}.${t}.${n}`;return{version:c,fullVersion:`${c}-${[i,["prod"!==r?r:null,s!==i?s:null].filter(e=>!!e).join(".")].filter(e=>""!==e).join("/")}`,commitHash:a,gitBranch:o}},e.getManifestVersion=function(e,t,n){switch(e){case"safari":switch(t){case"bg":case"popup":return n.safari.extension.displayVersion;default:return}case"chrome":case"edge":return n.chrome.runtime.getManifest().version;case"firefox":return o.a.runtime.getManifest().version;default:return Object(r.g)(e)}}}(i||(i={}))},function(e,t,n){"use strict";(function(e){var i=n(199),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.a.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n(230)(e))},,,function(e,t,n){"use strict";var i=n(94),r=n(148),o=n(130),a=n(212),s=n(67),c=n(377),l=n(381),u=n(202),d=n(122),h=n(65),p=n(215),f=n(320),m=n(159),g=n(458),b=n(364),v=n(0),_=n(151),y=n(39),w=n(179),E=n(273),x=n(203),O=n(89),S=n(81),C=n(7),j=n(247),k=n(71),T=n(50),P=n(343),N=n(42);function A(e){try{const t=e.computedStyleMap?e.computedStyleMap():void 0,n=t&&t.get&&t.get("line-height");return n&&n.value+n.unit}catch(e){return}}class I{constructor(e,t,n,a,s=k.a.hz4,c=k.a.sec1,l=k.a.hz10,u=1e3){this._target=e,this._auxDomContainer=t,this._layout=n,this._browser=a,this._idleValuePollClock=s,this._idleStylePollClock=c,this._styleRecalcClock=l,this._textNodeSize=u,this._contentChanged=Object(r.a)(Object(i.a)(this._target,"input"),Object(i.a)(this._target,"change"),this._idleValuePollClock.pipe(Object(y.a)(e=>this._target.value),Object(o.a)())).pipe(Object(w.a)()),this._attributesChanged=S.a.create(this._target,{attributes:!0,subtree:!1,childList:!1,characterData:!1}),this._textValue=this._contentChanged.pipe(Object(E.a)(void 0),Object(y.a)(e=>this._target.value)),this._mirrorEl=null,this._getPreciseLineHeight="chrome"===this._browser?A:void 0,this._mirrorView=()=>v.createElement(C.F.div,{"data-grammarly-part":"mirror",style:Object(_.b)(this._layout.rect.map(e=>e.size).behavior,Object(r.a)(this._contentChanged,this._attributesChanged,this._idleStylePollClock).pipe(Object(x.a)(this._styleRecalcClock),Object(E.a)(void 0)),(e,t)=>(function(e,t,n){if(e.ownerDocument&&e.ownerDocument.defaultView){const i=e.ownerDocument.defaultView.getComputedStyle(e),r=n&&n(e);return{border:0,margin:0,padding:i.padding,paddingBottom:i.paddingBottom,paddingLeft:i.paddingLeft,paddingRight:i.paddingRight,paddingTop:i.paddingTop,font:i.font,fontSize:null!==i.fontSize?i.fontSize:void 0,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSizeAdjust:i.fontSizeAdjust,fontStyle:i.fontStyle,direction:i.direction,textAlign:"start"!==i.textAlign?i.textAlign||"left":"rtl"===i.direction?"right":"left",textShadow:i.textShadow,textIndent:i.textIndent,lineHeight:r||(null!==i.lineHeight?i.lineHeight:"initial"),letterSpacing:i.letterSpacing,wordBreak:i.wordBreak,wordWrap:i.wordWrap,wordSpacing:i.wordSpacing,writingMode:i.writingMode,whiteSpace:"pre-wrap",verticalAlign:i.verticalAlign||"baseline",clear:i.clear||"none",boxSizing:"content-box",width:Math.max(0,t.width-(parseFloat(i.paddingLeft)||0)-(parseFloat(i.paddingRight)||0)),height:Math.max(0,t.height-(parseFloat(i.paddingTop)||0)-(parseFloat(i.paddingBottom)||0)),position:"fixed",top:0,left:0,borderColor:"transparent",background:"transparent",pointerEvents:"none",overflow:"hidden",overflowX:"hidden",overflowY:"hidden",color:"transparent",zIndex:Number.MIN_SAFE_INTEGER,visibility:"hidden"}}return{display:"none"}})(this._target,e,this._getPreciseLineHeight)),mount:e=>{Object(j.setElementProps)({scrollTop:this._layout.scroll.behavior.pipe(Object(y.a)(e=>e.top)),scrollLeft:this._layout.scroll.behavior.pipe(Object(y.a)(e=>e.left))})(e),this._mirrorEl=e},children:this._textValue.pipe(Object(y.a)(e=>(function(e,t){const n=[];for(let i=0,r=e.length;i<r;i+=t)n.push(e.slice(i,i+t));return n})(e,this._textNodeSize).concat("\n")))}),this._viewLoader=new N.b(N.a.fromDocument(Object(O.b)(this._auxDomContainer),"grammarly-mirror"),N.c.appendChild(this._auxDomContainer),this._mirrorView)}get mirrorElement(){return this._mirrorEl}dispose(){this._viewLoader.dispose()}}class R extends P.a{constructor(e){const t=T.a.create({top:0,left:0});super(()=>t,()=>e.scroll.getCurrent(),()=>t,()=>e.scroll.getApproximate())}}var F=n(719),M=n(185);class D extends M.a{constructor(e){super(e,()=>!0,()=>!0,()=>!1,()=>!0,()=>!0,{preserveWhiteSpace:!0,isEditable:!0,outputConsidered:!1})}}var L=n(537);n.d(t,"c",(function(){return B})),n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return H}));const B=8;function U(e={}){return Object.assign(Object.assign({},e),{gbuttonMinPadding:void 0!==e.gbuttonMinPadding?e.gbuttonMinPadding:B})}function H(e,t,n,v){return L.a.decorate(()=>{const _=e.field,y=n||new d.a(e.field,U()),w=new I(_,Object(s.c)(t||_.ownerDocument&&(_.ownerDocument.body.parentElement||_.ownerDocument.body),"mirror container"),y.textField,e.pageContext.config.bundleInfo.browser),E=Object(s.c)(w.mirrorElement),x=new F.a(E,h.b.fromDiff,void 0,e=>new D(e)),O=y.textField.rect.behavior.pipe(Object(o.a)((e,t)=>e.page.top===t.page.top&&e.page.left===t.page.left),Object(a.a)(void 0)),S=new c.a(E,e.pageContext.domain,y,()=>e.createCheckingService(),Object(s.c)(e.app.card,"ctx.app.card"),Object(p.a)(e,m.a.generic,!0),C.Atom.create(e.state),e.actions,Object(s.c)(e.app.notifications,"ctx.app.notifications"),e.gnar,e.felog,e.pageContext.config,e.isCurrentFocusedField,x,e=>new g.a(_),v||(e=>new f.e(_)),void 0,void 0,e=>new l.b(x,y.gbutton,y.textField,E,new l.c(E,y.textField),e),void 0,new b.b(_),_,Object(i.a)(_,"dblclick"),Object(r.a)(Object(u.b)(y.textField),O),new R(y.textField));return{textField:e.field,update(e){S.update(e)},dispose(){S.dispose(),w.dispose()}}},"textarea",e.field)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={server:"socket-server",client:"socket-client",serverIframe:"socket-server-iframe",iframeMode:"iframe-mode"}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(8);const r=Object(i.r)(()=>browser,()=>window.browser);window.chrome=window.chrome},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(21),o=n(20);function a(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return i.a(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=Object(o.a)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,i){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(119);function r(e,t){return Object(i.a)(e,t,1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n(4),r=n(21),o=n(20),a={leading:!0,trailing:!1};function s(e,t){return void 0===t&&(t=a),function(n){return n.lift(new c(e,t.leading,t.trailing))}}var c=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.durationSelector,this.leading,this.trailing))},e}(),l=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=i,o._trailing=r,o._hasValue=!1,o}return i.a(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(o.a)(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,n,i,r){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(r.a)},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t,n){"use strict";var i=n(126),r=n(176),o=n(37),a=function(e){return e==e&&!Object(o.a)(e)},s=n(173),c=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},l=function(e){var t=function(e){for(var t=Object(s.a)(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,a(r)]}return t}(e);return 1==t.length&&t[0][2]?c(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],d=e[u],h=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var p=new i.a;if(o)var f=o(d,h,u,e,t,p);if(!(void 0===f?Object(r.a)(h,d,3,o,p):f))return!1}}return!0}(n,e,t)}},u=n(253),d=function(e,t){return null!=e&&t in Object(e)},h=n(211),p=n(110),f=n(33),m=n(142),g=n(150),b=n(117),v=function(e,t){return null!=e&&function(e,t,n){for(var i=-1,r=(t=Object(h.a)(t,e)).length,o=!1;++i<r;){var a=Object(b.a)(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Object(g.a)(r)&&Object(m.a)(a,r)&&(Object(f.a)(e)||Object(p.a)(e))}(e,t,d)},_=n(172),y=n(125),w=n(210),E=function(e){return Object(_.a)(e)?function(e){return function(t){return null==t?void 0:t[e]}}(Object(b.a)(e)):function(e){return function(t){return Object(w.a)(t,e)}}(e)};t.a=function(e){return"function"==typeof e?e:null==e?y.a:"object"==typeof e?Object(f.a)(e)?function(e,t){return Object(_.a)(e)&&a(t)?c(Object(b.a)(e),t):function(n){var i=Object(u.a)(n,e);return void 0===i&&i===t?v(n,e):Object(r.a)(t,i,3)}}(e[0],e[1]):l(e):E(e)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var i=n(8),r=n(201);class o{constructor(e){this._whitespaceChars=e,this._trimRe=new RegExp(`^[${this._whitespaceChars}]+|[${this._whitespaceChars}]+$`,"g"),this._trimLeftRe=new RegExp(`^[${this._whitespaceChars}]+`,"g"),this._trimRightRe=new RegExp(`[${this._whitespaceChars}]+$`,"g")}trimLeft(e){const t=e.replace(this._trimLeftRe,"");return{result:t,removedLeft:e.length-t.length}}trimRight(e){return e.replace(this._trimRightRe,"")}trim(e){let t=null;return{result:e.replace(this._trimRe,(e,n)=>(0===n&&(t=e.length),"")),removedLeft:null!==t?t:0}}}const a=[10,8,32,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8287,12288,3].map(e=>String.fromCharCode(e)).join(""),s=a+String.fromCharCode(160),c=new RegExp(String.fromCharCode(160),"g");var l;function u(e,t,n,s,l=new o(a)){const u=[];let d=0;for(const o of e){const e=[],a=n=>{e.push(n),d+=n.text.length+t.length},h=()=>{u.push(e),d+=n.length};for(let e=0;e<o.length;e++){const t=o[e];if(t._tag===r.b.Type.text){const n=0===e,i=e===o.length-1,r=t.preserveWhiteSpace?{result:t.text,removedLeft:0}:n&&i?l.trim(t.text):n?l.trimLeft(t.text):i?{result:l.trimRight(t.text),removedLeft:0}:{result:t.text,removedLeft:0};r.result.length>0&&a({text:r.result.replace(c," "),mapping:{node:t.node,startOffsetInNode:r.removedLeft},startOffset:d,endOffset:d+r.result.length})}else if(t._tag===r.b.Type.br){const n=e<o.length-1?s:"";a({text:n,mapping:{node:t.node,startOffsetInNode:0},startOffset:d,endOffset:d+n.length})}else Object(i.g)(t)}e.length>0&&h()}return u}function d(e,t,n){const i=[],r=[];let o=0;const a=(e,t)=>{const n=t?t.endOffset-t.startOffset:0,a=Math.max(e.length,n);r.push(e);for(let e=0;e<a;e++)i[o+e]=t;o+=a};for(let i=0;i<e.length;i++){const r=e[i];for(let e=0;e<r.length;e++)a(r[e].text,l.toMappedFragment(r[e])),e<r.length-1&&a(t,null);i<e.length-1&&a(n,null)}return{charMap:i,text:"".concat(...r)}}!function(e){e.toMappedFragment=function(e){return e.mapping?{text:e.text,startOffset:e.startOffset,endOffset:e.endOffset,node:e.mapping.node,startOffsetInNode:e.mapping.startOffsetInNode}:null},e.createNotMappedFragment=function(e,t){return{text:e,startOffset:t,endOffset:t+e.length}}}(l||(l={}))},,function(e,t,n){var i=n(542),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(128),r=n(59);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r.a)(n)?(e.pop(),function(t){return Object(i.a)(e,t,n)}):function(t){return Object(i.a)(e,t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(9),r=n(26),o=n(0),a=n(334);n(601);const s=290,c=({className:e})=>o.createElement("div",{className:`gr_-spinner ${e}`},o.createElement("div",{className:"gr_-bounce1"}),o.createElement("div",{className:"gr_-bounce2"}),o.createElement("div",{className:"gr_-bounce3"}));class l extends o.Component{constructor(){super(...arguments),this.onClick=e=>{e.preventDefault(),this.props.loading||this.props.onClick&&this.props.onClick(e)}}render(){const{loading:e,cls:t}=this.props,n=e?"":this.props.text,l=this.props.styles||{width:s},u=Object(i.c)({[a.buttonContainer]:!0,[a[t]]:void 0!==t,[a.loading]:e,[a.isFb]:this.props.isFb,[a.isGoogle]:this.props.isGoogle});return o.createElement("div",{className:u,style:l},e&&o.createElement(c,{className:a.buttonSpinner}),o.createElement(r.a,{clickHandler:this.onClick},o.createElement("button",{type:"button",style:l,className:a.button},n)))}}},function(e,t,n){e.exports={overlay:"G1YKL",overlayVisible:"_2zdNv",iframeContainer:"Dz9SN",iframe:"_1I9tv",popupCloseButton:"IzJab",popupBackButton:"_19VvQ",popupBackIcon:"_2NlTH",popupFavicon:"_2ITHR",popupBackLabel:"_38Hbv"}},function(e,t,n){e.exports={popupWrapper:"_2vV1Z",verbosePremium:"_2mmtW",panel:"-mjUa",mask:"_3pmCo",show:"rbjEj",hide:"_3uWIx",expandedGbuttonWrapper:"_2vDTY",arrow:"SY83w",arrowVisible:"_5pAkg"}},function(e,t,n){"use strict";var i=n(245),r=n(238),o=n(246),a=n(269),s=n(165),c=n(33),l=n(96),u=n(99),d=n(37),h=n(106);t.a=function(e,t,n){var p=Object(c.a)(e),f=p||Object(l.a)(e)||Object(h.a)(e);if(t=Object(a.a)(t,4),null==n){var m=e&&e.constructor;n=f?p?new m:[]:Object(d.a)(e)&&Object(u.a)(m)?Object(r.a)(Object(s.a)(e)):{}}return(f?i.a:o.a)(e,(function(e,i,r){return t(n,e,i,r)})),n}},function(e,t,n){"use strict";var i=n(176);t.a=function(e,t){return Object(i.a)(e,t)}},function(e,t,n){"use strict";var i=n(143),r=n(221),o=Object(r.a)(Object.keys,Object),a=Object.prototype.hasOwnProperty;t.a=function(e){if(!Object(i.a)(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){"use strict";var i=n(340),r=n(97),o=n(88),a=n(142),s=n(37),c=function(e,t,n){if(!Object(s.a)(n))return!1;var i=typeof t;return!!("number"==i?Object(o.a)(n)&&Object(a.a)(t,n.length):"string"==i&&t in n)&&Object(r.a)(n[t],e)};t.a=function(e){return Object(i.a)((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,a&&c(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t}))}},function(e,t,n){"use strict";var i=n(174),r=n(97),o=Object.prototype.hasOwnProperty,a=function(e,t,n){var a=e[t];o.call(e,t)&&Object(r.a)(a,n)&&(void 0!==n||t in e)||Object(i.a)(e,t,n)};t.a=function(e,t,n,r){var o=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?Object(i.a)(n,l,u):a(n,l,u)}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n(156),r=n(85),o=n(30),a=n(446);class s extends i.a{constructor(e){super({browser:e.browser,context:"cs"}),this.browserApi=e.browserApi,o.init(e.browserApi.message),Object(r.e)(e.browserApi),this.bgRpc=new a.a(o)}static getInstance(){if(void 0===this._instance)throw new Error("Env not inited yet");return this._instance}static init(e){if(void 0!==this._instance)throw new Error("Env already inited");const t=new s(e);return this._instance=t,i.a.initShared(t),t.browserApi.message.start&&t.browserApi.message.start(),t}}function c(){return s.getInstance()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=2147483647,r=i},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(319),r=n(319);t.structEq=r.equals,t.DEV_ENV=void 0!==e&&!1,t.setKey=function(e,t,n){if(e in n&&i.equals(t,n[e]))return n;var r={};for(var o in n)r[o]=n[o];return r[e]=t,r},t.conservatively=function(e){return function(t,n){return function(e,t){return i.equals(e,t)?t:e}(e(t,n),n)}},t.findIndex=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},t.warning=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("[Focal]: "+e);try{throw new Error(e)}catch(e){}},t.getReactComponentName=function(e){return"string"==typeof e?e:void 0!==e.displayName?e.displayName:void 0!==e.name?e.name:e.constructor&&void 0!==e.constructor.name?e.constructor.name:void 0}}).call(this,n(190))},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return h}));var i=n(4),r=n(10),o=n(31),a=n(16),s=n(36);function c(e,t,n,i){return function(r){return r.lift(new l(e,t,n,i))}}var l=function(){function e(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),u=function(e){function t(t,n,i,r,o){var a=e.call(this,t)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=r,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return i.a(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var i,r=n.get(t);if(this.elementSelector)try{i=this.elementSelector(e)}catch(e){this.error(e)}else i=e;if(!r){r=this.subjectSelector?this.subjectSelector():new s.a,n.set(t,r);var o=new h(t,r,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new h(t,r))}catch(e){return void this.error(e)}this.add(a.subscribe(new d(t,r,this)))}}r.closed||r.next(i)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(r.a),d=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.key=t,r.group=n,r.parent=i,r}return i.a(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(r.a),h=function(e){function t(t,n,i){var r=e.call(this)||this;return r.key=t,r.groupSubject=n,r.refCountSubscription=i,r}return i.a(t,e),t.prototype._subscribe=function(e){var t=new o.a,n=this.refCountSubscription,i=this.groupSubject;return n&&!n.closed&&t.add(new p(n)),t.add(i.subscribe(e)),t},t}(a.a),p=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return i.a(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n(16),r=n(87),o=new i.a(r.a);function a(){return o}},function(e,t,n){"use strict";function i(e,t){return[].concat(...t.map(e))}function r(e){return[].concat(...e)}function o(e){return[...new Set(e)]}function a(e,t){const n=new Set;return t.filter(t=>{const i=e(t),r=!n.has(i);return n.add(i),r})}function s(e,t,n){const i=[t];let r=t;for(let t=0;t<n.length;t++)r=e(r,n[t]),i.push(r);return i}function c(e){return e.reduce((e,t)=>t>e?t:e,e[0])}function l(e,t){return 0===e.length?void 0:e.reduce((e,n)=>{const i=t(n);return i>e[1]?[n,i]:e},[e[0],t(e[0])])[0]}function u(e){return e.slice().reverse()}function d(e,t){const n=[],i=[];let r=0,o=0;for(let a=0;a<t.length;a++)e(t[a])?n[r++]=t[a]:i[o++]=t[a];return[n,i]}function h(e,t){if(e<1)throw new Error("Invalid chunk size, expected > 0");if(0===t.length)return[[]];const n=[];for(let i=0;i<Math.ceil(t.length/e);i++)n.push(t.slice(i*e,(i+1)*e));return n}function p(e,t){const n=[];let i=e(t);for(;void 0!==i;)n.push(i[0]),i=e(i[1]);return n}function f(e,t){return void 0!==t?Array.from(Array(t-e),(t,n)=>n+e):Array.from(Array(e),(e,t)=>t)}function m(e,t=((e,t)=>e===t)){if(0===e.length)return[];const n=[[e[0]]];for(let i=1;i<e.length;i+=1){const r=n[n.length-1][0],o=e[i];t(r,o)?n[n.length-1].push(o):n.push([o])}return n}n.r(t),n.d(t,"flatMap",(function(){return i})),n.d(t,"flatten",(function(){return r})),n.d(t,"distinct",(function(){return o})),n.d(t,"distinctBy",(function(){return a})),n.d(t,"scan",(function(){return s})),n.d(t,"maximum",(function(){return c})),n.d(t,"maximumBy",(function(){return l})),n.d(t,"reverse",(function(){return u})),n.d(t,"partition",(function(){return d})),n.d(t,"chunkBySize",(function(){return h})),n.d(t,"unfold",(function(){return p})),n.d(t,"range",(function(){return f})),n.d(t,"groupBy",(function(){return m}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n(4),r=n(36),o=n(16),a=n(10),s=n(31),c=n(183),l=function(e){function t(t,n){var i=e.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return i.a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.a.EMPTY)),e},t.prototype.refCount=function(){return Object(c.a)()(this)},t}(o.a),u=function(){var e=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),d=function(e){function t(t,n){var i=e.call(this,t)||this;return i.connectable=n,i}return i.a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(r.b);a.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(218);function r(){return Object(i.a)(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(4),r=n(46),o=n(133),a=n(21),s=n(20);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(r.a)(e[0]))return e[0];e=e[0]}return Object(o.a)(e,void 0).lift(new l)}var l=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i.a(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var i=e[n],r=Object(s.a)(this,i,i,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)},t}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(4),r=n(48),o=n(302),a=n(21),s=n(20);function c(e,t,n){return void 0===n&&(n=r.a),function(i){var r=Object(o.a)(e),a=r?+e-n.now():Math.abs(e);return i.lift(new l(a,r,t,n))}}var l=function(){function e(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),u=function(e){function t(t,n,i,r,o){var a=e.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=r,a.scheduler=o,a.action=null,a.scheduleTimeout(),a}return i.a(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(s.a)(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(a.a)},function(e,t,n){"use strict";var i=n(16),r=n(31),o=n(103),a=n(223),s=n(100),c=n(300),l=n(299);function u(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new i.a((function(n){var i=new r.a;return i.add(t.schedule((function(){var r=e[o.a]();i.add(r.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if(Object(c.a)(e))return function(e,t){return new i.a((function(n){var i=new r.a;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(Object(l.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[s.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.a((function(n){var i,o=new r.a;return o.add((function(){i&&"function"==typeof i.return&&i.return()})),o.add(t.schedule((function(){i=e[s.a](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";var i=n(4),r=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return i.a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},t}(n(136).a),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.a(t,e),t}(n(134).a);n.d(t,"a",(function(){return a}));var a=new o(r)},function(e,t,n){"use strict";t.a=function(e){return function(t){return e(t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(4),r=function(e){function t(t,n){var i=e.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return i.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(31).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){"use strict";function i(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e){return e instanceof Date&&!isNaN(+e)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));var i=n(94),r=n(52),o=n(148),a=n(39),s=n(203),c=n(130),l=n(179),u=n(212),d=n(71),h=n(77),p=n(50),f=n(109);const m=d.a.hz30;function g(e,t,n){return(e?Object(i.a)(e,"mousemove",{capture:!0}):Object(r.b)()).pipe(Object(a.a)(e=>{const i=p.a.create({left:e.clientX,top:e.clientY});return{client:i,offset:f.c.contains(i,t)?p.b.fromClientPoint(i,t,n):null}}),Object(s.a)(m),Object(c.a)(h.a),Object(l.a)())}function b(e,t,n){return e.contentDocument?Object(o.a)(Object(i.a)(e.contentDocument,"mousemove").pipe(Object(a.a)(e=>{const i=p.a.create({left:e.clientX,top:e.clientY});return{client:i,offset:p.b.fromClientPoint(i,t,n)}})),(e.ownerDocument?Object(i.a)(e.ownerDocument,"mousemove"):Object(r.b)()).pipe(Object(u.a)({client:null,offset:null}))).pipe(Object(s.a)(m),Object(c.a)(h.a),Object(l.a)()):Object(r.b)()}},,function(e,t,n){"use strict";var i=n(429),r="object"==typeof self&&self&&self.Object===Object&&self,o=(i.a||r||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,c=a.toString,l=o?o.toStringTag:void 0,u=Object.prototype.toString,d=o?o.toStringTag:void 0,h=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?function(e){var t=s.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(e){}var r=c.call(e);return i&&(t?e[l]=n:delete e[l]),r}(e):function(e){return u.call(e)}(e)},p=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),f=Function.prototype,m=Object.prototype,g=f.toString,b=m.hasOwnProperty,v=g.call(Object),_=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!=h(e))return!1;var t=p(e);if(null===t)return!0;var n=b.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&g.call(n)==v},y=n(350),w={INIT:"@@redux/INIT"};function E(e,t,n){var i;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(E)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var r=e,o=t,a=[],s=a,c=!1;function l(){s===a&&(s=a.slice())}function u(){return o}function d(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),s.push(e),function(){if(t){t=!1,l();var n=s.indexOf(e);s.splice(n,1)}}}function h(e){if(!_(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=r(o,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}return h({type:w.INIT}),(i={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");r=e,h({type:w.INIT})}})[y.a]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[y.a]=function(){return this},e},i}function x(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function O(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];"function"==typeof e[r]&&(n[r]=e[r])}var o=Object.keys(n),a=void 0;try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:w.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+w.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var i=!1,r={},s=0;s<o.length;s++){var c=o[s],l=n[c],u=e[c],d=l(u,t);if(void 0===d){var h=x(c,t);throw new Error(h)}r[c]=d,i=i||d!==u}return i?r:e}}function S(e,t){return function(){return t(e.apply(void 0,arguments))}}function C(e,t){if("function"==typeof e)return S(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},r=0;r<n.length;r++){var o=n[r],a=e[o];"function"==typeof a&&(i[o]=S(a,t))}return i}function j(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function T(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,r){var o,a=e(n,i,r),s=a.dispatch,c={getState:a.getState,dispatch:function(e){return s(e)}};return o=t.map((function(e){return e(c)})),s=j.apply(void 0,o)(a.dispatch),k({},a,{dispatch:s})}}}n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return T}))},function(e,t,n){"use strict";function i(e,t){return r(e,t)[0]}function r(e,t){const n=[{top:0,left:0,height:0,width:0}];if(!e)return n;const r=e.ownerDocument,o=r.documentElement,a=e.getClientRects(),s=o.scrollTop||r.body.scrollTop,c=o.scrollLeft||r.body.scrollLeft,l=t&&t.contentDocument;if(0===a.length)return n;let u=Array.from(a).map(e=>({top:e.top+s,left:e.left+c,height:e.height,width:e.width}));if(l&&l.documentElement&&l.documentElement===o){const e=i(t);u=u.map(t=>Object.assign({},t,{top:t.top+e.top-s,left:t.left+e.left-c}))}return u}function o(e,t,n=!1,i=!1){const r=e.ownerDocument,o=function(e){const t=e.documentElement.clientTop||e.body.clientTop||0,n=e.documentElement.clientLeft||e.body.clientLeft||0,i=e.documentElement.scrollLeft||e.body.scrollLeft,r=e.documentElement.scrollTop||e.body.scrollTop,o=e.defaultView.innerHeight;return{width:e.defaultView.innerWidth,height:o,scrollTop:r-t,scrollLeft:i-n,top:t,left:n}}(r),a=e.clientWidth,s=e.clientHeight,c={top:0,left:0,flip:!1},l=i?Math.max(s,136):s,u={top:t.top-r.body.scrollTop-l,left:t.left-a,bottom:r.body.scrollTop+o.height-t.top-t.height-l,right:r.body.scrollLeft+o.width-t.left-a};return u.bottom<0&&u.bottom<u.top||n?(c.top=t.top-s+3,c.flip=!0):(c.top=t.top+t.height-3,c.flip=!1),c.left=u.right<0?o.width-a:t.left,{rect:c,delta:u,sourceRect:t}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}))},,function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.anonymous="anonymous",e.registered="registered",e.premium="premium"}(i||(i={})),function(e){e.getType=function(e){return e.premium?i.premium:e.anonymous?i.anonymous:i.registered},e.isEdcBlocked=function(e){return!!e.edc&&!e.edc.compliant}}(r||(r={}))},,function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var i=n(24),r=n(55),o=n(11);function a(e){const t=e.reduce((e,t)=>{const n=e.get(t.category);return n?n.count++:e.set(t.category,{group:t.group,categoryHuman:t.categoryHuman,count:1}),e},new Map);return Array.from(t.values()).sort((e,t)=>t.count-e.count)}function s(e){const t=new Map;for(const{isFree:n,cardLayout:{group:i}}of e){t.has(i)||t.set(i,{lensName:i,free:0,premium:0});const e=t.get(i);e&&(e[n?"free":"premium"]+=1)}return Array.from(t.values()).sort((e,t)=>t.premium-e.premium)}function c(e){const t=[{title:"Grammar and punctuation errors",lensesName:["Grammar","Punctuation","Conventions"]},{title:"Inconsistent punctuation or formatting",lensesName:["Consistency"]},{title:"Hard-to-read sentences",lensesName:["Readability"]},{title:"Monotonous passages",lensesName:["Sentence Variety"]},{title:"Confusing sentences or paragraphs",lensesName:["Clarity","Sentence structure"]},{title:"Unnatural phrasing",lensesName:["Fluency"]},{title:"Ineffective vocabulary",lensesName:["Vocabulary","Variety"]},{title:"Wordiness",lensesName:["Conciseness"]},{title:"Hedging language",lensesName:["Confidence"]},{title:"Impoliteness",lensesName:["Politeness"]},{title:"Insensitive or non-inclusive language",lensesName:["Sensitivity"]},{title:"Inappropriate tone or formality level",lensesName:["Formality"]}].reduce((e,t)=>(t.lensesName.forEach(n=>e[n]=t.title),e),{});return s(e).map(e=>Object.assign(Object.assign({},e),{friendName:t[e.lensName]})).sort((e,t)=>t.premium-e.premium||e.friendName.localeCompare(t.friendName))}function l(e){return btoa(JSON.stringify(e))}function u(e){const t=i.a().appConfig.url,n=e.showPlanComparison?t.planComparison:t.upgrade;window.open(Object(r.a)(n,[...e.isFromEmail?[Object(r.b)("isFromEmail","1")]:[],Object(r.b)("alerts",l(a(e.currentAlerts))),Object(r.b)("lensedAlerts",l(s(e.currentAlerts))),Object(r.b)("app_type","popup"),Object(r.b)("browser",Object(o.b)()),...Object(r.n)({medium:"internal",source:e.isAnonymousUser?"signupHook":"upHook",campaign:e.forceUtmCampaign?e.forceUtmCampaign:e.isAnonymousUser?"extensionPremiumCta":"extensionGButton"})]))}},function(e,t,n){"use strict";var i=n(246),r=n(88),o=function(e,t){return function(t,n){if(null==t)return t;if(!Object(r.a)(t))return e(t,n);for(var i=t.length,o=-1,a=Object(t);++o<i&&!1!==n(a[o],o,a););return t}}(i.a);t.a=o},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){function t(e,t){try{for(const n of Object.keys(t))if(t[n]&&t[n](e))return n;return null}catch(e){return null}}e.isSpecific={draftJs:e=>!(!e.hasAttribute("contenteditable")||!e.querySelector('[data-contents="true"] > [data-editor], [data-block]')),quill:e=>e.classList.contains("ql-editor")||e.classList.contains("ql-container"),redactor:e=>e.className.indexOf("redactor")>-1,prosemirror:e=>e.hasAttribute("pm-container")||e.classList.contains("ProseMirror"),scribe:e=>e.className.indexOf("scribe")>-1,trix:e=>e.className.indexOf("trix")>-1,"medium-editor":e=>e.className.indexOf("medium-editor")>-1,tinymce:e=>{if("IFRAME"!==e.tagName)return!1;const t=e;return t.id.indexOf("mce")>-1||!!(t.contentDocument&&t.contentDocument.querySelectorAll("#tinymce, .mce-content-body").length>0)},ckeditor4:e=>e.matches("iframe.cke_wysiwyg_frame")||e.classList.contains("cke_editable"),ckeditor5:e=>e.classList.contains("ck-editor__editable"),slate:e=>"true"===e.getAttribute("data-slate-editor"),mobiledoc:e=>e.classList.contains("__mobiledoc-editor")},e.isGeneric={contenteditable:e=>{const t=e.attributes.getNamedItem("contenteditable");return!(!t||"true"!==t.value&&""!==t.value)},textarea:e=>"TEXTAREA"===e.tagName,iframe:t=>{if("IFRAME"===t.tagName){const n=t;return!!(n.contentDocument&&n.contentDocument.body&&e.isGeneric.contenteditable(n.contentDocument.body))}return!1}},e.get=function(n){return{generic:t(n,e.isGeneric),specific:t(n,e.isSpecific)}}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return _}));var i=n(24),r=n(442),o=n(30),a=n(11),s=n(22),c=n(12),l=n(363),u=n(85),d=n(37),h=n(253),p=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};const f=c.a.create("lib.request"),m=1e4;function g(){o.on("fetch",(e,t)=>{v(e).then(t,e=>t({error:e.message}))})}function b(e,t={}){return p(this,void 0,void 0,(function*(){if(t.url=e,function(e){if(e.data&&(e.query||"post"!==e.method)&&(e.url+="?"+_(e.data)),e.data&&"post"===e.method&&!e.query&&!e.body){try{e.body=JSON.stringify(e.data)}catch(t){e.body={},f.warn("",t)}e.headers=e.headers||{},e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",delete e.data}e.credentials="include"}(t),Object(a.i)()||Object(a.m)())return v(t);const n=yield o.promiseBackground("fetch",t);if(Object(d.a)(n)&&Object(h.a)(n,"error"))throw new Error(Object(h.a)(n,"error"));return n}))}function v(e){return p(this,void 0,void 0,(function*(){const t=yield function(e){return p(this,void 0,void 0,(function*(){const t=Object(u.a)(),n=new r.a(t),o=yield n.getCSRFToken(!!e.csrfMayBeEmpty),a=yield function(){return p(this,void 0,void 0,(function*(){try{const e=Object(u.a)().managedStorage;if(void 0===e)return;const t=yield e.get("RestrictOrganizationId");return t&&`sso-id ${t}`}catch(e){return void f.error("Fail to get RestrictOrganizationId from managedStore")}}))}();return function(e,t,n){return p(this,void 0,void 0,(function*(){e.headers=e.headers||{};try{const t=yield Object(l.a)();t&&(e.headers["X-Container-Id"]=t),n&&(e.headers["Grammarly-Auth-Policy"]=n),e.headers["X-Client-Version"]=`${i.a().buildInfo.version}`,e.headers["X-Client-Type"]=`extension-${i.a().bundleInfo.browser}`}catch(e){f.error("Error by setting request headers")}return t&&(e.headers["X-CSRF-Token"]=t),e}))}(e,o,a)}))}(e),{url:n}=t;return delete t.url,n?Promise.race([window.fetch(n,t).then((function(e){return e.ok?e[t.isText?"text":"json"]():e.text().then(t=>{throw{name:"RequestError",body:t,statusCode:e.status,message:e.statusText}})})).then(e=>{if("string"!=typeof e&&e&&e.error)throw new Error(e.error);return e}),Object(s.m)(t.timeout||m).then(()=>{throw new Error(`Fetch request to ${n} rejected by timeout`)})]):Promise.reject(new Error("Url is not defined in fetch request"))}))}function _(e){let t="";for(const n in e)if(Array.isArray(e[n])){if(e[n].length){const i=e[n].map(e=>`${n}=${e}`).join("&");t+=`${t.length?"&":""}${i}`}}else t+=`${t.length?"&":""}${n}=${encodeURIComponent(e[n])}`;return t}},,,function(e,t){e.exports={toU8IntArray:function(e){for(var t=[],n=[],i=0;i<e.length;i++){var r,o=e.charCodeAt(i);for(n.length=0;(r=255&o)||o;)n.push(r),o>>>=8;t=t.concat(n.reverse())}return t},intToUnsignedHex:function(e){for(var t,n=[];(t=65535&e)||e;)t=t.toString(16),t="0000".slice(t.length)+t,n.push(t),e>>>=16;return n.reverse().join("")}}},,function(e,t,n){"use strict";function i(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function r(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}Object.defineProperty(t,"__esModule",{value:!0});var a,s,c,l,u=function(){var e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(t){return"[object Arguments]"===e.call(t)}:function(e){return r("callee",e)}}(),d=(a=!{toString:null}.propertyIsEnumerable("toString"),s=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],c=function(){return arguments.propertyIsEnumerable("length")}(),l=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},"function"!=typeof Object.keys||c?function(e){if(Object(e)!==e)return[];var t,n,i=[],o=c&&u(e);for(t in e)!r(t,e)||o&&"length"===t||(i[i.length]=t);if(a)for(n=s.length-1;n>=0;)r(t=s[n],e)&&!l(i,t)&&(i[i.length]=t),n-=1;return i}:function(e){return Object(e)!==e?[]:Object.keys(e)});function h(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}t.equals=function e(t,n,a,s){if(void 0===a&&(a=[]),void 0===s&&(s=[]),o(t,n))return!0;if(h(t)!==h(n))return!1;if(null==t||null==n)return!1;if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(h(t)){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(c=t.constructor,null==(l=String(c).match(/^function (\w*)/))?"":l[1]))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!o(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!o(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1;break;case"Map":case"Set":if(!e(i(t.entries()),i(n.entries()),a,s))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c,l,u=d(t);if(u.length!==d(n).length)return!1;for(var p=a.length-1;p>=0;){if(a[p]===t)return s[p]===n;p-=1}for(a.push(t),s.push(n),p=u.length-1;p>=0;){var f=u[p];if(!r(f,n)||!e(n[f],t[f],a,s))return!1;p-=1}return a.pop(),s.pop(),!0}},function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return h}));var i=n(67),r=n(375),o=n(380),a=n(458),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class c{constructor(e,t){this._exportService=e,this._importService=t}exportContent(){return this._exportService.exportContent()}importContent(e){return this._importService.importContent(e)}}class l{constructor(e,t={dispatchInputEvent:!1}){this._target=e,this._options=t,this.exportContent=()=>s(this,void 0,void 0,(function*(){return{content:this._target.innerHTML,volatile:!1}})),this.importContent=e=>s(this,void 0,void 0,(function*(){this._target.innerHTML=e,this._options.dispatchInputEvent&&this._target.dispatchEvent(new Event("input",{bubbles:!0}))}))}}class u{constructor(e){this._opts=e,this._mediaType=this._opts.mediaType||"text/html",this._target=this._opts.target,this._afterSetSelection=this._opts.afterSetSelection||(e=>Promise.resolve()),this._reactCompat=void 0!==this._opts.reactCompat&&this._opts.reactCompat,this._possiblyVolatile=void 0!==this._opts.possiblyVolatile&&this._opts.possiblyVolatile,this._restoreSelection=void 0===this._opts.restoreSelection||this._opts.restoreSelection,this._skipClipboardDataCheckForCollapsedSelection=this._opts.skipClipboardDataCheckForCollapsedSelection||!1,this._selectAllText=e=>s(this,void 0,void 0,(function*(){e.focus();const t=Object(i.c)(e.ownerDocument,"owner document"),n=Object(i.c)(t.defaultView&&t.defaultView.getSelection(),"selection"),r=t.createRange();return r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),yield this._afterSetSelection(e),n.isCollapsed})),this.exportContent=()=>s(this,void 0,void 0,(function*(){const e=this._target.ownerDocument,t=this._restoreSelection&&e&&o.c.storeFrom(e);try{const n=yield this._selectAllText(this._target),i=new DataTransfer;this._target.dispatchEvent(new ClipboardEvent("copy",this._createClipEventInit(i)));const r=this._mediaType;if(!(this._skipClipboardDataCheckForCollapsedSelection&&n||i.types.includes(r)))throw new Error("Cannot find expected media type in clipboard");return{content:i.getData(r),volatile:this._possiblyVolatile}}finally{t&&e&&o.c.restoreTo(t,e)}})),this.importContent=e=>s(this,void 0,void 0,(function*(){yield this._selectAllText(this._target);const t=new DataTransfer;t.setData(this._mediaType,e),this._target.dispatchEvent(new ClipboardEvent("paste",this._createClipEventInit(t,this._mediaType,e)))}))}static createIfSupported(e,t){return r.a.isSupported(e)?new u(t):null}_createClipEventInit(e,t,n){return this._reactCompat?{target:this._target,clipboardData:e,dataType:t,data:n,bubbles:!0,cancelable:!0}:{target:this._target,clipboardData:e}}}class d{constructor(e,t=2,n=!1,i=!1){this._target=e,this._retryCount=t,this._asyncReplace=n,this._setFocus=i}exportContent(){return s(this,void 0,void 0,(function*(){return{content:this._target.innerHTML,volatile:!1}}))}importContent(e){return s(this,void 0,void 0,(function*(){const t=Object(i.c)(this._target.ownerDocument,"owner document").createRange();try{t.selectNodeContents(this._target),yield Object(o.e)(t,e,this._retryCount,"insertHTML",this._asyncReplace,this._setFocus?this._target:void 0)}finally{t.detach()}}))}}class h{constructor(e){this._target=e}exportContent(){return s(this,void 0,void 0,(function*(){return{content:this._target.value,volatile:!1}}))}importContent(e){return s(this,void 0,void 0,(function*(){Object(a.b)(this._target,null,e,!0)}))}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i,r,o,a=n(168);!function(e){e.create=function(e){return{type:a.b.detect(e)||"other"}}}(i||(i={})),function(e){e.create=function(e){return{isWindows:-1!==e.navigator.appVersion.indexOf("Win"),isMac:-1!==e.navigator.appVersion.indexOf("Mac"),isChromeOS:-1!==e.navigator.appVersion.indexOf("CrOS")}}}(r||(r={})),function(e){e.create=function(e){return{browser:i.create(e),os:r.create(e)}}}(o||(o={}))},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){e.exports={gr_no_print:"_1KJtL"}},function(e,t,n){"use strict";var i,r,o,a,s,c,l,u=n(8),d=n(67);!function(e){const t={chrome:"chromeExt",firefox:"firefoxExt",safari:"safariExt",edge:"edgeExt"};e.create=function(e,n){return{appName:Object(d.c)(t[e],"gnar app name"),url:`https://gnar.${n}`,domain:`.${n}`,sendEmailInfoTracking:!0,sendFluidExperimentData:!1}}}(i||(i={})),function(e){const t={chrome:"extensionChrome",firefox:"extensionFirefox",safari:"extensionSafari",edge:"extensionEdge"};e.create=function(e,n){return{appName:Object(d.c)(t[e],"felog app name"),sendUsageMetrics:!0,sendPerfMetrics:"dev"===n||Math.random()<=.01}}}(r||(r={})),function(e){const t={chrome:"extensionChrome",firefox:"extensionFirefox",safari:"extensionSafari",edge:"extensionEdge"};e.create=function(e){return{appName:Object(d.c)(t[e],"sumologic app name")}}}(o||(o={})),function(e){e.create=function(){return{}}}(a||(a={})),function(e){e.create=function(e,t,n,i,r,o){const a="safari"===e?"disableAppsPromotion=true":"";function s(e,t){return e.filter(e=>!!e).join(t)}function c(e){const n=`https://${e}.${t}`;return(e="",t="")=>{const i=s([a,t],"&");return s([n+e,i],"?")}}const l=c("www"),u=c("app"),d=c("account"),h=`https://data.${t}`,p=`https://auth.${t}/v3`;return{app:u(),appPersonalDictionary:d("/customize"),capi:`wss://capi.${t}/freews`,capiGDocs:`wss://capi.${t}/gdocs`,dapiMimic:`${h}/api/mimic`,dapiProps:`${h}/api/props/v2`,dapiFindProps:`${h}/api/props/v2/find`,editorDictionary:u("/profile/dictionary"),dictionary:`https://capi.${t}/api/defs`,docs:u("/docs"),docsApi:`https://dox.${t}/documents`,newDoc:u("/docs/new"),userOrAnonymous:`${p}/user/oranonymous`,authSignin:`${p}/api/login`,authSignup:`${p}/api/signup`,authExchange:`${p}/api/unified-login/code/exchange`,authLogout:`${p}/logout`,signin:l("/signin"),signup:l("/signup"),fbSignin:l("/signin","fromExtensionFb=true"),fbSignup:l("/signup","fromExtensionFb=true"),googleSignin:l("/signin","fromExtensionGoogle=true"),googleSignup:l("/signup","fromExtensionGoogle=true"),resetPassword:l("/resetpassword"),newFelog:n,sumoLogic:i,welcomeC:l("/extension-success"),afterInstall:l("/after_install_page/"),upgrade:l("/upgrade"),planComparison:l("/plans"),uninstall:l("/extension-uninstall"),terms:l("/terms"),policy:l("/privacy-policy"),extensionSuccess:l("/extension-success"),firefoxPrivatePolicy:"https://addons.mozilla.org/en-US/firefox/addon/grammarly-1/privacy/",dynamicConfigUrl:"https://d3cv4a9a9wh0bt.cloudfront.net/dynamicConfig.json",pageConfigUrl:"https://d3cv4a9a9wh0bt.cloudfront.net/browserplugin/config.json",edgePopupUrl:r,emptyScriptUrl:o,grammarlyDomain:t,grammarlyProtocol:"https:"}}}(s||(s={})),n.d(t,"a",(function(){return l})),function(e){e.create=function(e){return{gdocsSupported:"chrome"===e||"firefox"===e||"safari"===e,denaliEditorSupported:"chrome"===e}}}(c||(c={})),function(e){const t="grammarly.com";e.create=function(e,n,o,l){const d="prod"===n?"https://f-log-extension.grammarly.io":"qa"===n||"dev"===n?"https://127.0.0.1:8000":Object(u.g)(n),h="prod"===n?"https://endpoint2.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV1OF-4ic11yqpre0casnyvs_ZoaCHciEYdRyBkrfwP6DMlsWt8tSVU76RPqgGvAGjXGQk_UNuxPx-pYbToJapM_Fr0CUcgKaA8_IVl-lhSr5Q==":"qa"===n||"dev"===n?"https://127.0.0.1:8000":Object(u.g)(n),p="prod"===n?t:"qa"===n||"dev"===n?"qagr.io":Object(u.g)(n);return{url:s.create(e,t,d,h,o,l),gnar:i.create(e,p),felog:r.create(e,n),capi:a.create(),extensionId:"87677a2c52b84ad3a151a4a72f5bd3c4",newsVersion:0,features:c.create(e)}}}(l||(l={}))},function(e,t,n){"use strict";t.a=function(e,t){return e.has(t)}},function(e,t,n){"use strict";var i=n(126),r=n(174),o=n(97),a=function(e,t,n){(void 0===n||Object(o.a)(e[t],n))&&(void 0!==n||t in e)||Object(r.a)(e,t,n)},s=n(240),c=n(360),l=n(169),u=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new l.a(t).set(new l.a(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},d=n(238),h=n(165),p=n(143),f=function(e){return"function"!=typeof e.constructor||Object(p.a)(e)?{}:Object(d.a)(Object(h.a)(e))},m=n(110),g=n(33),b=n(338),v=n(96),_=n(99),y=n(37),w=n(64),E=n(58),x=Function.prototype,O=Object.prototype,S=x.toString,C=O.hasOwnProperty,j=S.call(Object),k=function(e){if(!Object(E.a)(e)||"[object Object]"!=Object(w.a)(e))return!1;var t=Object(h.a)(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==j},T=n(106),P=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},N=n(281),A=n(196),I=function(e,t,n,i,r,o,s){var l=P(e,n),d=P(t,n),h=s.get(d);if(h)a(e,n,h);else{var p=o?o(l,d,n+"",e,t,s):void 0,w=void 0===p;if(w){var E=Object(g.a)(d),x=!E&&Object(v.a)(d),O=!E&&!x&&Object(T.a)(d);p=d,E||x||O?Object(g.a)(l)?p=l:Object(b.a)(l)?p=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(l):x?(w=!1,p=Object(c.a)(d,!0)):O?(w=!1,p=u(d,!0)):p=[]:k(d)||Object(m.a)(d)?(p=l,Object(m.a)(l)?p=function(e){return Object(N.a)(e,Object(A.a)(e))}(l):Object(y.a)(l)&&!Object(_.a)(l)||(p=f(d))):w=!1}w&&(s.set(d,p),r(p,d,i,o,s),s.delete(d)),a(e,n,p)}},R=n(280),F=Object(R.a)((function(e,t,n){!function e(t,n,r,o,c){t!==n&&Object(s.a)(n,(function(s,l){if(c||(c=new i.a),Object(y.a)(s))I(t,n,l,r,e,o,c);else{var u=o?o(P(t,l),s,l+"",t,n,c):void 0;void 0===u&&(u=s),a(t,l,u)}}),A.a)}(e,t,n)}));t.a=F},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n(0),r=n(576),o=n(32);const a=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,s=(e,t)=>e.replace(a,e=>{const n=e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16);return`<img alt="${e}" src="${r.emojiLinkV1+n+".svg"}" class="${o.priority} ${o.emoji} ${t}" onerror="this.replaceWith(this.alt)">`}),c=e=>s(e,o.cardEmoji),l=e=>{var{children:t,emojiClassName:n}=e,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children","emojiClassName"]);const o=i.useCallback(e=>{null!==e&&(e.innerHTML=s(e.innerHTML,n))},[t]);return i.createElement("span",Object.assign({ref:o},r),t)}},,,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.textChange=0]="textChange",e[e.alertUpdate=1]="alertUpdate"}(i||(i={}))},function(e,t,n){e.exports={disable_scroll:"zZo8k",editor:"_1Iwyx",first_load:"_2KUl9",editor_display:"_1NxxB",editor_full_opacity:"_2pql9",freemium_iframe:"_2ihRR"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n(9),r=n(26),o=n(0),a=n(461);const s=({onClick:e,className:t,text:n})=>o.createElement(r.a,{clickHandler:e},o.createElement("button",{className:t,tabIndex:0},n)),c=({onClick:e,className:t})=>o.createElement(s,{onClick:e,className:Object(i.c)(a.fb,t),text:"Continue with Facebook"}),l=({onClick:e,className:t})=>o.createElement(s,{onClick:e,className:Object(i.c)(a.google,t),text:"Continue with Google"}),u=({onClick:e,className:t})=>o.createElement(s,{onClick:e,className:Object(i.c)(a.email,t),text:"Continue with Email"})},function(e,t,n){e.exports={buttonContainer:"_2uwmv",form:"eDAHU",buttonSpinner:"_3sznQ",button:"_3wlFL",loading:"_1XWTK",onboarding:"_12Rt8",isFb:"_24fYt",isGoogle:"_3hrF9",disable:"DsXX5"}},,,function(e,t,n){"use strict";var i,r=n(86),o=n(67),a=n(56),s=n(278),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};!function(e){e[e.nonEmptyMigration=0]="nonEmptyMigration",e[e.emptyMigration=1]="emptyMigration"}(i||(i={}));class l{constructor(e,t,n,i=[]){var r,o;this._name=e,this._source=t,this._destination=n,this._destValuesToKeep=i,this._migrationFlagSuccessfulValue="ok",this._migrationFlagUniqueKey="104ccd8c-9919-9ae4-931f-782fb197486c",this._migrationFlagKey=`__migration-${this._migrationFlagUniqueKey}:(${this._name})`,this._migrationInProgress=!1,this.migrationAwareDestination=(r=this._destination,o=e=>e===this._migrationFlagKey,{get:r.get.bind(r),set:r.set.bind(r),getAll:r.getAll.bind(r),remove:r.remove.bind(r),removeAll(){return c(this,void 0,void 0,(function*(){const e=yield r.getAll();yield r.removeAll(),yield Promise.all(Object.keys(e).filter(o).map(t=>r.set(t,e[t])))}))}})}_getMigrated(){return this._destination.get(this._migrationFlagKey).then(e=>e===this._migrationFlagSuccessfulValue)}_setMigrated(){return c(this,void 0,void 0,(function*(){yield this._destination.set(this._migrationFlagKey,this._migrationFlagSuccessfulValue);const e=yield this._destination.get(this._migrationFlagKey);if(e!==this._migrationFlagSuccessfulValue)throw new Error(`Could not verify status write, actual value: ${e}`)}))}_runMigration(){return c(this,void 0,void 0,(function*(){Object(o.b)(!this._migrationInProgress,"migration already in progress"),this._migrationInProgress=!0;try{const e=yield this._source.getAll(),t=0===Object.keys(e).length;if(yield Promise.all(this._destValuesToKeep.map(t=>this._destination.get(t).then(n=>{null!=n&&(e[t]=n)}))),yield this._destination.removeAll(),yield Promise.all(Object.keys(e).filter(t=>null!=e[t]).map(t=>this._destination.set(t,e[t]))),!Object(s.a)(e,yield this._destination.getAll()))throw new Error("Could not verify write");return this._migrationInProgress=!1,t?i.emptyMigration:i.nonEmptyMigration}catch(e){throw this._migrationInProgress=!1,e}}))}ensureMigrationCompleted(){return c(this,void 0,void 0,(function*(){if(yield this._getMigrated())return a.a.alreadyMigrated;{const e=yield this._runMigration();switch(yield this._setMigrated(),e){case i.nonEmptyMigration:return a.a.success;case i.emptyMigration:return a.a.successWithEmpty;default:throw new Error(`Match not exhaustive: ${e}`)}}}))}}n.d(t,"a",(function(){return u}));var u,d=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.windowLocalStorage={get:e=>r.a.sync(()=>window.localStorage.getItem(e)),set:(e,t)=>r.a.sync(()=>window.localStorage.setItem(e,t)),getAll:()=>r.a.sync(()=>{const e={};return Object.keys(window.localStorage).forEach(t=>{e[t]=window.localStorage.getItem(t)}),e}),remove:e=>r.a.sync(()=>window.localStorage.removeItem(e)),removeAll:()=>r.a.sync(()=>window.localStorage.clear())},e.MigrationAwarePreferencesApiImpl=class{constructor(t){this._firefox=t,this._migrationCompleted=Promise.resolve(!1),this._ensureMigrationCompletedCalled=!1,this.get=this._getMigrationAwareMethod("get"),this.set=this._getMigrationAwareMethod("set"),this.getAll=this._getMigrationAwareMethod("getAll"),this.remove=this._getMigrationAwareMethod("remove"),this.removeAll=this._getMigrationAwareMethod("removeAll"),this.browserStorageLocal={get:e=>d(this,void 0,void 0,(function*(){const t=yield this._firefox.storage.local.get(e);return t.hasOwnProperty(e)?t[e]:null})),set:(e,t)=>this._firefox.storage.local.set({[e]:t}),getAll:()=>this._firefox.storage.local.get(null),remove:e=>this._firefox.storage.local.remove(e),removeAll:()=>d(this,void 0,void 0,(function*(){yield this._firefox.storage.local.clear()}))},this._migration=new l("firefoxLocalStorageToExtApi",e.windowLocalStorage,this.browserStorageLocal,["version"])}ensureMigrationCompleted(){this._ensureMigrationCompletedCalled=!0;const e=r.a.createCompletionSource();return this._migrationCompleted=e.promise,this._migration.ensureMigrationCompleted().then(t=>(e.resolve(!0),Promise.resolve(t)),t=>(e.resolve(!1),Promise.reject(t)))}_getMigrationAwareMethod(t){return(...n)=>(Object(o.b)(!0===this._ensureMigrationCompletedCalled,"supposed to run data migration before accessing prefs with web-extensions API"),this._migrationCompleted.then(i=>(i?this._migration.migrationAwareDestination:e.windowLocalStorage)[t](...n)))}}}(u||(u={}))},function(e,t,n){"use strict";var i=n(88),r=n(58);t.a=function(e){return Object(r.a)(e)&&Object(i.a)(e)}},,function(e,t,n){"use strict";var i=n(125),r=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},o=Math.max,a=function(e){return function(){return e}},s=n(178),c=s.a?function(e,t){return Object(s.a)(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:i.a,l=Date.now,u=function(e){var t=0,n=0;return function(){var i=l(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(c);t.a=function(e,t){return u(function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=i[a];return l[t]=n(c),r(e,this,l)}}(e,t,i.a),e+"")}},function(e,t,n){"use strict";var i=n(37),r=n(47),o=function(){return r.a.Date.now()},a=n(127),s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,h=function(e){if("number"==typeof e)return e;if(Object(a.a)(e))return NaN;if(Object(i.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(i.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||u.test(e)?d(e.slice(2),n?2:8):c.test(e)?NaN:+e},p=Math.max,f=Math.min;t.a=function(e,t,n){var r,a,s,c,l,u,d=0,m=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,i=a;return r=a=void 0,d=t,c=e.apply(i,n)}function _(e){var n=e-u;return void 0===u||n>=t||n<0||g&&e-d>=s}function y(){var e=o();if(_(e))return w(e);l=setTimeout(y,function(e){var n=t-(e-u);return g?f(n,s-(e-d)):n}(e))}function w(e){return l=void 0,b&&r?v(e):(r=a=void 0,c)}function E(){var e=o(),n=_(e);if(r=arguments,a=this,u=e,n){if(void 0===l)return function(e){return d=e,l=setTimeout(y,t),m?v(e):c}(u);if(g)return clearTimeout(l),l=setTimeout(y,t),v(u)}return void 0===l&&(l=setTimeout(y,t)),c}return t=h(t)||0,Object(i.a)(n)&&(m=!!n.leading,s=(g="maxWait"in n)?p(h(n.maxWait)||0,t):s,b="trailing"in n?!!n.trailing:b),E.cancel=function(){void 0!==l&&clearTimeout(l),d=0,r=u=a=l=void 0},E.flush=function(){return void 0===l?c:w(o())},E}},function(e,t,n){"use strict";var i=n(139);function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i.a;++t<n;)this.add(e[t])}r.prototype.add=r.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},r.prototype.has=function(e){return this.__data__.has(e)},t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(50);function r(e,t){return{clientToRelative:n=>i.b.fromClientPoint(i.a.create(n),e,t)}}class o{constructor(e,t,n,i){this._getCurrentTextFieldClientPoint=e,this._getCurrentScrollPoint=t,this._getApproximateTextFieldClientPoint=n,this._getApproximateScrollPoint=i}getCurrentConversionContext(){return r(this._getCurrentTextFieldClientPoint(),this._getCurrentScrollPoint())}getApproximateConversionContext(){return r(this._getApproximateTextFieldClientPoint(),this._getApproximateScrollPoint())}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n(4),r=n(136),o=function(e){function t(t,n){void 0===t&&(t=a),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t,(function(){return i.frame}))||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return i.a(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,i=this.maxFrames;(t=n[0])&&t.delay<=i&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(n(134).a),a=function(e){function t(t,n,i){void 0===i&&(i=t.index+=1);var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.index=i,r.active=!0,r.index=t.index=i,r}return i.a(t,e),t.prototype.schedule=function(n,i){if(void 0===i&&(i=0),!this.id)return e.prototype.schedule.call(this,n,i);this.active=!1;var r=new t(this.scheduler,this.work);return this.add(r),r.schedule(n,i)},t.prototype.requestAsyncId=function(e,n,i){void 0===i&&(i=0),this.delay=e.frame+i;var r=e.actions;return r.push(this),r.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(r.a)},function(e,t,n){var i=n(605),r=n(610);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e){if(this.capacity=e,this._start=0,this._end=0,this._isFull=!1,e<=0)throw new Error("Invalid capacity "+e);this._buffer=new Array(e)}get size(){return this._isFull?this._buffer.length:(this._end-this._start+this._buffer.length)%this._buffer.length}get isEmpty(){return 0===this.size}get isFull(){return this._isFull}get head(){return this.isEmpty?null:this._buffer[this._start]}get tail(){return this.isEmpty?null:this._buffer[0===this._end?this.capacity-1:this._end-1]}enqueue(e){let t=null;return this.isFull&&(t=this._buffer[this._start],this._startInc()),this._buffer[this._end]=e,this._endInc(),this._start===this._end&&(this._isFull=!0),t}dequeue(){if(this.isEmpty)return null;const e=this._buffer[this._start];return this._buffer[this._start]=null,this._startInc(),this._isFull=!1,e}delete(e){const t=this._buffer.indexOf(e);if(t>=0){if(t<this._end){for(let e=t;e<this._end-1;e++)this._buffer[e]=this._buffer[e+1];this._buffer[--this._end]=null}else{for(let e=this._start;e<t;e++)this._buffer[e+1]=this._buffer[e];this._buffer[this._start]=null,this._startInc()}return this._isFull=!1,!0}return!1}_startInc(){this._start++,this._start===this.capacity&&(this._start=0)}_endInc(){this._end++,this._end===this.capacity&&(this._end=0)}clear(){this._buffer=new Array(this.capacity),this._start=this._end=0,this._isFull=!1}toArray(){let e;if(this.isEmpty)e=[];else if(this._start<this._end)e=this._buffer.slice(this._start,this._end);else{e=new Array(this.size);let t=0;for(let n=this._start;n<this.capacity;++n,++t)e[t]=this._buffer[n];for(let n=0;n<this._end;++n,++t)e[t]=this._buffer[n]}return e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(132),r=n(79),o=n(166),a=n(131),s=n(164),c=n(98);function l(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?Object(r.a)((function(t,n){return e(t,n,l)})):c.a,Object(o.a)(1),n?Object(a.a)(t):Object(s.a)((function(){return new i.a})))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(46),r=n(151),o=n(68);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(i.a)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(o.a)([t].concat(e)),new r.a(n))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(4),r=n(48),o=n(302),a=n(10),s=n(95);function c(e,t){void 0===t&&(t=r.a);var n=Object(o.a)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new l(n,t))}}var l=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delay,this.scheduler))},e}(),u=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.delay=n,r.scheduler=i,r.queue=[],r.active=!1,r.errored=!1,r}return i.a(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,i=e.scheduler,r=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new d(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(s.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(s.a.createComplete()),this.unsubscribe()},t}(a.a),d=function(e,t){this.time=e,this.notification=t}},function(e,t,n){"use strict";(function(e,i){var r,o=n(428);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var a=Object(o.a)(r);t.a=a}).call(this,n(163),n(230)(e))},,function(e,t,n){var i=n(508).textdiff,r=n(603),o=n(628),a={op:function(e){return(e=o(e)).len=e.text?e.text.length:0,e.toString=function(){return this.type+this.pos+":"+this.text},e.extend=function(t){return(e=r(o(this),t)).len=e.text.length,e},e.revision=function(e){return r(o(this),{accessory:e})},e.apply=function(t,n){if("+"==this.type){if(t.length!=this.tlen)throw new Error("Text length doesn't match expected length. It's most likely you have missed a transformation: expected:"+this.tlen+", actual:"+t.length);return n&&(this.pos<n.b&&(n.b+=this.text.length),this.pos<n.e&&(n.e+=this.text.length)),t.slice(0,this.pos)+this.text+t.slice(this.pos)}if("-"==this.type){if(t.length!=this.tlen)throw new Error("Text length doesn't match expected length. It's most likely you have missed a transformation: expected:"+this.tlen+", actual:"+t.length);if(t.substr(this.pos,this.len)!=this.text)throw new Error("Applying delete operation: Passed context doesn't match assumed context: "+JSON.stringify(e)+', actual context: "'+t.substr(this.pos,this.len)+'"');return n&&(this.pos<n.b&&(n.b-=Math.min(this.text.length,n.b-this.pos)),this.pos<n.e&&(n.e-=Math.min(this.text.length,n.e-this.pos))),t.slice(0,this.pos)+t.slice(this.pos+this.len)}if("="==this.type)return t},e.transformAgainst=function(e){if("+"==this.type&&"+"==e.type){var t=this.tlen+e.len;if(this.pos<e.pos)return this.extend({tlen:t});if(this.pos==e.pos&&this.accessory<e.accessory)return this.extend({tlen:t});if(e.pos<=this.pos)return this.extend({tlen:t,pos:this.pos+e.len})}else if("+"==this.type&&"-"==e.type){if(t=this.tlen-e.len,this.pos<e.pos)return this.extend({tlen:t});if(this.pos==e.pos)return this.extend({tlen:t});if(e.pos<this.pos)return this.extend({tlen:t,pos:Math.max(this.pos-e.len,e.pos)})}else if("-"==this.type&&"-"==e.type){if(t=this.tlen-e.len,this.pos<e.pos){var n=Math.min(e.pos-this.pos,this.len);return this.extend({tlen:t,text:this.text.substr(0,n)+this.text.substr(n+e.len)})}if(this.pos==e.pos)return this.len<=e.len?a.op({type:"="}):this.extend({tlen:t,text:this.text.substr(e.len)});if(e.pos<this.pos){var i=e.pos+e.len-this.pos;return i>=this.len?a.op({type:"="}):i>0?this.extend({tlen:t,pos:e.pos,text:this.text.substr(i)}):this.extend({tlen:t,pos:this.pos-e.len})}}else if("-"==this.type&&"+"==e.type){if(t=this.tlen+e.len,this.pos<e.pos){if(this.pos+this.len>e.pos){var r=e.pos-this.pos;return[this.extend({tlen:t,text:this.text.substr(0,r)}),this.extend({tlen:t,pos:e.pos+e.len,text:this.text.substr(r)})]}return this.extend({tlen:t})}if(this.pos==e.pos)return this.extend({tlen:t,pos:this.pos+e.len});if(e.pos<this.pos)return this.extend({tlen:t,pos:this.pos+e.len})}return this},e},cs:function(e){return(e=o(e.map((function(e){return o(e)})))).toString=function(){return this.map((function(e){return e.toString()})).join(" ")},e.push=function(t){t instanceof Array?t.forEach((function(t){[].push.call(e,t)})):[].push.call(e,t)},e.revision=function(t){return a.cs(e.map((function(e){return e.revision(t)})))},e.maxRevision=function(){return Math.max(0,Math.max.apply(null,e.map((function(e){return e.accessory}))))},e.apply=function(e,t){return this.sequencify().forEach((function(n){e=n.apply(e,t)})),e},e.transformAgainst=function(e){var t=a.cs([]);return e=e.sequencify(),this.forEach((function(n){e.forEach((function(e){n=n.transformAgainst(e)})),t.push(n)})),t},e.sequencify=function(e){var t=a.cs([]);return this.forEach((function(e){"="!=e.type&&(t.forEach((function(t){e=e.transformAgainst(t)})),t.push(e))})),t},e.pack=function(){return this.filter((function(e){return"="!=e.type})).map((function(e){var t=e.text.replace(/%/g,"%25").replace(/:/g,"%3A"),n=e.pos.toString(36),i=e.tlen.toString(36),r=e.accessory.toString(36);return e.type+n+":"+i+":"+t+":"+r})).join("")},e},diff:function(e,t,n){n=n||0;var r=i(e,t),o=a.cs([]),s=e.length;return r.oldFragment&&o.push(a.op({type:"-",tlen:s,pos:r.from,text:r.oldFragment,accessory:n})),r.newFragment&&o.push(a.op({type:"+",tlen:s,pos:r.from,text:r.newFragment,accessory:n})),o},unpack:function(e){if(""==e)return a.cs([]);var t=e.match(/(\+|-)\w+?:\w+?:[^:]+?:\w+/g);if(!t)throw new Error("Cannot unpack invalid serialized changeset string");return a.cs(t.map((function(e){var t=e.substr(1).split(":");return a.op({type:e.substr(0,1),pos:parseInt(t[0],36),tlen:parseInt(t[1],36),text:t[2].replace(/%3A/gi,":").replace(/%25/g,"%"),accessory:parseInt(t[3],36)})})))}};try{e.exports=a}catch(e){}},function(e,t,n){"use strict";var i=n(67),r=n(377),o=n(122),a=n(148),s=n(52),c=n(94),l=n(151),u=n(203),d=n(147),h=n(130),p=n(12),f=n(50),m=n(109),g=n(434),b=n(73),v=n(186),_=n(77),y=n(303);function w(e,t,n=20,r=p.a.create("fluid/layout/createIframeContentBody")){e!==(t.contentDocument&&t.contentDocument.body)&&r.warn("target element is not the iframe's body -- not supported");const o=t.ownerDocument&&t.ownerDocument.defaultView,w=g.a.createShared(t),E=v.a.create(()=>{const n=f.a.create(t.getBoundingClientRect()),i=Object(b.f)(o.getComputedStyle(t)),r=o?{top:o.scrollY,left:o.scrollX}:{top:0,left:0},a={top:t.clientTop,left:t.clientLeft};return{position:f.c.getHighlightsPosition(n,r,a,i),clientPosition:f.a.create({top:e.clientTop,left:e.clientLeft}),width:t.contentWindow?t.contentWindow.innerWidth:0,height:t.contentWindow?t.contentWindow.innerHeight:0,padding:Object(b.f)(e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e):{})}},Object(a.a)(w||Object(s.b)(),w?b.l:b.i,...o?[Object(c.a)(o,"resize"),Object(c.a)(o,"keydown"),Object(c.a)(o,"mousedown")]:[],...t.contentWindow?[Object(c.a)(t.contentWindow,"resize"),Object(c.a)(t.contentWindow,"keydown"),Object(c.a)(t.contentWindow,"mousedown")]:[],Object(b.j)(t,n)),_.a),x=Object(i.c)(t.ownerDocument&&(t.ownerDocument.body.parentElement||t.ownerDocument.body),"view container"),O={textFieldRect:E,highlightsRect:E,scroll:v.a.create(()=>Object.assign(Object.assign({},f.b.create({left:t.contentWindow?t.contentWindow.scrollX:0,top:t.contentWindow?t.contentWindow.scrollY:0})),{width:t.contentDocument&&t.contentDocument.documentElement?t.contentDocument.documentElement.scrollWidth:0,height:t.contentDocument&&t.contentDocument.documentElement?t.contentDocument.documentElement.scrollHeight:0}),Object(a.a)(t.contentWindow?Object(c.a)(t.contentWindow,"scroll"):Object(s.b)(),Object(b.g)(e),(w||Object(s.b)()).pipe(Object(u.a)(b.k))),_.a),zIndex:Object(b.c)(e),highlightHeightOffset:0,container:x,getTranslationToCards:()=>({top:0,left:0})};return{highlights:O,gbutton:Object(b.a)(O),mouse:Object(l.b)(E.behavior,O.scroll.behavior,(e,t)=>({scroll:t,rect:m.a.create(Object.assign(Object.assign({},e.clientPosition),{width:e.width,height:e.height}))})).pipe(Object(d.a)(({rect:e,scroll:n})=>Object(y.a)(t,e,n)),Object(h.a)(_.a))}}var E,x,O=n(65),S=n(215),C=n(159),j=n(206),k=n(114),T=n(258),P=n(185),N=n(719),A=n(537),I=n(7);n.d(t,"a",(function(){return E})),(x=E||(E={})).contentEditable=(e=(e=>({})))=>({match:t=>{const n=e(t),{target:a=t.field,getCustomTarget:s}=n,c=s?s(a):a;if(null===c)return null;const{initialState:l=t.state,createReplacementService:u,createAlertProcessor:d,gbuttonMinimizeState:h,plainTextPopupEditor:p,name:f="generic contenteditable",validationRules:m=k.a.defaults,extraCondition:g=(()=>!0),matchCheckOverride:b,textMap:v={createFieldTextMap:P.a.create,popupEditorTextMapType:C.a.generic},expiration:_=j.a,createLayout:y,highlightGeometryProvider:w,customizations:E}=n;t.extendCapiStartMessage=E?E.extendCapiStartMessage:void 0;const{createContentService:x,createTextObserver:T=(()=>new N.a(c,O.b.fromDiff,void 0,v.createFieldTextMap)),createPopupEditor:R=(()=>Object(S.a)(t,v.popupEditorTextMapType,p))}=n;return(b?b(c,t):Object(j.c)(c)&&g(t)&&Object(k.b)(t,m))?{targetField:c,matchExpires:_(c),execute:()=>{const e=A.a.decorate(()=>new r.a(c,t.pageContext.domain,y&&y(c)||new o.a(c),()=>t.createCheckingService(),Object(i.c)(t.app.card,"ctx.app.card"),R(),I.Atom.create(l),t.actions,Object(i.c)(t.app.notifications,"ctx.app.notifications"),t.gnar,t.felog,t.pageContext.config,t.isCurrentFocusedField,T(),u,x,d,void 0,h?()=>h:void 0,w,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,E),f,c);return n.onCreate&&n.onCreate(),{update(t){e.update(t)},dispose(){e.dispose(),n.onDispose&&n.onDispose()}}}}:null}}),x.iframe=(e=(e=>({})))=>({match:t=>{const n=e(t),{validationRules:a=k.a.defaults,createLayout:s,extraCondition:c=(()=>!0),expiration:l=j.a,getIsMatching:u=(e=>e),textMap:d={createFieldTextMap:P.a.create,popupEditorTextMapType:C.a.generic}}=n,h="IFRAME"===t.field.tagName?t.field:null,p=h&&h.contentDocument&&h.contentDocument.body,f=u((e,t,n)=>Object(k.b)(e,a)&&Object(j.c)(n));return h&&p&&f(t,h,p)&&c(t)?{targetField:p,matchExpires:l(h,p),execute:()=>A.a.decorate(()=>new r.a(p,t.pageContext.domain,s&&s()||new o.a(h,{overrideInternalLayoutImpl:w(p,h)}),()=>t.createCheckingService(),Object(i.c)(t.app.card,"ctx.app.card"),Object(S.a)(t,d.popupEditorTextMapType),I.Atom.create(t.state),t.actions,Object(i.c)(t.app.notifications,"ctx.app.notifications"),t.gnar,t.felog,t.pageContext.config,t.isCurrentFocusedField,new N.a(p,O.b.fromDiff,void 0,d.createFieldTextMap)),"generic iframe",p)}:null}}),x.textarea=(e=(e=>({})))=>({match:t=>{if("TEXTAREA"===t.field.tagName){const n=e(t),{mirrorContainer:i,expiration:r=j.e,validationRules:o=k.a.defaults,createLayout:a,createContentService:s}=n,{validate:c=(e=>Object(k.b)(e,o))}=n,l=t.field;return c(t)?{targetField:l,matchExpires:r(l),execute:()=>Object(T.b)(t,i,a&&a(l),s)}:null}return null}})},function(e,t,n){e.exports={onboardingDialog:"_3XU5G",gr__onboarding_dialog_appear:"dV4PS",viewContainer:"_3ji7y",view:"_3Vx7z",windows:"_1C8_4",footer:"_2ifpl",hide:"rv_Jq",gr__onboarding_dialog_disappear:"_3Vg1Y",content:"_2GbNJ",gr__onboarding_dialog_content_disappear:"_3sEZ4",gr__onboarding_dialog_content_appear:"_1QD-u",btnClose:"HZNNa"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(16),r=n(48),o=n(137);function a(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.a),(!Object(o.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=r.a),new i.a((function(n){return n.add(t.schedule(s,e,{subscriber:n,counter:0,period:e})),n}))}function s(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(21),o=n(20);function a(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingNotifier))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.buffer=[],i.add(Object(o.a)(i,n)),i}return i.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,i,r){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(4),r=n(48),o=n(10),a=n(59);function s(e){var t=arguments.length,n=r.a;Object(a.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var i=null;t>=2&&(i=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new c(e,i,o,n))}}var c=function(){function e(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),l=function(){this.buffer=[]},u=function(e){function t(t,n,i,r,o){var a=e.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=r,a.scheduler=o,a.contexts=[];var s=a.openContext();if(a.timespanOnly=null==i||i<0,a.timespanOnly){var c={subscriber:a,context:s,bufferTimeSpan:n};a.add(s.closeAction=o.schedule(d,n,c))}else{var l={subscriber:a,context:s},u={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(s.closeAction=o.schedule(p,n,l)),a.add(o.schedule(h,i,u))}return a}return i.a(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,i=n.length,r=0;r<i;r++){var o=n[r],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var i=t.shift();n.next(i.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,i={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(d,n,i))}},t.prototype.openContext=function(){var e=new l;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.a);function d(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function h(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,i=e.subscriber,r=e.scheduler,o=i.openContext();i.closed||(i.add(o.closeAction=r.schedule(p,n,{subscriber:i,context:o})),this.schedule(e,t))}function p(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(10);function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.total))},e}(),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return i.a(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(r.a)},function(e,t,n){"use strict";var i=n(341),r=n(37);t.a=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Object(r.a)(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),Object(i.a)(e,t,{leading:o,maxWait:t,trailing:a})}},function(e,t,n){"use strict";(function(e){var i=n(47),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n(230)(e))},function(e,t,n){"use strict";var i=n(55),r=n(22),o=n(16),a=n(86),s=n(8),c=n(311),l=n(12);class u{constructor(){this._log=l.a.create("extension-api.alarms.stub"),this._warning="Method is not implemented"}create(e,t){return this._log.warn(this._warning),{dispose:s.n}}}class d extends u{create(e,t){let n=null;const i=setTimeout(()=>{t.period&&(n=setInterval(e,t.period)),e()},t.delay);return{dispose:()=>{clearTimeout(i),null!==n&&clearInterval(n)}}}}function h(e,t){chrome.runtime.lastError?t(chrome.runtime.lastError):e()}class p{constructor(){this._log=l.a.create("extension-api.managed-storage.validator")}validate(e,t){switch(e){case"RestrictOrganizationId":return"string"==typeof t&&t.length>0&&/^[a-z0-9_-]+$/i.test(t);default:return this._log.warn(`Unknown key: ${e}`),!1}}}class f{constructor(){this._log=l.a.create("extension-api.managed-storage.chrome"),this._validator=new p}get(e){return new Promise((t,n)=>{chrome.storage.managed.get(e,i=>{h(()=>{const n=i[e];void 0===n||this._validator.validate(e,n)?t(n):(this._log.warn(`Invalid value for "${e}": ${JSON.stringify(i[e])}`),t(void 0))},t=>{this._log.error(`Could not get "${e}"`,t),n(t)})})})}}var m=n(231),g=n(244);class b{constructor(){this.kind="web-extension"}open(e,t){return a.a.create((n,i)=>{chrome.tabs.create({url:e,active:t},e=>{h(()=>n(e),i)})})}updateCurrent(e){return a.a.create((t,n)=>{chrome.tabs.update({url:e},e=>{h(()=>t(e),n)})})}getActiveTab(){return a.a.create((e,t)=>{const n=chrome.tabs;n.query({active:!0,lastFocusedWindow:!0},i=>{h(()=>{i&&i.length?e(i[0]):n.query({active:!0},n=>{h(()=>{e(n[0])},t)})},t)})})}getAllTabs(){return a.a.create((e,t)=>chrome.tabs.query({},n=>h(()=>e(n),t)))}getActiveTabUrl(){return a.a.create((e,t)=>this.getActiveTab().then(n=>h(()=>e(n&&n.url),t)))}onActiveTabChange(e,t){const n=n=>{h(()=>{n&&e(n)},t)};chrome.tabs.onActivated.addListener(e=>chrome.tabs.get(e.tabId,e=>n(e))),chrome.tabs.onUpdated.addListener((e,t)=>{this.getActiveTab().then(i=>{i&&i.id===e&&(t.url||t.favIconUrl||"complete"===t.status)&&chrome.tabs.get(e,e=>n(e))})}),chrome.windows.onFocusChanged.addListener(e=>chrome.tabs.query({active:!0,windowId:e,lastFocusedWindow:!0},e=>n(e[0]))),this.getActiveTab().then(e=>n(e))}tabUrlChange(){return new o.a(e=>{const t=(t,n,i)=>{"complete"===n.status&&e.next({id:t,url:i.url})};return chrome.tabs.onUpdated.addListener(t),()=>chrome.tabs.onUpdated.removeListener(t)})}reload(e){return a.a.create((t,n)=>{const i=()=>h(()=>t(),n);e?chrome.tabs.reload(e,{},i):chrome.tabs.reload(i)})}}var v=n(24);const _=()=>fetch(v.a().appConfig.url.pageConfigUrl,{credentials:"include"}).then(e=>e.ok?e.json():e.text().then(t=>{throw{name:"RequestError",body:t,statusCode:e.status,message:e.statusText}})).then(e=>{if("string"!=typeof e&&e&&e.error)throw new Error(e.error);return e});var y=n(337);n.d(t,"a",(function(){return O}));class w{constructor(e){this.port=chrome.runtime.connect({name:e})}onMessage(e){this.port.onMessage.addListener(e)}onDisconnect(e){this.port.onDisconnect.addListener(e)}postMessage(e){this.port.postMessage(e)}}class E{constructor(e){this._port=e,this.sender={};const{sender:t,name:n}=e;this.name=n,t&&(this.sender.url=t.url,t.tab&&t.tab.url&&t.tab.id&&(this.sender.tab={url:t.tab.url,id:t.tab.id}))}onMessage(e){this._port.onMessage.addListener(e)}onDisconnect(e){this._port.onDisconnect.addListener(e)}postMessage(e){this._port.postMessage(e)}}class x{constructor(e){this.alarms=new d,this.managedStorage=new f,this.tabs=new b,this.notification={kind:"web-extension",create:e=>a.a.create((t,n)=>{const i=chrome.notifications,a=Object(r.q)();i.create(a,Object.assign({type:"basic"},e),()=>{h(()=>{const e=new o.a(e=>{const t=t=>t===a&&e.next(t);return i.onClicked.addListener(t),()=>i.onClicked.removeListener(t)}),n=new o.a(e=>{const t=(t,n)=>t===a&&e.next({id:t,buttonIndex:n});return i.onButtonClicked.addListener(t),()=>i.onButtonClicked.removeListener(t)}),r=new o.a(e=>{const t=(t,n)=>t===a&&e.next({id:t,byUser:n});return i.onClosed.addListener(t),()=>i.onClosed.removeListener(t)});t({id:a,click:e,buttonClick:n,close:r})},n)})}),clear:e=>a.a.create((t,n)=>{chrome.notifications.clear(e,e=>{h(()=>t(e),n)})})},this.cookies={kind:"web-extension",get:e=>a.a.create((t,n)=>chrome.cookies.get(e,e=>h(()=>t(e),n))),remove:e=>new Promise((t,n)=>chrome.cookies.remove(e,()=>h(()=>t(null),n))),getAll:e=>a.a.create((t,n)=>chrome.cookies.getAll(e,e=>h(()=>t(e),n))),set:e=>a.a.create((t,n)=>chrome.cookies.set(e,e=>h(()=>t(e),n))),watch(e,t){chrome.cookies.onChanged.addListener(n=>{const{cookie:i,cause:r}=n;!i||!i.name||e.path&&e.path!==i.path||e.name!==i.name||e.domain&&-1===i.domain.indexOf(e.domain)||("explicit"===r&&t(i),"expired_overwrite"===r&&t())})}},this.preferences=y.a.windowLocalStorage,this.button={kind:"web-extension",setBadge(e){chrome.browserAction.setBadgeText({text:e})},setIconByName(e){const t=e?"-"+e:"";chrome.browserAction.setIcon({path:{16:`./src/icon/icon16${t}.png`,32:`./src/icon/icon32${t}.png`}})},setBadgeBackgroundColor(e){chrome.browserAction.setBadgeBackgroundColor({color:e})}},this.management={uninstallSelf(){chrome.management.uninstallSelf()}},this._baseUrl=Object(s.r)(()=>chrome.extension.getURL(""),e=>null),this.fetchBlacklistConfig=()=>_(),this.getUrl=e=>this._baseUrl?this._baseUrl+e:chrome.extension.getURL(e),this.openUrl=e=>this.tabs.open(e,!0),this.openPopupSubscriptionDialog=e=>this.openUrl(Object(i.m)(e.utmSource,e.utmCampaign)),this.openSubscriptionDialog=e=>Object(c.b)(e),this.isExtensionUrl=(e,t)=>this.getUrl(e)===t,this.reload=()=>chrome.runtime.reload(),this.i18n={detectLanguage:e=>a.a.create((t,n)=>chrome.i18n.detectLanguage(e,e=>h(()=>t(e),n))),getUILanguage:()=>chrome.i18n.getUILanguage(),getAcceptLanguages:()=>a.a.create((e,t)=>chrome.i18n.getAcceptLanguages(n=>h(()=>e(n),t)))},this.message=e?new m.a(e=>chrome.runtime.onConnect.addListener(t=>e(new E(t))),this.tabs.getActiveTab.bind(this.tabs),this.tabs.getAllTabs.bind(this.tabs)):new g.a(e=>new w(e))}}function O(e){return new x(e)}},function(e,t,n){"use strict";var i=n(24),r=n(62),o=n(6),a=n(8),s=n(12),c=n(155);function l(e){return u.includes(e)}const u=new class{constructor(e){function t(e){return`Invalid pattern "${e}": "*" is allowed only at start and/or end position`}this._equal=new Set,this._prefix=[],this._suffix=[],this._infix=[];for(const n of e){const e=n.indexOf("*");if(-1===e)this._equal.add(n);else if(e===n.length-1)this._prefix.push(n.substring(0,e));else{if(0!==e)throw new Error(t(n));{const e=n.indexOf("*",1);if(-1===e)this._suffix.push(n.substring(1));else{if(e!==n.length-1)throw new Error(t(n));this._infix.push(n.substring(1,e))}}}}}includes(e){return this._equal.has(e)||this._prefix.some(t=>e.startsWith(t))||this._suffix.some(t=>e.endsWith(t))||this._infix.some(t=>e.includes(t))}}(["mail.google.com","translate.google.*","docs.google.com","web.whatsapp.com","facebook.com","outlook.*","linkedin.com","zendesk.*","youtube.com","twitter.com","messenger.com","*.slack.*","*canvas*","*instructure*","trello.com","editor.wix.com","quizlet.com","mail.yahoo.com","*.force.*","keep.google.com","vk.com","fanyi.baidu.com","app.bullhornstaffing.com","app.qa-world.com","calendar.google.com","papago.naver.com","wordcounter.net","blogger.*","wattpad.com","wordpress.com","amazon.*","smallseotools.com","create.kahoot.it","apps.rackspace.com","basecamp.com","varsitytutors.com","canva.com","fanyi.youdao.com","reverso.net","message.alibaba.com","*schoology*","*.blackboard.*","classroom.google.com","*upwork*","business.facebook.com","medium.com","mail.aol.com","workhub.transcribeme.com","github.com"]);n.d(t,"a",(function(){return b}));const d=s.a.create("lib.tracking.telemetry"),h=.1,p=.05,f=.1,m=.01,g=.01;class b{constructor(e=a.n,t=a.n,n=a.n,s=a.n,u=!1,b=c.a.dummy,v=!1,_=a.n,y=a.n,w=(e=>m),E="firefox"!==i.a().bundleInfo.browser){this._sendFelog=e,this._sendFelogUsage=t,this._setUserId=n,this._setContainerId=s,this._sendUsageMetrics=u,this._perfMetrics=b,this._sendPerfMetrics=v,this._sendFelogEvent=_,this._sendFelogCrashLogs=y,this._getUsageMetricsRate=w,this._shouldSendEvents=E,this._perfMetricsThrottleTimeMs=6e4,this._prepareDataString=(e,t)=>{let n;try{n=JSON.stringify(t)}catch(t){n=`stringify fail: '${t}', '${t&&t.message}'`,d.warn(n,e)}return n},this._sendUsageMetricsSamplingRatio=this._getUsageMetricsRate(i.a().bundleInfo.browser),this.restoredBgConnection=e=>{this._send("cs.connection.bg.restored",o.a.INFO,{timeWithoutConnection:e})},this.initWithoutBgConnection=()=>{this._send("cs.connection.bg.disconnected",o.a.INFO)},this.fetchDefinitionsFail=()=>{this._send("cs.connection.api.definition.failed",o.a.WARN)},this.infinityCheckResetFail=e=>{this._send("cs.connection.infiniteCheck.failed",o.a.ERROR,{delay:e})},this.tooLongPageConfigInit=e=>{this._send("cs.pageConfig.init.exceeded",o.a.WARN,{initTime:e})},this.tooLongUserUpdateTime=e=>{this._send("bg.state.user.update.exceeded",o.a.WARN,{updateTime:e})},this.lostBgPageConnection=()=>{this._send("cs.gbutton.bgСonnection.lost",o.a.INFO)},this.restoreBgPageConnection=e=>{this._send("cs.gbutton.bgСonnection.restored",o.a.INFO,{time:e})},this.badCursorPosition=()=>{this._send("cs.editor.badCursorPosition",o.a.INFO)},this.cursorJump=()=>{this._send("cs.editor.cursorJump",o.a.WARN)},this.tabReloadClick=()=>{this._send("cs.gbutton.reload.click",o.a.WARN)},this.popupLoadError=(e,t)=>{this._send("cs.popup.load.error",o.a.ERROR,{message:e,name:t})},this.dynamicConfigLoadFromPrefsError=e=>{this._sendSampled(g,"bg.dynamicConfig.prefs.load.error",o.a.ERROR,{message:e})},this.dynamicConfigSaveToPrefsError=e=>{this._sendSampled(g,"bg.dynamicConfig.prefs.save.error",o.a.ERROR,{message:e})},this.dynamicConfigLoadFromServerError=e=>{this._sendSampled(g,"bg.dynamicConfig.server.load.error",o.a.ERROR,{message:e})},this.pageConfigCDNError=e=>{this._send("cs.pageConfig.cdn.error",o.a.ERROR,{message:e})},this.pageConfigLocalStorageError=(e,t)=>{this._send("cs.pageConfig.localStorage.error",o.a.INFO,{message:e,name:t})},this.pageConfigUpdated=(e,t)=>{this._send("cs.pageConfig.updated",o.a.INFO,{oldVersion:e,newVersion:t})},this.settingsPopupTimeout=()=>{this._send("settings.popup.init.timeout",o.a.WARN)},this.settingsUsupportedShow=e=>{this._send("settings.popup.state.unsupported.show",o.a.INFO,{popupType:e})},this.socketBgError=()=>{this._send("bg.socket.error",o.a.WARN)},this.capiNotAuthorizedLoop=(e,t)=>{this._send("debug.socket.notAuthorizedLoop",o.a.INFO,{authDegradation:e,cookiesDisabled:t})},this.socketDisabledCookie=()=>{this._send("debug.socket.disabledCookies",o.a.INFO)},this.socketBgRestored=e=>{this._send("debug.bg.socket.restored",o.a.INFO,{tryCount:e})},this.socketBgReconnectFail=(e,t)=>{this._send("bg.socket.reconnect.fail",o.a.WARN,{token:e,tryCount:t})},this.socketCsError=()=>{this._send("cs.socket.error",o.a.WARN)},this.soketCsErrorMsg=e=>{this._send("cs.socket.errorMsg",o.a.WARN,{message:e})},this.gnarClientInitFail=e=>{this._send("gnar.bg.tracking.gnar.init.fail",o.a.WARN,{message:e})},this.bgTrackingInitFail=()=>{this._send("debug.tracking.init.fail",o.a.INFO)},this.gnarSpecUndefinedInit=()=>{this._send("debug.tracking.gnar.spec.init.fail",o.a.INFO)},this.userUpgradeClick=e=>{this._send("cs.ui.action.upgradeClick",o.a.INFO,{placement:e})},this.gButtonClick=()=>{this._send("cs.ui.gbutton.click",o.a.INFO)},this.checkingToggledInField=e=>{this._send("cs.ui.gbutton.toggleInField",o.a.INFO,{enabled:e})},this.unexpectedAnonymous=e=>{this._send("debug.bg.session.unexpectedAnonymous",o.a.INFO,e)},this.getDapiPropError=e=>{this._send("bg.connection.dapi.getProp.error",o.a.WARN,{statusCode:e})},this.setDapiPropError=e=>{this._send("bg.connection.dapi.setProp.error",o.a.WARN,{statusCode:e})},this.toggleExtensionDefs=e=>{this._send("bg.settings.definitions.toggle",o.a.INFO,{enabled:e})},this.toggleExtension=(e,t)=>{this._send("bg.settings.extension.toggle",o.a.INFO,{enabled:e,placement:t})},this.disableUntilNextVisit=()=>{this._send("cs.gbutton.disableUntilNextVisit",o.a.INFO)},this.disableButtonClick=()=>{this._send("cs.gbutton.disableButtonClick",o.a.INFO)},this.cookieOverflow=(e,t)=>{this._send("debug.bg.state.cookie.overflow",o.a.INFO,{size:e,biggestCookie:t})},this.externalChangePlan=()=>{this._send("bg.api.external.changePlan",o.a.INFO)},this.externalChangeDialect=()=>{this._send("bg.api.external.changeDialect",o.a.INFO)},this.externalChangeUser=()=>{this._send("bg.api.external.changeUsed",o.a.INFO)},this.externalLogout=()=>{this._send("bg.api.external.logout",o.a.INFO)},this.bgPageStartFail=(e,t)=>{this._send("bg.start.fail",o.a.ERROR,{message:e,stack:t})},this.acceptDataControl=()=>{this._send("bg.dataControl.accepted",o.a.INFO)},this.bgPageInitTimeout=e=>{this._send("bg.state.start.timeout",o.a.WARN,{initTime:e})},this.bgPageInitFail=e=>{this._send("bg.state.init.fail",o.a.ERROR,{initAttempts:e})},this.extensionUpdated=(e,t)=>{this._send("bg.state.updated",o.a.INFO,{currentVersion:e,previousVersion:t})},this.extensionUpdateFail=e=>{this._send("bg.state.update.fail",o.a.INFO,{previousVersion:e})},this.cannotGetInstallSource=()=>{this._send("bg.getSource.fail",o.a.WARN)},this.extensionInstall=e=>{this._send("bg.state.install",o.a.INFO,{source:e})},this.chromeForcedToUpdate=e=>{this._send("bg.chrome.forcedToUpdate",o.a.INFO,{newVersion:e})},this.chromeContentScriptLoadError=(e,t)=>{this._send("bg.chrome.cs.load.error",o.a.WARN,{message:e,type:t})},this.reloadNotificationShow=()=>{this._send("bg.ui.notification.tabsReload.show",o.a.WARN)},this.reloadNotificationClick=()=>{this._send("bg.ui.notification.tabsReload.click",o.a.INFO)},this.fetchUserFail=(e,t,n)=>{this._send("bg.user.fetch.fail",o.a.WARN,{body:t,statusCode:n,reason:e})},this.fetchMimicFail=(e,t)=>{this._send("bg.user.mimic.fail",o.a.WARN,{body:e,statusCode:t})},this.fetchStatsFail=(e,t)=>{this._send("bg.user.dapi.prop.stats.fail",o.a.WARN,{body:e,statusCode:t})},this.fetchCookieFail=()=>{this._send("bg.cookie.fail",o.a.WARN)},this.fetchSettingsFail=(e,t)=>{this._send("bg.user.settings.fail",o.a.WARN,{body:e,statusCode:t})},this.frequentCookieChanges=e=>{this._send("debug.cookie.onChange.error",o.a.INFO,{canceled:e})},this.initializePropFromDapi=e=>{this._send("bg.state.dapi.prop.initialize",o.a.INFO,{name:e})},this.onboardingPopupShow=()=>{this._send("cs.onboarding.popup.show",o.a.INFO)},this.onboardingPopupCancel=()=>{this._send("cs.onboarding.popup.cancel",o.a.INFO)},this.onboardingTutorialShow=()=>{this._send("cs.onboarding.tutorial.show",o.a.INFO)},this.onboardingVideoLoaded=()=>{this._send("cs.onboarding.tutorial.video.loaded",o.a.INFO)},this.incognitoInit=()=>{this._send("bg.incognito.init",o.a.INFO)},this.disabledCookiesInit=()=>{this._send("bg.cookie.disabled",o.a.INFO)},this.loginReminderPopupShow=()=>{this._send("cs.gbutton.popup.loginReminder.show",o.a.INFO)},this.premiumAlertsLoginReminderPopupShow=()=>{this._send("cs.gbutton.popup.premiumAlertsLoginReminder.show",o.a.INFO)},this.delightfulMessagePopupShow=()=>{this._send("cs.gbutton.popup.delightfulMessage.show",o.a.INFO)},this.loginReminderBadgeShow=()=>{this._send("bg.state.user.loginReminder.enable",o.a.INFO)},this.proxyInit=()=>{this._sendSampled(p,"proxy.init",o.a.INFO)},this.proxyPortDisconnected=(e,t)=>{this._sendSampled(p,"proxy.disconnect",o.a.INFO,{port:e,error:t})},this.unhandledBgPageException=e=>{this._sendSampled(f,"bg.unhandledException",o.a.ERROR,{message:e.error?e.error.message:e.message})},this.unhandledBgPageRejection=e=>{this._sendSampled(f,"bg.unhandledRejection",o.a.ERROR,{message:null!=e.reason?"string"==typeof e.reason?e.reason:e.reason.message:void 0})},this.storageMigrationSucceeded=()=>{this._send("bg.storageMigration.success",o.a.INFO,{})},this.storageMigrationFailed=e=>{this._send("bg.storageMigration.failure",o.a.ERROR,{message:e&&e.message})},this.cardShowAction=()=>{this._sendSampled(h,"cs.editor.card.show",o.a.INFO)},this.cardHideAction=()=>{this._sendSampled(h,"cs.editor.card.hide",o.a.INFO)},this.cardReplacementAction=()=>{this._sendSampled(h,"cs.editor.card.replacement",o.a.INFO)},this.cardAddToDictAction=()=>{this._sendSampled(h,"cs.editor.card.addToDict",o.a.INFO)},this.cardIgnoreAction=()=>{this._sendSampled(h,"cs.editor.card.ignore",o.a.INFO)},this.synonymCardShowAction=e=>{this._sendSampled(h,"cs.editor.synonym.show",o.a.INFO,{notFoundCard:e})},this.synonymCardHideAction=e=>{this._sendSampled(h,"cs.editor.synonym.hide",o.a.INFO,{notFoundCard:e})},this.synonymReplacementAction=()=>{this._sendSampled(h,"cs.editor.synonym.replacement",o.a.INFO)},this.dictCardShowAction=()=>{this._sendSampled(h,"cs.editor.dict.show",o.a.INFO)},this.dictCardHideAction=()=>{this._sendSampled(h,"cs.editor.dict.hide",o.a.INFO)},this.errorBySendEmailData=()=>{this._send("cs.editor.emailData.send.error",o.a.WARN)},this.couldNotParseTransform=(e,t)=>{this._send("cs.cards.transforms.parse.error",o.a.WARN,{transformHTML:e,fallbackParseSuccessful:t})},this.disabledTabLoad=e=>{this._sendUsage("usage.loadOnDisabledTab",o.a.INFO,{accountType:e})},this.disabledTabByUserLoad=e=>{this._sendUsage("usage.loadOnDisabledByUserTab",o.a.INFO,{accountType:e})},this.initSession=(e,t,n,i,r)=>{this._sendUsage("usage.session.init",o.a.INFO,{isTopSite:l(e),accountType:t,fieldType:n,fieldSupported:i,integrationType:r})},this.cardFirstInteraction=(e,t)=>{this._sendUsage("usage.card.interaction",o.a.INFO,{accountType:e,fieldType:t})},this.gnar={nextPingDateWriteError:e=>this._send("bg.gnarTracker.nextPingDateWriteError",o.a.ERROR,{error:e}),nextPingDateReadError:e=>this._send("bg.gnarTracker.nextPingDateReadError",o.a.ERROR,{error:e}),sendError:e=>this._send("bg.gnarTracker.sendError",o.a.ERROR,{error:e}),trackBeforeSetUser:e=>this._send("bg.gnarTracker.trackBeforeSetUser",o.a.INFO,{millisSinceInit:e}),errorSetUser:e=>this._send("bg.gnarTracker.errorSetUser",o.a.ERROR,{error:e})},this.fluidGdocs={sidebarFail:Object(a.h)(e=>this._send("cs.gdocs.fluid.getSidebarFail",o.a.WARN,{type:e})),getFullTextFailed:Object(a.h)(e=>this._send("cs.gdocs.fluid.getFullTextFailed",o.a.INFO,{type:e})),pageToTextMapFail:Object(a.h)(()=>this._send("cs.gdocs.fluid.pageToTextMapFail",o.a.INFO)),nestedTablesAppearance:Object(a.h)(()=>this._send("cs.gdocs.fluid.nestedTablesAppearance",o.a.INFO)),mapTableIssue:Object(a.h)(e=>this._send("cs.gdocs.fluid.mapTableIssue",o.a.INFO,{type:e})),treeStructureFailure:Object(a.h)(()=>this._send("cs.gdocs.fluid.treeStructureFailure",o.a.INFO)),textFragmentMapFail:Object(a.h)(()=>this._send("cs.gdocs.fluid.textFragmentMapFail",o.a.INFO)),init:()=>this._send("cs.gdocs.fluid.init",o.a.INFO),getTextPerf:this._createPerfLogger("cs.gdocs.fluid.perf.getText",30),buildTextMapPerf:this._createPerfLogger("cs.gdocs.fluid.perf.textMap",30)},this.gdocs={initialGdocsDisable:()=>this._send("cs.gdocs.initialDisableSet",o.a.INFO),getInitialDocumentStateFailed:e=>this._send("cs.gdocs.state.getInitialFailed",o.a.INFO,{message:e}),localStateSwappedWithRemote:()=>this._send("cs.gdocs.state.localStateSwapped",o.a.INFO),revisionSwitched:()=>this._send("cs.gdocs.revisionsSwitched",o.a.INFO),noMatchForUnderline:()=>this._send("cs.gdocs.orphantUnderline.noMatchFoundByUnderine",o.a.INFO),noMatchFoundForId:()=>this._send("cs.gdocs.orphantUnderline.noMatchFoundById",o.a.INFO),replacementFailed:()=>this._send("cs.gdocs.replacementFailed",o.a.INFO),editingDisabledNotification:e=>this._send("cs.gdocs.notifications.editingDisabledBloodyBar",o.a.INFO,e&&Object.assign({hashedDocId:Object(r.d)()},e)),somethingWentWrongNotification:e=>this._send("cs.gdocs.notifications.somethingWentWrongButterBar",o.a.INFO,e&&Object.assign({hashedDocId:Object(r.d)()},e)),misplacedUnderlines:({collaborators:e,count:t})=>this._send("cs.gdocs.notifications.misplacedUnderlines",o.a.INFO,{collaborators:e,count:t,hashedDocId:Object(r.d)()}),documentOpen:({grammarlyEnabled:e})=>{this._send("cs.gdocs.notifications.documentOpen",o.a.INFO,{hashedDocId:Object(r.d)(),grammarlyEnabled:e})},injectedSciptRollback:e=>this._send("cs.gdocs.injectedScriptsRollback",o.a.INFO,{reason:e}),emptyResponseCrash:()=>this._send("cs.gdocs.emptyResponseCrash",o.a.INFO)},this.performance={processInput:this._createPerfLogger("cs.fluid.processInput",100),processAlerts:this._createPerfLogger("cs.fluid.processAlerts",10),csInitialized:(e,t,n)=>{this._sendPerfMetrics&&this._sendEvent({logger:"cs.initialized",level:o.a.INFO,ex_csInitPerf:{loadTime:e,initTime:t,error:n}})}},this.autocorrect={responseTime:this._createPerfLogger("cs.autocorrect.responseTime",10),predictTime:this._createPerfLogger("cs.autocorrect.predictTime",10)},this.capiClient={responseTime:this._createPerfLogger("cs.capi.responseTime",10)},this.oauthExchangeError=e=>{this._send("bg.oauth.exchange.error",o.a.ERROR,{message:e})}}_send(e,t,n){if(!1===this._shouldSendEvents)return;const i=this._prepareDataString(e,n);try{this._sendFelog(e,void 0,t,null!=n?{json:i}:void 0)}catch(t){d.warn(`Failed to send felog for ${e}: '${t&&t.message}'`,t)}}_sendEvent(e){if(!1!==this._shouldSendEvents)try{this._sendFelogEvent(e)}catch(t){d.warn(`Failed to send felog for ${JSON.stringify(e)}`,t)}}_sendUsage(e,t,n){if(this._sendUsageMetrics&&this._sendUsageMetricsSamplingRatio>Math.random())try{this._sendFelogUsage(e,"",t,n)}catch(t){d.warn(`Failed to send usage felog for ${e}: '${t&&t.message}'`,t)}}_sendSampled(e,t,n,i){e>Math.random()&&this._send(t,n,i)}_createPerfLogger(e,t=0){if(this._sendPerfMetrics){let n=[];const i=Object(a.q)(this._perfMetricsThrottleTimeMs,()=>{if(n.push(...this._perfMetrics.flushMeasures(e)),n.length>=t){const t=c.a.getStats(n);n=[],d.info(`sending perf stats for ${e}`,t),this._sendEvent({logger:e,level:o.a.INFO,ex_perfstats:t})}});return{dummy:!1,startMeasure:()=>{const t=this._perfMetrics.startMeasure(e);return{endMeasure(){try{t.endMeasure(),i()}catch(e){}}}},measure:t=>{const n=this._perfMetrics.measure(e,t);try{i()}catch(e){}return n},measureAsync:t=>{const n=this._perfMetrics.startMeasure(e);return t().then(e=>{try{n.endMeasure(),i()}catch(e){}return e})}}}return{dummy:!0,startMeasure:()=>({endMeasure:a.n}),measure:e=>e(),measureAsync:e=>e()}}sendCrashLogs(e,t){if(!1!==this._shouldSendEvents)try{this._sendFelogCrashLogs(t)}catch(t){d.warn(`Failed to send crash data data for ${e}: '${t&&t.message}'`,t)}}setUserId(e){this._setUserId(e)}setContainerId(e){this._setContainerId(e)}enableEventsSending(){this._shouldSendEvents=!0}disableEventsSending(){this._shouldSendEvents=!1}notificationShown(e){this._send("cs.notification.show",o.a.INFO,{type:e})}notificationHide(e){this._send("cs.notification.hide",o.a.INFO,{type:e})}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(24),r=n(149),o=n(124),a=n(208),s=n(8),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class l{nextPingDateWriteError(e){Object(o.a)().gnar.nextPingDateWriteError(JSON.stringify(e))}nextPingDateReadError(e){Object(o.a)().gnar.sendError(JSON.stringify(e))}sendError(e){Object(o.a)().gnar.sendError(JSON.stringify(e))}trackBeforeSetUser(e){Object(o.a)().gnar.trackBeforeSetUser(e)}}function u(e,t){var n;return c(this,void 0,void 0,(function*(){try{const o=yield function(e){return c(this,void 0,void 0,(function*(){const t=window.fetch.bind(window),n=e.bundleInfo.browser,i=e.appConfig.gnar,r="safari"===n?new a.CookieStorage(".grammarly.com"):"chrome"===n||"edge"===n?new a.ChromeCookieStorage(i.url,i.domain):"firefox"===n?new a.ReadonlyWebExtensionsCookieStorage(i.url,i.domain):Object(s.g)(n),o="firefox"===n||"safari"===n?[]:[new a.CookieStorage(i.domain),new a.LocalStorage,new a.MemoryStorage],c=new a.ContainerIdManager(r,o,null,"chrome"===n?1e3:5e3);if("safari"===n){const e=c.key(),t=window.bgInitArgs,n=t&&t.companionContainerId;if(null==(yield r.safeGetValue(e))){const t=null==n?c.getOrGenerateContainerId():n;yield r.safeSetValue(e,t)}}return{gnar:new a.GnarClientImpl(i.url,i.appName,e.buildInfo.version,t,c,new l,!0)}}))}(i.a());return r.a.gnar=o.gnar,null===(n=r.a.gnar)||void 0===n||n.setUserGetter(t),new e(o.gnar)}catch(e){return void Object(o.a)().gnarClientInitFail(e&&e.message)}}))}const d=()=>c(void 0,void 0,void 0,(function*(){try{return r.a.gnar?yield r.a.gnar.getContainerId():void 0}catch(e){return}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c}));var i=n(200),r=n(201);class o{constructor(e){this._target=e}setSelection(e,t){const n=i.b.createRange(e,Math.min(t.start,t.end),Math.max(t.start,t.end),!0),r=this._target.ownerDocument&&this._target.ownerDocument.getSelection();r&&(r.removeAllRanges(),n&&r.addRange(n))}getCurrentSelection(e,t=!1){const n=this._target.ownerDocument&&this._target.ownerDocument.getSelection(),i=n&&n.rangeCount>0?n.getRangeAt(0):null;return null!==i&&null!==n&&("Range"===n.type||"Caret"===n.type&&this._target.contains(n.anchorNode)&&this._target.contains(i.startContainer)&&this._target.contains(i.endContainer))?t&&i.endContainer!==i.startContainer&&i.endContainer.contains(i.startContainer)&&Object(r.c)(i.startContainer)?c({startContainer:i.startContainer,startOffset:i.startOffset,collapsed:n.isCollapsed,endContainer:i.startContainer,endOffset:i.startContainer.nodeValue?i.startContainer.nodeValue.length:i.endOffset},e,!1):c({startContainer:i.startContainer,startOffset:i.startOffset,collapsed:n.isCollapsed,endContainer:i.endContainer,endOffset:i.endOffset},e,!0):null}}class a{constructor(e){this._target=e}setSelection(e,t){this._target.setSelectionRange(Math.min(t.start,t.end),Math.max(t.start,t.end))}getCurrentSelection(e){return this._target.ownerDocument&&this._target.ownerDocument.activeElement===this._target?{start:Math.min(this._target.selectionStart,this._target.selectionEnd),end:Math.max(this._target.selectionStart,this._target.selectionEnd)}:null}}function s(e,t,n){const i=e.getFragmentsByNode(t);if(i){let e=0,t=i[e],r=null;for(;t;){if(!(t.startOffsetInNode<n&&t.endOffset-t.startOffset+t.startOffsetInNode<n)){r=t.startOffset+(n-t.startOffsetInNode);break}t=i[e++]}return r}return null}function c(e,t,n){const i=s(t,e.startContainer,e.startOffset);if(e.collapsed)return n&&null!==i?{start:i,end:i}:null;{const n=s(t,e.endContainer,e.endOffset);return null!==i&&null!==n?{start:i,end:n}:null}}},,,function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return(r?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===r(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,c=0;c<a;c++)if(r[c]!==o[c]){s=c;break}var l=[];for(c=s;c<r.length;c++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===i&&(r=!1,i=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(190))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(16),r=n(68),o=n(52);function a(e,t){return new i.a((function(n){var i,a;try{i=e()}catch(e){return void n.error(e)}try{a=t(i)}catch(e){return void n.error(e)}var s=(a?Object(r.a)(a):o.a).subscribe(n);return function(){s.unsubscribe(),i&&i.unsubscribe()}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(21),o=n(20);function a(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i.durationSubscription=null,i}return i.a(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(o.a)(this,t))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,i,r){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(148);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(i.a.apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(21),o=n(20);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var i=e;return t.lift(new s(i,n))}}var s=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.observables,this.project))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;r.observables=n,r.project=i,r.toRespond=[];var a=n.length;r.values=new Array(a);for(var s=0;s<a;s++)r.toRespond.push(s);for(s=0;s<a;s++){var c=n[s];r.add(Object(o.a)(r,c,c,s))}return r}return i.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(r.a)},,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));const i=e=>!e.field.hasAttribute("readonly"),r=e=>!e.field.hasAttribute("disabled");function o(e=35,t=300){return n=>n.field.clientHeight>=e&&n.field.clientWidth>=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(8);!function(e){e.isSupported=function(e){return Object(r.r)(()=>"safari"!==e&&!!new DataTransfer,e=>!1)}}(i||(i={}))},,function(e,t,n){"use strict";var i=n(11),r=n(94),o=n(118),a=n(372),s=n(39),c=n(8),l=n(12),u=n(282),d=n(746),h=n(170),p=n(512),f=n(66),m=n(40),g=n(470),b=n(148),v=n(212),_=n(179);class y{constructor(e,t,n,i,o,a,s,c){this._alertProcessor=e,this._checkingService=t,this._textObserver=n,this._textField=i,this._setEmogenieReport=o,this._setCheckingStatus=a,this._setSiteSettings=s,this._setEnableNativeSpellcheck=c,this._log=l.a.create(y.name),this._textFieldFocusChanged=Object(b.a)(Object(r.a)(this._textField,"focus").pipe(Object(v.a)(!0)),Object(r.a)(this._textField,"blur").pipe(Object(v.a)(!1))).pipe(Object(_.a)()),this._textChangeBuffer=new g.a(this._textObserver.contentChanges.async,this._textFieldFocusChanged),this._subs=[this._sendTextToCheckingServiceOnTextChange(),this._processCheckingServiceMessages(),this._checkingService.checkingStatus.subscribe(e=>this._setCheckingStatus(e))],this._alertProcessor.registerRemoteRevision(this._checkingService.setText(this._textObserver.getCurrentTextMap().getPlainText()))}_setNativeSpellcheck(e){void 0!==e&&this._setEnableNativeSpellcheck(e)}_sendTextToCheckingServiceOnTextChange(){return this._textChangeBuffer.output.subscribe(e=>{this._alertProcessor.registerRemoteRevision(this._checkingService.setText(this._textObserver.getCurrentTextMap().getPlainText()))})}_processCheckingServiceMessages(){return this._checkingService.messages.subscribe(e=>{try{e._tag===m.d.Type.add?this._alertProcessor.addAlert(e.alert):e._tag===m.d.Type.remove?this._alertProcessor.removeAlert(e.removedId):e._tag===m.d.Type.finished?this._setNativeSpellcheck(e.finished.nonEnglishText):e._tag===m.d.Type.emogenie?this._setEmogenieReport(e.emogenieReport):e._tag===m.d.Type.start?this._setSiteSettings({isEnterprise:e.isEnterprise,domainName:e.domainName}):Object(c.g)(e)}catch(e){this._log.error("error calling alert processor",e)}})}dispose(){this._subs.forEach(e=>e.unsubscribe())}}var w=n(151),E=n(203),x=n(273),O=n(418),S=n(81),C=n(7),j=n(71);class k{constructor(e,t){this._element=e,this._initialAttrs=t,this._log=l.a.create(k.name),this._backoffLimit=3,this._intendedAttrs=C.Atom.create(this._initialAttrs),this._subs=[this._maintainTextFieldAttrs()]}setAttributes(e){this._intendedAttrs.set(e)}_maintainTextFieldAttrs(){let e=0;return Object(w.b)(this._intendedAttrs,Object(b.a)(S.a.createUnsafe(this._element,{attributes:!0,attributeFilter:Object.keys(this._initialAttrs),subtree:!1,childList:!1}).pipe(Object(E.a)(j.a.hz4)),j.a.sec2.pipe(Object(x.a)(0)))).pipe(Object(O.a)(t=>e<this._backoffLimit)).subscribe(([t])=>{try{c.f.pairs(t).forEach(([e,t])=>{const n=this._element.attributes.getNamedItem(e);n&&n.value===t||(this._log.trace(`${e} is not ${t}, setting`),this._element.setAttribute(e,t))})}catch(t){e++,this._log.warn(`failed to maintain element attributes ${e} time(s)`,t)}})}dispose(){this._subs.forEach(e=>e.unsubscribe())}}var T,P,N=n(234),A=n(147),I=n(347),R=n(417),F=n(331),M=n(16),D=n(369);(P=T||(T={})).measure=e=>t=>new M.a(n=>t.subscribe(t=>e(()=>n.next(t)),e=>n.error(e),()=>n.complete())),P.using=(e,t)=>Object(D.a)(e,t),P.doNothing=e=>e;class L{constructor(e,t,n,i,r,o,a=l.a.create(L.name)){this._alertProcessor=e,this._highlights=t,this._alertFilter=n,this._textObserver=i,this._layout=r,this._felog=o,this._log=a,this._alertsToProcessOnFilterChange=this._alertFilter.pipe(Object(s.a)(e=>{const t=[],n=[];for(const e of this._alertProcessor.alerts.getAll())this._highlights.hasHighlight(e.id)?n.push(e):t.push(e);return{addedAlerts:t,updatedAlerts:n,removedAlerts:[],transformedAlerts:[]}})),this._subs=[this._updateAlertsOnTextChange(),this._updateHighlightsOnAlertChange()]}_addHighlightFor(e,t,n){this._highlights.addHighlight(e.id,B(e.highlightRange,n),t)}_updateHighlightFor(e,t,n){this._highlights.updateHighlight(e.id,B(e.highlightRange,n),t)}_updateHighlightsOnAlertChange(){const e=this._felog.processAlerts.dummy?T.doNothing:T.measure(this._felog.processAlerts.measure);return Object(b.a)(this._alertProcessor.alerts.changes,this._alertsToProcessOnFilterChange).pipe(e,Object(a.a)(this._alertFilter),Object(s.a)(([{addedAlerts:e,removedAlerts:t,transformedAlerts:n,updatedAlerts:i},r])=>({addedAlerts:e.filter(r),updatedAlerts:i.filter(r),transformedAlerts:n.filter(e=>{const t=this._alertProcessor.alerts.getAlertById(e.id);return!!t&&r(t)}),removedAlerts:[...t,...i.filter(e=>!r(e)).map(e=>({id:e.id,alert:e,reason:{_tag:F.a.alertUpdate}}))]}))).subscribe(e=>{try{for(const t of e.removedAlerts)this._highlights.removeHighlight(t.id)}catch(e){this._log.error("failed to remove highlights",e)}if(e.addedAlerts.length>0||e.updatedAlerts.length>0||e.transformedAlerts.length>0){const t=this._textObserver.getCurrentTextMap(),n=t.getPlainText();for(const i of e.addedAlerts)try{this._addHighlightFor(i,t,n)}catch(e){this._log.warn(`failed to add highlight for #${i.id}`,e)}for(const i of e.updatedAlerts)try{this._updateHighlightFor(i,t,n)}catch(e){this._log.error(`failed to update highlight for #${i.id}`,e)}for(const i of e.transformedAlerts)try{const e=this._alertProcessor.alerts.getAlertById(i.id);e&&this._updateHighlightFor(e,t,n)}catch(e){this._log.error(`failed to update highlight geometry for #${i.id}`,e)}}})}_updateAlertsOnTextChange(){return Object(b.a)(this._textObserver.contentChanges.immediate,this._textObserver.contentChanges.async.pipe(Object(A.a)(()=>this._layout.scroll.changes.pipe(Object(I.a)(),Object(R.a)(Object(N.a)(c.e.second)),Object(v.a)(null))))).pipe(this._felog.processInput.dummy?T.doNothing:T.measure(this._felog.processInput.measure)).subscribe(e=>{if(e){const t=Object(c.r)(()=>this._alertProcessor.onTextChanged(e.changes),e=>(this._log.warn("alertProcessor.onTextChanged failed",e),null));try{const n=this._textObserver.getCurrentTextMap(),i=t&&t.transformedAlerts.map(e=>this._alertProcessor.alerts.getAlertById(e.id)).filter(e=>null!==e)||[];try{this._highlights.maintainConsistency(i.map(e=>e.id),n)}catch(e){this._log.error("_updateHighlightsOnTextChange: error maintaining highlight consistency",e)}}catch(e){this._log.error("_updateHighlightsOnTextChange: failed on update/maintain",e)}}try{this._highlights.recalculateAllHighlights()}catch(e){this._log.error("_updateHighlightsOnTextChange: error recalculating highlights",e)}})}dispose(){this._subs.forEach(e=>e.unsubscribe())}}function B(e,t){return e.end-e.start==1&&"a"!==t.slice(e.start,e.end)?{start:e.start>0?e.start-1:e.start,end:e.end!==t.length?e.end+1:e.end}:e}var U,H,V=n(30),z=n(55),G=n(233),W=n(79),$=n(130),q=n(513),Y=n(514);function K(e){return e===U.TopRight||e===U.TopLeft}function Q(e){return e===U.TopLeft||e===U.BottomLeft}!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight"}(U||(U={})),function(e){e.zero={gbuttonHidden:!1,normal:{bottom:0,right:0,anchor:U.BottomRight},flippedDown:{top:0,right:0,anchor:U.TopRight}}}(H||(H={}));const X={onboarding:{maxHeight:190,normal:{bottom:13,right:0,anchor:U.TopRight},flippedDown:{top:13,right:0,anchor:U.BottomRight}},"loginReminder-unifiedFunnel":{maxHeight:400,normal:{bottom:-14,right:20,anchor:U.BottomLeft},flippedDown:{top:-25,right:20,anchor:U.TopLeft}},"loginReminder-free":{maxHeight:300,normal:{bottom:-14,right:20,anchor:U.BottomLeft},flippedDown:{top:-25,right:20,anchor:U.TopLeft}},"loginReminder-premium":{maxHeight:350,normal:{bottom:-14,right:20,anchor:U.BottomLeft},flippedDown:{top:-25,right:20,anchor:U.TopLeft}},"loginReminder-alertsPreview":{maxHeight:350,normal:{bottom:-14,right:20,anchor:U.BottomLeft},flippedDown:{top:-25,right:20,anchor:U.TopLeft}},disable:{maxHeight:240,gbuttonHidden:!0,normal:{bottom:0,right:0,anchor:U.BottomRight},flippedDown:{top:0,right:0,anchor:U.TopRight}},gdocsPopupUnavailable:{normal:{bottom:13,right:0,anchor:U.TopRight}},gdocsFeedbackUI:{gbuttonHidden:!0,maxHeight:500,normal:{bottom:0,right:-7,anchor:U.BottomRight},flippedDown:{top:0,right:-7,anchor:U.TopRight}},gdocsEnhancementsDialog:{gbuttonHidden:!0,normal:{bottom:0,right:-7,anchor:U.BottomRight}},dataControl:{maxHeight:210,normal:{bottom:13,right:0,anchor:U.TopRight},flippedDown:{top:13,right:0,anchor:U.BottomRight}},"gmail-pre-send-email-premium":{maxHeight:370,normal:{bottom:13,right:0,anchor:U.TopRight},flippedDown:{top:13,right:0,anchor:U.BottomRight}}};var J,Z=n(593),ee=n(308);!function(e){e.showOnHover="showOnHover",e.disable="disable",e.opened="opened"}(J||(J={}));class te{constructor(e,t,n,i,r){var a,s;this._csState=e,this._checkingStatus=t,this._alertCounts=n,this._clarityEnabled=i,this._gbuttonContainerOpts=r,this._gbuttonHovered=C.Atom.create(!1),this._expandedGButtonCloseSignal=new G.a(null),this._expandedGbuttonVisibleAtom=C.Atom.create(!1),this._currentSynonym=C.Atom.create(null),this._siteSettings=C.Atom.create({isEnterprise:!1}),this._popupState=this._gbuttonContainerOpts.gbuttonPopupState||C.Atom.create(q.a.initial),this._popupType=this._popupState.lens("type"),this._gbuttonContainerState=C.Atom.create({hoverable:!0,visible:!0}),this._gbuttonState=C.Atom.combine(this._csState,this._checkingStatus,this._alertCounts,this._gbuttonHovered,this._expandedGbuttonVisibleAtom,this._popupState.view("type"),this._siteSettings,(e,t,n,i,r,o,a)=>{const s=ee.a.getType(e.user),c=e.user.experiments,l=s===ee.b.premium,u=this._clarityEnabled&&!l&&n.freeClarity>0;return Object.assign(Object.assign({},Y.a.initial),{dataControl:e.connection.dataControl,errors:n,hovered:i,checking:t===m.e.inProgress,userType:s,shouldShowLoginReminderBadge:!u&&Boolean(e.page.showLoginReminder),experiments:c,offline:!e.connection.online,visible:!r&&"disable"!==o,clarityHiddenIfEnterprise:a.isEnterprise&&this._clarityEnabled&&!l&&n.hiddenClarity>0,edcBlocked:ee.a.isEdcBlocked(e.user),clarityVisible:u,siteSettings:a})}),this._loginReminderPopupState=C.Atom.create(this._csState.get().page.showLoginReminder?J.showOnHover:J.disable),this._synonymState=C.Atom.combine(this._csState.view("page","enabledDefs"),this._currentSynonym,(e,t)=>e?t:null),this._gbuttonContainerStateSub=Object(w.b)((a=this._gbuttonContainerOpts.gbuttonContainerHoverable,null!=a?a:Object(o.a)(!0)),Object(w.b)(this._popupState.view("type").view(e=>"none"!==e&&function(e){return!!X[e].gbuttonHidden}(e)),(s=this._gbuttonContainerOpts.gbuttonContainerVisible,null!=s?s:Object(o.a)(!0)),this._gbuttonContainerOpts.isCurrentFieldFocused,(e,t,n)=>t&&n&&!e),(e,t)=>({hoverable:e,visible:t})).subscribe(e=>{this._gbuttonContainerState.set(e)}),this._expandedGButtonVisibleSub=Object(w.b)(this._expandedGButtonCloseSignal.pipe(Object(A.a)(e=>this._gbuttonState.view("hovered").pipe(Object(W.a)(e=>e),Object(x.a)(!1)))),this._popupState.view("type"),this._csState.view("connection","dataControl"),this._gbuttonState.view("edcBlocked"),this._gbuttonContainerOpts.expandGbuttonOnHover||Object(o.a)(!0),(e,t,n,i,r)=>"none"===t&&e&&n!==Z.a.active&&!i&&r).pipe(Object($.a)()).subscribe(e=>{this._expandedGbuttonVisibleAtom.set(e),this.updateGbuttonHover(!1)}),this._expandedGbuttonState=C.Atom.combine(this._gbuttonState,this._expandedGbuttonVisibleAtom,this._csState,(e,t,n)=>Object.assign(Object.assign({},e),{visible:t,showClarityNotification:!n.page.seenClarityNotification})),this._viewState=C.Atom.combine(this._gbuttonState,this._expandedGbuttonState,this._popupState,this._synonymState,this._gbuttonContainerState,(e,t,n,i,r)=>({gbutton:e,expandedGbutton:t,popup:n,synonym:i,gbuttonContainer:r})),this.viewState=this._viewState.view()}gbuttonClick(){"none"===this._popupType.get()&&this._csState.view("connection","dataControl").get()===Z.a.active&&this._popupType.set("dataControl")}updatePopupState(e){this._popupState.set(e)}updatePopupType(e){this._popupType.set(e)}updateSynonymState(e){this._currentSynonym.set(e)}updateGbuttonHover(e){this._gbuttonHovered.set(e)}closeExpandedGbutton(){this._expandedGButtonCloseSignal.next(null)}getLoginReminderState(){return this._loginReminderPopupState.view()}setLoginReminderPopupState(e){this._loginReminderPopupState.set(e)}setSiteSettings(e){this._siteSettings.set(e)}dispose(){this._expandedGButtonVisibleSub.unsubscribe(),this._gbuttonContainerStateSub.unsubscribe()}}var ne=n(191),ie=n(387),re=n(166),oe=n(419);const ae=l.a.create("VerbosePremiumService");var se;!function(e){e.Gmail="gmail",e.FreePremium="free-premium"}(se||(se={}));class ce{constructor(e,t,n,i,r,o,a,c,l){this._config=e,this._user=t,this._state=n,this._gbuttonExpanded=i,this._gbuttonMinimized=r,this._alertCounts=o,this._contentEligible=a,this._getText=c,this._gnar=l,this._subs=[],this._sendEmailPremiumPopupClosedSignal=new G.a(!1),this._replaceFreePremiumAlerts=new G.a(!1),this.actions={onClosePreSendEmailPopup:()=>{this._sendEmailPremiumPopupClosedSignal.next(!0)},onReplaceFreemiumAlerts:()=>{this._replaceFreePremiumAlerts.next(!0)}},this.isGmail=this._state.view(e=>/^mail\.google\.com$/.test(e.domain)),this._sendEmailVerbosePremiumGbuttonItemVisibleObs=this._createSendEmailVerbosePremiumObs(),this._freePremiumAlertVerbosePremiumVisibleObs=this._replaceFreePremiumAlerts.pipe(Object(W.a)(e=>!!e),Object(re.a)(1),Object(s.a)(e=>({isVisible:e,source:se.FreePremium})));const u=C.Atom.create({isVisible:!1,source:se.Gmail});this._subs.push(this._createButtonVisibleObs().subscribe(e=>u.set(e))),this._buttonVisibility=u;const d=C.Atom.create({isVisible:!1,source:se.Gmail});this._subs.push(this._createGbuttonItemVisibleObs().subscribe(e=>d.set(e))),this._gbuttonItemVisibility=d,this.gbuttonState=C.Atom.combine(this._buttonVisibility,this._gbuttonItemVisibility,(e,t)=>({isEnabled:this._isEnabled(),isVisible:e.isVisible,isPlusBadgeVisible:t.isVisible,source:e.source})),this.expandedGbuttonState=this._gbuttonItemVisibility.view(e=>({isEnabled:this._isEnabled(),isVisible:e.isVisible,source:e.source}))}_createSendEmailVerbosePremiumObs(){return(this._isSendEmailPremiumPopupExperiment()?Object(w.b)(this._state.view(e=>ie.a.hasShownPopupRecently(e)).pipe(Object(re.a)(1),Object(A.a)(e=>e?this._contentEligible:this._sendEmailPremiumPopupClosedSignal)),this.isGmail,(e,t)=>e&&t):Object(o.a)(!1)).pipe(Object(s.a)(e=>({isVisible:e,source:se.Gmail})))}_createGbuttonItemVisibleObs(){return Object(w.b)(Object(b.a)(this._sendEmailVerbosePremiumGbuttonItemVisibleObs,this._freePremiumAlertVerbosePremiumVisibleObs),this._alertCounts,(e,t)=>({isVisible:e.isVisible&&t.plus>0,source:e.source}))}_createButtonVisibleObs(){return Object(b.a)(this._sendEmailVerbosePremiumGbuttonItemVisibleObs.pipe(Object(W.a)(e=>e.isVisible),Object(re.a)(1)),this._freePremiumAlertVerbosePremiumVisibleObs).pipe(Object(A.a)(e=>e.isVisible?Object(w.b)(Object(N.a)(c.e.seconds(5)).pipe(Object(v.a)(!1),Object(x.a)(!0)),this._gbuttonExpanded,this._gbuttonMinimized,this._alertCounts,(t,n,i,r)=>({isVisible:t&&!n&&!i&&r.plus>0,source:e.source})).pipe(Object(oe.a)(e=>{e.isVisible&&(e.source===se.Gmail?this._gnar.gmailPopupGmailPremiumNotificationShow(this._getText().length,this._alertCounts.get().plus):this._gnar.premiumPreviewPremiumPreviewNotificationShow())})):Object(o.a)({isVisible:!1,source:se.Gmail})))}_isEnabled(){return this._isSendEmailPremiumPopupExperiment()||this._isInFreePremiumAlertExperiment()}_isSendEmailPremiumPopupExperiment(){return ie.a.isInExperiment(this._config,this._user.get())}_isInFreePremiumAlertExperiment(){const e=this._user.get();return ee.a.getType(e)!==ee.b.premium&&!!e.experiments&&e.experiments.freePremiumAlerts}dispose(){try{this._subs.forEach(e=>e.unsubscribe())}catch(e){ae.warn("Failed to dispose",e)}}}var le=n(85),ue=n(250);class de{constructor(e,t,n,i,r,o,a,s,c,l,u,d,h){this._fieldIntegrationController=e,this._gnar=t,this._actions=n,this._state=i,this._emogenieService=r,this._felog=o,this._notifications=a,this._verbosePremiumService=s,this._editorId=c,this._domain=l,this._openPopupEditor=u,this._getCurrentAlerts=d,this._isGdocs=h,this._api=Object(le.b)(),this.isUnifiedFunnelExperiment=()=>this._state.view("user").get().anonymous,this.onSynonymsRequested=e=>{this._fieldIntegrationController.updateSynonymState(e)},this.onSynonymsHidden=()=>{this._fieldIntegrationController.updateSynonymState(null)},this.showDisablePopup=()=>{this._gnar.disableButtonClick("gButton"),this._fieldIntegrationController.updatePopupState({type:"disable",domain:this._domain})},this.close=()=>{this._fieldIntegrationController.closeExpandedGbutton()},this.seenClarityNotification=()=>{this._actions.seenClarityNotification()},this.processGbuttonHover=()=>{const{page:e}=this._state.get(),t=this._fieldIntegrationController.getLoginReminderState().get(),n=e.loginReminderType===ee.b.premium,i=this.shouldShowPremiumAlertsPopup?"loginReminder-alertsPreview":t===J.showOnHover?n?"loginReminder-premium":"loginReminder-free":"none";"none"!==i&&(setTimeout(()=>this.openPopup(i),700),"loginReminder-alertsPreview"===i&&this._fieldIntegrationController.updatePopupState({type:i,alerts:this._getCurrentAlerts(),isPremium:n}),this._fieldIntegrationController.setLoginReminderPopupState(J.opened)),t===J.disable&&(this._fieldIntegrationController.updateGbuttonHover(!0),this._emogenieService.actions.hidePopup())},this.processGbuttonBlur=()=>{this._fieldIntegrationController.updateGbuttonHover(!1)},this.processGbuttonClick=()=>{this._fieldIntegrationController.gbuttonClick()},this.disableLoginReminder=()=>{this._actions.disableLoginReminder(),this.closePopup(),this._fieldIntegrationController.setLoginReminderPopupState(J.disable),this._gnar.loginReminderDoNotShowThisAgainButtonClick("loginReminder")},this.closeLoginReminder=()=>{this._gnar.loginReminderCloseButtonClick("loginReminder"),this.closePopup(),this._fieldIntegrationController.setLoginReminderPopupState(J.disable)},this.openSignInDialogFromLoginReminder=()=>{this.closePopup(),this._fieldIntegrationController.setLoginReminderPopupState(J.disable),this._api.beginOAuth?this._api.beginOAuth():this.isUnifiedFunnelExperiment()?this.openSigninPage():V.emitFocusedTab("show-dialog",{caller:"loginReminder",shouldOpenLoginView:!0})},this.openPlanComparisonPageFromLoginReminderPopup=()=>{this._api.openSubscriptionDialog({currentAlerts:this._getCurrentAlerts(),isAnonymousUser:ee.a.getType(this._state.get().user)===ee.b.anonymous,showPlanComparison:!0,isFromEmail:!1,forceUtmCampaign:"premiumAlertsLoginReminderCta"}),this.closePopup()},this.uninstallExtension=this._actions.uninstallExtension,this.acceptDataControl=()=>{this._actions.acceptDataControl()},this.showOnboardingDialog=()=>{V.emitFocusedTab("show-dialog",{isOnboarding:!0}),this.closePopup()},this.closePopup=()=>{this._fieldIntegrationController.updatePopupType("none")},this.openPopup=e=>{this._fieldIntegrationController.updatePopupType(e)},this.showUnifiedLoginReminder=()=>{const{page:e}=this._state.get(),t=e.loginReminderType===ee.b.premium?"loginReminder-premium":"loginReminder-unifiedFunnel";this.openPopup(t)},this.onExpandedGButtonClick=(e,t)=>{const n=this._state.get().user.anonymous;n&&this._api.beginOAuth?this._api.beginOAuth():n&&this.isUnifiedFunnelExperiment()?this.showUnifiedLoginReminder():(this._openPopupEditor(null,null,ne.a.gButton),this._gnar.gButtonClick(this._editorId,t,e,"gButton"),this._felog.gButtonClick())},this.openFeedbackPopup=()=>{this.openPopup("gdocsFeedbackUI"),this._gnar.feedbackPopupShow()},this.openPopupEditorFromInlineCard=e=>{this._openPopupEditor(e,null,ne.a.card)},this.openPopupEditorFromSynonymCard=e=>{this._openPopupEditor(null,e,ne.a.card)},this.openUpgradePage=(e,t,n)=>{this._api.openSubscriptionDialog({currentAlerts:this._getCurrentAlerts(),isAnonymousUser:e===ee.b.anonymous,showPlanComparison:!1,isFromEmail:!1}),this._gnar.getPremiumButtonClick("buttonHover",n,t),this._felog.userUpgradeClick("buttonHover")},this.disableOnTab=()=>{this._actions.disableOnTab(),this._gnar.disableUntilNextVisitButtonClick("disablePopup",this._isGdocs?ue.a.gdocs:ue.a.other),this._felog.disableUntilNextVisit(),this.closePopup(),this._notifications.showDisableOnTab()},this.disableSite=()=>{this._actions.toggleSite(!1,this._domain),this._gnar.checkingToggleClick("gButton",this._isGdocs?ue.a.gdocs:ue.a.other,"off"),this._felog.toggleExtension(!1,"gButton"),this.closePopup(),this._notifications.showDisable()},this.openEmogeniePopup=()=>this._emogenieService.actions.showPopupOnClick(),this.openEmogenieUpgradeHookPopup=()=>this._emogenieService.upgradeHook.actions.showPopupOnClick(),this.continueWithFacebook=()=>this.openSigninPage(Object(z.e)("signupHook")),this.continueWithGoogle=()=>this.openSigninPage(Object(z.f)("signupHook")),this.continueWithEmail=()=>this.openSigninPage(Object(z.j)("signupHook","extensionGButton")),this.openSigninPage=(e=Object(z.i)())=>{this._api.beginOAuth?this._api.beginOAuth():window.open(e),this.closePopup()},this.onClosePreSendEmailPremiumPopup=e=>{this._verbosePremiumService.actions.onClosePreSendEmailPopup(),this.closePopup(),this._gnar.gmailPopupGmailPremiumPopupClose(e)},this.openPlanComparisonPageFromPopup=()=>{this._api.openSubscriptionDialog({currentAlerts:this._getCurrentAlerts(),isAnonymousUser:ee.a.getType(this._state.get().user)===ee.b.anonymous,showPlanComparison:!0,isFromEmail:!0,forceUtmCampaign:"gmailPopUp"}),this._verbosePremiumService.actions.onClosePreSendEmailPopup(),this.closePopup(),this._gnar.gmailPopupGmailPremiumPopupLearnMoreButtonClick("popup")},this.openPlanComparisonPageFromVerbosePremium=(e,t)=>{const n={currentAlerts:this._getCurrentAlerts(),isAnonymousUser:ee.a.getType(this._state.get().user)===ee.b.anonymous,showPlanComparison:!0,isFromEmail:!0};e===se.FreePremium?(this._api.openSubscriptionDialog(n),this._gnar.premiumPreviewPremiumPreviewNotificationClick(t)):(this._api.openSubscriptionDialog(Object.assign(Object.assign({},n),{forceUtmCampaign:"gmailPopUp"})),this._gnar.gmailPopupGmailPremiumNotificationClick(t))},this.onClickUpgradeFromLockedPremiumAlerts=e=>{this._api.openSubscriptionDialog({currentAlerts:this._getCurrentAlerts(),isAnonymousUser:ee.a.getType(this._state.get().user)===ee.b.anonymous,showPlanComparison:!0,isFromEmail:!1}),this._gnar.premiumPreviewPremiumPreviewUnlockClick(e)},this.onReplaceFreePremiumAlerts=()=>{this._verbosePremiumService.actions.onReplaceFreemiumAlerts(),this._gnar.premiumPreviewPremiumPreviewTransformClick()},this.clickClarityEnterpriseNotification=()=>{this._gnar.enterpriseSiteClarityNotificationClick(),window.open(Object(z.g)("clarityEnhancementsEnterprise"))},this.seenClarityEnterpriseNotification=()=>this._gnar.enterpriseSiteClarityNotificationShow(),this.clickEmogenieEnterpriseNotification=()=>{this._gnar.enterpriseSiteToneDetectorNotificationClick(),window.open(Object(z.g)("toneDetectorEnterprise"))},this.seenEmogenieEnterpriseNotification=()=>this._gnar.enterpriseSiteToneDetectorNotificationShow()}get shouldShowPremiumAlertsPopup(){const e=this._state.view("user").get();return ee.a.getType(e)===ee.b.anonymous&&e.experiments&&this._getCurrentAlerts().some(e=>!e.isFree)&&e.experiments.anonUsersPremiumAlertsGButtonPopup}}var he=n(52),pe=n(243),fe=n(444),me=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class ge{constructor(e,t,n,i,o,a,s,c,u,d){this._alertProcessor=e,this._alertCounts=t,this._contentService=n,this._selectionService=i,this._textObserver=o,this._textField=a,this._state=s,this._domain=c,this._popupEditorController=u,this._alertFilter=d,this._log=l.a.create(ge.name),this._currentSelection=null,this._subs=[(this._textField.ownerDocument?Object(r.a)(this._textField.ownerDocument,"selectionchange"):Object(he.b)()).pipe(Object(x.a)(null)).subscribe(e=>{try{this._textField.ownerDocument&&this._textField.ownerDocument.activeElement===this._textField&&(this._currentSelection=this._selectionService.getCurrentSelection(this._textObserver.getCurrentTextMap()))}catch(e){this._log.warn("failed to save cursor position",e)}})],this.openPopupEditor=(e,t,n,i)=>me(this,void 0,void 0,(function*(){if(ee.a.getType(this._state.get().user)===ee.b.anonymous&&n!==ne.a.gButton){const e=this._alertCounts.get();return void V.emitFocusedTab("show-dialog",{totalErrors:e.popupEditorSupported})}pe.a.instance.start();const r=t?{start:t.position,end:t.position+t.token.length}:this._currentSelection||{start:0,end:0},o={alerts:Array.from(this._alertProcessor.alerts.getAll()).filter(e=>f.a.isCapiAlert(e)&&this.isSupportedCapiAlert(e)),synonyms:t||void 0,selection:r,selectedAlertId:e,caller:n},a=(e,t)=>{const n=this._textObserver.getCurrentTextMap().getPlainText(),r={state:Object.assign({},e,{documentContent:n}),checkingService:i,errorMessage:t};this._popupEditorController.openUnsupportedPopupDialog(r)};if(null!==this._contentService)try{const e=yield this._contentService.exportContent();if("errorMessage"in e)return void a(o,e.errorMessage);const t={onPopupEditorClosed:t=>me(this,void 0,void 0,(function*(){yield this._contentService.importContent(t.documentContent);try{this._selectionService.setSelection(this._textObserver.getCurrentTextMap(),t.selection)}catch(e){this._log.error(`failed to restore selection from popup editor (${t.selection.start}, ${t.selection.end})`,e)}Array.from(this._alertProcessor.alerts.getAll()).filter(this._alertFilter).forEach(e=>this._alertProcessor.removeAlert(e.id)),e.volatile||t.alerts.filter(e=>Object(fe.a)(e)).forEach(e=>this._alertProcessor.addAlert(e)),this._alertProcessor.registerRemoteRevision(i.setText(this._textObserver.getCurrentTextMap().getPlainText()))})),state:Object.assign({},o,{documentContent:e.content,selection:e.volatile?{start:e.content.length,end:e.content.length}:o.selection,alerts:e.volatile?[]:o.alerts}),checkingService:i,userProfile:this._state.view(be).get(),extDomain:this._domain};this._popupEditorController.openPopupEditor(t)}catch(e){this._log.error("not able to show the popup editor, open unsupported dialog instead",e),a(o)}else a(o)}))}isSupportedCapiAlert(e){return Object(h.c)(e)&&(this._popupEditorController.supports(ne.b.vox)||e.group!==m.b.voxStyle)&&!e.isLockedPremium}dispose(){this._subs.forEach(e=>e.unsubscribe())}}function be(e){return{userId:e.user.id,dialect:e.page.dialectStrong||e.page.dialectWeak||"american",isFree:!e.user.premium}}var ve=n(0),_e=n(438);class ye extends ve.Component{constructor(){super(...arguments),this._hideAnim=!1,this._sub=null,this.state={hovered:!1}}componentDidMount(){this._sub&&this._sub.unsubscribe(),this._sub=this.props.isHovered.subscribe(e=>{this.state.hovered!==e&&this.setState({hovered:e})})}componentWillUnmount(){this._sub&&this._sub.unsubscribe()}render(){return this.props.rects&&this.props.rects.length>0?ve.createElement(ve.Fragment,null,this.props.rects.map((e,t)=>ve.createElement("div",{key:t?this.props.baseKey+t:this.props.baseKey,onAnimationEnd:()=>{this._hideAnim=!0},style:{top:e.top,left:e.left,width:e.width,height:Math.max(0,e.height+this.props.heightOffset)},className:`${_e.autocorrectHighlight} ${_e.autocorrectApplied}`+(this.state.hovered?" "+_e.hovered:"")+(this._hideAnim?" "+_e.noAnimation:"")}))):null}}const we=({highlights:e,alerts:t,highlightHeightOffset:n,getIsHovered:i})=>ve.createElement(C.F.Fragment,null,C.Atom.combine(e,t,(e,t)=>Object.keys(t).filter(n=>!!e[n]&&!!t[n]).map(n=>({alert:t[n],highlight:e[n]}))).view(e=>e.map(({highlight:e,alert:t})=>ve.createElement(ye,{key:e.alertId,rects:e.rects,isHovered:i(e.alertId).pipe(Object($.a)()),heightOffset:n,baseKey:e.alertId,originalText:t.replacement}))));var Ee=n(32),xe=n(328);class Oe extends ve.Component{componentDidMount(){this.props.actions.trackShowEmogenieButton()}render(){return ve.createElement("div",Object.assign({},Object(C.classes)(Ee.emojiButtonWrapper,this.props.showAnimation&&Ee.welcomeEmotionAnimation,this.props.isVisible?Ee.emojiButtonShow:Ee.emojiButtonHide)),ve.createElement(xe.a,{className:Ee.emojiPointer,onMouseEnter:()=>this.props.actions.showPopupOnHover()},this.props.emotion.emoji))}}var Se,Ce=n(349),je=n(411),ke=n(355),Te=n(370),Pe=n(410);!function(e){let t;!function(e){e.gbtn_to_checking="gbtn_to_checking",e.checking_to_gbtn="checking_to_gbtn",e.err_to_checking="err_to_checking",e.checking_to_err="checking_to_err",e.checking_1="checking_1",e.checking_2="checking_2",e.checking_3="checking_3",e.none="none"}(t=e.StepNames||(e.StepNames={})),e.checkDebounceTime=200;const n=[t.checking_1,t.checking_2,t.checking_3],i=e=>e===t.none;e.create=r=>{const c=C.Atom.create(t.none);return r.view("checking").pipe(Object(Te.a)(()=>Object(N.a)(i(c.get())?e.checkDebounceTime:1e3)),Object(A.a)(t=>{const r=c.get(),a=i(r),l=n.indexOf(r),u=-1===l?1:l+1;return t?Object(ke.a)(1e3).pipe(Object(s.a)(e=>e+(a?0:u+1)),Object(x.a)(a?-1:u)):Object(o.a)(null).pipe(Object(Ce.a)(1e3-e.checkDebounceTime))})).pipe(Object(a.a)(r.view("errors")),Object(A.a)(([e,i])=>null===e?Object(o.a)(i?t.checking_to_err:t.checking_to_gbtn).pipe(Object(Pe.a)(Object(o.a)(t.none).pipe(Object(Ce.a)(1e3)))):Object(o.a)(-1===e?i?t.err_to_checking:t.gbtn_to_checking:n[e%n.length]))).subscribe(e=>{c.modify(n=>n!==t.none||e!==t.checking_to_err&&e!==t.checking_to_gbtn?e:n)}),c}}(Se||(Se={}));var Ne=n(9),Ae=n(22);const Ie=e=>{return e.critical||" "};var Re=n(62),Fe=n(138);const Me=e=>{var t;const n=e.state,i=e.isPremiumSupported,r=n.userType===ee.b.premium,o=n.errors.critical,a=o>0&&!n.checking,s=n.offline,c=n.animationState||{},l=n.animationState&&!n.minimized,u=!n.emogenieUpgradeHookButtonVisible&&!n.verbosePremiumVisible&&!n.clarityHiddenIfEnterprise&&n.emogenieVisible&&n.siteSettings.isEnterprise&&!r,d=!n.emogenieUpgradeHookButtonVisible&&!n.verbosePremiumVisible&&(n.clarityHiddenIfEnterprise||n.clarityVisible&&!u),h=((e,t,n,i,r)=>r&&e&&!t&&n.plus>0||i)(r,a,n.errors,n.verbosePremiumVisible,i)&&!d&&!n.emogenieDotVisible,p=[Fe.gbutton,Object(Ne.c)({[Fe.disabled]:n.disabled,[Fe.minimized]:n.minimized,[Fe.errors]:a,[Fe.has_errors]:o>0,[Fe.errors_100]:o>99,[Fe.offline]:s,[Fe.checking]:n.checking&&!s&&!l,[Fe[String(l&&c.stepName)]]:!s&&l&&c.isRunning,[Fe.errors_checking]:o>0&&!s&&l&&c.isRunning,[Fe.disableTransition]:l,[Fe.enableTransition]:!l,[Fe.plus_only]:h,[Fe.login_reminder]:n.shouldShowLoginReminderBadge,[Fe.clarity]:d,[Fe.emogenie]:u})].join(" "),f=Ie(n.errors),m=Object(Re.i)()&&(null===(t=e.state.experiments)||void 0===t?void 0:t.gdocsPremiumInlineAlerts)?"Show enhancements":o?`Found ${o} ${Object(Ae.l)(o,["error","errors"])} in text`:"Protected by Grammarly",g=Object(Ne.b)(e.inlineStyle||{});return ve.createElement("div",{style:g,className:p},ve.createElement("div",{className:Fe.transform_wrap},ve.createElement("div",{title:m,className:Fe.status},f)))},De=({state:e,actions:t,isMinimizedBehavior:n,isPremiumSupported:i,zIndexBehavior:r,verbosePremiumVisible:a,emogenieDotVisible:c,emogenieVisible:l,emogenieUpgradeHookButtonVisible:u})=>{const d=e.view(e=>({checking:e.checking,errors:e.errors.critical>0})),h=e.view(e=>!!e.experiments&&(e.experiments.gButtonAnimation||e.experiments.fluidDogfood)).pipe(Object(A.a)(e=>e?Se.create(d):Object(o.a)(null)));return ve.createElement(C.F.div,Object.assign({style:{zIndex:r||void 0},onMouseLeave:()=>t.processGbuttonBlur(),onMouseEnter:()=>t.processGbuttonHover(),onClick:()=>t.processGbuttonClick()},Object(C.classes)(n.pipe(Object(s.a)(e=>e?Fe.wrapperMinimizedNewLayout:void 0)))),Object(w.b)(e,n,e.view(e=>e.checking).pipe(Object(je.a)(Se.checkDebounceTime)),h.pipe(Object(s.a)(e=>e?{stepName:e,isRunning:e!==Se.StepNames.none}:null)),a,c||Object(o.a)(!1),l||Object(o.a)(!1),u||Object(o.a)(!1),({offline:e,userType:t,errors:n,experiments:r,shouldShowLoginReminderBadge:o,dataControl:a,visible:s,clarityVisible:c,clarityHiddenIfEnterprise:l,edcBlocked:u,siteSettings:d},h,p,f,m,g,b,v)=>{const _=a===Z.a.active||u;return s?ve.createElement(Me,Object.assign({},{state:{disabled:_,offline:e,experiments:r,checking:p,userType:t,minimized:h,shouldShowLoginReminderBadge:o,errors:n,animationState:f,clarityVisible:c,clarityHiddenIfEnterprise:l,verbosePremiumVisible:m,emogenieDotVisible:g,siteSettings:d,emogenieVisible:b,emogenieUpgradeHookButtonVisible:v},isPremiumSupported:i,inlineStyle:{}})):null}).pipe(Object(x.a)(null)))};const Le=e=>{const{emotion:t,hideEmotion:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["emotion","hideEmotion"]),r=e.emotion.view(e=>e&&{name:e.name,emoji:e.emoji}).pipe(Object($.a)((e,t)=>!!e&&!!t&&e.name===t.name)),c=(e,t)=>Object(o.a)(e).pipe(Object(Ce.a)(100),Object(x.a)(t));return ve.createElement(C.F.div,Object.assign({},Object(C.classes)(Ee.emogenieWrapper,r.pipe(Object(s.a)(e=>e?Ee.emogenieWrapperShow:void 0)),n.pipe(Object(s.a)(e=>e?Ee.emogenieWrapperHide:void 0)))),r.pipe(Object(s.a)(e=>!!e&&ve.createElement(ve.Fragment,null,ve.createElement(C.F.div,Object.assign({key:"dot"},Object(C.classes)(Ee.emogenieDot,c(Ee.emogenieDotAnimation,Ee.emogenieDotHide)))),ve.createElement(C.F.div,Object.assign({key:"emoji"},Object(C.classes)(Ee.emogenieEmoji,c(Ee.emogenieEmojiAnimation))),ve.createElement(xe.a,null,e.emoji))))),ve.createElement(C.F.div,Object.assign({key:"gbutton"},Object(C.classes)(Ee.emogenieGButton,r.pipe(Object(a.a)(n),Object(W.a)(([e,t])=>!t),Object(A.a)(([e])=>e?c(Ee.emogenieGButtonAnimation):Object(o.a)(void 0))))),ve.createElement(De,Object.assign({},i,{emogenieDotVisible:r.pipe(Object(s.a)(e=>!!e))}))))};var Be;!function(e){e.like="like",e.dislike="dislike",e.none="none"}(Be||(Be={}));const Ue=({value:e,onClick:t})=>ve.createElement("div",Object.assign({},Object(C.classes)(Ee.checkbox,e&&Ee.checkboxActive),{onClick:t})),He=({onClick:e})=>ve.createElement("div",{className:Ee.close,onClick:e}),Ve=({className:e,text:t})=>ve.createElement("span",Object.assign({},Object(C.classes)(e,Ee.labelBeta)),t||"BETA"),ze=({text:e})=>ve.createElement("span",{className:Ee.label},"GRAMMARLY TONE Detector ",ve.createElement(Ve,{className:Ee.labelBetaWrapper,text:e})),Ge=({onClick:e,hasValue:t,isClickable:n,isDown:i})=>ve.createElement("div",Object.assign({},Object(C.classes)(Ee.thumbsWrapper,i&&Ee.thumbsIsDown,n&&Ee.thumbsHovered,t&&Ee.thumbsActive),{onClick:()=>n&&e()}),ve.createElement("svg",{className:Ee.thumbs,width:"15",height:"13"},ve.createElement("path",{d:"M15 6v1.25c0 .19-.04.38-.11.55l-2.26 4.29c-.23.53-.76.91-1.38.91H5.5c-.83 0-1.5-.67-1.5-1.5V6c0-.41.17-.79.44-1.06L9.38 0l.79.79c.2.21.33.49.33.8l-.02.23L9.82 5H14c.55 0 1 .45 1 1zM1 5h1a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z"}))),We=e=>ve.createElement("span",{className:Ee.tooltip},e.value),$e=({report:e,actions:t,showClose:n,emotionsPoll:i,showEmoji:r,hideEmojiSetting:o,hideWelcomeNotification:a})=>ve.createElement("div",{className:Ee.popupWrapper,onMouseLeave:()=>!n&&t.hidePopup()},ve.createElement("div",Object.assign({},Object(C.classes)(Ee.popup,a?Ee.popupHideNotification:Ee.popupShowNotification)),ve.createElement("div",{className:Ee.topIconsPannel},n&&ve.createElement(He,{onClick:()=>t.hidePopup()})),!a&&ve.createElement("div",{className:Ee.popupNotification},ve.createElement("div",{className:Ee.popupContent},ve.createElement(ze,{text:"NEW"}),ve.createElement("span",{className:Ee.popupSubTitle},"How do you want to sound?",ve.createElement("br",null),"Analyze your tone before you hit send!"))),ve.createElement("div",{className:Ee.popupContent},a&&ve.createElement(ze,null),ve.createElement("span",{className:Ee.popupTitle},"Here’s how your text sounds"),ve.createElement("span",{className:Ee.popupSubTitle},e.emotions.length>1?"Which tones did we get right?":"Did we get it right?")),ve.createElement("div",{className:Ee.popupEmotions},ve.createElement("div",{className:Ee.emotionWrapper},e.emotions.map((e,n)=>{const r=i[e.name]===Be.none||!i[e.name];return ve.createElement("div",{key:n,className:Ee.emotion},ve.createElement(xe.a,{className:Ee.emotionEmoji},e.emoji),ve.createElement("span",{className:Ee.emotionName},e.name),ve.createElement("div",{className:Ee.emotionIntensity},ve.createElement("div",{className:Ee.emotionIntensityWrapper},ve.createElement(We,{value:`${e.prevalence} intensity`}),Array.from(Array(5).keys()).map(t=>{const n=t/5<=e.confidence;return ve.createElement("div",Object.assign({key:t},Object(C.classes)(Ee.emotionIntensityItem,n&&Ee.emotionIntensityActive)))}))),ve.createElement("div",{className:Ee.emotionPoll},ve.createElement(We,{value:"Tone is detected correctly"}),ve.createElement(Ge,{isClickable:r,hasValue:i[e.name]===Be.like,onClick:()=>t.likeEmotion(e.name)})),ve.createElement("div",{className:Ee.emotionPoll},ve.createElement(We,{value:"Tone is detected incorrectly"}),ve.createElement(Ge,{isDown:!0,isClickable:r,hasValue:i[e.name]===Be.dislike,onClick:()=>t.dislikeEmotion(e.name)})))}))),ve.createElement("div",{className:Ee.popupContent},!!e.recommendation&&ve.createElement("span",Object.assign({},Object(C.classes)(Ee.popupText,Ee.popupRecommendation)),e.recommendation)),!o&&ve.createElement("div",{className:Ee.popupReportCheckbox,onClick:()=>t.setShowEmojiState(!r)},ve.createElement("span",{className:Ee.checkboxWrapper},ve.createElement(Ue,{value:r})),ve.createElement("span",{className:Ee.popupText},"Always show emoji for detected tones")))),qe=e=>ve.createElement(C.F.div,Object.assign({},Object(C.classes)(Ee.wrapper,e.state.view("settings","showPopup").view(e=>e?Ee.wrapperShow:Ee.wrapperHide))),e.state.view(({settings:t,report:n,emotionsPoll:i})=>n&&Array.isArray(n.emotions)&&ve.createElement($e,{report:n,hideEmojiSetting:e.hideEmojiSetting,actions:e.actions,showClose:t.showClose,showEmoji:t.showEmoji,hideWelcomeNotification:t.hideWelcomeNotification,emotionsPoll:i})));class Ye extends ve.Component{componentDidMount(){this.props.actions.trackEmojiShow()}render(){return ve.createElement("div",Object.assign({},Object(C.classes)(Ee.emojiButtonWrapper,this.props.isVisible?Ee.emojiButtonShow:Ee.emojiButtonHide),{onMouseEnter:()=>this.props.actions.showPopupOnHover()}),ve.createElement(Ke,null))}}const Ke=()=>ve.createElement("div",Object.assign({},Object(C.classes)(Ee.priority,Ee.mouthless)));var Qe=n(26);const Xe=()=>ve.createElement("svg",{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve.createElement("path",{d:"M1 8L5 12L16 1",stroke:"#15C39A",strokeWidth:"2"})),Je=()=>ve.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve.createElement("path",{d:"M12.9497 3.05025C15.6834 5.78392 15.6834 10.2161 12.9497 12.9497C10.2161 15.6834 5.78392 15.6834 3.05025 12.9497M12.9497 3.05025C10.2161 0.316582 5.78392 0.316582 3.05025 3.05025C0.316582 5.78392 0.316582 10.2161 3.05025 12.9497M12.9497 3.05025L3.05025 12.9497",stroke:"#EA1537",strokeWidth:"1.5"})),Ze=()=>ve.createElement("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve.createElement("path",{d:"M0.5 0.5L6 6L0.5 11.5",stroke:"white",strokeLinecap:"round"}));var et=n(102);const tt=e=>ve.createElement(C.F.div,Object.assign({},Object(C.classes)(et.wrapper,e.state.view("popupShow").view(e=>e?et.wrapperShow:et.wrapperHide))),C.Atom.combine(e.state,e.siteSetting,(t,n)=>ve.createElement(nt,{actions:e.actions,siteName:n.domainName,showClose:t.showClose}))),nt=({showClose:e,actions:t,siteName:n})=>ve.createElement("div",{className:et.popupWrapper,onMouseLeave:()=>!e&&t.hidePopup()},ve.createElement("div",Object.assign({},Object(C.classes)(et.popup,e&&et.showClose)),e&&ve.createElement("div",{className:et.topIconsPannel},ve.createElement(He,{onClick:()=>t.hidePopup()})),ve.createElement("div",{className:et.popupContent},ve.createElement("span",{className:et.label},"GRAMMARLY TONE Detector"),ve.createElement("span",{className:et.popupTitle},"Tone detection is only available for Premium users on"," ",n?ve.createElement("span",Object.assign({},Object(C.classes)(et.popupTitle,et.popupTitleHighlight)),n):"this site"),ve.createElement("div",{className:et.comparison},ve.createElement("div",{className:et.comparisonColumn},ve.createElement("span",{className:et.comparisonTitle},"Premium"),ve.createElement("div",{className:et.comparisonContent},ve.createElement(Xe,null),ve.createElement("span",{className:et.comparisonSubtitle},"All sites"))),ve.createElement("div",{className:et.comparisonColumn},ve.createElement("span",{className:et.comparisonTitle},"Free"),ve.createElement("div",{className:et.comparisonContent},ve.createElement(Je,null),ve.createElement("span",Object.assign({},Object(C.classes)(et.comparisonSubtitle,et.comparisonSubtitleUnderline),{onMouseEnter:()=>t.trackHoverLimitedSite()}),"Limited sites"),ve.createElement("div",{className:et.tooltip},"Tone detection is not included with a free Grammarly account on certain business websites and platforms.")))),ve.createElement(Qe.a,{clickHandler:()=>t.followCTA()},ve.createElement("button",{className:et.button},ve.createElement("span",{className:et.buttonText},"Unlock Premium"),ve.createElement(Ze,null))),!e&&ve.createElement(Qe.a,{clickHandler:()=>t.dismissPopup()},ve.createElement("button",{className:et.dismiss},"Dismiss for a while")))));var it=n(36),rt=n(83);const ot=({count:e,type:t,label:n})=>{const i=e&&e>0?e:0,r=Object(C.classes)(rt.btn,rt["btn_"+t],i>0&&rt.counter,i>99&&rt.counter100);return ve.createElement("div",Object.assign({},r,{tabIndex:-1}),i>0?i:null,n||null)},at=e=>ve.createElement("div",{className:rt.itemArea,onMouseOver:()=>{e.toolTip&&e.toolTip.subject.next({text:e.toolTip.text,type:e.type})},onMouseLeave:()=>{e.toolTip&&e.toolTip.subject.next(null)}},ve.createElement(Qe.a,{clickHandler:e.onClick||c.n},e.children)),st=e=>ve.createElement(at,Object.assign({},e),ve.createElement(ot,Object.assign({},e)));class ct extends ve.Component{constructor(e){super(e),this._timeout=null,this.state={displayNotification:!1}}componentDidMount(){this.props.showNotification&&(this._timeout=setTimeout(()=>{this.setState({displayNotification:!0}),this.props.seenNotification()},c.e.seconds(.3)))}componentWillUnmount(){null!==this._timeout&&clearTimeout(this._timeout)}render(){return ve.createElement(ve.Fragment,null,this.state.displayNotification?ve.createElement(lt,null):null,ve.createElement(at,Object.assign({},Object.assign(Object.assign({},this.props),{toolTip:!this.state.displayNotification&&this.props.toolTip||void 0})),ve.createElement(ve.Fragment,null,ve.createElement("span",{className:rt.clarity_text},this.props.text),ve.createElement(ot,Object.assign({},this.props)))))}}const lt=()=>ve.createElement(C.F.div,{className:rt.clarityNotification},ve.createElement("div",{className:rt.notificationNew},"NEW"),ve.createElement("span",{className:rt.notificationText},"Clarity suggestions make your writing easier to understand."));class ut extends ve.Component{componentDidMount(){this.props.seenNotification()}render(){const e=this.props.domainName||document.location.hostname;return ve.createElement("div",{className:rt.enterprise,onClick:this.props.onClick},ve.createElement("div",{className:rt.enterpriseWrapper},ve.createElement("span",{className:"clarityEnterprise"===this.props.type?rt.enterpriseClarityCircle:rt.enterpriseEmogenieCircle}),ve.createElement("span",{className:rt.enterpriseText},this.props.text," ",e.length>15?"this  site":e),ve.createElement("div",{className:rt.enterpriseArrow}),ve.createElement("span",{className:rt.line})))}}var dt=n(520);const ht=({count:e,type:t,scale:n=1})=>ve.createElement("div",{className:Object(Ne.c)(dt.counter,dt[t]),style:{transform:`scale(${n})`}},e),pt=({count:e,scale:t})=>ve.createElement(ht,{count:e,scale:t,type:"premium"});var ft=n(276);const mt=({isVisible:e,count:t,openPlanComparisonPage:n,style:i})=>ve.createElement("div",{className:Object(Ne.c)(ft.popupWrapper,e?ft.show:ft.hide),style:i},ve.createElement(bt,{count:t,openPlanComparisonPage:n,showArrow:!0})),gt=({count:e,openPlanComparisonPage:t})=>ve.createElement("div",{className:ft.expandedGbuttonWrapper},ve.createElement(bt,{count:e,openPlanComparisonPage:t,showArrow:!1})),bt=({count:e,openPlanComparisonPage:t,showArrow:n})=>ve.createElement("div",{className:ft.verbosePremium,onClick:t},ve.createElement("div",{className:ft.panel},ve.createElement(pt,{count:e})," Advanced ",e>1?"issues":"issue"," found",ve.createElement("div",{className:Object(Ne.c)(ft.arrow,{[ft.arrowVisible]:n})},"▲"),ve.createElement("div",{className:ft.mask})));function vt(e){return e.pipe(Object(s.a)(e=>Object(Ne.c)({[rt.tooltip]:!0,[rt.tooltip_visible]:!!e,[rt.tooltip_hidden]:!e},e?rt["tooltip_"+e.type]:null)))}function _t(e){const{state:t,isMinimized:n}=e,i=t.userType===ee.b.premium,r=t.userType===ee.b.anonymous;return Object(Ne.c)({[rt.expanded]:!0,[rt.premium]:i,[rt.anonymous]:r,[rt.checking]:t.checking,[rt.critical]:!!t.errors.critical,[rt.plus]:!!t.errors.plus,[rt.minimized]:n})}const yt=({actions:e,isPremiumSupported:t,isGdocs:n,state:i,isMinimizedBehavior:r,emogenieState:o,emogenieUpgradeHookButtonVisible:a,verbosePremiumState:s})=>{const l=ve.useCallback(t=>()=>{e.close(),t()},[e]);return ve.createElement(C.F.div,{onMouseLeave:l(c.n)},Object(w.b)(i,r,o,a,s,(i,r,o,a,s)=>i.visible?ve.createElement(wt,Object.assign({},{state:i,isMinimized:r,emogenieState:o,emogenieUpgradeHookButtonVisible:a,isPremiumSupported:t,isGdocs:n,showDisablePopup:l(e.showDisablePopup),openPopupEditor:l(()=>e.onExpandedGButtonClick(i.errors.critical,i.errors.plus)),openFeedbackPopup:l(()=>e.openFeedbackPopup()),openUpgradePage:l(()=>e.openUpgradePage(i.userType,i.errors.critical,i.errors.plus)),openEmogeniePopup:l(e.openEmogeniePopup),openEmogenieUpgradeHookPopup:l(e.openEmogenieUpgradeHookPopup),seenClarityNotification:e.seenClarityNotification,clickClarityEnterpriseNotification:l(()=>e.clickClarityEnterpriseNotification()),seenClarityEnterpriseNotification:e.seenClarityEnterpriseNotification,clickEmogenieEnterpriseNotification:l(()=>e.clickEmogenieEnterpriseNotification()),seenEmogenieEnterpriseNotification:e.seenEmogenieEnterpriseNotification,showVerbosePremium:s.isEnabled&&s.isVisible,openPlanComparisonPage:l(()=>e.openPlanComparisonPageFromVerbosePremium(s.source,"menu"))})):null))},wt=e=>{const{state:t,isPremiumSupported:n,showVerbosePremium:i,openPlanComparisonPage:r}=e,{errors:a}=t,c=e.state.userType===ee.b.anonymous?"Log in to enable personalized\nchecks and other features":"Edit in Grammarly",l=new it.a,u=e=>({text:e,subject:l}),d=t.userType===ee.b.premium,h=function(e){return e.pipe(Object(A.a)(e=>e?Object(o.a)(e).pipe(Object(Ce.a)(1350)):Object(o.a)(e)),Object(x.a)(null))}(l),p=h.pipe(Object(s.a)(e=>e?e.text:"")),f=!e.isGdocs&&n&&a.plus>0&&(i||!t.clarityVisible),m=Ie(a),g="string"==typeof m?void 0:m,b=t=>{e.openPopupEditor()};return ve.createElement("div",{className:_t(e)},ve.createElement(C.F.div,{className:vt(h)},p),ve.createElement("div",{className:rt.panel},ve.createElement(st,{type:"disable",toolTip:u("Disable on this website"),onClick:t=>{e.showDisablePopup()}}),ve.createElement("div",{className:rt.line}),e.isGdocs&&ve.createElement(st,{key:"feedback",type:"feedback",onClick:t=>{e.openFeedbackPopup()},label:"Feedback"}),!i&&(t.clarityHiddenIfEnterprise&&!e.emogenieUpgradeHookButtonVisible?ve.createElement(ut,{type:"clarityEnterprise",text:"Go Premium for clarity suggestions on",domainName:t.siteSettings.domainName,seenNotification:e.seenClarityEnterpriseNotification,onClick:e.clickClarityEnterpriseNotification}):e.emogenieState.isVisibleInExpendedMenu||!e.emogenieState.prevalentEmotion||e.emogenieUpgradeHookButtonVisible||d||!t.siteSettings.isEnterprise?t.clarityVisible&&ve.createElement(ct,{type:"clarity",toolTip:u("Edit in Grammarly"),count:e.state.errors.freeClarity,showNotification:e.state.showClarityNotification,seenNotification:e.seenClarityNotification,onClick:b,text:"Clarity enhancements"}):ve.createElement(ut,{type:"emogenieEnterprise",text:"Go Premium to check your tone on",domainName:t.siteSettings.domainName,seenNotification:e.seenEmogenieEnterpriseNotification,onClick:e.clickEmogenieEnterpriseNotification})),e.emogenieState.isVisibleInExpendedMenu&&e.emogenieState.prevalentEmotion&&ve.createElement(st,{type:"emogenie",onClick:t=>{e.openEmogeniePopup()},label:ve.createElement(xe.a,null,e.emogenieState.prevalentEmotion.emoji)})||e.emogenieUpgradeHookButtonVisible&&ve.createElement(st,{type:"emogenieUpgradeHook",onClick:t=>{e.openEmogenieUpgradeHookPopup()},label:ve.createElement(Ke,null)}),f&&(i?ve.createElement(ve.Fragment,null,e.emogenieState.prevalentEmotion&&ve.createElement("div",{className:Object(Ne.c)(rt.line,rt.padLeft)}),ve.createElement(gt,{count:e.state.errors.plus,openPlanComparisonPage:r}),ve.createElement("div",{className:rt.line})):ve.createElement(st,{type:"premium",count:e.state.errors.plus,toolTip:u(t.userType===ee.b.premium?"See advanced corrections":"Upgrade to make advanced corrections"),onClick:n=>{t.userType===ee.b.premium?e.openPopupEditor():e.openPlanComparisonPage()}})),e.isGdocs?ve.createElement(st,{type:"gdocsInfo",count:g,onClick:b}):ve.createElement(st,{type:"grammarly",count:g,toolTip:u(c),onClick:b})))};var Et=n(414),xt=n(207),Ot=n(577),St=n(469),Ct=n(274),jt=n(25),kt=n.n(jt);class Tt extends ve.Component{constructor(){super(...arguments),this.cancel=()=>this.props.remove()}render(){return ve.createElement("div",{className:Object(Ne.c)(jt.gButtonPopup,jt.disable,{[jt.gdocs]:this.props.gdocsView}),style:this.props.styles},ve.createElement("p",{className:jt.text},"Disable Grammarly ",ve.createElement("br",null)," on ",ve.createElement("span",{className:jt.bold},this.props.domain),"?"),this.props.gdocsView?ve.createElement(()=>ve.createElement(ve.Fragment,null,ve.createElement(Ct.a,{cls:"disable",styles:{width:208},text:"yes, disable",onClick:()=>this.props.disableSite()}),ve.createElement(Qe.a,{clickHandler:()=>this.cancel()},ve.createElement("button",{className:jt.link},"no, keep it working"))),null):ve.createElement(()=>ve.createElement(ve.Fragment,null,ve.createElement(Ct.a,{cls:"disable",styles:{width:208},text:"Disable until next visit",onClick:()=>this.props.disableOnTab()}),ve.createElement(Ct.a,{cls:"disable",styles:{width:208},text:"Disable Forever",onClick:()=>this.props.disableSite()}),ve.createElement(Qe.a,{clickHandler:()=>this.cancel()},ve.createElement("button",{className:jt.link},"keep it working"))),null),ve.createElement(Qe.a,{clickHandler:()=>this.cancel()},ve.createElement("button",{className:jt.close})))}}var Pt=n(124),Nt=n(53);class At extends ve.Component{constructor(){super(...arguments),this.cancel=()=>{this.props.remove()}}componentDidMount(){Nt.a.loginReminderPopupShow(),Object(Pt.a)().loginReminderPopupShow()}renderFreeLayout(){return ve.createElement("div",null,ve.createElement("div",{className:jt.title},"Looks like you got signed out!"),ve.createElement("div",{className:jt.text},"In order to continue receiving",ve.createElement("br",null)," your personalized Grammarly",ve.createElement("br",null)," suggestions, please sign back in."))}renderPremiumLayout(){return ve.createElement("div",null,ve.createElement("div",{className:jt.title},"You’re missing out on your",ve.createElement("br",null)," Grammarly Premium features."),ve.createElement("div",{className:Object(Ne.c)(jt.text,jt.subtitle)},"Sign back in to receive"),ve.createElement("ul",{className:jt.list},ve.createElement("li",{className:jt.listItem},"Advanced grammar checks"),ve.createElement("li",{className:jt.listItem},"Vocabulary enhancements")))}render(){const{isFlipped:e,reminderType:t}=this.props,n=Object(Ne.c)(jt.gButtonPopup,jt.loginReminder,jt[t],e&&jt.isFlipped);return ve.createElement("div",{className:n,style:this.props.styles},"free"===this.props.reminderType?this.renderFreeLayout():this.renderPremiumLayout(),ve.createElement(Ct.a,{styles:{width:208,color:"#15C39A"},text:"Sign back in",onClick:this.props.openSignInDialogFromLoginReminder}),ve.createElement(Qe.a,{clickHandler:this.props.disableLoginReminder},ve.createElement("button",{className:Object(Ne.c)(jt.secondary)},"Don’t show this again")),ve.createElement(Qe.a,{clickHandler:()=>{this.props.closeLoginReminder(),this.cancel()}},ve.createElement("button",{className:jt.close})),ve.createElement("div",{className:Object(Ne.c)(jt.popupFooter,e&&jt.isFlipped)},"▲"))}}class It extends ve.Component{constructor(){super(...arguments),this.cancel=()=>{this.props.remove()}}componentDidMount(){Nt.a.onboardingPopupShow(),Object(Pt.a)().onboardingPopupShow()}render(){return ve.createElement("div",{className:Object(Ne.c)(jt.gButtonPopup,jt.onboarding),style:this.props.styles},ve.createElement("p",{className:jt.title},"Grammarly is Now Active"),ve.createElement("p",{className:jt.text},"Want to see how it works?"),ve.createElement(Ct.a,{cls:"onboarding",styles:{width:"180px"},text:"take a quick tour",onClick:()=>this.props.openOnboardingDialog()}),ve.createElement(Qe.a,{clickHandler:()=>{Nt.a.onboardingPopupCloseButtonClick("onboardingPopup"),Object(Pt.a)().onboardingPopupCancel(),this.cancel()}},ve.createElement("button",{className:jt.link},"No, thanks")),ve.createElement("div",{className:Object(Ne.c)(jt.popupFooter,this.props.isFlipped&&jt.isFlipped)},"▲"))}}const Rt=2;class Ft extends ve.Component{constructor(){super(...arguments),this.alerts=this.getCurrentlyHiddenAlerts()}componentDidMount(){const e=this.alerts.reduce((e,t)=>e+t.count,0);Nt.a.premiumAlertsLoginReminderPopupShow(e),Object(Pt.a)().premiumAlertsLoginReminderPopupShow()}getCurrentlyHiddenAlerts(){const{alerts:e}=this.props.state;if(e.length<1)return[];const t=e.filter(e=>!e.isFree).reduce((e,t)=>(e[t.categoryHuman]=(e[t.categoryHuman]||0)+1,e),Object.create(null)),n=Object.keys(t).map(e=>({type:e,count:t[e]})).sort((e,t)=>t.count-e.count);if(n.length<=Rt)return n;const i={type:"More Advanced Alerts",count:n.slice(Rt).reduce((e,t)=>e+t.count,0)};return[...n.slice(0,Rt),i]}renderAlerts(){return ve.createElement("div",{className:jt.alertsContainer},this.alerts.map(e=>ve.createElement("div",{className:jt.alertContent},ve.createElement("div",{className:jt.alertCount},e.count),ve.createElement("div",{className:jt.alertName},e.type))))}learnMoreCTA(){return ve.createElement(Qe.a,{clickHandler:()=>{Nt.a.premiumAlertsLoginReminderPopupCtaButtonClick("learn-more","premiumAlertsLoginReminder"),this.props.openPlanComparisonPageFromLoginReminderPopup()}},ve.createElement("button",{className:jt.orangeCtaButton},"Learn More"))}signInCTA(){return ve.createElement(Qe.a,{clickHandler:()=>{Nt.a.premiumAlertsLoginReminderPopupCtaButtonClick("sign-in","premiumAlertsLoginReminder"),this.props.openSignInDialogFromLoginReminder()}},ve.createElement("button",{className:jt.orangeCtaButton},"Sign Back In"))}renderFreeFooter(){return ve.createElement(ve.Fragment,null,ve.createElement("div",{className:jt.subtitle},"Upgrade to Premium to fix these issues and unlock even more checks and features."),this.learnMoreCTA())}renderPremiumFooter(){return ve.createElement(ve.Fragment,null,ve.createElement("div",{className:jt.subtitle},"Sign back in to fix these issues and unlock even more checks and features."),this.signInCTA())}render(){const{isFlipped:e}=this.props,t=Object(Ne.c)(jt.gButtonPopup,jt.alertsHighlightPopup,e&&jt.isFlipped);return ve.createElement("div",{className:t,style:this.props.styles},ve.createElement("div",{className:jt.title},"Grammarly Premium Issues Found"),this.renderAlerts(),this.props.state.isPremium?this.renderPremiumFooter():this.renderFreeFooter(),ve.createElement(Qe.a,{clickHandler:this.props.disableLoginReminder},ve.createElement("button",{className:Object(Ne.c)(jt.secondary)},"Don’t show this again")),ve.createElement(Qe.a,{clickHandler:()=>{this.props.closeLoginReminder(),this.props.remove()}},ve.createElement("button",{className:jt.close})),ve.createElement("div",{className:Object(Ne.c)(jt.popupFooter,e&&jt.isFlipped)},"▲"))}}var Mt=n(311),Dt=n(209);const Lt=({isFlipped:e,styles:t,onClosePreSendEmailPremiumPopup:n,openPlanComparisonPageFromPopup:i,alerts:r})=>ve.createElement(C.F.div,null,r.view(e=>Object(Mt.a)(e.filter(e=>!e.isFree))).view(r=>ve.createElement(Bt,{isFlipped:e,styles:t,onClosePreSendEmailPremiumPopup:n,openPlanComparisonPageFromPopup:i,friendlyGroupedLensAlerts:r})));class Bt extends ve.Component{componentDidMount(){this.documentClickSub=Object(r.a)(document,"click").subscribe(e=>!this.refs.popup.contains(e.target)&&e&&e.target&&!e.target.closest("grammarly-extension-before-send-hook")&&this.props.onClosePreSendEmailPremiumPopup("auto"))}componentWillUnmount(){this.documentClickSub.unsubscribe()}render(){const{isFlipped:e,onClosePreSendEmailPremiumPopup:t,openPlanComparisonPageFromPopup:n,friendlyGroupedLensAlerts:i}=this.props,r=i.length>3?i.slice(0,2).concat({friendName:"more...",lensName:"more...",free:i.slice(2).reduce((e,t)=>e+t.free,0),premium:i.slice(2).reduce((e,t)=>e+t.premium,0)}):i;return ve.createElement("div",{ref:"popup",className:Dt.preSendEmailPremiumPopup,style:this.props.styles},ve.createElement("p",{className:Dt.header},"Grammarly For Gmail"),ve.createElement("p",{className:Dt.title},"Are you sure you want to send this email with these advanced issues?"),ve.createElement("div",{className:Dt.text},r.slice(0,3).map(e=>ve.createElement("div",{className:Dt.category,key:e.friendName},ve.createElement(pt,{count:e.premium,scale:.85}),ve.createElement("span",{className:Dt.name,title:e.friendName},e.friendName)))),ve.createElement("div",{className:Dt.buttons},ve.createElement(Qe.a,{clickHandler:n},ve.createElement("button",{className:Object(Ne.c)(Dt.button,Dt.upgrade)},"Learn more")),ve.createElement(Qe.a,{clickHandler:()=>t("user")},ve.createElement("button",{className:Object(Ne.c)(Dt.button,Dt.close)},"Dismiss for a while"))),ve.createElement("div",{className:Object(Ne.c)(Dt.popupFooter,e&&Dt.isFlipped)},"▲"))}}var Ut=n(333),Ht=n(161);class Vt extends ve.Component{componentDidMount(){Nt.a.loginReminderPopupShow(),Object(Pt.a)().loginReminderPopupShow()}render(){const{isFlipped:e}=this.props,t=Object(Ne.c)(Ht.unifiedFunnel,e&&Ht.isFlipped);return ve.createElement("div",{className:t,style:this.props.styles},ve.createElement("span",{className:Ht.title},"You’re missing out on key",ve.createElement("br",null),"Grammarly features!"),ve.createElement("span",{className:Ht.sub},"Sign up to:"),["Get Grammarly for Google Docs Beta","Toggle Grammarly for any website","Start your personalized dictionary"].map((e,t)=>ve.createElement("div",{className:Ht.itemWrapper,key:t},ve.createElement("span",{className:Ht.check},ve.createElement("span",{className:Ht.mark})),ve.createElement("span",{className:Ht.item},e))),ve.createElement(Ut.b,{className:Object(Ne.c)(Ht.button,Ht.fb),onClick:()=>this.props.continueWithFacebook()}),ve.createElement(Ut.c,{className:Ht.button,onClick:()=>this.props.continueWithGoogle()}),ve.createElement(Ut.a,{className:Ht.button,onClick:()=>this.props.continueWithEmail()}),ve.createElement("div",{className:Ht.login},"Already have an account?"," ",ve.createElement(Qe.a,{clickHandler:()=>this.props.openSigninPage()},ve.createElement("span",{className:Ht.link},"Log in"))),ve.createElement(Qe.a,{clickHandler:()=>this.props.remove()},ve.createElement("button",{className:Ht.close})),ve.createElement("div",{className:Object(Ne.c)(Ht.popupFooter,e&&Ht.isFlipped)},"▲"))}}var zt=n(515),Gt=n(462);const Wt=({text:e,children:t,className:n,style:i,delay:r})=>{const[o,a]=ve.useState(!1),[s,c]=ve.useState(!1),l=ve.useRef(null);return ve.useEffect(()=>(o||null===l.current||clearTimeout(l.current),o?l.current=setTimeout(()=>{l.current=null,c(o)},null!=r?r:500):c(!1),()=>{null!==l.current&&clearTimeout(l.current)}),[o]),ve.createElement("div",{style:{position:"relative"},onMouseOver:()=>a(!0),onMouseLeave:()=>a(!1)},ve.createElement("div",{style:i||{},className:Object(Ne.c)(Gt.tooltip,{[Gt.tooltipVisible]:s,[Gt.tooltipHidden]:!s},n)},e),t)};var $t=n(78),qt=n.n($t);function Yt(e,t){return t.reduce((t,n)=>t+(e(n)?1:0),0)}const Kt=e=>{var{styles:t,state:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["styles","state"]);const r=ve.useCallback(()=>{i.close(),i.openFeedbackPopup()},[]),o=ve.useCallback(()=>{i.close(),i.openDisablePopup()},[]);return ve.createElement(C.F.div,{className:Object(Ne.c)(kt.a.gButtonPopup,qt.a.enhancementsPopup),style:t},ve.createElement(C.F.div,{className:qt.a.popupHeader},ve.createElement(C.F.Fragment,null,n.checking.pipe(Object(s.a)(e=>e?ve.createElement("div",{className:qt.a.checkingIcon}):ve.createElement("div",{className:qt.a.grammarlyLogo})))),ve.createElement("div",{className:qt.a.popupControls},ve.createElement(Wt,{text:"Feedback",className:qt.a.feedbackTooltip},ve.createElement(Qe.a,{clickHandler:r},ve.createElement("button",{className:qt.a.feedbackBtn}))),ve.createElement(Wt,{text:"Disable on this website",className:qt.a.disableTooltip},ve.createElement(Qe.a,{clickHandler:o},ve.createElement("button",{className:qt.a.disableBtn}))),ve.createElement(Qe.a,{clickHandler:i.close},ve.createElement("button",{className:qt.a.closeBtn})))),Object(w.b)(n.alerts,n.alertCounts,n.enhancementsVisibleInline,n.isPremium).pipe(Object(s.a)(([e,t,n,r])=>{const o=Yt(h.d,e),a=Yt(zt.a,e)-o,s=t.plus;return ve.createElement(ve.Fragment,{key:"critical-alerts"},ve.createElement(Qt,{alertsCount:o}),a>0?ve.createElement(Xt,{alertsCount:a,enhancementsVisible:n,showEnhancements:i.showEnhancements,hideEnhancements:i.hideEnhancements}):null,r||s<=0?null:ve.createElement(Jt,{alertsCount:s,goPremium:i.goPremium}))})))},Qt=({alertsCount:e})=>ve.createElement("div",{className:qt.a.alertRow},e>0?ve.createElement("span",{className:qt.a.criticalAlertsText},"Important alerts shown"):ve.createElement("span",{className:qt.a.criticalAlertsText},"No critical alerts. Good job!"),ve.createElement(Zt,{count:e,type:"critical",className:qt.a.alertCountWrapper})),Xt=({alertsCount:e,enhancementsVisible:t,showEnhancements:n,hideEnhancements:i})=>t?ve.createElement(Qe.a,{clickHandler:i,className:Object(Ne.c)(qt.a.alertRow,qt.a.enhancementsAlerts)},ve.createElement("span",{className:qt.a.alertsText},"Enhancements shown. ",ve.createElement("span",{className:qt.a.toggleEnhancements},"Hide")),ve.createElement(Zt,{count:e,type:"enhancement",className:qt.a.alertCountWrapper})):ve.createElement(Qe.a,{clickHandler:n,className:Object(Ne.c)(qt.a.alertRow,qt.a.enhancementsAlerts)},ve.createElement("span",{className:qt.a.toggleEnhancements},"Show enhancements"),ve.createElement(Zt,{count:e,type:"enhancement",showPlus:!t,className:qt.a.alertCountWrapper})),Jt=({goPremium:e,alertsCount:t})=>ve.createElement(Qe.a,{clickHandler:e,className:Object(Ne.c)(qt.a.alertRow,qt.a.premiumAlerts)},ve.createElement("span",{className:qt.a.alertsText},ve.createElement("span",{className:qt.a.goPremium},"Go Premium")," for advanced alerts"),ve.createElement(Zt,{count:t,type:"premium",showPlus:!0,className:qt.a.alertCountWrapper})),Zt=({count:e,type:t,showPlus:n,className:i})=>e<=0?ve.createElement("div",{className:Object(Ne.c)(qt.a.noAlerts,i)}):("critical"===t?[qt.a.criticalAlert]:"premium"===t?[qt.a.premiumAlert]:[qt.a.clarityAlert,qt.a.engagementAlert,qt.a.deliveryAlert]).reduce((e,t,n,r)=>o=>ve.createElement("div",{className:Object(Ne.c)(qt.a.alertCount,t,n===r.length-1?i:""),style:{padding:0===n?"3px":"0 0 0 4px",borderWidth:0===n?"1px":"1px 0px 1px 1px"}},e(o)),e=>ve.createElement(ve.Fragment,null,e))(n?ve.createElement(ve.Fragment,null,ve.createElement("span",{className:qt.a.plusSign},"+"),e):e);var en,tn,nn=n(104);class rn extends ve.Component{componentDidMount(){const{docId:e,errorData:t}=this.props;e&&t&&Nt.a.gButtonClick(e,t.plus,t.critical,"gdocs")}render(){return ve.createElement("div",{className:Object(Ne.c)(jt.gButtonPopup,jt.gdocsBeta,jt.unavailablePopup),style:this.props.styles||{}},ve.createElement(Qe.a,{clickHandler:()=>this.props.close()},ve.createElement("button",{className:jt.close})),ve.createElement("div",{className:Object(Ne.c)(jt.header,jt.headerUnavailable)},ve.createElement("div",{className:jt.cardsIcon}),"Welcome to our beta!"),ve.createElement("div",{className:nn.dialogMessage},"Grammarly’s suggestions",ve.createElement("br",null),"appear as red underlines in",ve.createElement("br",null),"your text. Hover and click",ve.createElement("br",null),"to correct."),ve.createElement("div",{className:Object(Ne.c)(jt.bubbleArrow)},"▲"))}}!function(e){e.good="good",e.bad="bad",e.ok="ok"}(en||(en={})),function(e){e.form="form",e.feedbackSent="sent"}(tn||(tn={}));class on extends ve.Component{constructor(){super(...arguments),this.state={activeScore:null,feedback:"",view:tn.form},this._close=()=>this.props.close(),this._submitFeedback=()=>{this.setState({view:tn.feedbackSent}),Nt.a.feedbackSentButtonClick(this.state.feedback,"gdocs",this.state.activeScore)},this._setActiveScore=e=>{this.setState({activeScore:this.state.activeScore===e?null:e})},this._handleChange=e=>{this.setState({feedback:e.target.value})},this._formView=()=>ve.createElement("div",{className:jt.feedbackForm},ve.createElement("div",{className:jt.header},"How do you like",ve.createElement("br",null)," Grammarly for Google Docs?"),ve.createElement("div",{className:jt.scoreList},ve.createElement("div",{className:jt.scoreListCell},ve.createElement(Qe.a,{clickHandler:()=>this._setActiveScore(en.bad)},ve.createElement("div",{className:Object(Ne.c)(jt.score,jt.scoreBad,this.state.activeScore===en.bad&&jt.active)},"It’s not",ve.createElement("br",null),"for me"))),ve.createElement("div",{className:jt.scoreListCell},ve.createElement(Qe.a,{clickHandler:()=>this._setActiveScore(en.ok)},ve.createElement("div",{className:Object(Ne.c)(jt.score,jt.scoreOk,this.state.activeScore===en.ok&&jt.active)},"It’s OK"))),ve.createElement("div",{className:jt.scoreListCell},ve.createElement(Qe.a,{clickHandler:()=>this._setActiveScore(en.good)},ve.createElement("div",{className:Object(Ne.c)(jt.score,jt.scoreGood,this.state.activeScore===en.good&&jt.active)},"I love it!")))),ve.createElement("div",{className:jt.subHeader},"How can we improve?"),ve.createElement("textarea",{"data-gramm":"true",className:jt.feedbackField,placeholder:"Tell us what you think!",value:this.state.feedback,onChange:this._handleChange}),ve.createElement(Qe.a,{clickHandler:this._submitFeedback},ve.createElement("div",{className:Object(Ne.c)(jt.button,!this.state.activeScore&&jt.disabled)},"Submit"))),this._feedbackSentView=()=>ve.createElement("div",null,ve.createElement("div",{className:jt.feedbackSentViewHeader},"Thank you! ",ve.createElement("br",null),"Your feedback helps us improve."),ve.createElement(Qe.a,{clickHandler:this._close},ve.createElement("div",{className:Object(Ne.c)(jt.button)},"Done")))}render(){return ve.createElement("div",{className:Object(Ne.c)(jt.gButtonPopup,jt.feedbackPopup),style:this.props.styles},ve.createElement(Qe.a,{clickHandler:this._close},ve.createElement("button",{className:jt.close})),this.state.view===tn.form?this._formView():this._feedbackSentView())}}const an=({state:e,isFlipped:t,actions:n,styles:i})=>{var r,o,a,s,l,u,d,h,p,f;const m=e=>ve.createElement(At,{styles:i,isFlipped:t,reminderType:e,remove:n.closePopup,openSignInDialogFromLoginReminder:n.openSignInDialogFromLoginReminder,disableLoginReminder:n.disableLoginReminder,closeLoginReminder:n.closeLoginReminder});switch(e.type){case"disable":return ve.createElement(Tt,{styles:i,domain:e.domain,remove:n.closePopup,disableOnTab:n.disableOnTab,disableSite:n.disableSite,gdocsView:!1});case"onboarding":return ve.createElement(It,{isFlipped:t,styles:i,openOnboardingDialog:n.showOnboardingDialog,remove:n.closePopup});case"dataControl":return ve.createElement(St.a,{isFlipped:t,styles:i,remove:n.closePopup});case"loginReminder-free":return m("free");case"loginReminder-premium":return m("premium");case"loginReminder-alertsPreview":return ve.createElement(Ft,{styles:i,state:e,isFlipped:t,remove:n.closePopup,openSignInDialogFromLoginReminder:n.openSignInDialogFromLoginReminder,openPlanComparisonPageFromLoginReminderPopup:n.openPlanComparisonPageFromLoginReminderPopup,disableLoginReminder:n.disableLoginReminder,closeLoginReminder:n.closeLoginReminder});case"loginReminder-unifiedFunnel":return ve.createElement(Vt,{styles:i,isFlipped:t,remove:n.closePopup,continueWithFacebook:n.continueWithFacebook,continueWithGoogle:n.continueWithGoogle,continueWithEmail:n.continueWithEmail,openSigninPage:n.openSigninPage});case"gdocsEnhancementsDialog":return ve.createElement(Kt,{styles:i,state:e,close:n.closePopup,openFeedbackPopup:(o=null===(r=n.enhancements)||void 0===r?void 0:r.openFeedbackPopup,null!=o?o:c.n),openDisablePopup:(s=null===(a=n.enhancements)||void 0===a?void 0:a.openDisablePopup,null!=s?s:c.n),showEnhancements:(u=null===(l=n.enhancements)||void 0===l?void 0:l.showInline,null!=u?u:c.n),hideEnhancements:(h=null===(d=n.enhancements)||void 0===d?void 0:d.hideInline,null!=h?h:c.n),goPremium:(f=null===(p=n.enhancements)||void 0===p?void 0:p.goPremium,null!=f?f:c.n)});case"gdocsPopupUnavailable":return ve.createElement(rn,{close:n.closePopup});case"gdocsFeedbackUI":return ve.createElement(on,{styles:i,close:n.closePopup});case"gmail-pre-send-email-premium":return ve.createElement(Lt,{styles:i,alerts:e.alerts,isFlipped:t,onClosePreSendEmailPremiumPopup:n.onClosePreSendEmailPremiumPopup,openPlanComparisonPageFromPopup:n.openPlanComparisonPageFromPopup});default:return null}};function sn(e){if("none"===e)return H.zero;const t=X[e],n=xt.a.gButtonSize;return Object.assign(Object.assign(Object.assign({},t),{normal:Object.assign(Object.assign({},t.normal),{bottom:t.normal.bottom+(K(t.normal.anchor)?n:0),right:t.normal.right+(Q(t.normal.anchor)?n:0)})}),t.flippedDown?{flippedDown:Object.assign(Object.assign({},t.flippedDown),{top:t.flippedDown.top+(K(t.flippedDown.anchor)?-n:0),right:t.flippedDown.right+(Q(t.flippedDown.anchor)?n:0)})}:{})}const cn=({state:e,actions:t,gbuttonPageTopBehavior:n,getShouldFlip:i})=>{const r=ve.useRef(null),o=e.view(e=>e.type),a=Object(w.b)(n,o,(e,t)=>{const n=sn(t);return!!n.flippedDown&&i(e,n.maxHeight||0)}).pipe(Object($.a)()),c=Object(w.b)(o,a,(e,t)=>{const n=sn(e);return t&&n.flippedDown?{bottom:"initial",top:n.flippedDown.top+"px",right:n.flippedDown.right+"px"}:{top:"initial",bottom:n.normal.bottom+"px",right:n.normal.right+"px"}}).pipe(Object(x.a)({})),l=o.pipe(Object(x.a)("none"),Object(Et.a)(),Object(s.a)(([e,t])=>({type:t,opening:t!==e}))),u={transform:"scale(.7)",opacity:0},d={transform:"scale(1)",opacity:1},[h,p]=ve.useState(u);return ve.useEffect(()=>{let e=null;const t=l.subscribe(({opening:t})=>{t&&(p(u),null!==e&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>p(d)))});return()=>{t.unsubscribe(),null!==e&&cancelAnimationFrame(e)}},[]),ve.useEffect(()=>{const e=c.subscribe(e=>{r.current&&Object.entries(e).forEach(([e,t])=>{var n;return null===(n=r.current)||void 0===n?void 0:n.style.setProperty(e,t,"important")})});return()=>e.unsubscribe()},[c,r]),ve.createElement("div",{className:Ot.popupContainer,ref:r},ve.createElement(C.F.Fragment,null,Object(w.b)(a,e,(e,n)=>ve.createElement(an,{isFlipped:e,actions:t,state:n,styles:h})).pipe(Object(x.a)(null))))};var ln=n(228);const un=({highlightState:e,highlightHeightOffset:t})=>ve.createElement(C.F.div,null,e.view(e=>e?ve.createElement(dn,{rects:[e],colorClass:ln.synonym,heightOffset:t,baseKey:"synonym",isHovered:Object(o.a)(!1)}):null));class dn extends ve.Component{constructor(){super(...arguments),this._hideAnim=!1,this._sub=null,this.state={hovered:!1}}componentDidMount(){this._sub&&this._sub.unsubscribe(),this._sub=this.props.isHovered.subscribe(e=>{this.state.hovered!==e&&this.setState({hovered:e})})}componentWillUnmount(){this._sub&&this._sub.unsubscribe()}render(){return this.props.rects&&this.props.rects.length>0?ve.createElement(ve.Fragment,null,this.props.rects.map((e,t)=>ve.createElement("div",{key:t?this.props.baseKey+t:this.props.baseKey,onAnimationEnd:()=>{this._hideAnim=!0},style:{top:e.top,left:e.left,width:e.width,height:Math.max(0,e.height+this.props.heightOffset)},className:`${ln.highlight} ${this.props.colorClass}`+(this.state.hovered?" "+ln.hovered:"")+(this._hideAnim?" "+ln.noAnimation:"")}))):null}}const hn=({highlightHeightOffset:e,highlights:t,alerts:n,getIsHovered:i,useDenaliColors:r=!1})=>{const o=Object.assign({clarity:ln.colorBlue,engagement:ln.colorGreen,vox:ln.colorGray,tone:ln.colorPurple},r?{critical:ln.colorDenaliRed,advanced:ln.colorDenaliYellow}:{critical:ln.colorRed,advanced:ln.colorGold});return ve.createElement(C.F.div,null,C.Atom.combine(t,n,(e,t)=>Object.keys(t).filter(n=>!!e[n]&&!!t[n]).map(n=>({alert:t[n],highlight:e[n]}))).view(t=>t.map(({alert:t,highlight:n})=>ve.createElement(dn,{key:n.alertId,colorClass:o[t.displayType],rects:n.rects,isHovered:i(n.alertId).pipe(Object($.a)()),heightOffset:e,baseKey:n.alertId}))))};var pn=n(202);class fn{constructor(e,t,n,i,r,o,a,l,u,d,h,p,m,g){this._layout=e,this._highlights=t,this._alertProcessor=n,this._hoverProvider=i,this._fieldIntegrationController=r,this._verbosePremiumService=o,this._alertCounts=a,this._model=l,this._experimentsBehavior=u,this._autocorrectEnabledBehavior=d,this._emogenieService=h,this._minimizeState=p,this._isPremiumSupported=m,this._isGdocs=g,this._viewState=this._fieldIntegrationController.viewState,this._isHighlightHoveredBehavior=e=>this._hoverProvider.getHoveredStateBehavior(e).pipe(Object(s.a)(e=>e===pn.a.hovered)),this.highlights=()=>ve.createElement(C.F.div,{style:this._layout.textField.scrollSize.behavior.pipe(Object(s.a)(e=>({height:e.height,width:e.width})))},ve.createElement(hn,{highlightHeightOffset:this._layout.highlightHeightOffset,highlights:this._highlights.geometry,alerts:this._alertProcessor.alerts.state.view(e=>c.f.map((e,t)=>t&&f.a.isCapiAlert(t)?t:void 0,e)),getIsHovered:this._isHighlightHoveredBehavior,useDenaliColors:!1}),ve.createElement(un,{highlightHeightOffset:this._layout.highlightHeightOffset,highlightState:this._viewState.view("synonym")}),this._autocorrectEnabledBehavior.pipe(Object(I.a)(e=>e),Object(x.a)(!1),Object(s.a)(e=>e&&ve.createElement(we,{key:"autocorrect-highlights",highlights:this._highlights.geometry,alerts:this._alertProcessor.alerts.state.view(e=>c.f.map((e,t)=>t&&f.a.isAutocorrectAlert(t)?t:void 0,e)),highlightHeightOffset:this._layout.highlightHeightOffset,getIsHovered:this._isHighlightHoveredBehavior})))),this.innerElements=()=>ve.createElement(C.F.div,{style:{flexDirection:"row",display:this._viewState.view("gbuttonContainer","visible").view(e=>e?"flex":"none"),pointerEvents:this._viewState.view("gbuttonContainer","hoverable").view(e=>e?"auto":"none")}},ve.createElement(C.F.div,{style:{position:"relative"}},Object(w.b)(this._verbosePremiumService.gbuttonState.view(),this._alertCounts,(e,t)=>e.isEnabled&&ve.createElement(mt,{key:"VerbosePremiumPopup",style:{position:"absolute",right:0,top:0},isVisible:e.isVisible,count:t.plus,openPlanComparisonPage:()=>this._model.openPlanComparisonPageFromVerbosePremium(e.source,"push")})),Object(w.b)(Object(w.b)(this._experimentsBehavior.pipe(Object(s.a)(e=>!!e&&e.emogenie&&!e.emogenieGButton)),this._minimizeState.minimized,this._viewState.view(e=>e.expandedGbutton.visible),this._viewState.view("gbutton","edcBlocked"),(e,t,n,i)=>!(t||n||!e||i)),this._emogenieService.viewButtonState,this._emogenieService.upgradeHook.buttonVisible,this._verbosePremiumService.gbuttonState.view("isVisible"),(e,t,n,i)=>e&&ve.createElement(ve.Fragment,{key:"emogenieButtons"},n&&ve.createElement(Ye,{key:"emogenieUpgradeHookButton",actions:this._emogenieService.upgradeHook.actions,isVisible:!i}),!n&&t.isVisible&&!!t.prevalentEmotion&&ve.createElement(Oe,{key:"emogenieButton",showAnimation:t.showAnimation,emotion:t.prevalentEmotion,actions:this._emogenieService.actions,isVisible:!i})))),this._experimentsBehavior.pipe(Object(s.a)(e=>e&&e.emogenieGButton?ve.createElement(Le,{key:"emogenieGButton",emotion:this._emogenieService.viewState.view("prevalentEmotion"),hideEmotion:Object(w.b)(this._minimizeState.minimized,this._viewState.view("popup","type").view(e=>"disable"===e),this._viewState.view("expandedGbutton","visible"),this._viewState.view("gbutton","edcBlocked"),(e,t,n,i)=>e||t||n||i),state:this._viewState.view("gbutton"),actions:this._model,isMinimizedBehavior:this._minimizeState.minimized,zIndexBehavior:this._layout.gbutton.zIndexBehavior,verbosePremiumVisible:this._verbosePremiumService.gbuttonState.view("isPlusBadgeVisible"),isPremiumSupported:this._isPremiumSupported}):ve.createElement(De,{key:"gButton",state:this._viewState.view("gbutton"),actions:this._model,isMinimizedBehavior:this._minimizeState.minimized,zIndexBehavior:this._layout.gbutton.zIndexBehavior,verbosePremiumVisible:this._verbosePremiumService.gbuttonState.view("isPlusBadgeVisible"),isPremiumSupported:this._isPremiumSupported,emogenieVisible:this._emogenieService.viewState.view("prevalentEmotion").view(e=>!!e),emogenieUpgradeHookButtonVisible:this._emogenieService.upgradeHook.inlineButtonVisible})))),this.outerElements={component:()=>ve.createElement(C.F.div,null,ve.createElement(yt,{state:this._viewState.view("expandedGbutton"),actions:this._model,isMinimizedBehavior:this._minimizeState.minimized,emogenieState:this._emogenieService.viewButtonState,emogenieUpgradeHookButtonVisible:this._emogenieService.upgradeHook.inlineButtonVisible,verbosePremiumState:this._verbosePremiumService.expandedGbuttonState,isPremiumSupported:this._isPremiumSupported,isGdocs:this._isGdocs}),ve.createElement(cn,{gbuttonPageTopBehavior:this._layout.gbutton.positionBehavior.pipe(Object(s.a)(e=>e.top)),getShouldFlip:this._layout.gbutton.getShouldFlipPopup,state:this._viewState.view("popup"),actions:this._model}),Object(w.b)(this._experimentsBehavior.pipe(Object(s.a)(e=>({emogenie:!!e&&e.emogenie,emogenieGButton:!!e&&e.emogenieGButton}))),this._emogenieService.isVisiblePopup,this._emogenieService.upgradeHook.popupVisible,this._viewState.view("gbutton","edcBlocked"),this._viewState.view(e=>e.expandedGbutton.visible),(e,t,n,i,r)=>(e.emogenie||e.emogenieGButton)&&!i&&!r&&ve.createElement(ve.Fragment,{key:"emogenieButtons"},n&&ve.createElement(tt,{key:"emogenieUpgradeHookPopup",state:this._emogenieService.upgradeHook.viewState,actions:this._emogenieService.upgradeHook.actions,siteSetting:this._viewState.view("gbutton","siteSettings")}),t&&ve.createElement(qe,{key:"emogeniePopup",hideEmojiSetting:e.emogenieGButton,state:this._emogenieService.viewState,actions:this._emogenieService.actions})))),shouldRender:Object(w.b)(this._emogenieService.isVisiblePopup,this._emogenieService.upgradeHook.popupVisible,this._viewState.view(e=>e.expandedGbutton.visible||"none"!==e.popup.type),(e,t,n)=>e||t||n)}}}var mn=n(119),gn=n(266),bn=n(65),vn=n(162),_n=n(80);class yn{constructor(e,t,n,i,r=l.a.create(yn.name)){this._acClient=e,this._capiCheckingService=t,this._alertProcessor=n,this._textObserver=i,this._log=r,this._subs=[this._alertProcessor.alerts.changes.pipe(Object(s.a)(e=>e.addedAlerts.filter(e=>f.a.isAutocorrectAlert(e)&&e.state===vn.a.applied)),Object(A.a)(e=>this._textObserver.contentChanges.async.pipe(Object(I.a)(e=>!!e.changes.find(e=>bn.a.isIns(e)&&!!e.text.match(/\w+/g))),Object(v.a)(e)))).subscribe(e=>{e.forEach(e=>{const t=this._alertProcessor.alerts.getAlertById(e.id);if(null!==t&&f.a.isAutocorrectAlert(t)&&t.state===vn.a.applied){this._log.debug(`accepting #${e.id}`);const n=t.replacement,i=t.transformText;this._acClient.onCorrectionAccepted({suggested:i,original:n,context:e.context}),this._capiCheckingService.onAutocorrectAlertAccepted({before:n,after:i,context:e.context})}else this._log.debug(`NOT accepting #${e.id} -- doesn't exist anymore`)})}),this._alertProcessor.alerts.changes.pipe(Object(gn.a)(e=>e.removedAlerts.filter(e=>f.a.isAutocorrectAlert(e.alert)&&e.alert.state===vn.a.applied&&e.reason._tag===F.a.textChange&&e.reason.changes.every(t=>{const n=bn.a.getRange(t);return _n.b.contains(e.alert.transformRange,n)||_n.b.isAdjacent(e.alert.transformRange,n)})).map(e=>f.a.isAutocorrectAlert(e.alert)&&e.alert||null).filter(e=>null!==e))).subscribe(e=>{const t=e.replacement,n=e.transformText;this._log.debug(`implicitly rejecting #${e.id}, {${t}=>${n}}`),this._acClient.onCorrectionRejected({context:e.context,original:t,suggested:n,expected:null,isExplicit:!1}),this._capiCheckingService.onAutocorrectAlertDismissed({before:t,after:n,context:e.context})})]}dispose(){this._subs.forEach(e=>e.unsubscribe())}}var wn=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class En{constructor(e,t,n,i,r,a,s,c=null,u=!1,d=l.a.create(En.name)){this._acClient=e,this._capiCheckingService=t,this._alertProcessor=n,this._textObserver=i,this._autocorrectReplacementService=r,this._selectionService=a,this._autocorrectCheckingEnabled=s,this._felog=c,this._undoOnBackspaceEnabled=u,this._log=d,this._feedbackReporter=new yn(this._acClient,this._capiCheckingService,this._alertProcessor,this._textObserver),this._acAlerts=this._textObserver.contentChanges.async.pipe(Object(mn.a)(e=>wn(this,void 0,void 0,(function*(){if(this._autocorrectCheckingEnabled.get()){const t=this._selectionService.getCurrentSelection(this._textObserver.getCurrentTextMap()),n=yield(this._felog&&this._felog.responseTime.measureAsync||(e=>e()))(()=>this._acClient.check(e.newText,e.changes,t));return this._alertProcessor.registerRemoteRevision(n.revision),n.alerts}return[]}))),Object(gn.a)(e=>Object(o.a)(...e))),this._subs=[this._acAlerts.subscribe(e=>wn(this,void 0,void 0,(function*(){this._autocorrectCheckingEnabled.get()&&(yield this._processBgAutocorrectAlert(e))}))),...this._undoOnBackspaceEnabled?[this._undoOnBackspace()]:[]]}static shouldCreate(e,t){return e&&e.autocorrectEnabled&&!t}_undoOnBackspace(){return this._textObserver.contentChanges.async.subscribe(e=>wn(this,void 0,void 0,(function*(){if(1===e.changes.length){const t=e.changes[0];if(bn.a.isDel(t)){const e=Array.from(this._alertProcessor.alerts.getAll()).find(e=>f.a.isAutocorrectAlert(e)&&e.state===vn.a.applied&&e.transformRange.end===t.pos);void 0!==e&&e.state===vn.a.applied&&this._autocorrectReplacementService.performReplacement(e.transformRange,e.replacement,e.transformText,null)}}})))}_applyAutocorrectAlert(e){return wn(this,void 0,void 0,(function*(){this._alertProcessor.removeAlert(e.id);const t=this._selectionService.getCurrentSelection(this._textObserver.getCurrentTextMap());if(t){yield this._autocorrectReplacementService.performReplacement(e.transformRange,e.replacement,e.transformText,t);const n={start:e.highlightRange.start,end:e.highlightRange.start+e.replacement.length};this._alertProcessor.addAlert({_tag:f.b.autocorrect,id:`${e.id}-applied`,revision:"unreg",highlightRange:n,highlightText:e.replacement,transformRange:n,transformText:e.replacement,replacement:e.transformText,context:e.context,state:vn.a.applied})}else this._log.warn("could not get current caret, aborting autocorrect apply")}))}_processBgAutocorrectAlert(e){return wn(this,void 0,void 0,(function*(){const t=this._alertProcessor.addAlert({_tag:f.b.autocorrect,id:e.id,revision:e.revision,highlightRange:e.range,highlightText:e.originalText,transformRange:e.range,transformText:e.originalText,replacement:e.replacement,state:vn.a.initial,context:e.context});if(t.addedAlerts.length>0){t.addedAlerts.length>1&&this._log.warn(`more than one (${t.addedAlerts.length}) autocorrect alert added at the same time, ignoring`);const e=t.addedAlerts[0];if(f.a.isAutocorrectAlert(e))try{this._applyAutocorrectAlert(e)}catch(e){this._log.error("autocorrect apply crashed",e)}else this._log.error(`unexpected alert type ${e._tag}`)}}))}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._feedbackReporter.dispose()}}class xn{constructor(e){this._rpc=e,this._token=this._rpc.autocorrectStartSession(),this.check=(...e)=>this._token.then(t=>this._rpc.autocorrectCheck({token:t,args:e})),this.onCorrectionRejected=(...e)=>this._token.then(t=>this._rpc.autocorrectOnCorrectionRejected({token:t,args:e})),this.onCorrectionAccepted=(...e)=>this._token.then(t=>this._rpc.autocorrectOnCorrectionAccepted({token:t,args:e}))}dispose(){this._token.then(e=>this._rpc.autocorrectCloseSession(e))}}var On=n(283),Sn=n(160),Cn=n(146);const jn=()=>ve.createElement("svg",{width:"17",height:"12",viewBox:"0 0 17 12",fill:"none"},ve.createElement("path",{d:"M5 0.5L1 4.5M1 4.5L5 8.5M1 4.5H13C14.933 4.5 16.5 6.067 16.5 8V8C16.5 9.933 14.933 11.5 13 11.5H11",fill:"none",stroke:"#6D758D",strokeLinecap:"round"})),kn=e=>ve.createElement("div",{className:Cn.autocorrectCard},ve.createElement("div",{className:Cn.listItem,key:"undo"},ve.createElement(Qe.a,{clickHandler:()=>e.onReplaceClick()},ve.createElement("div",{className:Cn.buttonWrap},ve.createElement("div",{className:Cn.revertButtonCaption},"Revert")),ve.createElement("div",{className:Cn.buttonWrap},ve.createElement("div",{className:Cn.icon},ve.createElement(jn,null)),ve.createElement("span",{className:Cn.replaceButtonCaption},e.caption)))),e.showDisableButtons&&ve.createElement(ve.Fragment,null,ve.createElement("div",{className:Cn.divider}),ve.createElement("div",{className:Cn.listItem,key:"disableOnce"},ve.createElement(Qe.a,{clickHandler:()=>e.onDisableOnTabClick()},ve.createElement("div",Object.assign({},Object(C.classes)(Cn.buttonWrap)),ve.createElement("div",{className:Cn.icon},ve.createElement("svg",{width:"16",height:"17",viewBox:"0 -1 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve.createElement("path",{d:"M13.0202 3.68689C13.2155 3.49162 13.2155 3.17504 13.0202 2.97978C12.825 2.78452 12.5084 2.78452 12.3131 2.97978L13.0202 3.68689ZM2.97978 12.3131C2.78452 12.5084 2.78452 12.825 2.97978 13.0202C3.17504 13.2155 3.49162 13.2155 3.68689 13.0202L2.97978 12.3131ZM12.3131 2.97978L2.97978 12.3131L3.68689 13.0202L13.0202 3.68689L12.3131 2.97978ZM8 15.5C12.1421 15.5 15.5 12.1421 15.5 8H14.5C14.5 11.5899 11.5899 14.5 8 14.5V15.5ZM15.5 8C15.5 3.85786 12.1421 0.5 8 0.5V1.5C11.5899 1.5 14.5 4.41015 14.5 8H15.5ZM8 0.5C3.85786 0.5 0.5 3.85786 0.5 8H1.5C1.5 4.41015 4.41015 1.5 8 1.5V0.5ZM0.5 8C0.5 12.1421 3.85786 15.5 8 15.5V14.5C4.41015 14.5 1.5 11.5899 1.5 8H0.5Z",fill:"#6D758D"}))),ve.createElement("span",{className:Cn.caption},"Turn off until next visit")))),ve.createElement("div",{className:Cn.listItem,key:"disableAlways"},ve.createElement(Qe.a,{clickHandler:()=>e.onDisableForeverClick()},ve.createElement("div",Object.assign({},Object(C.classes)(Cn.buttonWrap)),ve.createElement("div",{className:Cn.icon},ve.createElement("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve.createElement("path",{d:"M8 1V9.29231M11.5 3.1355C13.5923 4.36445 15 6.66146 15 9.29231C15 13.2178 11.866 16.4 8 16.4C4.13401 16.4 1 13.2178 1 9.29231C1 6.66146 2.40769 4.36445 4.5 3.1355",stroke:"#6D758D",strokeLinejoin:"round"}))),ve.createElement("span",{className:Cn.caption},"Turn off forever"))))),ve.createElement("div",{className:Cn.footerCaption},"Autocorrected by Grammarly"));class Tn{constructor(e,t,n,i,r={left:-8,top:i.highlightHeightOffset},o={height:100,width:200}){this._model=e,this._getCurrentSelection=t,this._setSelection=n,this._layout=i,this._cardPosOffset=r,this._cardFlipThreshold=o,this._activeCardModel=C.Atom.create(null),this.view=()=>ve.createElement(C.F.Fragment,null,Object(w.b)(this._activeCardModel,this._model.enabledGlobal.pipe(Object(I.a)(e=>e),Object(x.a)(!1)),this._model.enabledChecking,(e,t,n)=>t&&e&&ve.createElement("div",{"data-grammarly-part":"autocorrect-cards",style:{position:"absolute",top:e.pagePosition.top,left:e.pagePosition.left,transform:e.pagePosition.flipHorizontal||e.pagePosition.flipVertical?`translate(${e.pagePosition.flipHorizontal?-100:0}%, ${e.pagePosition.flipVertical?-100:0}%)`:void 0,zIndex:On.b-1},className:Cn.topLevel,onMouseMove:()=>this._hovered.next(!0),onMouseLeave:()=>this._hovered.next(!1)},ve.createElement(kn,{caption:e.model.replacementCaption,onReplaceClick:()=>{e.model.undoCorrection(e.lastCaret),this.hide()},onDisableOnTabClick:()=>{this._model.disableOnTab(),e.lastCaret&&this._setSelection(e.lastCaret),this.hide()},onDisableForeverClick:()=>{this._model.disableGlobal(),e.lastCaret&&this._setSelection(e.lastCaret),this.hide()},showDisableButtons:t&&n})))),this._hovered=new it.a,this.cardHovered=this._hovered.pipe(Object(x.a)(!1),Object($.a)())}_getPageViewport(){const e=document;return{top:e.documentElement.scrollTop,left:e.documentElement.scrollLeft,height:e.documentElement.clientHeight,width:e.documentElement.clientWidth}}show(e,t){const n=this._getCurrentSelection(),i=Object(Sn.b)(t,this._layout.textField.rect.getApproximate().page,this._layout.textField.scroll.getApproximate(),this._layout.getTranslationToCards()),r=this._getPageViewport(),o=i.top+t.height+this._cardPosOffset.top>=r.top+r.height-this._cardFlipThreshold.height,a=i.left+this._cardPosOffset.left>=r.left+r.width-this._cardFlipThreshold.width;this._activeCardModel.set({model:e,pagePosition:{top:o?i.top-this._cardPosOffset.top:i.top+this._cardPosOffset.top+t.height,left:a?i.left-this._cardPosOffset.left+i.width:i.left+this._cardPosOffset.left,flipVertical:o,flipHorizontal:a},lastCaret:n})}hide(){this._activeCardModel.set(null),this._hovered.next(!1)}}var Pn=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class Nn{constructor(e,t,n,i=l.a.create(Nn.name)){this._alert=e,this._autocorrectReplacementService=t,this._onCorrectionReverted=n,this._log=i,this._wasUndone=!1,this.replacementCaption=this._alert.replacement}undoCorrection(e){return Pn(this,void 0,void 0,(function*(){if(this._wasUndone)this._log.warn(`onReplace called more than once for #${this._alert.id}`);else{const t=this._alert.replacement;try{this._autocorrectReplacementService.performReplacement(this._alert.transformRange,t,this._alert.transformText,e),this._wasUndone=!0,this._onCorrectionReverted(this._alert.id)}catch(e){this._log.error(`failed to perform replacement for #${this._alert.id}`,e)}}}))}}class An{constructor(e,t,n,i,r,o,a,s=l.a.create(An.name)){this._actions=e,this._state=t,this._nativeSpellcheckEnabled=n,this._autocorrectReplacementService=i,this._alertProcessor=r,this._getAutocorrectCheckingServiceClient=o,this._getCheckingService=a,this._log=s,this._experiments=this._state.view("user","experiments"),this._enabledOnTab=C.Atom.create(!0),this.enabledGlobal=C.Atom.combine(this._state.view("page","autocorrectEnabled").view(e=>!!e),this._state.view("dynamicConfig","autocorrect").view(e=>{var t;return!!(null===(t=e)||void 0===t?void 0:t.disabled)}),this._experiments,(e,t,n)=>!!n&&n.autocorrectEnabled&&e&&!t),this.enabledChecking=C.Atom.combine(this.enabledGlobal,this._nativeSpellcheckEnabled,this._enabledOnTab,(e,t,n)=>e&&!t&&n)}disableOnTab(){this._enabledOnTab.set(!1)}disableGlobal(){this._actions.toggleAutocorrect(!1)}createCardModel(e){return new Nn(e,this._autocorrectReplacementService,e=>{var t;const n=this._alertProcessor.alerts.getAlertById(e);n&&f.a.isAutocorrectAlert(n)&&n.state===vn.a.applied?(this._getAutocorrectCheckingServiceClient().onCorrectionRejected({context:n.context,original:n.replacement,suggested:n.transformText,expected:null,isExplicit:!0}),null===(t=this._getCheckingService())||void 0===t||t.onAutocorrectAlertDismissed({before:n.replacement,after:n.transformText,context:n.context}),this._alertProcessor.removeAlert(e)):this._log.warn(`non-existing or invalid a/c alert #${e} reverted?`)})}}var In,Rn,Fn=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class Mn{constructor(e,t,n,i=l.a.create(Mn.name)){this._replacementService=e,this._selectionService=t,this._getCurrentTextMap=n,this._log=i}performReplacement(e,t,n,i){return Fn(this,void 0,void 0,(function*(){if(!this._replacementService.canPerformReplacement(e))throw new Error("can't perform replacement at this range");this._log.debug("replacing!"),yield this._replacementService.performReplacement(e,t,!1),i?this._selectionService.setSelection(this._getCurrentTextMap(),_n.b.translate(_n.b.rebase(_n.b.translate(i,-e.start),bn.b.fromDiff(n,t)),e.start)):this._log.warn("no initial caret given -- not restoring")}))}}!function(e){e.dismissedPopupRecently=function(e){return!!e.emogenieUphookDismissTimestamp&&Date.now()<e.emogenieUphookDismissTimestamp+c.e.days(7)}}(In||(In={}));class Dn{constructor(e,t,n,i,r,a){const s=!!a&&a.emogenieUpgradeHook;if(this._state=C.Atom.create({popupShow:!1,showClose:!1,dismissedRecently:In.dismissedPopupRecently(e)}),this.viewState=this._state.view(),this.actions=new Ln(this._state,t,r),s){const e=C.Atom.combine(n,i,(e,t)=>e.isEnterprise&&t);this.buttonVisible=C.Atom.combine(e,this._state.view("dismissedRecently"),(e,t)=>e&&!t),this.inlineButtonVisible=e,this.popupVisible=Object(w.b)(e,this._state.view(e=>e.popupShow),(e,t)=>e&&t).pipe(Object(A.a)((e,t)=>Object(o.a)(e).pipe(Object(Ce.a)(e?0:300),Object(x.a)(t>0))),Object($.a)())}else this.buttonVisible=C.Atom.create(!1).view(),this.inlineButtonVisible=C.Atom.create(!1).view(),this.popupVisible=Object(o.a)(!1)}}class Ln{constructor(e,t,n){this._state=e,this._gnar=t,this._pageActions=n}_setShowPopupState(e){this._state.modify(t=>t.popupShow?t:(this._gnar.toneUnavailableTonePopupPopupShow(),Object.assign(Object.assign({},t),{popupShow:!0,showClose:e})))}showPopupOnHover(){this._setShowPopupState(!1)}showPopupOnClick(){this._setShowPopupState(!0)}hidePopup(){this._state.modify(e=>Object.assign(Object.assign({},e),{popupShow:!1}))}dismissPopup(){this._state.modify(e=>Object.assign(Object.assign({},e),{popupShow:!1,dismissedRecently:!0})),this._pageActions.dismissEmogenieUpgradeHookPopup(),this._gnar.toneUnavailableDismissButtonClick("tonePopup")}followCTA(){this._gnar.toneUnavailableUnlockPremiumButtonClick("tonePopup"),window.open(Object(z.g)("toneUnavailableEnterprise"))}trackEmojiShow(){this._gnar.toneUnavailableMouthlessEmojiShow()}trackHoverLimitedSite(){this._gnar.toneUnavailableLimitedSitesPopupShow()}}!function(e){e.createDefaultState=(e,t)=>({report:void 0,prevalentEmotion:void 0,emotionsPoll:{},settings:{showPopup:!1,showClose:!1,showEmoji:"hide"!==e,hideWelcomeNotification:!!t,hiddenReport:!1}})}(Rn||(Rn={}));class Bn{constructor(e,t,n,i,r,o){this._state=e,this._docId=t,this._gnar=n,this._pageActions=i,this._domain=r,this._experiments=o,this._emogenieShowSent=!1,this._emogenieHideSent=!1}setEmogenieReport(e){const t=e.emotions.reduce((e,t)=>e+t.confidence,0),n=e.emotions.map(e=>{const n=e.confidence<.25?"Slight":e.confidence<.5?"Moderate":e.confidence/t>.5?"Very strong":"Strong";return Object.assign(Object.assign({},e),{prevalence:n})}),[i]=n,r={};for(const e of n)r[e.name]=Be.none;this._state.modify(t=>({report:{emotions:n,hidden:e.hidden,recommendation:e.recommendation},prevalentEmotion:i,emotionsPoll:r,settings:Object.assign(Object.assign({},t.settings),{hiddenReport:e.hidden})}))}setShowEmojiState(e){const t=e?"show":"hide";this._pageActions.setEmogenieEmojiState(t),this._state.lens("settings","showEmoji").set(e),this._gnar.emogenieBetaShowEmogenieToggleClick(t),this._experiments&&this._experiments.emogenieAllSites&&!e&&!this._emogenieHideSent&&(this._gnar.domainEmogenieHide(this._domain),this._emogenieHideSent=!0)}_setShowPopupState(e){this._state.lens("settings").modify(t=>{if(t.showPopup)return t;{const n=this._emotions;return this._gnar.emogeniePopupShow(this._docId,n,n.length),Object.assign(Object.assign({},t),{showClose:e,showPopup:!0})}})}showPopupOnHover(){this._setShowPopupState(!1)}showPopupOnClick(){this._setShowPopupState(!0)}hidePopup(){const e=this._state.lens("settings").get();this._state.lens("settings","showPopup").set(!1),e.showPopup&&!e.hideWelcomeNotification&&(this._state.lens("settings","hideWelcomeNotification").set(!0),this._pageActions.setHideWelcomeEmogenieNotification())}_setEmotionPollState(e,t){const n=this._state.lens("emotionsPoll",e);n&&n.set(t)}likeEmotion(e){this._setEmotionPollState(e,Be.like),this._pageActions.onEmogenieFeedback(e,"EMOTION_LIKE"),this._gnar.emogenieBetaThumbsUpButtonClick(this._docId,e)}dislikeEmotion(e){this._setEmotionPollState(e,Be.dislike),this._pageActions.onEmogenieFeedback(e,"EMOTION_DISLIKE"),this._gnar.emogenieBetaThumbsDownButtonClick(this._docId,e)}trackShowEmogenieButton(){if(!this._emogenieShowSent){const e=this._emotions;this._gnar.emogenieShow(this._docId,e,e.length),this._experiments&&this._experiments.emogenieAllSites&&(this._gnar.domainEmogenieShow(this._domain),this._emogenieShowSent=!0)}}get _emotions(){const e=this._state.view("report").get();return e&&Array.isArray(e.emotions)?e.emotions:[]}}class Un{constructor(e,t,n,i,r,a,s){const c=s&&(s.emogenie||s.emogenieAllSites||s.emogenieGButton),l=Rn.createDefaultState(e.emogenieEmojiState,e.hideWelcomeEmogenieNotification);this._state=C.Atom.create(l),this.actions=new Bn(this._state,t,n,i,e.domain,s),this.viewState=this._state.view(),this.isVisiblePopup=this._state.view(e=>!!e.prevalentEmotion&&e.settings.showPopup&&!e.settings.hiddenReport).pipe(Object(A.a)((e,t)=>Object(o.a)(e).pipe(Object(Ce.a)(e?0:300),Object(x.a)(t>0))),Object($.a)()),this.viewButtonState=this._state.view(e=>({prevalentEmotion:c?e.prevalentEmotion:void 0,isVisible:e.settings.showEmoji&&!e.settings.hiddenReport,isVisibleInExpendedMenu:!e.settings.hiddenReport,showAnimation:!!e.prevalentEmotion&&!e.settings.hideWelcomeNotification})),this.upgradeHook=new Dn(e,n,a,this._state.view(e=>e.settings.hiddenReport&&!!e.prevalentEmotion),r,s)}}var Hn,Vn=n(381),zn=n(443),Gn=n(200),Wn=n(747),$n=n(93),qn=n(183),Yn=n(109),Kn=n(77),Qn=n(89);!function(e){e.equals=function(e,t){return e&&t?e.alertId===t.alertId:e===t}}(Hn||(Hn={}));class Xn{constructor(e,t,n,i,a,c,u,d,h,p,f,m,g=200,_=500,y=l.a.create(Xn.name)){this._textFieldLayout=e,this._highlightGeometry=t,this._capiCardController=n,this._autocorrectCardController=i,this._textObserver=a,this._getAlertById=c,this._priorityOrdering=u,this._mouseData=d,this._canPerformReplacementAt=h,this._createCapiCardModel=p,this._createAutocorrectCardModel=f,this._filterElement=m,this._cardShowDelayMs=g,this._cardHideDelayMs=_,this._log=y,this._capiCardModel=null,this._onTopOfElement=e=>{const t=Object(Qn.b)(this._filterElement).elementFromPoint(e.left,e.top);return this._filterElement.contains(t)},this._rawHoveredHighlight=this._mouseData.pipe(Object(E.a)(j.a.hz30),Object($.a)(Kn.a),Object(s.a)(({client:e,offset:t})=>{if(e&&t&&this._onTopOfElement(e)){const e=this._highlightGeometry.geometry.get();return Object.keys(e).reduce((n,i)=>{const r=e[i],o=r&&this._getAlertById(r.alertId);if(r&&o){const e=n&&this._getAlertById(n.alertId);if(!e||this._priorityOrdering.greaterThan(o,e)){const e=r.rects&&r.rects.find(e=>Yn.c.contains(t,e));if(e)return{highlight:e,alertId:r.alertId}}}return n},null)}return null}),Object($.a)(Hn.equals)),this._offByTextChange=this._textObserver.contentChanges.async.pipe(Object(v.a)(null),Object(oe.a)(e=>this._log.trace("OffByTextChange",e))),this._offByTextPositionChange=Object(b.a)(this._textFieldLayout.rect.changes.pipe(Object(oe.a)(()=>this._log.trace("Text field position, size has been changed"))),this._textFieldLayout.scroll.changes.pipe(Object(oe.a)(()=>this._log.trace("Text field scroll has been changed"))),Object(r.a)(window,"scroll").pipe(Object(oe.a)(()=>this._log.trace("Window scroll detected")))).pipe(Object(I.a)(),Object(v.a)(null)),this._switchByDisplayedCard=this._rawHoveredHighlight.pipe(Object(A.a)(e=>Object(w.b)(this._capiCardController.cardHovered,this._autocorrectCardController.cardHovered,(t,n)=>t||n?this._currentCardHighlight:e)),Object($.a)(Hn.equals),Object(A.a)(e=>Object(o.a)(e).pipe(Object(Ce.a)(e||!this._currentCardHighlight?0:this._cardHideDelayMs))),Object($.a)(Hn.equals)),this.hoveredHighlightBehavior=this._switchByDisplayedCard.pipe(Object(A.a)(e=>e?Object(b.a)(this._offByUpdatedGeometry(e),this._offByTextChange,this._offByTextPositionChange).pipe(Object(oe.a)(()=>this._log.trace("Stop")),Object(I.a)(),Object(x.a)(e)):Object(o.a)(null)),Object($.a)(Hn.equals),Object($n.a)(new G.a(null)),Object(qn.a)()),this._highlightToOpenCard=this.hoveredHighlightBehavior.pipe(Object(A.a)(e=>Object(o.a)(e).pipe(Object(Ce.a)(e?this._cardShowDelayMs:0))),Object($.a)(Hn.equals)),this._currentCardHighlight=null,this._subs=[this._highlightToOpenCard.subscribe(e=>this._onCardHighlightChanged(e))]}_offByUpdatedGeometry(e){return this._highlightGeometry.geometry.pipe(Object(s.a)(t=>e&&t.hasOwnProperty(e.alertId)?e:null),Object(W.a)(e=>!(null!==e||this._capiCardModel&&this._capiCardModel.wasAddedToDictionary)),Object(v.a)(null),Object(oe.a)(e=>this._log.trace("OffByUpdatedGeometry",e)))}_onHighlightHovered(e,t,n){const i=this._textObserver.getCurrentTextMap().getPlainText().slice(t.transformRange.start,t.transformRange.end);i===t.transformText?this._canPerformReplacementAt(t.transformRange)?(this._hideCard(),n(t,e.highlight),this._currentCardHighlight=e):(this._log.warn(`couldn't create transform range for #${t.id}, text range is [${t.transformRange.start}; ${t.transformRange.end}] = "${i}"`),this._hideCard()):(this._log.warn(`transform text mismatch, actual "${i}" vs "${t.transformText}"`),this._hideCard())}_hideCard(){this._capiCardController.hide(),this._autocorrectCardController.hide()}_onCardHighlightChanged(e){if(this._currentCardHighlight=null,this._log.debug("hovered highlight changed: ",e||"null"),e){const t=this._getAlertById(e.alertId);t?f.a.isCapiAlert(t)?this._onHighlightHovered(e,t,(e,t)=>{this._capiCardModel=this._createCapiCardModel(e),this._capiCardController.show(this._capiCardModel,t)}):f.a.isAutocorrectAlert(t)?this._onHighlightHovered(e,t,(e,t)=>{this._autocorrectCardController.show(this._createAutocorrectCardModel(e),t)}):this._log.error(`unhandled alert type ${t._tag}`,t):(this._log.warn(`no existing alert for #${e.alertId}`),this._hideCard())}else this._hideCard()}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}}class Jn{constructor(e,t,n,i,r,o=l.a.create(Jn.name)){this.alert=e,this._replacementService=t,this._removeAlert=n,this._checkingService=i,this._viewActions=r,this._log=o,this._wasShown=!1,this._wasReplaced=!1,this._wasIgnored=!1,this._wasAddedToDictionary=!1}get wasAddedToDictionary(){return this._wasAddedToDictionary}onShown(){this._wasShown||(this._checkingService.onAlertDisplayed(this.alert),this._wasShown=!0)}onReplace(e){if(this._wasReplaced)this._log.warn(`onReplace called more than once for #${this.alert.id}`);else if(this._replacementService.canPerformReplacement(this.alert.transformRange)){this._log.debug("replacing",[this.alert.transformRange,e]);try{this._replacementService.performReplacement(this.alert.transformRange,e,!1),this._wasReplaced=!0,this._checkingService.onAlertApplied(this.alert,e),this._removeAlert(this.alert.id),this.alert.isFreePremium&&this.onReplaceFreePremiumAlerts()}catch(e){this._log.error(`failed to perform replacement for #${this.alert.id}`,e)}}else this._log.error(`can't perform replacement for #${this.alert.id} upon replace click`)}onIgnore(){this._wasIgnored?this._log.warn(`onIgnore called more than once for #${this.alert.id}`):(this._checkingService.onAlertIgnored(this.alert),this._removeAlert(this.alert.id),this._wasIgnored=!0)}onOpenPopupEditor(e){this._viewActions.openPopupEditorFromInlineCard(e)}onShowUnifiedLoginReminder(){this._viewActions.showUnifiedLoginReminder()}onAddToDictionary(){this._wasAddedToDictionary?this._log.warn(`onAddToDictionary called more than once for #${this.alert.id}`):(this._checkingService.onAddToDictionary(this.alert.highlightText),this._removeAlert(this.alert.id),this._wasAddedToDictionary=!0)}onClickUpgradeFromLockedPremiumAlerts(e){this._viewActions.onClickUpgradeFromLockedPremiumAlerts(e)}onReplaceFreePremiumAlerts(){this._viewActions.onReplaceFreePremiumAlerts()}}class Zn{constructor(e){this._cardService=e}getHoveredStateBehavior(e){return this._cardService.hoveredHighlightBehavior.pipe(Object(s.a)(t=>t&&t.alertId===e?pn.a.hovered:pn.a.none))}}var ei=n(320),ti=n(380),ni=n(364);class ii{constructor(e,t,n,i,r=3,o=l.a.create(ii.name)){this._legacyInlineCards=e,this._model=t,this._layout=n,this._editorId=i,this._underlineThicknessOffset=r,this._log=o,this._subs=[],this.shown=new G.a(!1),this._createLegacyCardMatch=e=>{const t=m.g.toRawData(e);return{id:e.id,syn:!0,editorId:this._editorId,rawMatch:t,synonyms:t.synonyms,replace:(t,n)=>{this._model.replace(e,t),this.hide()},ignore:c.n,addToDict:c.n}}}show(e,t){const n=this._createLegacyCardMatch(e),i=this._layout.textField.rect.getApproximate(),o=this._layout.textField.scroll.getApproximate();this._legacyInlineCards.fluidShowSynonym(n,Object(Sn.b)(t,i.page,o,this._layout.getTranslationToCards()),this._underlineThicknessOffset),this._subs=[Object(r.a)(this._legacyInlineCards,"hide").pipe(Object(I.a)(),Object(v.a)(!1)).subscribe(this.shown),Object(r.a)(this._legacyInlineCards,"toeditor").pipe(Object(re.a)(1)).subscribe(t=>{this._model.openPopupEditor(e),this.hide()})],this.shown.next(!0)}hide(){this.shown.next(!1),this._log.info("hiding inline card"),this._subs.forEach(e=>e.unsubscribe()),this._subs=[],this._legacyInlineCards.fluidHide()}dispose(){this.hide()}}class ri{constructor(e,t,n,i=l.a.create(ri.name)){this._replacementService=e,this._sendSynAppliedFeedback=t,this._viewActions=n,this._log=i}replace(e,t){const n=e.token,i=e.position,r={start:i,end:i+n.length};if(this._replacementService.canPerformReplacement(r)){this._log.debug("replacing",[n,t]);try{this._replacementService.performReplacement(r,t,!1),this._sendSynAppliedFeedback(e,t),this._log.debug(`Text "${n}" was replaced by "${t}"`)}catch(e){this._log.error(`failed to perform synonym replacement for "${n}" by "${t}"`)}}else this._log.error(`can't perform synonym replacement for "${n}" upon replace click`)}openPopupEditor(e){this._viewActions.openPopupEditorFromSynonymCard(e)}}var oi=n(287),ai=n(68),si=n(420),ci=n(409);class li{constructor(e,t,n,i,r,a,u,d,h,p,f=c.e.seconds(5),m=l.a.create(li.name)){this._synonymsAreEnabled=e,this._targetDoubleClick=t,this._getCurrentTextMap=n,this._requestSynonyms=i,this._cardController=r,this._actions=a,this._textFieldLayout=u,this._geometryLayout=d,this._geometryProvider=h,this._currentSelection=p,this._synonymsRequestTimeout=f,this._log=m,this._dblClick=this._synonymsAreEnabled.pipe(Object($.a)(),Object(A.a)(e=>e?this._targetDoubleClick.pipe(Object(s.a)(()=>{const e=this._getCurrentTextMap(),t=this._currentSelection.getCurrentSelection(e,!0),n=t&&this._geometryProvider.create(t,e),i=t&&e.getPlainText().slice(t.start,t.end);try{const e=i&&""!==i.trim()?n&&this._geometryProvider.getClientRects(n):null;return t&&e&&null!==i?{textOffset:t.start,text:i,rect:e[0]}:null}finally{n&&this._geometryProvider.dispose(n)}}),Object(oe.a)(e=>this._log.trace("Double clicked",e))):Object(oi.b)())),this._synonyms=this._dblClick.pipe(Object(A.a)(e=>this._textFieldLayout.scroll.changes.pipe(Object(I.a)(),Object(oe.a)(()=>this._log.trace("Scroll detected")),Object(v.a)(null),Object(x.a)(e))),Object(s.a)(e=>{if(e){const t=Yn.c.setPosition(this._geometryLayout.getApproximateConversionContext().clientToRelative(e.rect),e.rect);return{textOffset:e.textOffset,text:e.text,rect:t}}return null}),Object(_.a)()),this._showCardSub=this._synonyms.pipe(Object(W.a)(e=>!!e),Object(A.a)(({textOffset:e,text:t,rect:n})=>Object(ai.a)(this._requestSynonyms(t,e)).pipe(Object(s.a)(e=>({syn:e,rect:n})),Object(si.a)(this._synonymsRequestTimeout),Object(ci.a)(e=>(this._log.trace(`Synonym request timeout (${this._synonymsRequestTimeout}ms)`,e),Object(o.a)({syn:null,rect:n}))))),Object(A.a)(e=>this._cardController.shown.pipe(Object($.a)(),Object(W.a)(e=>!e),Object(x.a)(!0),Object(s.a)(t=>Object.assign(Object.assign({},e),{showCard:t}))))).subscribe(({syn:e,rect:t,showCard:n})=>{n?(this._log.trace("Show synonyms for",{syn:e,rect:t}),this._cardController.show(e||{id:"0",kind:"synonym",token:"",position:0,meanings:[],replacements:[],url:""},t)):(this._log.trace("Hide synonyms for",{syn:e,rect:t}),this._actions.onSynonymsHidden(),this._cardController.hide())}),this._highlightSub=this._synonyms.subscribe(e=>{this._actions.onSynonymsHidden(),e&&e.rect&&this._actions.onSynonymsRequested(e.rect)})}dispose(){this._showCardSub.unsubscribe(),this._highlightSub.unsubscribe()}}var ui=n(719);n.d(t,"a",(function(){return hi}));var di=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class hi{constructor(e,t,n,i,g,b,v,_,y,w,E,x,O,S=new ui.a(e,bn.b.fromDiff),j=(e=>new ti.a(e)),T=(t=>new ei.c(e)),P=(e=>new d.a(e,f.a.ordering)),N=Math.random().toString(),A=(t=>new Vn.b(S,n.gbutton,n.textField,e,new Vn.a(e),t)),I=Gn.a.provider,R=new ni.a(e),F=e,M=Object(r.a)(e,"dblclick"),D=Object(pn.b)(n.textField),B=n.createGeometryLayout(),U=new zn.a(I,B,D),H=((e,t,n,i)=>Object(p.a)(e,t,n,i)),V=((e,t,n)=>new Wn.a(e,t,n)),z={},G=l.a.create(hi.name)){var W,$,q,Y,K,Q,X;this._domain=t,this._layout=n,this._createCheckingService=i,this._legacyCard=g,this._popupEditorController=b,this._state=v,this._actions=_,this._notifications=y,this._gnar=w,this._felog=E,this._config=x,this._isCurrentFieldFocused=O,this._textObserver=S,this._createReplacementService=j,this._createContentService=T,this._createAlertProcessor=P,this._editorId=N,this._createMinimizeState=A,this._geometryProvider=I,this._selectionService=R,this._originalTextField=F,this._textFieldDoubleClick=M,this._geometryLayout=B,this._highlights=U,this._createAlertCounts=H,this._createInlineCardController=V,this._customizations=z,this._log=G,this._defaultAlertFilter=h.e,this._isPremiumSupported=!0,this._checkingService=null,this._checkingStatus=this._customizations.checkingStatus||C.Atom.create(m.e.idle),this._getCurrentTextMap=()=>this._textObserver.getCurrentTextMap(),this._alertProcessor=this._createAlertProcessor(this._textObserver.getCurrentTextMap().getPlainText()),this._capiAlerts=this._alertProcessor.alerts.state.view(f.a.alertMapToCapiAlerts),this._alertCounts=this._createAlertCounts(e=>this._popupEditorFeature.isSupportedCapiAlert(e),this._alertProcessor.alerts.state.view(e=>c.f.map((e,t)=>t&&f.a.isCapiAlert(t)?t:void 0,e)),this._state.view("user","premium"),(this._customizations.alertFilter||C.Atom.create(this._defaultAlertFilter)).view(e=>Object(h.a)(e))),this._isGdocs="docs.google.com"===this._domain,this._experiments=this._state.view("user","experiments"),this._nativeSpellcheckEnabled=C.Atom.create(!1),this._fieldIntegrationController=new te(this._state,this._checkingStatus,this._alertCounts,!this._isGdocs,Object.assign(Object.assign({},this._customizations),{isCurrentFieldFocused:this._isCurrentFieldFocused})),this._replacementService=this._createReplacementService(this._getCurrentTextMap),this._autocorrectReplacementService=new Mn(this._replacementService,this._selectionService,this._getCurrentTextMap),this._autocorrectModel=new An(this._actions,this._state,this._nativeSpellcheckEnabled,this._autocorrectReplacementService,this._alertProcessor,()=>this._autocorrectCheckingServiceClient.get(),()=>this._checkingService),this._contentService=this._createContentService(this._getCurrentTextMap),this._inlineCardController=this._createInlineCardController(this._legacyCard,this._layout,this._editorId),this._autocorrectCheckingServiceClient=Object(c.m)(()=>new xn(Object(u.b)().bgRpc.api)),this._autocorrectInlineCardController=new Tn(this._autocorrectModel,()=>this._selectionService.getCurrentSelection(this._getCurrentTextMap(),!0),e=>this._selectionService.setSelection(this._getCurrentTextMap(),e),this._layout),this._inlineCardService=new Xn(this._layout.textField,this._highlights,this._inlineCardController,this._autocorrectInlineCardController,this._textObserver,e=>this._alertProcessor.alerts.getAlertById(e),f.a.ordering,this._layout.mouse,e=>this._replacementService.canPerformReplacement(e),e=>new Jn(e,this._replacementService,e=>this._alertProcessor.removeAlert(e),this._checkingService,this._model),e=>this._autocorrectModel.createCardModel(e),this._originalTextField),this._textFieldAttrs=new k(this._originalTextField,{spellcheck:"false"}),this._emogenieService=new Un(this._state.get().page,this._editorId,this._gnar,{onEmogenieFeedback:(e,t)=>this._checkingService&&this._checkingService.onEmogenieFeedback(e,t),setEmogenieEmojiState:e=>this._actions.setEmogenieEmojiState(e),setHideWelcomeEmogenieNotification:()=>this._actions.setHideWelcomeEmogenieNotification()},{dismissEmogenieUpgradeHookPopup:()=>this._actions.dismissEmogenieUpgradeHookPopup()},this._fieldIntegrationController.viewState.view("gbutton","siteSettings"),this._state.view("user","experiments").get()),this._minimizeState=this._createMinimizeState(this._emogenieService.viewState.view("prevalentEmotion").pipe(Object(a.a)(this._experiments.pipe(Object(s.a)(e=>!!e&&e.emogenieGButton))),Object(s.a)(([e,t])=>({width:e&&!t?xt.a.emojiWidth+xt.a.gButtonSize:xt.a.gButtonSize,height:xt.a.gButtonSize})))),this._verbosePremiumService=new ce(this._config,this._state.view("user"),this._state.view("page"),this._fieldIntegrationController.viewState.view(e=>e.expandedGbutton.visible),this._minimizeState.minimized,this._alertCounts,this._customizations.contentEligibleForVerbosePremium||Object(o.a)(!1),()=>this._textObserver.getCurrentTextMap().getPlainText(),this._gnar),this._openPopupEditor=(e,t,n)=>di(this,void 0,void 0,(function*(){return this._checkingService?this._popupEditorFeature.openPopupEditor(e,t,n,this._checkingService):void 0})),this._model=(K=new de(this._fieldIntegrationController,this._gnar,this._actions,this._state,this._emogenieService,this._felog,this._notifications,this._verbosePremiumService,this._editorId,this._domain,this._openPopupEditor,()=>Array.from(this._alertProcessor.alerts.getAll()).filter(f.a.isCapiAlert),this._isGdocs),(Q=this._customizations).extendModels?Q.extendModels(K):K),this._popupEditorFeature=new ge(this._alertProcessor,this._alertCounts,this._contentService,this._selectionService,this._textObserver,this._originalTextField,this._state,this._domain,this._popupEditorController,Object(h.a)(this._defaultAlertFilter)),this._highlightHoverProvider=null!=(q=null===($=(W=this._customizations).extendHoverProvider)||void 0===$?void 0:$.call(W,new Zn(this._inlineCardService)))?q:new Zn(this._inlineCardService),this._isDisposed=!1,this._subs=[...(null===(Y=this._experiments.get())||void 0===Y?void 0:Y.hotkeysExperiment)?[this._setupHotkeys()]:[],...this._customizations.gmailSendEmailMaskClickObs?[this._customizations.gmailSendEmailMaskClickObs.subscribe(e=>{e&&(this._fieldIntegrationController.updatePopupState({type:"gmail-pre-send-email-premium",alerts:this._capiAlerts}),this._gnar.gmailPopupGmailPremiumPopupShow(this._textObserver.getCurrentTextMap().getPlainText().length,this._alertCounts.get().plus))})]:[]],this._isPremiumSupported=!this._customizations.noPremium,this._disposables=[this._render(),this._popupEditorFeature,this._textFieldAttrs,(X={alertProcessor:this._alertProcessor,highlights:this._highlights,textObserver:this._textObserver,layout:this._layout.textField,felogPerformance:this._felog.performance,alertFilter:(this._customizations.alertFilter||Object(o.a)(this._defaultAlertFilter)).pipe(Object(s.a)(e=>Object(h.b)(e)))},new L(X.alertProcessor,X.highlights,X.alertFilter,X.textObserver,X.layout,X.felogPerformance))],this._state.get().connection.dataControl===Z.a.active?this._fieldIntegrationController.updatePopupType("dataControl"):ee.a.isEdcBlocked(this._state.get().user)||this._startCheckingText(!0===this._state.get().page.showOnboarding)}_setupHotkeys(){return Object(r.a)(document,"keydown").subscribe(e=>{const t=this._fieldIntegrationController.viewState;if((Object(i.n)()?e.altKey:e.ctrlKey)&&"g"===e.key&&this._state.view("page").get().enabledHotkeys){this._gnar.hotkeyActivatedHotkeyHotkeyPressed(),e.stopPropagation(),e.preventDefault();const n=t.view("gbutton").view(e=>e.errors).get();this._model.onExpandedGButtonClick(n.critical,n.plus)}})}update(e){if(ee.a.isEdcBlocked(e.user))return null!==this._checkingService&&(this._alertProcessor.removeAllAlerts(),this._checkingService.closeConnection(),this._checkingService=null),void this._state.set(e);if(null!==this._checkingService){const t=e.user,n=e.page.dialectStrong,i=this._state.get(),r=i.user,o=i.page.dialectStrong;t.id===r.id&&t.type===r.type&&n===o||(this._checkingService.reconnect(),this._alertProcessor.removeAllAlerts(),this._popupEditorController.updatePopupEditorState(be(e)))}else e.connection.dataControl!==Z.a.active&&this._startCheckingText(!0===e.page.showOnboarding);this._state.set(e)}dispose(){this._isDisposed||(this._isDisposed=!0,this._subs.forEach(e=>e.unsubscribe()),[...this._disposables,...this._autocorrectCheckingServiceClient.hasValue?[this._autocorrectCheckingServiceClient.get()]:[],this._inlineCardService,this._inlineCardController,this._highlights,this._textObserver,this._fieldIntegrationController,this._verbosePremiumService].forEach(e=>{try{e.dispose()}catch(e){this._log.error("error at integration dispose",e)}}))}_render(){const e=new fn(this._layout,this._highlights,this._alertProcessor,this._highlightHoverProvider,this._fieldIntegrationController,this._verbosePremiumService,this._alertCounts,this._model,this._experiments,this._autocorrectModel.enabledGlobal,this._emogenieService,this._minimizeState,this._isPremiumSupported,this._isGdocs);return this._layout.render(e.highlights,e.innerElements,e.outerElements,this._autocorrectInlineCardController.view)}_startCheckingText(e=!1){if(null!==this._checkingService)return void this._log.error("Attempt to call _startCheckingText() more than once");const t=this._createCheckingService();this._checkingService=t;const n=new ii(this._legacyCard,new ri(this._replacementService,(e,n)=>t.onSynonymApplied(e,n),this._model),this._layout,this._editorId);this._disposables.push(t,new y(this._alertProcessor,t,this._textObserver,this._originalTextField,e=>this._emogenieService.actions.setEmogenieReport(e),e=>this._checkingStatus.set(e),e=>this._fieldIntegrationController.setSiteSettings(e),e=>{this._textFieldAttrs.setAttributes({spellcheck:e.toString()}),this._nativeSpellcheckEnabled.set(e)}),...En.shouldCreate(this._experiments.get(),this._isGdocs)?[new En(this._autocorrectCheckingServiceClient.get(),t,this._alertProcessor,this._textObserver,this._autocorrectReplacementService,this._selectionService,this._autocorrectModel.enabledChecking,this._felog.autocorrect)]:[],n,new li(this._state.view("page","enabledDefs"),this._textFieldDoubleClick,()=>this._textObserver.getCurrentTextMap(),(e,n)=>t.requestSynonyms(e,n),n,this._model,this._layout.textField,this._geometryLayout,this._geometryProvider,this._selectionService)),e?(this._fieldIntegrationController.updatePopupType("onboarding"),this._actions.seenOnboarding()):"dataControl"===this._fieldIntegrationController.viewState.get().popup.type&&this._model.closePopup()}}},function(e,t,n){"use strict";var i=n(90),r=n(9),o=n(232),a=n(11),s=n(22);class c{constructor(e){this.hideDelay=10,this.onshow=(e,t)=>{},this.onhide=s.e,this.onmousemove=(e,t)=>{},this.getCurrentEl=e=>e.target,this.onInnerMouseMove=e=>{},this.cardHovered=e=>{},this.inTarget=e=>{const t=e.target;if(Object(r.l)(t,this.cls)||Object(r.f)(t,this.cls)){if(!this.currentEl||this.currentEl===t)return!0;this.fastHide()}},this.bind=(e,t=this.doc)=>(this.doc2&&this.doc2!==t&&this.bind(e,this.doc2),Object(o.a)(t.body,"resize",this.fastHide,e),Object(o.a)(t,{gramMouse:this.mousemove,mousemove:this.mousemove,scroll:this.fastHide},s.e,e),Object(o.a)(t,"click",this.click,e,!0),Object(o.a)(this.hint,"mousemove",this.innerMouseMove,e),Object(o.a)(this.hint,"mouseleave",this.onMouseLeave,e),this),this.setDocs=(e,t)=>{this.unbind(),Object.assign(this,{doc:e,doc2:t}),this.bind()},this.unbind=e=>this.bind(!0,e),this.fastHide=()=>{this.onhide(),this.cancelTimeout("show"),this.cancelTimeout("hide"),this.visible=!1,this.currentEl=null},this.innerMouseMove=e=>{this.onInnerMouseMove(e),this.cardHovered(!0),e.preventDefault(),e.stopPropagation(),this.cancelTimeout("hide")},this.click=e=>!this.elInHint(e.target)&&!this.inTarget(e)&&this.fastHide(),this.elInHint=e=>e&&(Object(r.g)(e,this.hint)||e===this.hint),this.mousemove=e=>{let t=this.getCurrentEl(e);if("IFRAME"!==t.tagName){if(e.detail&&e.detail.id){const n=document.querySelector(`[data-gr-id='${e.detail.id}']`);n&&(t=n,e={target:t,clientX:e.detail.e.clientX,clientY:e.detail.e.clientY})}if(Object(a.l)()&&"mousemove"===e.type){if(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)return void(this.mouseMoveCoordinates=e.x+"-"+e.y);if(this.mouseMoveCoordinates===e.x+"-"+e.y)return}if(this.elInHint(t))return this.onmousemove(e,!0),this.cancelTimeout("show"),void this.cancelTimeout("hide");if(!this.inTarget(e))return this.onmousemove(e,!1),void this.onMouseLeave();this.onmousemove(e,!0),this.visible||(this.show(e,t),this.cancelTimeout("hide"),this.currentEl=t)}},this.onMouseLeave=()=>{this.visible?this.hide():this.cancelTimeout("show"),this.cardHovered(!1)},this.show=(e,t)=>this.showTimeout?this:(this.cancelTimeout("hide"),this.showTimeout=setTimeout(()=>{this.cancelTimeout("show"),(this.elInHint(t)||this.inTarget(e))&&(this.visible=!0,this.onshow(t,{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}))},this.delay),this),this.hide=()=>this.hideTimeout?this:(this.hideTimeout=setTimeout(()=>{this.onhide(),this.visible=!1,this.currentEl=null},this.hideDelay),this),Object.assign(this,e)}cancelTimeout(e){"show"===e&&this.showTimeout?(clearTimeout(this.showTimeout),this.showTimeout=null):"hide"===e&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}setVisible(e){this.visible=e,this.cancelTimeout("hide")}}var l,u=n(15);!function(e){e[e.contextualSpelling=0]="contextualSpelling",e[e.grammar=1]="grammar",e[e.sentenceStructure=2]="sentenceStructure",e[e.punctuation=3]="punctuation",e[e.style=4]="style",e[e.plagiarism=5]="plagiarism",e[e.synonym=6]="synonym",e[e.enhancement=7]="enhancement",e[e.voxStyle=8]="voxStyle"}(l||(l={}));const d={Spelling:l.contextualSpelling,ContextualSpelling:l.contextualSpelling,Grammar:l.grammar,Style:l.style,SentenceStructure:l.sentenceStructure,Punctuation:l.punctuation,Enhancement:l.enhancement,VoxStyle:l.voxStyle};var h;function p(e){return!e||0===e.length}function f(e){return e.slice(e.findIndex(e=>"arrow"===e.type)+1).filter(e=>"delete"!==e.type).map(e=>"insert"===e.type||"text"===e.type?e.text:"").join("")}!function(e){e[e.single=0]="single",e[e.list=1]="list",e[e.flatList=2]="flatList",e[e.voxList=3]="voxList",e[e.empty=4]="empty"}(h||(h={}));class m{constructor(){this.template=h.empty,this.headerText=""}}class g{constructor(e,t,n){this.headerText=e,this.replacements=t,this._onReplace=n,this.template=h.list,this.getOnReplace=e=>()=>{this._onReplace(e.newText,f(e.transform))}}}class b extends g{constructor(e,t,n){super(e,t,n),this.headerText=e,this.template=h.flatList}}class v{constructor(e,t,n,i){this.headerText=e,this.replacements=t,this._onReplace=n,this.headerIcon=i,this.template=h.voxList,this.getOnReplace=e=>()=>{this._onReplace(e.newText,f(e.transform))}}}var _=n(328);class y{constructor(e,t){this.isUserAuthenticated=t,this.id=e.id,this.title=e.title,this.explanation=e.explanation,this.details=e.details}}class w extends y{constructor(e,t,n,i){super(e,n),this._alert=e,this._replace=t,this.isUnifiedFunnel=i,this.kind="common",this.details=this._alert.details,this.todo=this._alert.todo,this.isUnknowWord="Unknown"===this._alert.category,this.highlightText=this._alert.highlightText,this.extraProperties=this._alert.extraProperties,this.cardLayout=this._alert.cardLayout,this.hasAcknowledgeButton=0===this._alert.replacements.length&&this._alert.group!==l.contextualSpelling,this.hasAddToDictionary=!!this._alert.extraProperties.hasAddToDictionary,this.isTextCard=p(this._alert.replacements),this.isFreePremiumAlert=!!this._alert.extraProperties.freePremiumAlert,this.isLockedPremiumAlert=!!this._alert.extraProperties.lockedPremiumAlert,this.advancedMessage=null,this.title=this._getTitle()}_getTitle(){return this.isUnknowWord?"Unknown word":"Misspelled"===this._alert.category&&"General"===this._alert.point?"":this._alert.replacements.length&&this._alert.result.length&&"Correctness"!==this._alert.cardLayout.outcome?Object(_.b)(this._alert.result):this._alert.todo}getFooterProps(){return{hasAcknowledgeButton:this.hasAcknowledgeButton,hasAddToDictionary:this.hasAddToDictionary}}getReplacements(e){const{replacements:t}=this._alert;return p(t)?new m:new g(e?this.title:"",t,this._replace)}}class E{constructor(e,t,n){this._alert=e,this._replace=t,this.isUserAuthenticated=n,this.kind="synonyms",this.meanings=this._alert.meanings.map(e=>({title:e.title,list:new b("",e.replacements,e=>this._replace(e))})),this.isActive=!1,this.isAnyMeanings=Boolean(this.meanings.length),this.id=this._alert.id,this.title=this._alert.title,this.explanation="",this.details=""}}class x{constructor(e,t,n){this._alert=e,this._replace=t,this.isUserAuthenticated=n,this.kind="vox",this.isTextCard=p(this._alert.replacements),this.id=e.id,this.title=e.title,this.explanation=e.explanation,this.details=e.details,this.highlightText=this._alert.highlightText,this.headerText=this._alert.title,this.headerIcon=this._alert.icon}getReplacements(){const{replacements:e}=this._alert;return p(e)?new m:new v(this.headerText,e,this._replace,this.headerIcon)}}var O=n(67),S=n(40),C=n(124);function j(e,t){return{re:new RegExp(`^(${e})(.*)$`),createResult:t}}const k=[j("(?:\\<span class='gr_grammar_del'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:"delete",text:e[2]})),j("(?:\\<span class='gr_grammar_ins'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:"insert",text:e[2]})),j("(→)",e=>({type:"arrow"})),j("([^<>→]+)",e=>({type:"text",text:e[1]}))];function T(e){function t(e){for(const t of k){const n=e.match(t.re);if(null!==n)return[t.createResult(n),n[n.length-1]]}}function n(t){let n=["<span class='gr_grammar_del'>","<span class='gr_grammar_ins'>","→"].map(e=>t.indexOf(e));if(n.findIndex(e=>0===e)>0)throw Object(C.a)().couldNotParseTransform(e,!1),new Error(`Couldn't parse transform: ${e}`);if(n=n.filter(e=>e>0),n.length>0){const e=Math.min(...n);return[{type:"text",text:t.substring(0,e)},t.substring(e)]}return[{type:"text",text:t},""]}let i=e;const r=[];let o=!1;for(;i.length>0;){let a=t(i);if(void 0===a&&(o=!0),a=a||n(i),void 0!==a){if("insert"===a[0].type){const e=r[r.length-1];e&&"delete"===e.type&&r.push({type:"arrow"})}r.push(a[0]),i=a[1]}(o||void 0===a)&&Object(C.a)().couldNotParseTransform(e,void 0===a)}return r}function P(e,t,n){const i=[];return e.ops.map(e=>{e.delete&&n&&i.push({type:"delete",text:t.slice(0,e.delete)}),e.insert&&i.push({type:"insert",text:e.insert})}),i}function N(e){return{newText:e,transform:[{type:"insert",text:e}]}}function A(e){Object(O.b)("synonym"!==e.action,"Do not use `getBasicAlertFields` for synonyms.");const t=(n=e.group,void 0!==d[n]?d[n]:null);var n;return null!==t?{id:e.id.toString(),hidden:e.hidden,category:e.category,isFree:e.free,impact:"advanced"===e.impact?S.c.advanced:S.c.critical,highlightText:e.highlightText,range:{start:e.begin,end:e.end},group:t}:null}function I(e){try{return e?Date.parse(e):void 0}catch(e){return}}var R=n(154),F=n(0),M=n(26),D=n(63),L=n(508);const B=/["'”“.,;:!?\\\/…\-—()]/;function U(e){return null!==e&&e.replace(/\s/g,"").length<3&&null!==e.match(B)}function H(e){return null!==e&&e.replace(/\s/g,"").length<3&&null!==e.match(/[;:]/)}function V(e){return'"'===e||"”"===e||"“"===e}function z(e){return null!==e&&null!==e.match(/,,/)}function G(e){return null!==e&&e.match(/[.,;:!?\\\/…\-—()]\s*[a-z]/i)}function W(e){return"’"===e}function $(e){return","===e}function q(e){return"!"===e}function Y(e){return"-"===e||"—"===e}function K(e){return"?"===e}function Q(e){return"."===e}function X(e){return"…"===e}function J(e){return")"===e||"("===e}function Z(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}function ee(e,t){if(e.length<=4)return F.createElement("span",null,t);const{from:n,to:i,oldFragment:r,newFragment:o}=Object(L.textdiff)(e,t),a=1===o.length&&n>0&&e[n-1]===o,s=1===r.length&&0===o.length&&t[n-1]===r;let c=n,l=o;return(a||s)&&(c=n-1),a&&(l=o+o),s&&(l=r),l.length>3?F.createElement("span",null,t):F.createElement("span",null,e.substring(0,c),F.createElement("span",{className:D.bold},l),e.substring(i))}function te(e){const t=e.filter(e=>"insert"===e.type||"delete"===e.type);return t.length>0?t[t.length-1].type+"Replacement":""}function ne(e,t,n){return F.createElement(M.a,{clickHandler:t},F.createElement("span",{key:n,className:D[te(e)]},ie(e)))}function ie(e){return function(e){return e.slice(e.findIndex(e=>"arrow"===e.type)+1)}(e).map((t,n)=>{switch(t.type){case"delete":return function(e,t,n){return F.createElement("span",{className:Object(r.c)(D.deletePart,(i=e,null!==i&&null!==i.match(/["'”][.,;]/)&&D.deleteQuoteWithPunctuation),U(e)&&D.deletePunctuation,H(e)&&D.deleteColonOrSemicolon,$(e)&&D.deleteComma,q(e)&&D.deleteExclamation,Y(e)&&D.deleteDash,K(e)&&D.deleteQuestion,X(e)&&D.deleteEllipsis,V(e)&&D.deleteQuote,Q(e)&&D.deletePeriod,J(e)&&D.deleteParenthesis,z(e)&&D.deleteDoubleComma,W(e)&&D.deleteAphostrophe,Z(e)&&D.deleteLetter,G(e)&&D.deletePunctuationBeforeLetter),key:n},ee(t,e));var i}(t.text,function(e,t){const n=e.slice(t).filter(e=>"insert"===e.type);return n.length>0?n[0].text:""}(e,n),n);case"insert":return function(e,t,n,i,o){return F.createElement("span",{className:Object(r.c)(D.insertPart,n&&D.insertWithWord,(a=e,null!==a&&1===a.replace(/\s/g,"").length&&U(a)&&D.insertPunctuation),K(e)&&D.insertQuestion,i&&D.nextIsWord),key:o},ee(t,e));var a}(t.text,function(e,t){const n=e.slice(0,t).filter(e=>"delete"===e.type);return n.length>0?n[0].text:""}(e,n),function(e){return 0===e.filter(e=>"insert"!==e.type&&"text"!==e.type).length}(e),function(e,t){return!!e[t+1]&&"text"===e[t+1].type}(e,n),n);case"text":return function(e,t,n,i){return F.createElement("span",{className:Object(r.c)(D.wordPart,t&&D.wordBeforeDelete,n&&D.wordBeforeInsert),key:i},e)}(t.text,function(e,t){return!!e[t+1]&&"delete"===e[t+1].type}(e,n),function(e,t){return!!e[t+1]&&"insert"===e[t+1].type}(e,n),n);default:throw new Error(`Part ${t} should not exist`)}})}function re(e,t,n){return F.createElement("div",{className:D.listReplacement},e.replacements.map((i,o)=>F.createElement(M.a,{key:o+i.newText,clickHandler:e.getOnReplace(i)},F.createElement("div",{key:o+i.newText,className:Object(r.c)(D.listItemReplacementWrapper,n,t&&D.flattenListItemReplacementWrapper,0===o&&!e.headerText&&D.listItemReplacementNoHeader)},0===o&&e.headerText&&function(e,t){return F.createElement(M.a,{clickHandler:t},F.createElement("div",Object.assign({className:D.title},Object(M.b)(e))))}(e.headerText,e.getOnReplace(i)),F.createElement("span",{className:D.listItemReplacement},ne(i.transform,e.getOnReplace(i),o))))))}function oe(e,t){switch(e.template){case h.single:return function(e,t){return F.createElement("div",{className:Object(r.c)(D.singleReplacement,t)},F.createElement("div",null,ne(e.transform,e.onReplace)))}(e,t);case h.list:return re(e,!1,t);case h.flatList:return re(e,!0,t);case h.voxList:return function(e,t,n){return F.createElement("div",{className:D.listReplacement},e.replacements.map((i,o)=>F.createElement(M.a,{key:o+i.newText,clickHandler:e.getOnReplace(i)},F.createElement("div",{key:o+i.newText,className:Object(r.c)(D.listItemReplacementWrapper,n,t&&D.flattenListItemReplacementWrapper,0===o&&!e.headerText&&D.listItemReplacementNoHeader)},0===o&&e.headerText&&function(e,t,n){return F.createElement(M.a,{clickHandler:t},F.createElement("div",{className:Object(r.c)(D.title,D.titleVox)},n&&F.createElement("div",{className:D.titleIcon},F.createElement("img",{src:n})),e))}(e.headerText,e.getOnReplace(i),e.headerIcon),F.createElement("span",{className:D.listItemReplacement},ne(i.transform,e.getOnReplace(i),o))))))}(e,!1,t);default:throw new Error(`Replacement template ${h[e.template]} is not supported`)}}const ae=e=>F.createElement("div",{className:Object(r.c)(D.replacement)},oe(e.replacement,e.itemClassName)),se=({meanings:e})=>{switch(e.length){case 0:return F.createElement("span",null);case 1:return F.createElement("div",{className:Object(r.c)(u.synList,u.synListSingle)},F.createElement("div",{className:u.synSubitems},F.createElement(ae,{replacement:e[0].list,itemClassName:u.synItem})));default:return F.createElement("div",{className:u.synList},e.map((e,t)=>F.createElement("div",{key:t,className:u.synListItem},F.createElement("div",{className:u.synListTitle},F.createElement("span",{className:u.synListNumber},t+1,"."),e.title),F.createElement("div",{className:u.synSubitems},F.createElement(ae,{replacement:e.list,itemClassName:u.synItem})))))}},ce=({className:e,onClick:t,children:n})=>F.createElement(M.a,{clickHandler:t},F.createElement("div",{className:Object(r.c)(u.footerButton,e),role:"button"},n));class le extends F.Component{constructor(){super(...arguments),this.state={hover:!1},this.toggleHover=()=>{this.setState({hover:!this.state.hover})}}render(){return F.createElement(M.a,{clickHandler:this.props.onClick},F.createElement("div",{className:Object(r.c)(u.lockedButton),onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover,role:"button"},F.createElement(R.e,{className:u.lockIcon}),this.state.hover?"Unlock":"Locked"))}}const ue=({titleText:e,iconType:t,className:n})=>F.createElement("div",{className:Object(r.c)(u.lockedPremiumPreview,n)},F.createElement(ye,{className:Object(r.c)(u.bigTitle,u.lockedPremiumPreviewTitle,t),title:e})),de=({explanation:e})=>F.createElement("div",Object.assign({className:u.explanation},Object(M.b)(e,["i","b"]))),he=({replacement:e})=>F.createElement("div",{className:Object(r.c)(u.replacement)},function(e){switch(e.template){case h.single:return pe(e);case h.list:case h.flatList:return fe(e);default:throw new Error(`Replacement template ${h[e.template]} is not supported`)}}(e)),pe=e=>ie(e.replacement.transform),fe=e=>F.createElement("div",{className:u.lockedTransformList},e.replacements.map((e,t)=>F.createElement("div",{className:u.lockedTransform,key:t+e.newText},ie(e.transform)))),me=({userExperiments:e,model:t,onIgnore:n,onClickUpgradeFromLockedPremiumAlerts:i})=>{const{iconType:o,explanation:a,title:s}=(e=>{let t,n,i;switch(e.toLowerCase()){case S.f.clarity:t="Advanced clarity issue found by Grammarly. Suggestions to make your text more clear for your readers are not included with a free account.",n=e,i=u.outcomeClarity;break;case S.f.tone:t="Delivery issue found by Grammarly. Suggestions to ensure you are making the right impression are not included with a free account.",n="Delivery",i=u.outcomeDelivery;break;case S.f.engagement:t="Engagement issue found by Grammarly.  Suggestions to enliven your text are not included with a free account.",n=e,i=u.outcomeEngagement;break;default:t="Advanced correctness issue found by Grammarly. Suggestions to fix these inconsistencies are not included with a free account.",n="Advanced Correctness",i=u.outcomeCorrectness}return{explanation:t,title:n,iconType:i}})(t.cardLayout.outcome),c=e&&e.freePremiumLockedPreview||t.isTextCard;return F.createElement("div",{className:Object(r.c)(u.card,u.lockedPremiumPreview,t.extraProperties.emogenieAlert&&u.emogenieCard)},F.createElement(ue,{titleText:s,iconType:o,className:c?"":u.greyedTitle}),c?F.createElement(le,{onClick:()=>i(t.cardLayout.outcome)}):F.createElement("div",{className:u.replacement},F.createElement(he,{replacement:t.getReplacements(null===t.advancedMessage)})),F.createElement(de,{explanation:a}),F.createElement(ce,{className:Object(r.c)(u.btnUpgrade,u.item),onClick:()=>i(t.cardLayout.outcome)},F.createElement(R.a,{className:Object(r.c)(u.diamondIcon)}),"Unlock ",(e=>{const t=e.toLowerCase();switch(t){case S.f.correctness:return`Advanced ${e}`;case S.f.tone:return"Delivery";default:return t}})(t.cardLayout.outcome)),F.createElement(ce,{className:Object(r.c)(u.btnIgnore,u.item),onClick:()=>n()},F.createElement(R.d,{className:Object(r.c)(u.icon,u.ignoreIcon)})," Ignore"))};var ge=n(62),be=n(8),ve=n(53),_e=n(7);const ye=({title:e,className:t,lowerCase:n=!0})=>{const i=n?e.toLowerCase():e;return F.createElement("div",Object.assign({className:t},Object(M.b)(i,["i","b"])))},we=({title:e,explanation:t})=>F.createElement("div",null,F.createElement(ye,{className:Object(r.c)(u.bigTitle,u.capitalized),title:e}),F.createElement("div",Object.assign({className:u.explanation},Object(M.b)(t,["i","b"])))),Ee=({onEditor:e})=>F.createElement(ce,{className:Object(r.c)(u.item,u.btnLogo),onClick:e},F.createElement(R.f,{className:Object(r.c)(u.icon,u.logoIcon)})," See more in Grammarly"),xe=()=>F.createElement("div",{className:Object(r.c)(u.gdocsFooter)},"Suggested by Grammarly"),Oe=({onLogin:e})=>F.createElement(ce,{className:Object(r.c)(u.btnPersonalize,u.item),onClick:e},F.createElement("div",{className:u.personalizeMessage},F.createElement("span",{className:u.attn},"ATTN:")," You’re missing many ",F.createElement("br",null)," key Grammarly features."),F.createElement(R.f,{className:Object(r.c)(u.icon,u.logoIcon)})," Personalize for free"),Se=({onLogin:e})=>F.createElement(ce,{className:Object(r.c)(u.item,u.unifiedFunnelBtn,u.btnLogo),onClick:e},F.createElement(R.f,{className:Object(r.c)(u.icon,u.logoIcon)}),F.createElement("span",{className:u.unifiedFunnelBtnText},"Sign up now to get key",F.createElement("br",null),"Grammarly features")),Ce=({title:e,blogLink:t})=>F.createElement(ce,{className:Object(r.c)(u.btnNewBadge,u.item,void 0!==t&&u.clickable),onClick:()=>{void 0!==t&&(window.open(t),ve.a.newBadgeButtonClick("inline-card"))}},F.createElement("div",null,F.createElement("span",{className:u.newLabel},"NEW"),F.createElement("span",{className:u.newTitle},`${e} check`)),void 0!==t&&F.createElement("div",{className:u.newInfo},"LEARN MORE")),je=({model:e,onAddToDictionary:t,onIgnore:n,onEditor:i,onLogin:o})=>{const a=e.getFooterProps();return F.createElement("div",{className:Object(r.c)(u.card,e.extraProperties.emogenieAlert&&u.emogenieCard)},e.isTextCard?!e.isUnknowWord&&F.createElement(we,{title:e.title,explanation:e.explanation}):F.createElement("div",{className:u.replacement},F.createElement(ae,{itemClassName:u.item,replacement:e.getReplacements(null===e.advancedMessage)})),e.advancedMessage&&F.createElement("div",{className:u.advancedMessage},F.createElement("div",{className:u.advancedTitle},e.advancedMessage.title),e.advancedMessage.items.map((e,t)=>F.createElement("div",{className:u.advancedItem,key:e+t},e))),F.createElement("div",{className:u.footer},a.hasAddToDictionary&&F.createElement(ce,{className:Object(r.c)(u.btnDict,u.item),onClick:()=>t()},e.isUnknowWord&&F.createElement(ye,{className:u.unknownWordTitle,title:e.title}),F.createElement("span",{className:Object(r.c)(u.btnDictLabelWithIcon)},F.createElement(R.c,{className:Object(r.c)(u.icon,u.dictionaryIcon)})," Add to dictionary")),F.createElement(ce,{className:Object(r.c)(u.btnIgnore,u.item),onClick:()=>n()},F.createElement(R.d,{className:Object(r.c)(u.icon,u.ignoreIcon)})," Ignore"),Ae(e,i,o)))};class ke extends F.Component{constructor(){super(...arguments),this.state={isExpanded:!1}}expand(){this.setState({isExpanded:!0})}componentDidMount(){this.expandableParent&&this.expandableContent&&this.expandableParent.clientHeight-8>=this.expandableContent.clientHeight&&this.setState({isExpanded:!0})}render(){const{model:e,onIgnore:t}=this.props,{isExpanded:n}=this.state;return F.createElement("div",{className:Object(r.c)(u.card,u.vox)},F.createElement("div",{className:e.explanation.length?null:u.headerWrapper},e.isTextCard?F.createElement(F.Fragment,null,F.createElement("div",{className:Object(r.c)(u.header)},e.headerIcon&&F.createElement("div",{className:u.headerIcon},F.createElement("img",{src:e.headerIcon})),e.headerText),F.createElement(ye,{className:u.bigTitle,title:e.highlightText,lowerCase:!1})):F.createElement(ae,{itemClassName:u.item,replacement:e.getReplacements()})),0!==e.explanation.length&&F.createElement("div",{className:Object(r.c)(u.expandableDescription,n?u.expanded:null),ref:e=>{this.expandableParent=e}},F.createElement(M.a,{clickHandler:()=>this.expand()},F.createElement("div",{className:Object(r.c)(u.expandableDescriptionContent),ref:e=>{this.expandableContent=e}},F.createElement("div",Object.assign({className:u.explanation},Object(M.b)(e.explanation,["i","b"])))),!n&&F.createElement(F.Fragment,null,F.createElement("span",{className:Object(r.c)(u.more)},F.createElement(R.g,{className:Object(r.c)(u.icon,u.moreIcon)})),F.createElement("span",{className:Object(r.c)(u.button)},"Read More")))),F.createElement("div",{className:u.footer},F.createElement(ce,{className:Object(r.c)(u.btnIgnore,u.item),onClick:()=>t()},F.createElement(R.d,{className:Object(r.c)(u.icon,u.ignoreIcon)})," Dismiss")))}}const Te=({word:e})=>F.createElement("div",{className:Object(r.c)(u.card,u.cardAddedToDict)},F.createElement("div",{className:u.addedToDictTitle},F.createElement(R.b,{className:u.dictionaryAddedIcon})," ",e),F.createElement("div",{className:u.dictionaryDescription},"is now in your"," ",F.createElement(M.a,{clickHandler:()=>{window.open(Object(a.f)().appPersonalDictionary)}},F.createElement("div",{className:u.dictLink},"personal dictionary"))));class Pe extends F.Component{constructor(){super(...arguments),this.state={isAddedToDictionary:this.props.isAddedToDictionary}}render(){const{model:e}=this.props;return this.state.isAddedToDictionary?F.createElement(Te,{word:e.highlightText}):e.extraProperties.lockedPremiumAlert?F.createElement(me,{model:e,onIgnore:this.props.onIgnore,onClickUpgradeFromLockedPremiumAlerts:this.props.onClickUpgradeFromLockedPremiumAlerts,userExperiments:this.props.userExperiments}):F.createElement(je,{onAddToDictionary:()=>{this.setState({isAddedToDictionary:!0}),this.props.onAddToDictionary()},onIgnore:this.props.onIgnore,onEditor:this.props.onEditor,onLogin:this.props.onLogin,model:e})}}const Ne=({model:e,onEditor:t,onLogin:n})=>{const i=0===e.meanings.length;return F.createElement("div",{className:Object(r.c)(u.card,u.synCard,i&&u.notFound)},i?F.createElement(F.Fragment,null,F.createElement(R.f,{className:u.iconNotFound})," No synonyms found"):F.createElement(F.Fragment,null,F.createElement("div",{className:u.synTitle},"Synonyms:"),F.createElement(se,{meanings:e.meanings}),F.createElement("div",{className:u.footer},Ae(e,t,n))))};function Ae(e,t,n){const i=()=>e.isUserAuthenticated?Object(ge.i)()?F.createElement(xe,null):F.createElement(Ee,{onEditor:t}):"common"===e.kind&&e.isUnifiedFunnel?F.createElement(Se,{onLogin:n}):F.createElement(Oe,{onLogin:n});switch(e.kind){case"common":const{releaseDate:t}=e.extraProperties,n=void 0!==t&&t+2*be.e.week,r=Date.now();return n&&n>r?F.createElement(Ce,{title:e.cardLayout.group,blogLink:e.extraProperties.blogLink}):i();case"synonyms":return i();default:return null}}class Ie extends F.Component{render(){const{model:e,onIgnore:t}=this.props;return F.createElement(ke,{onIgnore:t,model:e})}}const Re=288,Fe=304;class Me extends F.Component{constructor(){super(...arguments),this.state={isMaxWidth:!1}}componentDidMount(){if(!this.el)return;const e="common"===this.props.model.kind&&this.props.model.extraProperties.emogenieAlert?Fe:Re;this.el.firstElementChild&&this.el.firstElementChild.clientWidth===e&&this.setState({isMaxWidth:!0})}render(){const{model:e,onIgnore:t,onAddToDictionary:n,onEditor:i,onLogin:o,isAddedToDictionary:a,onClickUpgradeFromLockedPremiumAlerts:s,userExperiments:c}=this.props;return F.createElement(_e.F.div,{onClick:e=>e.stopPropagation(),key:e.id,mount:e=>this.el=e,className:Object(r.c)(this.state.isMaxWidth&&u.maxWidthReached)},function(e,t,n,i,r,o,a,s){switch(e.kind){case"common":return F.createElement(Pe,{model:e,onIgnore:t,onAddToDictionary:n,onEditor:i,onLogin:r,isAddedToDictionary:o,onClickUpgradeFromLockedPremiumAlerts:a,userExperiments:s});case"synonyms":return F.createElement(Ne,{model:e,onEditor:i,onLogin:r});case"vox":return F.createElement(Ie,{model:e,onIgnore:t});default:return null}}(e,t,n,i,o,a,s,c))}}const De={pos:{rect:{top:0,left:0,width:0,height:0,flip:!1},sourceRect:{width:0},delta:{right:0,left:0,bottom:0,top:0},className:"",visible:!1},addedToDict:!1,match:{},visible:!1};class Le extends F.Component{constructor(){super(...arguments),this._firstInteractionMap={},this._cardModel=null,this._alert=null,this.stopMouseDownEvent=e=>{e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},this._setRef=e=>{this._ref!==e&&(null!=this._ref&&this._ref.removeEventListener("mousedown",this.stopMouseDownEvent),null!=e&&e.addEventListener("mousedown",this.stopMouseDownEvent),this.props.setRef(e),this._ref=e)},this.handlers=(e,t,n)=>{const i=Object(C.a)(),{match:r={}}=this.props,{props:o}=this;if(!this.props.addedToDict&&e){switch(e){case"replace":o.animateReplacement(String(r.id),t,n),r.replace(t,!1),o.hide(),r.syn?(ve.a.synonymAcceptButtonClick("synonymCard"),i.synonymReplacementAction()):i.cardReplacementAction();break;case"ignore":r.ignore(),o.hide(),i.cardIgnoreAction();break;case"hide":case"anim-hide":o.hide();break;case"editor":o.openEditor();break;case"login":o.isUnifiedFunnel()?o.toUnifiedLoginReminder():o.openEditor();break;case"add":o.addToDict(),i.cardAddToDictAction()}try{switch(e){case"replace":case"ignore":case"add":case"editor":void 0===this._firstInteractionMap[r.editorId]&&(i.cardFirstInteraction(this.props.getUserType(),this.props.getEditorType()),this._firstInteractionMap[r.editorId]=!0)}}catch(e){}}}}componentDidUpdate(){var e,t;!1===this.props.visible&&(this._alert=null),this._alert=(t=null===(e=this.props.match)||void 0===e?void 0:e.rawMatch)?t.group||"synonyms"!==t.action?t.group===S.b.voxStyle?function(e){var t,n;const i=A(e),r={title:e.extra_properties.voxCompanyName?`${e.extra_properties.voxCompanyName} style guide`:"Style guide",details:e.details,explanation:e.explanation},o=Object.assign(i,r),a={kind:"vox",replacements:(n=null===(t=e.transformJson)||void 0===t?void 0:t.alternatives,null!=n?n:[]).map((t,n)=>(function(e,t,n){return{newText:t,transform:P(e,n,!1)}})(t,e.replacements[n],e.highlightText)),pname:e.pname,icon:e.extra_properties.voxLogoUrl};return Object.assign(o,a)}(t):function(e){const t=e.extra_properties,n=A(e);if(null!==n){const i={title:e.title||"",details:e.details,explanation:e.explanation},r=Object.assign(n,i),o={kind:"common",todo:e.todo||"",minicardTitle:e.minicardTitle,result:e.result,point:e.point,pname:e.pname,cardLayout:e.cardLayout,replacements:(e.transforms||[]).map((t,n)=>(function(e,t){return{newText:t,transform:T(e)}})(t,e.replacements[n])),extraProperties:{hasAddToDictionary:!!t.add_to_dict,isDidYouMean:!!t.did_you_mean,isShowTitle:!!t.show_title,isEnchancement:!!t.enhancement,blogLink:t.blog_link,releaseDate:I(t.release_date),plagiarismUrl:t.url,sentence:t.sentence,priority:t.priority?parseInt(t.priority,10):0,freePremiumAlert:!!t.free_occasional_premium_alert,lockedPremiumAlert:!!t.is_locked_premium_alert,emogenieAlert:!!e.extra_properties.emoji}};return Object.assign(r,o)}return null}(t):function(e){const t=e,n=function(e){const t=Number(e.synonyms.pos),n=e.synonyms.token,i=t+n.length;return{id:String(e.id),hidden:!1,category:e.category,isFree:!0,impact:S.c.critical,highlightText:n,range:{start:t,end:i},group:l.synonym}}(t),i={title:t.synonyms.token,details:"",explanation:""},r=Object.assign(n,i),o={kind:"synonym",meanings:t.synonyms.meanings.map(e=>({title:e.meaning,replacements:e.synonyms.map(e=>N(e.derived))})),replacements:(t.replacements||[]).map(N)};return Object.assign(r,o)}(t):null,this._alert&&(this._cardModel=this.createCardModel(this._alert,!this.props.isAnonymous(),this.props.isUnifiedFunnel()))}createCardModel(e,t,n){switch(e.kind){case"common":return new w(e,(e,t)=>this.handlers("replace",e,t),t,n);case"synonym":return new E(e,e=>this.handlers("replace",e),t);case"vox":return new x(e,e=>this.handlers("replace",e),t);default:return null}}render(){var e,t;const{pos:n,visible:i,addedToDict:o}=this.props,{rect:a}=n,s=a.flip,c={top:a.top,left:a.left,visibility:i&&n.visible?"visible":"hidden"};if(!i||!this._alert||!this._cardModel)return F.createElement("div",{ref:this._setRef});const l=0===(null===(t=null===(e=this.props.match)||void 0===e?void 0:e.synonyms)||void 0===t?void 0:t.meanings.length);return F.createElement("div",{ref:this._setRef,style:c,className:Object(r.c)(u.container,l&&u.notFound,s&&u.flip,"synonyms"===this._cardModel.kind&&u.syn,s&&"synonyms"===this._cardModel.kind&&u.flipSyn)},F.createElement(Me,{userExperiments:this.props.getUserExperiments(),model:this._cardModel,onIgnore:()=>this.handlers("ignore"),onAddToDictionary:()=>this.handlers("add"),isAddedToDictionary:o,onLogin:()=>this.handlers("login"),onEditor:()=>this.handlers("editor"),onClickUpgradeFromLockedPremiumAlerts:this.props.upgradeFromLockedPremiumAlerts}))}}var Be=n(306),Ue=n(180),He=n(379),Ve=n(233),ze=n(347),Ge=n(39),We=n(42);let $e={};class qe extends(Object(s.k)(i.emitter)){constructor({dynamicConfig:e,doc:t=document,domCls:n="",user:i,isGDocs:o}={}){super(),this._isAnonymous=!1,this._isGdocs=!1,this._id=Symbol("GrammarCard"),this._fluidCurrentCard=null,this._view=null,this._cardState=new Ve.a(De),this._cardElSubject=new Ve.a(null),this._el=null,this.show=(e,t)=>(this.emit("show",e.id),this.updatePos(e,t),this._isGdocs&&this.listenGdocsKeyDown(),Ue.a.start($e.id),Object(C.a)().cardShowAction(),this),this.hide=(e,t=!1)=>{var n,i;const r=Object(C.a)();if(!$e.hint.visible&&!t)return;this._isGdocs&&this.listenGdocsKeyDown(!1),this._cardElSubject.pipe(Object(ze.a)(Boolean)).subscribe(e=>e.style.display="none"),this.setState({visible:!1,match:{}});const o=0===(null===(i=null===(n=this.match)||void 0===n?void 0:n.synonyms)||void 0===i?void 0:i.meanings.length);if($e.hint.setVisible(!1),this.emit("hide",this.match||void 0),$e.hint.currentEl&&this.removeLoading($e.hint.currentEl),Ue.a.stop($e.id),this.match){const{syn:e}=this.match;e?r.synonymCardHideAction(o):r.cardHideAction()}return o&&r.synonymCardHideAction(o),this.match=null,this._cardElSubject.pipe(Object(ze.a)(Boolean)).subscribe(e=>e.style.display=""),this},this.animHide=()=>(this._cardElSubject.pipe(Object(ze.a)(Boolean)).subscribe(e=>r.k.call(e,Object(r.q)(),this.hide)),this),this.openEditor=()=>{$e.hint.currentEl&&this.removeLoading($e.hint.currentEl),this.emit("toeditor",this.match?this.match.editorId:void 0),this.hide()},this.toUnifiedLoginReminder=()=>{this.emit("toUnifiedLoginReminder"),this.hide()},this.animateReplacement=(e,t,n)=>{this.emit("animateReplacement",{matchId:e,replacement:t,visibleReplacement:n})},this.addToDict=()=>{this._isAnonymous?(this.emit("toUnifiedLoginReminder"),this.hide()):(this.setState({addedToDict:!0}),this.emit("addtodict",{match:this.match,hide:this.hide,animHide:this.animHide}))},this.upgradeFromLockedPremiumAlerts=()=>{this.emit("upgradeFromLockedPremiumAlert"),this.hide()},this.getCurrentEl=e=>{let t=e.target;const{clientX:n,clientY:i}=e;if(this._isGdocs){const e=this.elementsFromPoint(n,i).find(e=>Object(r.f)(e,"kix-spelling-error-overlay-container"));e&&e.childNodes[0]&&(t=e.childNodes[0])}return t},this.gdocsUnderlineParts=e=>Array.from($e.doc.querySelectorAll(`[data-gr-g='${e}']`)),this.inTarget=e=>{const{clientX:t,clientY:n,detail:i}=e,o=this.getCurrentEl(e),a=$e.hint.currentEl,s=(Object(r.l)(o,$e.cls)||Object(r.f)(o,$e.cls))&&(!a||!Object(r.f)(a,"g-selection-anim"));return!(!this.elementsFromPoint(t,n).some(e=>Object(r.f)(e,$e.cls))||!$e.hint.visible||1!==i)||(s?a&&a!==o?($e.hint.fastHide(),void this.removeLoading(a)):(this.addLoading(o),!0):void(!$e.hint.visible&&a&&this.removeLoading(a)))},this.isGdocsMainViewTarget=e=>Boolean(Object(r.l)(e,"kix-paragraphrenderer")),this.addLoading=e=>{let t=[e];this._isGdocs&&this.isGdocsMainViewTarget(e)&&(t=this.gdocsUnderlineParts(e.dataset.grG)),t.forEach(e=>!Object(r.f)(e,$e.pCls)&&Object(r.a)(e,$e.pCls))},this.removeLoading=e=>{if(!e)return;let t=[e];this._isGdocs&&this.isGdocsMainViewTarget(e)&&(t=this.gdocsUnderlineParts(e.dataset.grG)),t.forEach(e=>{Object(r.f)(e,$e.pCls)&&Object(r.n)(e,$e.pCls),Object(r.f)(e,"g-selection-anim")&&e.parentNode&&e.parentNode.removeChild(e)})},this.showSynonyms=e=>{const t=e.animEl;return t&&0!==t.getClientRects().length?($e.hint.currentEl&&this.hide(),$e.hint.currentEl=t,this.showSynonymsImpl(e,()=>this.updatePos(t))):this},this.showSynonymsImpl=(e,t)=>{var n;const i=Object(C.a)();this.setData(e),t(),this.setState({visible:!0});const r=0===(null===(n=e.synonyms)||void 0===n?void 0:n.meanings.length);return i.synonymCardShowAction(r),ve.a.synonymsPopupShow(),$e.hint.setVisible(!0),Ue.a.start($e.id),this},this.setOuterIframe=e=>{const t=e.contentDocument;!e||t&&e===$e.iframe||($e.iframe=e,$e.hint.setDocs($e.doc,t))},this.fluidShowSynonym=(e,t,n)=>(this._fluidCurrentCard&&"syn"!==this._fluidCurrentCard&&this.fluidHide(),this._fluidCurrentCard="syn",this.showSynonymsImpl(e,()=>{this.fluidUpdatePos(t,n,!1),setTimeout(()=>this.fluidUpdatePos(t,n,!0),0)})),this.fluidShow=(e,t,n,i)=>(this._fluidCurrentCard&&"alert"!==this._fluidCurrentCard&&this.fluidHide(),this._fluidCurrentCard="alert",this.setData(n,void 0,i),this.fluidUpdatePos(e,t,!1,()=>this.fluidUpdatePos(e,t,!0)),Ue.a.start($e.id),Object(C.a)().cardShowAction(),n.rawMatch.extra_properties.is_locked_premium_alert&&ve.a.premiumPreviewPremiumPreviewCardShow(n.rawMatch.cardLayout.group,n.rawMatch.cardLayout.outcome),this),this._dynamicConfig=e,this._isGdocs=o,this._isAnonymous=i.anonymous,this._userType=i.type,this._userExperiments=i.experiments,this._view=this.createView(t),this._cardElSubject.pipe(Object(ze.a)(Boolean)).subscribe(e=>this._el=e);const a=new c({doc:t,hint:this._el,hideDelay:500,inTarget:this.inTarget,cls:$e.cls,delay:400,onshow:this.show,onhide:this.hide,getCurrentEl:this.getCurrentEl}).bind();$e={id:this._id,windowEvents:{keydown:this.hide,scroll:this.hide,resize:this.hide},doc:t,domCls:n,cls:"gr_",pCls:"gr-progress",hint:a},this.hint=a,He.b($e.windowEvents,null,!0)}updateState(e,t){this._dynamicConfig=e,this._isAnonymous=t.anonymous,this._userType=t.type}listenGdocsKeyDown(e=!0){const t=document.querySelector(".docs-texteventtarget-iframe");t&&Object(o.a)(t.contentDocument,"keydown",this.hide,!e)}elementsFromPoint(e,t){return e&&t?$e.doc.elementsFromPoint?$e.doc.elementsFromPoint(e,t):[$e.doc.elementFromPoint(e,t)]:[]}setState(e,t){this._cardState.next(Object.assign(Object.assign({},this._cardState.value),e)),t&&t()}setData(e,t,n){return e?(this.setState({match:e,visible:!0,addedToDict:!1}),this.match=e,n&&(this.hint.cardHovered=n),this._editorType=t,this):this}updatePos(e,t){if(null==e.parentNode){if(!e.id)return void this.hide();const t=$e.doc.querySelector(`.gr_${e.id}`);if(!t)return void this.hide();$e.hint.currentEl=e=t}const n=Object(Be.b)(e,$e.iframe);this._cardElSubject.pipe(Object(ze.a)(Boolean)).subscribe(e=>{const i=Object.assign(Object(Be.c)(e,function(e,t){if(!e)return;if(!e.length)return e;if(1===e.length||!t)return e[0];const n=t.pageX||t.clientX,i=t.pageY||t.clientY;let r;return e.forEach(e=>{const t=e.top,o=e.left,a=e.width,s=e.height;i>=t&&i<=t+s&&n>=o&&n<=o+a&&(r=e)}),r||e[0]}(n,t),!1,!0),{width:e.clientWidth,height:e.clientHeight});i.rect.flip&&(i.rect.top=i.rect.top+e.clientHeight),this.setState({pos:i})})}fluidUpdatePos(e,t,n,i){this._cardElSubject.pipe(Object(ze.a)(Boolean)).subscribe(r=>{const o=Object.assign(Object(Be.c)(r,e,!1,!0),{width:r.clientWidth,height:r.clientHeight,visible:n});o.rect.top=o.rect.flip?o.rect.top+r.clientHeight-t:o.rect.top+t,this.setState({pos:o},i)})}fluidHide(){this.hide(void 0,!0),this._fluidCurrentCard=null}createView(e){return new We.b(We.a.fromDocument(e,"grammarly-card"),We.c.appendChild(e.documentElement),()=>F.createElement(_e.F.Fragment,null,this._cardState.pipe(Object(Ge.a)(e=>F.createElement(Le,{setRef:e=>this._cardElSubject.next(e),pos:e.pos,addedToDict:e.addedToDict,match:e.match,visible:e.visible,isAnonymous:()=>this._isAnonymous,getDynamicConfig:()=>this._dynamicConfig,getUserType:()=>this._userType,getEditorType:()=>this._editorType,getUserExperiments:()=>this._userExperiments,hide:this.hide,openEditor:this.openEditor,toUnifiedLoginReminder:this.toUnifiedLoginReminder,animateReplacement:this.animateReplacement,addToDict:this.addToDict,isUnifiedFunnel:()=>!0,upgradeFromLockedPremiumAlerts:this.upgradeFromLockedPremiumAlerts})))))}remove(){$e.hint.unbind(),He.a($e.windowEvents,null,!0),this._view&&(this._view.dispose(),this._view=null)}}var Ye=n(518),Ke=n(152),Qe=n(12),Xe=n(243),Je=n(332);const Ze=Qe.a.create("lib.elements.iframe");function et({user:e,iframeSubject:t}){let n,a=[],c=!1,l=!1;const u=Object(i.emitter)({activate:d,refresh:function(e=s.e){t.pipe(Object(ze.a)(Boolean)).subscribe(t=>t?f():d(e))},send:function(e,t){if(!c&&!t)return a.push(e);h(e)},updateState:function(t){e=t},deactivate:function(){Object(o.b)(window.top,"message",p,!1)},getWasLoadedBefore:function(){return l}});return u;function d(e=s.e){n||t.pipe(Object(ze.a)(Boolean)).subscribe(t=>{t&&(u.el=t,Object(o.a)(window.top,"message",p,!1),t.srcdoc||function(e,t=s.e){const n=window.GR_INLINE_POPUP||"";e.setAttribute("srcdoc",n),r.k.call(e,"load",()=>{try{window.ACTIVATE_GR_POPUP&&e.contentWindow&&e.contentDocument&&window.ACTIVATE_GR_POPUP(e.contentWindow,e.contentDocument,Ke),t()}catch(e){Ze.error("Cannot activate popup",e),Object(C.a)().popupLoadError(e&&e.message,e&&e.name)}})}(t,e),Object(r.a)(t,Je.freemium_iframe),n=!0,u.activated=n)})}function h(e){e.grammarly=!0,t.pipe(Object(ze.a)(Boolean)).subscribe(t=>{try{t.contentWindow.postMessage(e,"*")}catch(e){Ze.error("iframe send error",e)}})}function p(e){const{data:t}=e;if(!t||!t.grammarly)return;const n=t.action;if("user"===n)return f();c=!0,"initialized"===n&&a&&(a.forEach(e=>u.send(e)),Xe.a.instance.trackLoad(Xe.a.PopupEditorType.old,!0,Date.now()),l=!0),"accepted"===n&&(a=[]),u.emit("message",t)}function f(){const t=Object.assign({},e);delete t.token,delete t.grauth,delete t.email,delete t.registrationDate,delete t.firstName,t.settings&&delete t.settings.currentIp,h({action:"user",user:t})}}var tt,nt,it=n(459);n.d(t,"a",(function(){return tt})),(nt=tt||(tt={})).empty=function(){return{iframe:null,dialog:null,card:null,notifications:null,clear:be.n,updateState:be.n,initialized:!1}},nt.init=function(e,t,{doc:n=document,user:i,page:r,actions:o,useDenaliEditor:a}){const s=new Ve.a(null);t.iframe=et({user:i,iframeSubject:s}),t.dialog=Object(Ye.a)({doc:n,iframe:t.iframe,iframeSubject:s,user:i,actions:o,page:r}),a||t.dialog.renderEditor(),t.card=new qe({dynamicConfig:e,doc:n,user:i,isGDocs:Object(ge.i)()}),t.notifications=new it.a({doc:n,actions:o}),t.updateState=({dynamicConfig:e,user:n,page:i})=>{t.iframe&&t.iframe.updateState(n),t.dialog&&t.dialog.updateState(n,i),t.card&&t.card.updateState(e,n)},t.clear=()=>{t.iframe&&t.iframe.deactivate(),t.dialog&&t.dialog.remove(),t.card&&t.card.remove(),t.iframe=null,t.dialog=null,t.card=null},t.initialized=!0}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n(90),r=n(22);const o=Object(i.emitter)({}),a={};function s(e,t,n,i){const s=i?t+"_forced":t;let c={listeners:[]};const l=()=>{const e=c.listeners.indexOf(n);e>-1&&c.listeners.splice(e,1)};if("on"===e||"once"===e){if(a[s]=a[s]||{domEventListener:t=>{o.emit(s,t),"once"===e&&l()},listeners:[]},c=a[s],c.domEventListener){const e=e=>{c.domEventListener&&c.domEventListener(Object.assign({originalEvent:e,preventDefault:r.e,stopPropagation:r.e},e.detail))};c.listenerWrapper=c.listenerWrapper||e}0===c.listeners.length&&(c.domEventListener&&window.addEventListener(t,c.domEventListener,i),c.listenerWrapper&&window.addEventListener(t+"-gr",c.listenerWrapper,i)),c.listeners.push(n)}if("un"===e){const e=a[s];if(!e)return;l(),0===e.listeners.length&&(e.domEventListener&&window.addEventListener(t,e.domEventListener,i),e.listenerWrapper&&window.addEventListener(t+"-gr",e.listenerWrapper,i))}o[e](s,n)}const c=e=>(t,n,i=!1)=>{"object"==typeof t?Object.keys(t).map(n=>s(e,n,t[n],i)):n&&s(e,t,n,i)},l=c("on"),u=c("un");c("one")},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p}));var i=n(200),r=n(67),o=n(86),a=n(11),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};const c=(e,t,n=0)=>{let i=-1,r=!1;for(;!r&&i<n;){if(e.removeAllRanges(),0===e.rangeCount){e.addRange(t);const n=1===e.rangeCount&&e.getRangeAt(0);r=n&&n.startContainer===t.startContainer&&n.startOffset===t.startOffset&&n.endContainer===t.endContainer&&n.endOffset===t.endOffset}else r=!1;i++}return r};function l(e,t,n,i=0,a=!1,s=null){const l=Object(r.c)(e.startContainer.ownerDocument,"range owner document");if(s&&function(e){const t=e.ownerDocument,n=t&&t.defaultView;if(!t||!n)return;const i=t.body.scrollLeft,r=t.body.scrollTop,o=n.scrollY,a=n.scrollX;e.focus(),o===n.scrollY&&a===n.scrollX||n.scroll(a,o),r!==t.body.scrollTop&&(t.body.scrollTop=r),i!==t.body.scrollLeft&&(t.body.scrollLeft=i)}(s),!c(Object(r.c)(l.getSelection(),"doc selection"),e,i))throw new Error("Cannot perform replacement -- failed to set selection");return a?o.a.create((e,i)=>{setTimeout(()=>n(t,l).then(t=>e(),i),0)}):n(t,l)}function u(e,t,n=0,i="insertText",a=!1,s=null){if(e)return l(e,t,t=>o.a.create((n,o)=>{const a=Object(r.c)(e.startContainer.ownerDocument,"range owner document"),s=e.extractContents();a.execCommand(i,!1,t)?n():(e.insertNode(s),o("failed to replace at range, execCommand = false"))}),n,a,s);throw new Error("can not perform replacement, range not created")}var d;!function(e){e.storeFrom=function(e){const t=[],n=Object(r.c)(e.getSelection(),"document selection"),i=n.rangeCount;for(let e=0;e<i;e++)t.push(n.getRangeAt(e).cloneRange());return{ranges:t}},e.restoreTo=function(e,t){const n=Object(r.c)(t.getSelection(),"document selection");n.removeAllRanges(),e.ranges.forEach(e=>n.addRange(e))}}(d||(d={}));class h{constructor(e,t,n=((e,t,n=!1)=>i.b.createRange(e,t.start,t.end,!0,n)),r=2,o=!1,a=null){this._getCurrentTextMap=e,this._doReplaceAtCurrentSelection=t,this._createRange=n,this._setSelectionRetryCount=r,this._asyncReplace=o,this._focusElement=a}canPerformReplacement(e){const t=this._createRange(this._getCurrentTextMap(),e),n=null!==t;return t&&t.detach(),n}performReplacement(e,t,n){return s(this,void 0,void 0,(function*(){const i=this._createRange(this._getCurrentTextMap(),e,Object(a.l)());if(!i)throw new Error("can not perform replacement, range not created");{const e=Object(r.c)(i.startContainer.ownerDocument,"range owner document"),o=n&&d.storeFrom(e);try{yield l(i,t,this._doReplaceAtCurrentSelection,this._setSelectionRetryCount,this._asyncReplace,this._focusElement)}finally{i.detach()}o&&d.restoreTo(o,e)}}))}}class p extends h{static create(e,t={}){return new p(e,t.createRange,t.setSelectionRetryCount,t.asyncReplace,t.focusElement||null)}constructor(e,t,n,i,r){super(e,(e,t)=>o.a.create((n,i)=>{t.execCommand("insertText",!1,e)?n():i("failed to replace at range, execCommand = false")}),t,n,i,r)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return S}));var i=n(118),r=n(151),o=n(128),a=n(234),s=n(233),c=n(203),l=n(273),u=n(372),d=n(147),h=n(212),p=n(130),f=n(370),m=n(93),g=n(183),b=n(67),v=n(8),_=n(71),y=n(109),w=n(511),E=n(207);class x{constructor(e,t=3,n=3,i=Object(w.a)(Object(b.c)(e.ownerDocument))){this._target=e,this._xScanPoints=t,this._yScanPoints=n,this._caretRangeFromPoint=i}_getRightmostRangeRectFromPoint(e,t){const n=Object(v.r)(()=>this._caretRangeFromPoint(e,t),e=>null),i=Object(v.r)(()=>n&&this._target.contains(n.container)&&this._target!==n.container?n.getClientRects():null,e=>null);return n&&n.detach(),i&&i.length>0?i.reduce((e,t)=>e&&e.right>t.right?e:t,null):null}getIsOverlapping(e,t){return v.a.range(this._yScanPoints).some(n=>v.a.range(this._xScanPoints).some(i=>{const r=e.left+i*e.width/(this._xScanPoints-1),o=e.top+n*e.height/(this._yScanPoints-1),a=this._getRightmostRangeRectFromPoint(r-t.scrollX,o-t.scrollY);return!!(a&&a.right+t.scrollX>=e.left&&a.bottom+t.scrollY>=e.top)}))}}class O{constructor(e,t){this._mirrorDiv=e,this._layout=t}getIsOverlapping(e,t){const n=this._mirrorDiv.firstChild&&3===this._mirrorDiv.firstChild.nodeType?this._mirrorDiv.firstChild:null,i=this._mirrorDiv.lastChild&&3===this._mirrorDiv.lastChild.nodeType?this._mirrorDiv.lastChild:null,r=n&&i&&Object(v.r)(()=>{const e=Object(b.c)(this._mirrorDiv.ownerDocument).createRange();try{return e.setStart(n,0),e.setEnd(i,(i.nodeValue||"").length),e.getClientRects()}finally{e.detach()}},e=>null),o=this._layout.rect.getApproximate().page,a={top:e.top-t.scrollY-o.top,left:e.left-t.scrollX-o.left,height:e.height,width:e.width};return!!r&&Array.from(r).some(e=>y.c.intersects(a,e))}}class S{constructor(e,t,n,b,w=new x(b),O=Object(i.a)({width:E.a.gButtonSize,height:E.a.gButtonSize}),S=E.a.gButtonTopLeftMargin,C=_.a.hz4,j=v.e.seconds(5),k=(()=>b.ownerDocument&&b.ownerDocument.defaultView||{scrollX:0,scrollY:0}),T=Object(i.a)(!1)){this._textObserver=e,this._gbutton=t,this._textField=n,this._overlapDetection=w,this._gButtonSize=O,this._gButtonTopLeftMargin=S,this._layoutClock=C,this._unminimizeDebounceTimeMs=j,this._getViewportScroll=k,this._unminimizeWhenIdle=T,this.minimized=this._gbutton.minimizeEnabled?Object(r.b)(Object(r.b)(this._gbutton.positionBehavior,this._textField.rect.behavior,this._textField.scroll.behavior).pipe(Object(c.a)(this._layoutClock)),this._textObserver.contentChanges.async.pipe(Object(l.a)(void 0)),this._gButtonSize,([e,t],n,i)=>{const{top:r,left:o,effectivePadding:a}=e;if(t.size.height>=a.bottom+i.height-a.top&&t.size.width>=a.right+i.width-a.left){const e=i.width+this._gButtonTopLeftMargin,t=i.height+this._gButtonTopLeftMargin,n=o-e,a=r-t;return this._overlapDetection.getIsOverlapping(y.b.create({left:n,top:a,width:e,height:t}),this._getViewportScroll())}return!0}).pipe(Object(u.a)(this._unminimizeWhenIdle),Object(d.a)(([e,t])=>e&&t?Object(o.a)(Object(i.a)(e),Object(a.a)(this._unminimizeDebounceTimeMs).pipe(Object(h.a)(!1))):Object(i.a)(e)),Object(p.a)(),Object(f.a)(e=>Object(a.a)(e?0:this._unminimizeDebounceTimeMs)),Object(m.a)(()=>new s.a(!1)),Object(g.a)()):Object(i.a)(!1)}}},,function(e,t,n){"use strict";function i(e){try{return encodeURIComponent(e)}catch(e){return null}}function r(e){try{return decodeURIComponent(e)}catch(e){return null}}t.__esModule=!0,t.default=function(e,t,n){if(arguments.length<2)return function(e){var t=function(e){var t={},n=document.cookie.split(/ *; */);if(!n[0])return t;var i=n,o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var c=s;t[r((c=c.split("="))[0])]=r(c[1])}return t}();return e?t[e]:t}(e);!function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=i(e)+"="+i(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.secure&&(r+="; secure"),document.cookie=r}(e,t,n)}},function(e,t,n){e.exports={layout:"u_fNK"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i=2;function r(e,t,n){const r=n,o=t&&parseInt(t.borderTopWidth||"0",10)||e.clientTop,a=t&&parseInt(t.borderLeftWidth||"0",10)||e.clientLeft,s=t&&parseInt(t.borderBottomWidth||"0",10)||0,c=t&&parseInt(t.borderRightWidth||"0",10)||0,l=Math.max(0,e.offsetHeight-e.clientHeight-o-s),u=Math.max(0,e.offsetWidth-e.clientWidth-a-c);return Object.assign({},n,{top:r.top+o,left:r.left+a,height:Math.max(0,l<i?n.height-o-s:e.clientHeight),width:Math.max(0,u<i?n.width-a-c:e.clientWidth)})}},function(e,t,n){"use strict";var i=n(51);class r{constructor({disabled:e,bannedDict:t,bannedCorrections:n}){this.disabled=e,this.bannedDict=t,this.bannedCorrections=n}static parse(e){return Object(i.b)(Object(i.i)(r.name,{disabled:Object(i.h)(i.e),bannedDict:Object(i.h)(Object(i.d)(i.j)),bannedCorrections:Object(i.h)(Object(i.d)(Object(i.k)(i.j,Object(i.g)(i.j))))}),e=>new r(e))(e)}encode(){const e={};return void 0!==this.disabled&&(e.disabled=this.disabled),void 0!==this.bannedDict&&(e.bannedDict=this.bannedDict),void 0!==this.bannedCorrections&&(e.bannedCorrections=this.bannedCorrections),e}}class o{constructor({legacyStopWorkingDate:e}){this.legacyStopWorkingDate=e}static parse(e){return Object(i.b)(Object(i.i)(o.name,{legacyStopWorkingDate:Object(i.h)(i.f)}),e=>new o(e))(e)}encode(){const e={};return this.legacyStopWorkingDate&&(e.legacyStopWorkingDate=this.legacyStopWorkingDate.toISOString()),e}}n.d(t,"a",(function(){return a}));class a{constructor(e,t){this.source=e,t?(this.version=t.version,this.safariAppExtensionMigration=t.safariAppExtensionMigration,this.newRichTextFieldsEnabled=t.newRichTextFieldsEnabled,this.fluidDisabledForFirefox=t.fluidDisabledForFirefox,this.fluidDisabledForSafari=t.fluidDisabledForSafari,this.autocorrect=t.autocorrect):this.version=""}static parse(e){return t=>Object(i.b)(Object(i.i)(a.name,{version:i.j,safariAppExtensionMigration:Object(i.a)(a.safariAppExtensionMigrationFieldName,Object(i.h)(o.parse)),newRichTextFieldsEnabled:Object(i.a)(a.newRichTextFieldsEnabledFieldName,Object(i.h)(i.e)),fluidDisabledForFirefox:Object(i.a)(a.fluidDisabledForFirefoxFieldName,Object(i.h)(i.e)),fluidDisabledForSafari:Object(i.a)(a.fluidDisabledForSafariFieldName,Object(i.h)(i.e)),autocorrect:Object(i.a)(a.autocorrect,Object(i.h)(r.parse))}),t=>new a(e,t))(t)}encode(){return{version:this.version,[a.safariAppExtensionMigrationFieldName]:this.safariAppExtensionMigration?this.safariAppExtensionMigration.encode():void 0,[a.newRichTextFieldsEnabledFieldName]:this.newRichTextFieldsEnabled,[a.fluidDisabledForFirefoxFieldName]:this.fluidDisabledForFirefox,[a.fluidDisabledForSafariFieldName]:this.fluidDisabledForSafari,[a.autocorrect]:this.autocorrect?this.autocorrect.encode():void 0}}}a.empty=new a("empty",{version:"0",newRichTextFieldsEnabled:!0,fluidDisabledForFirefox:!1,fluidDisabledForSafari:!1}),a.safariAppExtensionMigrationFieldName="safariAppExtensionMigration_1558396627629",a.newRichTextFieldsEnabledFieldName="newRichTextFieldsEnabled_1567530773088",a.fluidDisabledForFirefoxFieldName="fluidDisabledForFirefox_1567530773089",a.fluidDisabledForSafariFieldName="fluidDisabledForSafari_1567530773090",a.autocorrect="autocorrect_1579700246281"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(151),o=n(308),a=n(8);!function(e){e.isInExperiment=function(e,t){return!e.systemInfo.os.isChromeOS&&o.a.getType(t)===o.b.registered&&!!t.experiments&&t.experiments.sendEmailPremiumPopup},e.contentEligibleObs=function(e,t){return Object(r.b)(e,t,(e,t)=>e.length>=650&&a.a.distinct(t.filter(e=>!e.isFree).map(e=>e.cardLayout.group)).length>=3)},e.hasShownPopupRecently=function(e){return!!e.sendEmailPremiumPopupLastShownTimestamp&&Date.now()<e.sendEmailPremiumPopupLastShownTimestamp+a.e.days(60)}}(i||(i={}))},,,function(e,t,n){"use strict";var i=n(317);function r(e,t){return e[t]<<8|e[t+1]}e.exports={hash:function(e){var t,n=i.toU8IntArray(e+""),o=0;if(!e)return o.toString(16);var a=n.length,s=0;t=3&a,a>>>=2;for(var c=0;c<a;c++)o=(o+=r(n,s))<<16^r(n,s+2)<<11^o,s+=4,o+=o>>11;switch(t){case 3:o+=r(n,s),o^=o<<16,o^=n[s+2]<<18,o+=o>>11;break;case 2:o+=r(n,s),o^=o<<11,o+=o>>17;break;case 1:o+=n[s],o^=o<<10,o+=o>>1}return o^=o<<3,o+=o>>5,o^=o<<4,o+=o>>17,o^=o<<25,o+=o>>6,i.intToUnsignedHex(o)}}},function(e,t,n){"use strict";var i=n(317);function r(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function o(e,t){return e<<t|e>>>32-t}function a(e){return e=r(e^=e>>>16,2246822507),(e=r(e^=e>>>13,3266489909))^e>>>16}function s(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function u(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function h(e){return e=d(e,[0,e[0]>>>1]),e=d(e=c(e,[4283543511,3981806797]),[0,e[0]>>>1]),d(e=c(e,[3301882366,444984403]),[0,e[0]>>>1])}var p=function(e,t){e=""+e||"";var n=i.toU8IntArray(e);t=t||0;for(var r=(e={charCodeAt:function(e){return n[e]},length:n.length}).length%16,o=e.length-r,a=[0,t],p=[0,t],f=[0,0],m=[0,0],g=[2277735313,289559509],b=[1291169091,658871167],v=0;v<o;v+=16)f=[255&e.charCodeAt(v+4)|(255&e.charCodeAt(v+5))<<8|(255&e.charCodeAt(v+6))<<16|(255&e.charCodeAt(v+7))<<24,255&e.charCodeAt(v)|(255&e.charCodeAt(v+1))<<8|(255&e.charCodeAt(v+2))<<16|(255&e.charCodeAt(v+3))<<24],m=[255&e.charCodeAt(v+12)|(255&e.charCodeAt(v+13))<<8|(255&e.charCodeAt(v+14))<<16|(255&e.charCodeAt(v+15))<<24,255&e.charCodeAt(v+8)|(255&e.charCodeAt(v+9))<<8|(255&e.charCodeAt(v+10))<<16|(255&e.charCodeAt(v+11))<<24],f=l(f=c(f,g),31),a=s(a=l(a=d(a,f=c(f,b)),27),p),a=s(c(a,[0,5]),[0,1390208809]),m=l(m=c(m,b),33),p=s(p=l(p=d(p,m=c(m,g)),31),a),p=s(c(p,[0,5]),[0,944331445]);switch(f=[0,0],m=[0,0],r){case 15:m=d(m,u([0,e.charCodeAt(v+14)],48));case 14:m=d(m,u([0,e.charCodeAt(v+13)],40));case 13:m=d(m,u([0,e.charCodeAt(v+12)],32));case 12:m=d(m,u([0,e.charCodeAt(v+11)],24));case 11:m=d(m,u([0,e.charCodeAt(v+10)],16));case 10:m=d(m,u([0,e.charCodeAt(v+9)],8));case 9:m=c(m=d(m,[0,e.charCodeAt(v+8)]),b),p=d(p,m=c(m=l(m,33),g));case 8:f=d(f,u([0,e.charCodeAt(v+7)],56));case 7:f=d(f,u([0,e.charCodeAt(v+6)],48));case 6:f=d(f,u([0,e.charCodeAt(v+5)],40));case 5:f=d(f,u([0,e.charCodeAt(v+4)],32));case 4:f=d(f,u([0,e.charCodeAt(v+3)],24));case 3:f=d(f,u([0,e.charCodeAt(v+2)],16));case 2:f=d(f,u([0,e.charCodeAt(v+1)],8));case 1:f=c(f=d(f,[0,e.charCodeAt(v)]),g),a=d(a,f=c(f=l(f,31),b))}return a=s(a=d(a,[0,e.length]),p=d(p,[0,e.length])),p=s(p,a),a=s(a=h(a),p=h(p)),p=s(p,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(p[0]>>>0).toString(16)).slice(-8)+("00000000"+(p[1]>>>0).toString(16)).slice(-8)};e.exports={x86Hash32:function(e,t){e=""+e||"";var n=i.toU8IntArray(e);t=t||0;for(var s=(e={charCodeAt:function(e){return n[e]},length:n.length}).length%4,c=e.length-s,l=t,u=0,d=3432918353,h=461845907,p=0;p<c;p+=4)u=r(u=255&e.charCodeAt(p)|(255&e.charCodeAt(p+1))<<8|(255&e.charCodeAt(p+2))<<16|(255&e.charCodeAt(p+3))<<24,d),u=r(u=o(u,15),h),l=r(l=o(l^=u,13),5)+3864292196;switch(u=0,s){case 3:u^=(255&e.charCodeAt(p+2))<<16;case 2:u^=(255&e.charCodeAt(p+1))<<8;case 1:u=r(u^=255&e.charCodeAt(p),d),l^=u=r(u=o(u,15),h)}return((l=a(l^=e.length))>>>0).toString(16)},x86Hash128:function(e,t){e=""+e||"";var n=i.toU8IntArray(e);t=t||0;for(var s=(e={charCodeAt:function(e){return n[e]},length:n.length}).length%16,c=e.length-s,l=t,u=t,d=t,h=t,p=0,f=0,m=0,g=0,b=597399067,v=2869860233,_=951274213,y=2716044179,w=0;w<c;w+=16)p=255&e.charCodeAt(w)|(255&e.charCodeAt(w+1))<<8|(255&e.charCodeAt(w+2))<<16|(255&e.charCodeAt(w+3))<<24,f=255&e.charCodeAt(w+4)|(255&e.charCodeAt(w+5))<<8|(255&e.charCodeAt(w+6))<<16|(255&e.charCodeAt(w+7))<<24,m=255&e.charCodeAt(w+8)|(255&e.charCodeAt(w+9))<<8|(255&e.charCodeAt(w+10))<<16|(255&e.charCodeAt(w+11))<<24,g=255&e.charCodeAt(w+12)|(255&e.charCodeAt(w+13))<<8|(255&e.charCodeAt(w+14))<<16|(255&e.charCodeAt(w+15))<<24,p=o(p=r(p,b),15),l=o(l^=p=r(p,v),19),l=r(l+=u,5)+1444728091,f=o(f=r(f,v),16),u=o(u^=f=r(f,_),17),u=r(u+=d,5)+197830471,m=o(m=r(m,_),17),d=o(d^=m=r(m,y),15),d=r(d+=h,5)+2530024501,g=o(g=r(g,y),18),h=o(h^=g=r(g,b),13),h=r(h+=l,5)+850148119;switch(p=0,f=0,m=0,g=0,s){case 15:g^=e.charCodeAt(w+14)<<16;case 14:g^=e.charCodeAt(w+13)<<8;case 13:g=r(g^=e.charCodeAt(w+12),y),h^=g=r(g=o(g,18),b);case 12:m^=e.charCodeAt(w+11)<<24;case 11:m^=e.charCodeAt(w+10)<<16;case 10:m^=e.charCodeAt(w+9)<<8;case 9:m=r(m^=e.charCodeAt(w+8),_),d^=m=r(m=o(m,17),y);case 8:f^=e.charCodeAt(w+7)<<24;case 7:f^=e.charCodeAt(w+6)<<16;case 6:f^=e.charCodeAt(w+5)<<8;case 5:f=r(f^=e.charCodeAt(w+4),v),u^=f=r(f=o(f,16),_);case 4:p^=e.charCodeAt(w+3)<<24;case 3:p^=e.charCodeAt(w+2)<<16;case 2:p^=e.charCodeAt(w+1)<<8;case 1:p=r(p^=e.charCodeAt(w),b),l^=p=r(p=o(p,15),v)}return l^=e.length,l+=u^=e.length,l+=d^=e.length,u+=l+=h^=e.length,d+=l,h+=l,l=a(l),l+=u=a(u),l+=d=a(d),u+=l+=h=a(h),d+=l,h+=l,("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)},x64Hash64:function(e,t){return p(e,t).slice(8)},x64Hash128:p,hash:function(e,t){return p(e,t)}}},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))r.call(n,u)&&(c[u]=n[u]);if(i){s=i(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(c[s[d]]=n[s[d]])}}return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(394);t.Lens=i.Lens,t.Prism=i.Prism,t.Optic=i.Optic,n(480)},function(e,t,n){"use strict";function i(e,t){return function(n,i){return t(n(e(i)),i)}}var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.optic=function(e,t){return{get:e,set:t,modify:i(e,t)}}}(t.Optic||(t.Optic={})),function(e){e.create=function e(t,n){return{get:t,set:n,modify:i(t,n),compose:function(i){return e((function(e){var n=t(e);return void 0!==n?i.get(n):void 0}),(function(e,r){var o=t(r);return void 0!==o?n(i.set(e,o),r):r}))}}}}(r=t.Prism||(t.Prism={})),function(e){function t(e,n){return{get:e,set:n,modify:i(e,n),compose:function(i){return t((function(t){return i.get(e(t))}),(function(t,r){return n(i.set(t,e(r)),r)}))}}}e.create=t,e.compose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new TypeError("Can not compose zero lenses. You probably want `Lens.identity`.");if(1===e.length)return e[0];var n=e[0];return e.slice(1).forEach((function(e){n=n.compose(e)})),n};var n=t((function(e){return e}),(function(e,t){return e}));e.identity=function(){return n};var o=r.create((function(e){}),(function(e,t){return t}));e.nothing=function(){return o}}(t.Lens||(t.Lens={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(16);function r(e){return!!e&&(e instanceof i.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(16),r=n(135),o=n(39),a=n(195),s=n(46),c=n(59);function l(e,t,n){if(t){if(!Object(c.a)(t))return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return l(e,n).apply(void 0,i).pipe(Object(o.a)((function(e){return Object(s.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var s,c=this,l={context:c,subject:s,callbackFunc:e,scheduler:n};return new i.a((function(i){if(n){var o={args:t,subscriber:i,params:l};return n.schedule(u,0,o)}if(!s){s=new r.a;try{e.apply(c,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.next(e.length<=1?e[0]:e),s.complete()}]))}catch(e){Object(a.a)(s)?s.error(e):console.warn(e)}}return s.subscribe(i)}))}}function u(e){var t=this,n=e.args,i=e.subscriber,o=e.params,a=o.callbackFunc,s=o.context,c=o.scheduler,l=o.subject;if(!l){l=o.subject=new r.a;try{a.apply(s,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.length<=1?e[0]:e;t.add(c.schedule(d,0,{value:i,subject:l}))}]))}catch(e){l.error(e)}}this.add(l.subscribe(i))}function d(e){var t=e.value,n=e.subject;n.next(t),n.complete()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(16),r=n(135),o=n(39),a=n(195),s=n(59),c=n(46);function l(e,t,n){if(t){if(!Object(s.a)(t))return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return l(e,n).apply(void 0,i).pipe(Object(o.a)((function(e){return Object(c.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var s={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new i.a((function(i){var o=s.context,c=s.subject;if(n)return n.schedule(u,0,{params:s,subscriber:i,context:o});if(!c){c=s.subject=new r.a;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?c.error(n):(c.next(e.length<=1?e[0]:e),c.complete())}]))}catch(e){Object(a.a)(c)?c.error(e):console.warn(e)}}return c.subscribe(i)}))}}function u(e){var t=this,n=e.params,i=e.subscriber,o=e.context,a=n.callbackFunc,s=n.args,c=n.scheduler,l=n.subject;if(!l){l=n.subject=new r.a;try{a.apply(o,s.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.shift();if(i)t.add(c.schedule(h,0,{err:i,subject:l}));else{var r=e.length<=1?e[0]:e;t.add(c.schedule(d,0,{value:r,subject:l}))}}]))}catch(e){this.add(c.schedule(h,0,{err:e,subject:l}))}}this.add(l.subscribe(i))}function d(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function h(e){var t=e.err;e.subject.error(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(16),r=n(46),o=n(39),a=n(194),s=n(68);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(r.a)(n))return l(n,null);if(Object(a.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var i=Object.keys(n);return l(i.map((function(e){return n[e]})),i)}}if("function"==typeof e[e.length-1]){var s=e.pop();return l(e=1===e.length&&Object(r.a)(e[0])?e[0]:e,null).pipe(Object(o.a)((function(e){return s.apply(void 0,e)})))}return l(e,null)}function l(e,t){return new i.a((function(n){var i=e.length;if(0!==i)for(var r=new Array(i),o=0,a=0,c=function(c){var l=Object(s.a)(e[c]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,a++),r[c]=e},error:function(e){return n.error(e)},complete:function(){++o!==i&&u||(a===i&&n.next(t?t.reduce((function(e,t,n){return e[t]=r[n],e}),{}):r),n.complete())}}))},l=0;l<i;l++)c(l);else n.complete()}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(16),r=n(46),o=n(107),a=n(39);function s(e,t,n){return n?s(e,t).pipe(Object(a.a)((function(e){return Object(r.a)(e)?n.apply(void 0,e):n(e)}))):new i.a((function(n){var i,r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{i=e(r)}catch(e){return void n.error(e)}if(Object(o.a)(t))return function(){return t(r,i)}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(16),r=n(98),o=n(59);function a(e,t,n,a,c){var l,u;if(1==arguments.length){var d=e;u=d.initialState,t=d.condition,n=d.iterate,l=d.resultSelector||r.a,c=d.scheduler}else void 0===a||Object(o.a)(a)?(u=e,l=r.a,c=a):(u=e,l=a);return new i.a((function(e){var i=u;if(c)return c.schedule(s,0,{subscriber:e,iterate:n,condition:t,resultSelector:l,state:i});for(;;){if(t){var r=void 0;try{r=t(i)}catch(t){return void e.error(t)}if(!r){e.complete();break}}var o=void 0;try{o=l(i)}catch(t){return void e.error(t)}if(e.next(o),e.closed)break;try{i=n(i)}catch(t){return void e.error(t)}}}))}function s(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var i=void 0;try{i=n(e.state)}catch(e){return void t.error(e)}if(!i)return void t.complete();if(t.closed)return}var r;try{r=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(r),!t.closed))return this.schedule(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(184),r=n(52);function o(e,t,n){return void 0===t&&(t=r.a),void 0===n&&(n=r.a),Object(i.a)((function(){return e()?t:n}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(16),r=n(68),o=n(46),a=n(52);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return a.a;var n=e[0],c=e.slice(1);return 1===e.length&&Object(o.a)(n)?s.apply(void 0,n):new i.a((function(e){var t=function(){return e.add(s.apply(void 0,c).subscribe(e))};return Object(r.a)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(16),r=n(31);function o(e,t){return t?new i.a((function(n){var i=Object.keys(e),o=new r.a;return o.add(t.schedule(a,0,{keys:i,index:0,subscriber:n,subscription:o,obj:e})),o})):new i.a((function(t){for(var n=Object.keys(e),i=0;i<n.length&&!t.closed;i++){var r=n[i];e.hasOwnProperty(r)&&t.next([r,e[r]])}t.complete()}))}function a(e){var t=e.keys,n=e.index,i=e.subscriber,r=e.subscription,o=e.obj;if(!i.closed)if(n<t.length){var a=t[n];i.next([a,o[a]]),r.add(this.schedule({keys:t,index:n+1,subscriber:i,subscription:r,obj:o}))}else i.complete()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(301),r=n(192),o=n(79),a=n(16);function s(e,t,n){return[Object(o.a)(t,n)(new a.a(Object(r.a)(e))),Object(o.a)(Object(i.a)(t,n))(new a.a(Object(r.a)(e)))]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(16);function r(e,t,n){return void 0===e&&(e=0),new i.a((function(i){void 0===t&&(t=e,e=0);var r=0,a=e;if(n)return n.schedule(o,0,{index:r,count:t,start:e,subscriber:i});for(;;){if(r++>=t){i.complete();break}if(i.next(a++),i.closed)break}}))}function o(e){var t=e.start,n=e.index,i=e.count,r=e.subscriber;n>=i?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),c=n(285),l=n(285),u=n(29),d=n(35),h=function(e){function t(n){return e.call(this,n,t._initState)||this}return r(t,e),t.prototype.render=function(){return this.state.renderCache||null},t.prototype._subscribe=function(e){var t=e.props,n=e.component,i=0;switch(m(t,(function(){return i+=1})),i){case 0:this.setState({subscription:null,renderCache:g(n,t)});break;case 1:new y(this,e);break;default:new w(this,e,i)}},t.prototype._unsubscribe=function(){var e=this.state?this.state.subscription:null;e&&e.unsubscribe()},t.prototype.componentWillReceiveProps=function(e){this._unsubscribe(),this._subscribe(e)},t.prototype.componentWillMount=function(){this._unsubscribe(),this._subscribe(this.props)},t.prototype.componentWillUnmount=function(){this._unsubscribe(),this.setState(t._initState)},t.prototype.shouldComponentUpdate=function(e,t,n){return t.renderCache!==this.state.renderCache},t._initState={renderCache:null,subscription:null},t._endState={subscription:null},t}(s.Component);t.LiftWrapper=h,t.lift=function(e){return function(t){return s.createElement(h,{component:e,props:t})}};var p="children",f="style";function m(e,t){for(var n in e){var i=e[n];if(i instanceof u.Observable)t(i);else if(p===n&&i instanceof Array)for(var r=i.length,o=0;o<r;++o){var a=i[o];a instanceof u.Observable&&t(a)}else if(f===n)for(var s in i){var c=i[s];c instanceof u.Observable&&t(c)}}}function g(e,n,i){void 0===i&&(i=[]);var r,o={},a=-1;for(var c in n){var l=n[c],d=c===p,h=c===t.PROP_MOUNT,m=c===f;if(l instanceof u.Observable){var g=i[++a];d?r=g:h?o.ref=g:o[c]=g}else if(d){if(l instanceof Array)for(var b=l.length,v=0;v<b;++v)if(l[v]instanceof u.Observable){if(!r){r=Array(l.length);for(var _=0;_<v;++_)r[_]=l[_]}r[v]=i[++a]}else r&&(r[v]=l[v]);r=r||l}else if(h)o.ref=l;else if(m){var y=void 0;for(var v in l){var w=l[v];if(w instanceof u.Observable){if(!y)for(var _ in y={},l){if(_===v)break;y[_]=l[_]}y[v]=i[++a]}else y&&(y[v]=w)}o.style=y||l}else o[c]=l}return s.createElement(e,o,void 0===r?null:r)}t.PROP_MOUNT="mount",t.PROP_REF="ref";var b=function(){function e(e,t){this.state=e,this.props=t}return e.prototype.setState=function(e){"subscription"in e&&(this.state.subscription=e.subscription),"renderCache"in e&&(this.state.renderCache=e.renderCache)},e}(),v=function(e){throw e};function _(e){l.warning((e?"The component <"+e+">":"An unnamed component")+" has received an observable that doesn't immediately emit a value in one of its props. Since this observable hasn't yet called its subscription handler, the component can not be rendered at the time. Check the props of "+(e?"<"+e+">":"this component")+".")}var y=function(){function e(e,t){var n=this;this._receivedValue=!1;var i={subscription:this,renderCache:e.state&&e.state.renderCache};this._liftedComponent=new b(i,t),m(t.props,(function(e){n._innerSubscription=e.subscribe((function(e){return n._handleValue(e)}),v,(function(){return n._handleCompleted()})),n._innerSubscription&&n._innerSubscription.closed&&(n._innerSubscription=null)})),l.DEV_ENV&&!this._receivedValue&&_(l.getReactComponentName(this._liftedComponent.props.component)),this._liftedComponent=e,e.setState(i)}return e.prototype.unsubscribe=function(){this._innerSubscription&&this._innerSubscription.unsubscribe()},e.prototype._handleValue=function(e){l.DEV_ENV&&(this._receivedValue=!0);var t=this._liftedComponent,n=t.props,i=g(n.component,n.props,[e]);c.structEq(t.state.renderCache,i)||t.setState({renderCache:i})},e.prototype._handleCompleted=function(){this._innerSubscription=null,this._liftedComponent.setState(h._endState)},e}(),w=function(){function e(e,t,n){var i=this,r={subscription:this,renderCache:e.state&&e.state.renderCache};this._liftedComponent=new b(r,t),this._innerSubscriptions=[],this._values=Array(n);for(var o=0;o<n;++o)this._values[o]=this;if(m(t.props,(function(e){var t=i._innerSubscriptions.length,n=e.subscribe((function(e){return i._handleValue(t,e)}),v,(function(){return i._handleCompleted(t)}));n&&n.closed&&(n=null),i._innerSubscriptions.push(n)})),l.DEV_ENV)for(o=this._values.length-1;0<=o;--o)if(this._values[o]===this){_(l.getReactComponentName(e.props.component));break}this._liftedComponent=e,e.setState(r)}return e.prototype.unsubscribe=function(){var e=this,t=-1;m(this._liftedComponent.props.props,(function(n){var i=e._innerSubscriptions[++t];i&&i.unsubscribe()}))},e.prototype._handleValue=function(e,t){this._values[e]=t;for(var n=this._values.length-1;0<=n;--n)if(this._values[n]===this)return;var i=this._liftedComponent,r=i.props,o=g(r.component,r.props,this._values);c.structEq(i.state.renderCache,o)||i.setState({renderCache:o})},e.prototype._handleCompleted=function(e){var t=this._innerSubscriptions.length;if(t>e&&(this._innerSubscriptions[e]=null),t===this._values.length){for(var n=0;n<t;++n)if(this._innerSubscriptions[n])return;this._liftedComponent.setState(h._endState)}},e}();function E(e){return e.filter((function(e){if(!0===e)throw new TypeError("Unexpected `true` value in classes");return null!=e&&""!==e&&!1!==e}))}function x(e){var t=null,n=null;return function(i){n&&(n.unsubscribe(),n=null,t=null),i&&(t=function(e){var t=[],n=[];for(var i in e)t.push(i),n.push(e[i]);return u.combineLatest(n,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i={},r=0;r<t.length;r++)i[t[r]]=e[r];return i}))}(e),n=t.subscribe((function(e){for(var t in e)i[t]=e[t]}),v,(function(){t=null,n=null})))}}function O(e){return function(t){for(var n in e)e[n].set(t.target[n])}}t.classes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&void 0!==e.find((function(e){return e instanceof u.Observable})))return{className:u.combineLatest(E(e||[]).map((function(e){return e instanceof u.Observable?e:u.of(e)})),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=E(e||[]);return n.length>0?n.join(" "):void 0}))};var n=E(e||[]);return{className:n.length>0?n.join(" "):void 0}},t.setElementProps=x,t.getElementProps=O,t.bindElementProps=function(e){var n,i,r=t.PROP_REF,o=e[r],s=t.PROP_MOUNT,c=e[s],l=a(e,["symbol"==typeof r?r:r+"","symbol"==typeof s?s:s+""]);return o?((n={})[t.PROP_REF]=x(l),n[o]=O(l),n):c?((i={})[t.PROP_MOUNT]=x(l),i[c]=O(l),i):{}},t.bind=function(e){return o({},e,{onChange:O(e)})},t.reactiveList=function(e,t){return e.pipe(d.scan((function(e,n){for(var i=e[0],r=(e[1],{}),o=Array(n.length),a=n.length,s=0;s<a;++s){var c=n[s],l=c.toString();l in r?o[s]=r[l]:r[l]=o[s]=l in i?i[l]:t(c)}return[r,o]}),[{},[]]),d.map((function(e){return e[1]})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(48),r=n(265),o=n(234);function a(e,t){return void 0===t&&(t=i.a),Object(r.a)((function(){return Object(o.a)(e,t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(4),r=n(31),o=n(21),a=n(20);function s(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.closingSelector))},e}(),l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return i.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,i,r){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new r.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(a.a)(this,t)),this.subscribing=!1},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(4),r=n(21),o=n(84),a=n(20);function s(e){return function(t){var n=new c(e),i=t.lift(n);return n.caught=i}}var c=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.selector,this.caught))},e}(),l=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.selector=n,r.caught=i,r}return i.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var i=new o.a(this,void 0,void 0);this.add(i),Object(a.a)(this,n,void 0,void 0,i)}},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(128);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(i.a.apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(10),o=n(48);function a(e,t){return void 0===t&&(t=o.a),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return i.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(r.a);function l(e){e.debouncedNext()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(4),r=n(21),o=n(84),a=n(20),s=n(39),c=n(68);function l(e,t){return t?function(n){return n.pipe(l((function(n,i){return Object(c.a)(e(n,i)).pipe(Object(s.a)((function(e,r){return t(n,e,i,r)})))})))}:function(t){return t.lift(new u(e))}}var u=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project))},e}(),d=function(e){function t(t,n){var i=e.call(this,t)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return i.a(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=new o.a(this,void 0,void 0);this.destination.add(i),Object(a.a)(this,e,t,n,i)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(10),o=n(31);function a(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.callback))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.add(new o.a(n)),i}return i.a(t,e),t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(10);function o(){return function(e){return e.lift(new a)}}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return i.a(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(216);function r(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,o=void 0===r?Number.POSITIVE_INFINITY:r,a=e.windowTime,s=void 0===a?Number.POSITIVE_INFINITY:a,c=e.refCount,l=e.scheduler,u=0,d=!1,h=!1;return function(e){u++,t&&!d||(d=!1,t=new i.a(o,s,l),n=e.subscribe({next:function(e){t.next(e)},error:function(e){d=!0,t.error(e)},complete:function(){h=!0,t.complete()}}));var r=t.subscribe(this);this.add((function(){u--,r.unsubscribe(),n&&!h&&c&&0===u&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(147),r=n(98);function o(){return Object(i.a)(r.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(21),o=n(20);function a(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),i=Object(o.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return i.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(4),r=n(10);function o(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.inclusive))},e}(),s=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.inclusive=i,r.index=0,r}return i.a(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(4),r=n(10),o=n(87),a=n(107);function s(e,t,n){return function(i){return i.lift(new c(e,t,n))}}var c=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))},e}(),l=function(e){function t(t,n,i,r){var s=e.call(this,t)||this;return s._tapNext=o.a,s._tapError=o.a,s._tapComplete=o.a,s._tapError=i||o.a,s._tapComplete=r||o.a,Object(a.a)(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||o.a,s._tapError=n.error||o.a,s._tapComplete=n.complete||o.a),s}return i.a(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(48),r=n(290),o=n(293),a=n(217);function s(e,t){return void 0===t&&(t=i.a),Object(o.a)(e,Object(a.a)(new r.a),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.repeat=function(e,t){return new Array(t+1).join(e)},r=t.pad=function(e,t){return i("0",t-e.toString().length)+e};t.formatTime=function(e){return r(e.getHours(),2)+":"+r(e.getMinutes(),2)+":"+r(e.getSeconds(),2)+"."+r(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(e,t,n){var i=n(538),r=n(539);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),a?r(n,l,u):i(n,l,u)}return n}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,function(e,t,n){"use strict";var i=n(4),r=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return i.a(t,e),t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(n(136).a),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(134).a);n.d(t,"a",(function(){return a}));var a=new o(r)},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.rpcLegacyMessageName="cs-to-bg-rpc-1557421403805"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(152);String.fromCharCode(160);const r=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|xxx|blob):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i;function o(e="",t,n=!1,o){if(!e||"undefined"==typeof window)return"";const a=Object.assign(Object.assign(Object.assign({},t?{ALLOWED_TAGS:t}:{}),o?{ADD_ATTR:o}:{}),n?{ALLOWED_URI_REGEXP:r}:{});return Object.keys(a).length>0?i.sanitize(e,a):i.sanitize(e)}},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(163))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.defaults=void 0;var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(484),a=n(421),s=(i=n(487))&&i.__esModule?i:{default:i};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r({},s.default,e),n=t.logger,i=t.transformer,c=t.stateTransformer,l=t.errorTransformer,u=t.predicate,d=t.logErrors,h=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(i&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!"),e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n\n\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\n\nconst logger = createLogger({\n  // ...options\n});\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var p=[];return function(e){var n=e.getState;return function(e){return function(i){if("function"==typeof u&&!u(n,i))return e(i);var s={};p.push(s),s.started=a.timer.now(),s.startedTime=new Date,s.prevState=c(n()),s.action=i;var f=void 0;if(d)try{f=e(i)}catch(e){s.error=l(e)}else f=e(i);s.took=a.timer.now()-s.started,s.nextState=c(n());var m=t.diff&&"function"==typeof h?h(n,i):t.diff;if((0,o.printBuffer)(p,r({},t,{diff:m})),p.length=0,s.error)throw s.error;return f}}}}var l=c();t.defaults=s.default,t.logger=l,t.default=c,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(251),r=n(91);const o=i,a=n(188),s=r,c=Object.assign({},o,a,s)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i,r,o=n(16),a=n(151),s=n(52),c=n(94),l=n(184),u=n(233),d=n(148),h=n(369),p=n(130),f=n(203),m=n(39),g=n(273),b=n(147),v=n(179),_=n(67),y=n(71);!function(e){e.isSupported="undefined"!=typeof IntersectionObserver,e.create=function(t,n){return e.isSupported?new o.a(e=>{const i=new IntersectionObserver(t=>e.next(t),n);return i.observe(t),()=>i.unobserve(t)}):null}}(i||(i={})),function(e){e.createShared=function(e,t=function(e){const t=Object(_.c)(e.ownerDocument&&e.ownerDocument.defaultView);return Object(c.a)(t,"resize").pipe(Object(g.a)(void 0),Object(m.a)(e=>({width:t.innerWidth,height:t.innerHeight})))}(e),n=1,r=y.a.hz30,o=1,w=500,E={width:1,height:1}){return i.isSupported?Object(l.a)(()=>{const c=Math.max(1,n),l=new u.a({width:e.clientWidth,height:e.clientHeight}),g=function(e,t,n,r,o,c,l,u){return Object(a.b)(t,n,(e,t)=>{const n=Math.max(r.width,e.width-o),i=Math.max(r.height,e.height-o),a=Math.ceil(t.width/n),s=Math.ceil(t.height/i),l=Math.sqrt(Math.min(1,c/(a*s)));return{xCells:Math.floor(a*l),yCells:Math.floor(s*l),cellWidth:Math.ceil(n/l),cellHeight:Math.ceil(i/l)}}).pipe(Object(p.a)((e,t)=>e.cellHeight===t.cellHeight&&e.cellWidth===t.cellWidth&&e.xCells===t.xCells&&e.yCells===t.yCells)).pipe(Object(f.a)(l),Object(m.a)(({xCells:t,yCells:n,cellWidth:r,cellHeight:o})=>{const a=[].concat(...Array.from(Array(t),(e,t)=>Array.from(Array(n),(e,n)=>({right:t*r,bottom:n*o})))),c=Math.max(r/u,o/u),l=c?Array.from(new Array(c),(e,t)=>t/c):null;return a.map(({right:t,bottom:n})=>i.create(e,{rootMargin:`${-n}px 0px 0px ${-t}px`,threshold:l||void 0})||Object(s.b)())}))}(e,l,t,E,o,w,r,c).pipe(Object(b.a)(e=>Object(d.a)(...e)),Object(m.a)(e=>e[e.length-1].boundingClientRect),Object(p.a)((e,t)=>e.top===t.top&&e.left===t.left&&e.width===t.width&&e.height===t.height)),v=g.subscribe(e=>{l.next({width:e.width,height:e.height})});return Object(h.a)(()=>v,e=>g)}).pipe(Object(v.a)()):null}}(r||(r={}))},,,,function(e,t,n){e.exports={autocorrectApplied:"DJ7ch",hovered:"_1lUCP",anicard:"_2jtBT",anicardSlide:"cNSGw",logo:"_105Bf",autocorrectHighlight:"xknC-",highlightFadeOut:"jFQW9",fadeInOutUnderlineNoAnicard:"_3TL1G",replacementItemFontSizeFix:"tlr0g",logoIconMarginFix:"KCb9T",undoIcon:"_3h_1E",replaceButton:"_33_Xf",highlightFadeInOut:"_3U9mo",highlightFadeIn:"_39Rzf",showUnderline:"_3uRZv",fadeInOutUnderline:"_3nDXr"}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(12),r=n(8),o=n(86);class a{constructor(e,t=i.a.create(a.name)){this._transport=e,this._log=t,this._calls=new Map,this._sub=this._transport.inbound.subscribe(e=>{const t=this._calls.get(e.id);if(t)try{"err"in e?t.reject(e.err):t.resolve(e.res)}finally{this._calls.delete(e.id)}else this._log.warn(`received rpc call response for unregistered call ${e.id}`)}),this.api=new Proxy({},{get:(e,t)=>(...e)=>this._handleCall(t,e)})}_handleCall(e,t){let n=r.c.create();for(;this._calls.has(n);)n=r.c.create();const i=o.a.createCompletionSource();return this._calls.set(n,i),this._transport.outbound({id:n,method:e,args:t}),i.promise}dispose(){this._sub.unsubscribe()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(11),r=n(8),o=n(12),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};const s=o.a.create("Cookies");class c{constructor(e){this._api=e,this._rootPath="/",this._grammarlyUrl=`https://${Object(i.e)()}${this._rootPath}`,this._grauthCookieName="grauth",this._csrfTokenCookieName="csrf-token",this._grInstallSourceCookieName="grInstallSource",this._grChromeStoreInstallUtmName="grChromeStoreInstallUTM",this.getToken=()=>this._api.cookies.get({name:this._grauthCookieName,url:this._grammarlyUrl}).then(e=>e?e.value:null),this.deleteGrauth=()=>this._api.cookies.remove({name:this._grauthCookieName,url:this._grammarlyUrl}),this.getCSRFToken=e=>a(this,void 0,void 0,(function*(){try{const t=yield Object(r.i)(()=>this._api.cookies.get({name:this._csrfTokenCookieName,url:this._grammarlyUrl}),5,20,t=>!!(e||t&&t.value)),n=t?t.value:null;return n||e||s.error("CRF is null"),n}catch(e){return s.error("failed to read a CSRFToken cookie",e),null}})),this.watchToken=e=>this._api.cookies.watch({domain:Object(i.e)(),name:this._grauthCookieName,url:this._grammarlyUrl,path:this._rootPath},e),this.getInstallSource=()=>this._api.cookies.get({name:this._grInstallSourceCookieName,url:this._grammarlyUrl}),this.getChromeStoreInstallUTM=()=>this._api.cookies.get({name:this._grChromeStoreInstallUtmName,url:this._grammarlyUrl}),this.getAllGrammarlyCookies=()=>this._api.cookies.getAll({domain:Object(i.e)(),path:this._rootPath}),this.deleteGnarContainerIdCookie=()=>this._api.cookies.remove({name:"gnar_containerId",url:this._grammarlyUrl})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(36),r=n(356),o=n(79),a=n(203),s=n(8),c=n(12),l=n(7),u=n(71),d=n(109);class h{constructor(e,t,n,s=u.a.hz10,d=u.a.hz30,p=u.a.hz30,f=c.a.create(h.name)){this._geometryProvider=e,this._geometryLayout=t,this._geometryInvalidated=n,this._updateLayoutClock=s,this._updateGeometryClock=d,this._updateStateClock=p,this._log=f,this._highlights=new Map,this._highlightsState=l.Atom.create({}),this._updateStateForAllQueue=new i.a,this._updateGeometryAndStateQueue=new i.a,this._subs=[this._updateGeometryAndStateQueue.pipe(Object(r.a)(this._updateGeometryClock),Object(o.a)(e=>e.length>0)).subscribe(e=>{const t=new Set;for(const n of e)for(const e of n)t.add(e);this._updateGeometry(t,t.size),this._queueUpdateStateFor(t)}),this._updateStateForAllQueue.pipe(Object(a.a)(this._updateStateClock)).subscribe(()=>{this._updateStateForAll()}),this._geometryInvalidated.pipe(Object(a.a)(this._updateLayoutClock)).subscribe(e=>{this.recalculateAllHighlights()})],this.geometry=this._highlightsState.view()}_updateStateForAll(){this._highlightsState.set(s.f.create(Array.from(this._highlights.entries()).filter(([e,t])=>t.state.rects&&t.state.rects.length>0).map(([e,t])=>[e,t.state])))}_queueUpdateStateFor(e){this._updateStateForAllQueue.next()}_getInvalidHighlights(e,t){const n=new Set(e);return Array.from(this._highlights.keys()).filter(e=>{if(n.has(e))return!1;{const n=this._highlights.get(e);return!!n&&(!this._geometryProvider.getIsConsistent(n.geometrySource,n.textRange,t)||this._geometryProvider.getIsInvalid(n.geometrySource))}})}_createAlertGeometry(e,t){try{return this._geometryProvider.create(e,t)}catch(e){return null}}_updateGeometry(e,t=e.length){if(0===t)return;const n=this._geometryLayout.getCurrentConversionContext();for(const t of e){const e=this._highlights.get(t);if(e){const i=this._geometryProvider.getClientRects(e.geometrySource);if(null!==i){const r=Array.from(i).filter(e=>e.height>0&&e.width>0);if(0===r.length)this._log.warn(`Degenerate geometry for #${t}`,i),this._highlights.set(t,Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.state),{rects:null})}));else{const i=r.map(e=>d.c.setPosition(n.clientToRelative(e),e));this._highlights.set(t,Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.state),{rects:i})}))}}else this._log.warn(`#${t} has null geometry`),this._highlights.set(t,Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.state),{rects:null})}))}else this._log.warn(`couldn't recalculate #${t}, doesn't exist`)}}_removeHighlight(e){const t=this._highlights.get(e);t&&(this._highlights.delete(e),this._safeDisposeGeometry(t.geometrySource))}_safeDisposeGeometry(e){try{this._geometryProvider.dispose(e)}catch(e){this._log.warn("error disposing geometry source",e)}}recalculateHighlight(e){const t=this._updateGeometry([e]);return this._queueUpdateStateFor([e]),t}recalculateAllHighlights(){const e=this._highlights.keys();this._updateGeometry(e,this._highlights.size),this._queueUpdateStateFor(e)}addHighlight(e,t,n){this._highlights.has(e)&&this._removeHighlight(e);const i=this._createAlertGeometry(t,n);return!!i&&(this._highlights.set(e,{textRange:t,geometrySource:i,state:{rects:null,alertId:e}}),this._updateGeometryAndStateQueue.next([e]),this._log.trace(`added highlight #${e}`),!0)}updateHighlight(e,t,n){const i=this._highlights.get(e);if(void 0!==i){this._safeDisposeGeometry(i.geometrySource);const r=this._createAlertGeometry(t,n);return r?(this._highlights.set(e,{textRange:t,geometrySource:r,state:{rects:null,alertId:e}}),this._updateGeometryAndStateQueue.next([e]),!0):(this.removeHighlight(e),!1)}return this.addHighlight(e,t,n)}removeHighlight(e){this._removeHighlight(e),this._queueUpdateStateFor([e])}maintainConsistency(e,t){this._getInvalidHighlights(e,t).forEach(e=>{const{textRange:n}=this._highlights.get(e);this.updateHighlight(e,n,t)})}hasHighlight(e){return this._highlights.has(e)}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[];for(const e of this._highlights.values())this._safeDisposeGeometry(e.geometrySource);this._highlights.clear()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n(40);function r(e){var t,n,r,o;const a=i.a.toRawCapiAlert(e),s=!(null===(t=a.subalerts)||void 0===t?void 0:t.length),c=null!=(n=a.transforms)?n:[],l=null!=(o=null===(r=a.transformJson)||void 0===r?void 0:r.alternatives)?o:[];return s&&(c.length>0||0===l.length)}function o(e){var t;return(null!=(t=i.a.toRawCapiAlert(e).transforms)?t:[]).length>0}},function(e,t,n){var{emitter:i}=n(90);"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t});try{e.exports=function(e){var t,n,r,o,a,s,c=!e.silentLogs,l=window.WebSocket||window.MozWebSocket,u=!1,d=null,h=!1,p=!1,f=!1,m=1e3,g=1e3,b=6e4,v=[],_=[],y=!1;e=Object.assign({},{url:null,connectionTimeout:1e3,idleTimeout:3e5,useQueue:!1,useStandBy:!1,playDelay:50,resetQueueOnReconnect:!!e.fluid},e);var w=i({connect:E,reconnect:function(){s||(s=!0,w.isConnected()?(w.one("disconnect",(function(){setTimeout(w.connect.bind(null,!0),0)})),p=!0,w.close()):w.connect(!0))},send:function(n){if(u)!function(e){if(O(e))return!1;u&&(u=!1,E(!0))}(n);else{var i=JSON.stringify(n);v.push(i),S(),e.fluid&&void 0===t&&w.emit("fluidNotConnected")}},close:function(){if(p=!0,T("explicit close requested"),!h)return f=!0;try{t&&t.close(),n&&(clearTimeout(n),n=null)}catch(e){P("socket closing bug",e.stack||e)}h=!1,d&&clearTimeout(d)},isConnected:function(){return h},release:function(){clearTimeout(n)},toString:function(){return"[object WebSocket]"},wsPlay:function(){clearTimeout(a),a=setTimeout((function(){y=!1,N()}),e.playDelay)},wsPause:function(){clearTimeout(a),y=!0}});return w;function E(n){w.isConnected()||(T("connect to url: "+e.url),t=new l(e.url),p=!1,h=!1,t.onopen=function(){m=g,h=!0,f&&(f=!1,w.close()),n&&e.resetQueueOnReconnect?v=[]:S(),w.emit("connect"),n&&(w.emit("reconnect"),s=!1)},t.onmessage=function(t){c&&console.log("%c Received: %s","color: #46af91;",t.data),x(t.data),function(t){try{t=JSON.parse(t)}catch(e){P(e.stack||e,t)}e.useQueue?(_.push(t),N()):w.emit("message",t)}(t.data)},t.onclose=function(e){h=!1,w.emit("disconnect",e),p||k("disconnected")},t.onerror=k,window.app&&app.one("offline",(function(){h&&(w.close(),app.one("online",(function(){w.connect()})))})))}function x(t){e.useStandBy&&t&&!O(t)&&(clearTimeout(d),d=setTimeout((function(){w.close(),u=!0,d=!1}),e.useStandBy))}function O(e){if(e&&"ping"==e)return!0;var t,n=!1;try{t=JSON.parse(e)}catch(e){}return t&&("ping"==t||t.action&&"pong"==t.action)&&(n=!0),n}function S(){if(t)for(;t.readyState==l.OPEN&&v.length;)C(v.shift())}function C(n){c&&console.log("%c Sending %s","color:rgba(10, 10, 10, 0.6); font-size: 10px",n),x(n),t.send(n),r&&clearTimeout(r),r=setTimeout(j,e.idleTimeout)}function j(){r=null,w.send("ping")}function k(e){P("websocket error",e),w.emit("error",e),e&&e.target&&[l.CLOSING,l.CLOSED].indexOf(e.target.readyState)>-1||n||(h&&w.close(),T("try to reconnect in "+m/1e3+"s"),n=setTimeout((function(){m=Math.min(b,1.5*m),n=null,E(!0)}),m))}function T(){c&&console.log.apply(console,arguments)}function P(){console.error.apply(console,arguments)}function N(){o||y||(o=0!==_.length?setTimeout((function(){y||w.emit("message",_.shift()),o=null,N()}),e.useQueue):null)}}}catch(e){}},function(e,t,n){"use strict";var i=n(441),r=n(426),o=n(16);class a{constructor(e,t){this._rpcMessageName=e,this._message=t,this.inbound=new o.a(e=>{const t=t=>{const n=t;e.next(n)};return this._message.on(this._rpcMessageName,t),()=>this._message.off(this._rpcMessageName,t)}),this.outbound=e=>{this._message.emitBackground(this._rpcMessageName,e)}}}n.d(t,"a",(function(){return s}));class s extends i.a{constructor(e){super(new a(r.a.rpcLegacyMessageName,e))}}},function(e,t,n){var i=n(488),r=n(606),o=n(607),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},function(e,t,n){var i=n(631),r=n(632),o=n(633),a=n(634),s=n(635);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var i=n(489);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t,n){var i=n(345)(Object,"create");e.exports=i},function(e,t,n){var i=n(650);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},,,,,,function(e,t,n){"use strict";var i=n(378),r=n(31),o=n(94),a=n(181),s=n(355),c=n(52),l=n(184),u=n(118),d=n(148),h=n(68),p=n(399),f=n(166),m=n(119),g=n(39),b=n(130),v=n(239),_=n(79),y=n(410),w=n(266),E=n(273),x=n(346),O=n(8),S=n(12),C=n(81),j=n(7),k=n(313);n.d(t,"a",(function(){return T}));class T{constructor(e,t,n,i,o,a="fluid",s=20,c=C.a.createFlattenHot(e.doc,{childList:!0,subtree:!0}),l=T.createFocusObservable(e.doc,c),u=n.felog,d=S.a.create("universal.cs.integration.generic")){this._pageContext=e,this._state=t,this._legacyData=n,this._fieldRules=i,this._createCheckingService=o,this._integrationType=a,this._maxSimultaneousIntegrations=s,this._mutations=c,this._textFieldsObservable=l,this._felog=u,this._log=d,this._integrationsBuffer=new x.a(this._maxSimultaneousIntegrations),this._subscriptions=new r.a,this._expirationSubs=new Map,this._currentFocusedField=j.Atom.create(void 0),this._disposed=!1,this._initializeOnNewField=e=>{try{const t=this._createCheckingService,n=Object.assign({docId:O.c.create(),field:e.owner.frame||e.element,state:this._state,pageContext:this._pageContext,createCheckingService(){return t(this)},isCurrentFocusedField:this._currentFocusedField.view(e=>!!o&&e===o.match.targetField)},this._legacyData),i=k.a.get(n.field),r=i.specific||i.generic||void 0,o=function(e,t){for(const n of e){const e=n.match(t);if(null!==e)return{match:e,rule:n}}return null}(this._fieldRules,n),a=this._pageContext.doc.domain;if(o)if(this._currentFocusedField.set(o.match.targetField),this._isAlreadyIntegratedWith(o.match))this._log.debug("already integrated, skipping",[e,o.match.targetField]);else{this._log.debug("executing field integration",[e,o.match.targetField]);try{this._ensureAppElementsInited(),this._executeIntegrationRuleMatch(o.match),this._felog.initSession(a,this._state.user.type,r,!0,this._integrationType)}catch(t){this._log.error("failed to execute field integration",t,e)}}else null!==i.generic&&this._felog.initSession(a,this._state.user.type,r,!1,this._integrationType)}catch(t){this._log.error("failed to initialize on field",t,e)}},this._disposeOnRemovedFields=e=>{const t=O.a.distinct(O.a.flatMap(e=>this._integrationsBuffer.toArray().filter(t=>e.ownerDocument===t.match.targetField.ownerDocument?e.contains(t.match.targetField):!(!t.match.targetField.ownerDocument||!t.match.targetField.ownerDocument.defaultView||null!==t.match.targetField.ownerDocument.defaultView)||e.nodeType===Node.ELEMENT_NODE&&("IFRAME"===e.tagName?e.contentDocument===t.match.targetField.ownerDocument:Array.from(e.getElementsByTagName("IFRAME")).some(e=>"IFRAME"===e.tagName&&e.contentDocument===t.match.targetField.ownerDocument))),Array.from(e.removedNodes)));this._disposeIntegrations(t)},this._subscriptions.add(this._textFieldsObservable.subscribe(this._initializeOnNewField)),this._subscriptions.add(this._mutations.subscribe(this._disposeOnRemovedFields)),this._log.debug("generic page integration created")}update(e){try{this._state=e,this._integrationsBuffer.toArray().forEach(t=>t.executed.update(e))}catch(e){this._log.warn("Error while updating generic page integration",e)}}dispose(){try{this._disposed?this._log.warn("attempt to dispose already disposed page integration"):(this._disposed=!0,this._subscriptions.unsubscribe(),this._disposeIntegrations(this._integrationsBuffer.toArray()),this._expirationSubs.size>0&&(this._expirationSubs.forEach(e=>e.unsubscribe()),this._expirationSubs.clear()))}catch(e){this._log.warn("Error while unloading generic page integration",e)}}_ensureAppElementsInited(){this._legacyData.app.initialized||i.a.init(this._state.dynamicConfig,this._legacyData.app,{doc:this._pageContext.doc,user:this._state.user,page:this._state.page,actions:this._legacyData.actions,useDenaliEditor:this._pageContext.config.appConfig.features.denaliEditorSupported})}_isAlreadyIntegratedWith(e){return this._integrationsBuffer.toArray().some(t=>t.match.targetField===e.targetField)}_executeIntegrationRuleMatch(e){const t={match:e,executed:e.execute()};this._addIntegration(t);const n=e.matchExpires;n&&this._expirationSubs.set(t.executed,n.pipe(Object(f.a)(1)).subscribe(()=>{this._disposeIntegrations([t])}))}_addIntegration(e){this._integrationsBuffer.isFull&&this._disposeIntegrations([this._integrationsBuffer.head]),this._integrationsBuffer.enqueue(e)}_disposeIntegrations(e){try{e.forEach(e=>{try{this._log.trace("start integration disposing",e);const t=this._expirationSubs.get(e.executed);t&&(t.unsubscribe(),this._expirationSubs.delete(e.executed)),this._integrationsBuffer.delete(e),e.executed.dispose()}catch(t){this._log.error("Failed to dispose field integration for field",t,e.match.targetField)}})}catch(e){this._log.warn("Error while disposing text field integrations",e)}}}!function(e){const t=S.a.create("universal.cs.integration.observables"),n=e=>Object(o.a)(e,"focus",!0);function i(e,t){return{document:e,frame:t}}e.createFocusObservable=function(e,r,o=n){return function(e,n){const r=i(e),o=Object(h.a)(e.getElementsByTagName("iframe")),a=n.pipe(Object(w.a)(e=>Array.from(e.addedNodes)),Object(_.a)(e=>"IFRAME"===e.nodeName));return o.pipe(Object(y.a)(a),Object(_.a)(n=>(function(e,n){try{const t=e.src;return!(t&&"about:blank"!==t&&!t.startsWith("javascript"))||new URL(t,n.baseURI).origin===n.origin}catch(e){return t.warn("Error converting iframe's src to url",e),!0}})(n,e)),Object(m.a)(e=>{try{return function(e){const t=e.contentDocument;return t&&"complete"===t.readyState}(e)?Object(u.a)(e):Object(p.a)(t=>e.addEventListener("load",t,!0),t=>e.removeEventListener("load",t),()=>e).pipe(Object(f.a)(1))}catch(e){return t.warn("failed to receive iframes document",e),Object(u.a)(null)}}),Object(g.a)(e=>{try{if(null!==e&&null!==e.contentDocument)return i(e.contentDocument,e)}catch(e){t.warn("failed to receive iframes document",e)}return null}),Object(_.a)(e=>null!==e)).pipe(Object(E.a)(r))}(e,r).pipe(Object(m.a)(e=>(function(e,t,n){const i=e.document,r=Object(s.a)(O.e.second),o=e.frame?Object(c.b)():Object(l.a)(()=>Object(u.a)(i.activeElement).pipe(Object(_.a)(e=>e&&i.defaultView&&i.defaultView.HTMLElement&&e instanceof i.defaultView.HTMLElement))),a=t(i).pipe(Object(g.a)(e=>e.target)),h=e.frame?Object(c.b)():Object(d.a)(r,n).pipe(Object(_.a)(e=>!!i.defaultView&&"visible"===i.visibilityState&&!!i.activeElement),Object(g.a)(e=>i.activeElement),Object(b.a)()),p=Object(d.a)(h,a).pipe(Object(_.a)(e=>i.defaultView&&i.defaultView.HTMLElement&&e instanceof i.defaultView.HTMLElement),Object(g.a)(e=>e));return o.pipe(Object(y.a)(p),Object(b.a)())})(e,o,r).pipe(Object(g.a)(t=>({element:t,owner:e})))),Object(b.a)(),Object(v.b)(a.a))}}(T||(T={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n(67),r=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};function o(e,t,n,r=!1){const o=r?{start:e.selectionStart,end:e.selectionEnd}:null,a=t||{start:0,end:e.value.length};if(e.selectionStart=a.start,e.selectionEnd=a.end,e.focus(),!Object(i.c)(e.ownerDocument,"owner document").execCommand("insertText",!1,n)){const t=e.value,i=t.substring(0,a.start)+n;e.value=i+t.substr(a.end),r||(e.selectionStart=i.length,e.selectionEnd=i.length)}o&&(e.selectionStart=o.start,e.selectionEnd=o.end)}class a{constructor(e){this._target=e}canPerformReplacement(e){const t=this._target.value.length;return e.start<=t&&e.end<=t}performReplacement(e,t,n){return r(this,void 0,void 0,(function*(){o(this._target,e,t,n)}))}}},function(e,t,n){"use strict";var i=n(9),r=n(232),o=n(62),a=n(0),s=n(123),c=n(53),l=n(250),u=n(124),d=n(26),h=n(227);const p=5e3,f=3e3,m={disable:{title:"Grammarly is now turned off on ",text:"The extension will remain disabled on this website until you enable it from the toolbar icon."},disableOnTab:{title:"Grammarly is temporarily disabled on ",text:"We will be here next time you visit this website. You can enable it from the toolbar icon."},reminder:{title:"Your writing is still not being checked on ",text:"Are you communicating at your best? Switch the extension back on and be confident about your writing."}};class g extends a.Component{constructor(e){super(e),this.onMouseEnter=()=>{clearTimeout(this._hideTimeout)},this.onMouseLeave=()=>{this._hideTimeout=setTimeout(this.cancel,f)},this.cancel=()=>{this._node?(this._node.style.opacity="0",this._node.addEventListener("transitionend",()=>{this.props.remove()},!1)):this.props.remove()},this.doNotShowReminderAgain=()=>{this.props.disableReminder(),c.a.disableReminderDoNotShowAgainButtonClick("reminder"),this.cancel()},this.state={styles:{}}}componentDidMount(){const e=s.findDOMNode(this.refs.gNotification);e.style.setProperty("transition","none","important"),this._requestAnimationFrame=requestAnimationFrame(()=>{e.style.setProperty("transition","opacity 0.35s cubic-bezier(0.255,0.89,0.25,1.135),transform 0.35s cubic-bezier(0.255,0.89,0.25,1.135)","important"),requestAnimationFrame(()=>{if(e.style.opacity="1",e.style.transform){const t=e.style.transform.split("(")[1].split(")")[0].split(","),n=parseInt(t[0],10),i=parseInt(t[1],10);e.style.transform=`translate(${n}px, ${i+e.clientHeight}px)`}})}),this._node=e,this.setState(()=>({styles:this.props.styles})),this._hideTimeout=setTimeout(this.cancel,p)}componentWillUnmount(){cancelAnimationFrame(this._requestAnimationFrame)}renderButtons(){switch(this.props.type){case"disable":return a.createElement("div",null,a.createElement(d.a,{clickHandler:this.cancel},a.createElement("button",{className:h.action},"Got it")),a.createElement(d.a,{clickHandler:this.props.enableOnDomain},a.createElement("button",{className:Object(i.c)(h.action,h.secondary)},"Enable now")));case"disableOnTab":return a.createElement(d.a,{clickHandler:this.cancel},a.createElement("button",{className:h.action},"Got it"));case"reminder":return a.createElement("div",null,a.createElement(d.a,{clickHandler:this.props.enableOnDomain},a.createElement("button",{className:h.action},"Enable Grammarly")),a.createElement(d.a,{clickHandler:this.doNotShowReminderAgain},a.createElement("button",{className:Object(i.c)(h.action,h.secondary)},"Don’t show this again")));default:return}}render(){const{text:e,title:t}=m[this.props.type];return a.createElement("div",{ref:"gNotification",className:Object(i.c)(h.notification,h[this.props.type]),style:this.state.styles,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},a.createElement("p",{className:h.title},t+this.props.domain),a.createElement("p",{className:h.text},e),this.renderButtons(),a.createElement(d.a,{clickHandler:this.cancel},a.createElement("button",{className:h.close})))}}n.d(t,"a",(function(){return y}));const b=160,v=-10,_=15;class y{constructor({doc:e,actions:t}){this.containerClickHandler=e=>{e.stopPropagation(),e.stopImmediatePropagation()},this._getStyles=()=>{const e=Object(i.p)(this._doc),t=v,n=_-b;return Object.assign({},{[e]:`translate(${t}px, ${n}px)`})},this._windowResize=()=>{const e=this._getStyles();this._component.setState(()=>({styles:e}))},this._doc=e,this.actions=t}_checkContainer(){this._container||(this._container=this._doc.createElement("g-notifications"),this._container.addEventListener("click",this.containerClickHandler),this._doc.documentElement.appendChild(this._container))}showDisable(){this._show("disable")}showDisableOnTab(){this._show("disableOnTab")}showReminder(){this._show("reminder"),c.a.disableReminderNotificationShow()}_show(e){this._render(e),this.isActive=!0,Object(r.a)(window,"resize",this._windowResize,!1),Object(u.a)().notificationShown(e)}hide(e){this.isActive=!1,this._container&&s.unmountComponentAtNode(this._container),Object(r.b)(window,"resize",this._windowResize,!1),void 0!==e&&Object(u.a)().notificationHide(e)}_render(e){this._checkContainer();const t=this._getStyles(),n=Object(o.b)(),i=a.createElement(g,{enableOnDomain:()=>{this.actions.toggleSite(!0,n),this.remove(e),c.a.checkingToggleClick("reminder"===e?"reminder":"notification",Object(o.i)()?l.a.gdocs:l.a.other,"on"),Object(u.a)().toggleExtension(!0,"reminder"===e?"reminder":"notification")},disableReminder:()=>this.actions.disableReminder(n),styles:t,remove:()=>this.remove(e),type:e,domain:n});this._component=s.render(i,this._container)}remove(e){this.hide(e),this._container&&(s.unmountComponentAtNode(this._container),this._container.removeEventListener("click",this.containerClickHandler)),this._container&&this._container.parentNode&&this._container.parentNode.removeChild(this._container)}}},function(e,t,n){"use strict";var i=n(245),r=n(312),o=n(125),a=n(33);t.a=function(e,t){return(Object(a.a)(e)?i.a:r.a)(e,function(e){return"function"==typeof e?e:o.a}(t))}},function(e,t,n){e.exports={fb:"_3cIum",google:"_3Dyn0",email:"_2rPJU"}},function(e,t,n){e.exports={tooltip:"_1xbdx",tooltipVisible:"_24jsJ",gr__fade_in:"_3gJFK",tooltipHidden:"_3s8qM"}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t.alphanumeric=function e(t,n){if(void 0===n&&(n=""),t<=0)return n;var r=Math.floor(Math.random()*(i.length-1));return e(t-1,n+i.charAt(r))},t.getNextPingDate=function(){var e=new Date;return e.getHours()>2&&e.setDate(e.getDate()+1),e.setHours(3),e.setMinutes(Math.floor(60*Math.random())),e.getTime()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this._logger=e,this._metric=t}return e.prototype.getValueStart=function(e){var t=this,n=this._metric.getTimer("doGet"+e+".timer").start();return{getValueSuccess:function(){n.stop(),t._metric.getCounter("doGet"+e+".success").increment()},getValueFailure:function(i){n.stop(),t._metric.getCounter("doGet"+e+".failure").increment(),t._logger.warn("doGet"+e+".failed",i)}}},e.prototype.valueGenerated=function(){this._metric.getCounter("generated").increment()},e.prototype.valueRecovered=function(){this._metric.getCounter("recovered").increment()},e}();t.TelemetryValueManagerLogger=i;var r=function(){function e(e,t){this._logger=e,this._metric=t}return e.prototype.nextPingDateReadError=function(e){this._metric.getCounter("nextPingDate.read.failure").increment(),this._logger.warn("nextPingDate.read.failed",e)},e.prototype.nextPingDateWriteError=function(e){this._metric.getCounter("nextPingDate.write.failure").increment(),this._logger.warn("nextPingDate.write.failed",e)},e.prototype.sendError=function(e){this._metric.getCounter("send.failure").increment(),this._logger.warn("send.failed",e)},e.prototype.trackBeforeSetUser=function(e){this._metric.getCounter("trackBeforeSetUser").increment(),this._logger.warn("trackBeforeSetUser",e)},e}();t.TelemetryGnarClientImplLogger=r,t.guard=function(e){try{return e()}catch(e){return}}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n(9),r=n(26),o=n(0),a=n(282),s=n(25);const c=e=>o.createElement(o.Fragment,null,o.createElement("div",{className:s.icon}),o.createElement("div",{className:s.title},"Grammarly isn’t active yet!"),o.createElement(r.a,{clickHandler:e.openAcceptPage},o.createElement("button",{className:s.button},o.createElement("span",{className:s.buttonText},"Activate Grammarly"))));class l extends o.Component{constructor(){super(...arguments),this.openAcceptPage=()=>{Object(a.b)().bgRpc.api.openDataControl()}}render(){return o.createElement("div",{className:Object(i.c)(s.gButtonPopup,s.newDataControl),style:this.props.styles},o.createElement(r.a,{clickHandler:this.props.remove},o.createElement("button",{className:s.close})),o.createElement(c,{openAcceptPage:this.openAcceptPage}),o.createElement("div",{className:Object(i.c)(s.popupFooter,this.props.isFlipped&&s.isFlipped)},"▲"))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i,r=n(8),o=n(148),a=n(128),s=n(118),c=n(234),l=n(147),u=n(212),d=n(175),h=n(79),p=n(39),f=n(357),m=n(179),g=n(65);!function(e){e[e.flush=0]="flush"}(i||(i={}));class b{constructor(e,t,n=r.e.hertz(5),g=r.e.seconds(4),b=/^(\s|\W|\n|\r)+$/,v){this._textChanges=e,this._textFieldFocusChanged=t,this._outputBufferTimeMs=n,this._idleOutputTimeMs=g,this._triggerCharRe=b,this._asyncScheduler=v,this._bigChangeLength=10,this.output=Object(o.a)(this._textChanges.pipe(Object(l.a)(e=>Object(a.a)(Object(s.a)(e),Object(c.a)(this._shouldFlushImmediately(e)?0:this._idleOutputTimeMs,this._asyncScheduler).pipe(Object(u.a)(i.flush))))),this._textFieldFocusChanged.pipe(Object(u.a)(i.flush))).pipe(Object(d.a)((e,t)=>t===i.flush?{buffer:[],output:e.buffer}:{buffer:e.buffer.concat(t.changes),output:null},{buffer:[],output:null}),Object(h.a)(e=>null!==e.output&&e.output.length>0),Object(p.a)(e=>e.output),e=>null===this._outputBufferTimeMs?e:e.pipe(Object(f.a)(this._outputBufferTimeMs,this._asyncScheduler),Object(p.a)(e=>[].concat(...e))),Object(h.a)(e=>e.length>0),Object(m.a)())}_hasBigChange(e){return e.changes.some(e=>e._tag===g.a.Type.ins?e.text.length>=this._bigChangeLength:e._tag===g.a.Type.del?e.length>=this._bigChangeLength:Object(r.g)(e))}_newWordStartHeuristic(e){if(2===e.changes.length){const[t,n]=e.changes;return t._tag===g.a.Type.del&&n._tag===g.a.Type.ins&&t.pos===n.pos&&n.text.length>=2&&n.text.startsWith(" ")&&160===e.prevText.charCodeAt(t.pos)}return!1}_shouldFlushImmediately(e){return this._hasBigChange(e)||!!e.changes.find(e=>e._tag===g.a.Type.ins?this._triggerCharRe.test(e.text):e._tag===g.a.Type.del)&&!this._newWordStartHeuristic(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(90);class r{constructor(e={}){this.on=(e,t)=>this._internalEmitter.on(e,t),this.one=(e,t)=>this._internalEmitter.one(e,t),this.off=(e,t)=>this._internalEmitter.off(e,t),this.emit=(e,t)=>this._internalEmitter.emit(e,t),this.delegate=(e,t,n)=>this._internalEmitter.delegate(e,t,n),this._internalEmitter=i.emitter(e)}}},function(e,t,n){"use strict";var i=n(30),r=n(305),o=n(430),a=n(431),s=n(278),c=n(279),l=n(242),u=n(110),d=n(33),h=n(88),p=n(96),f=n(143),m=n(106),g=Object.prototype.hasOwnProperty,b=function(e){if(null==e)return!0;if(Object(h.a)(e)&&(Object(d.a)(e)||"string"==typeof e||"function"==typeof e.splice||Object(p.a)(e)||Object(m.a)(e)||Object(u.a)(e)))return!e.length;var t=Object(l.a)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Object(f.a)(e))return!Object(c.a)(e).length;for(var n in e)if(g.call(e,n))return!1;return!0},v=n(22);n.d(t,"a",(function(){return E}));const _=o({level:"debug",collapsed:()=>!0,predicate:()=>!1}),y="store/SYNC",w={page:{},connection:{}};function E(e,t){const n=Object(r.d)((e=w,n)=>{const{domain:r}=e.page||e.config||{};return n.sync&&i.emitBackground("dispatch",Object.assign({},n,{domain:r})),n.type===y?Object.assign({},e,n.data):t?t(e,n):e},{},Object(r.a)(_)),o=(c=Object.assign({},a.a,e),l=n.dispatch,Object.keys(c).filter(e=>c[e]).reduce((e,t)=>Object.assign(e,{[t]:(...e)=>{const n=c[t](...e),i=void 0===n.sync||n.sync;return l(Object.assign({},n,{sync:i}))}}),{}));var c,l;const u=e=>n.dispatch({type:y,data:e});return i.on("state",e=>{Object(v.f)(()=>u(e),0)}),{store:n,actions:o,setState:u,subscribe:e=>(function(e,t){let n;function i(){const i=e.getState();b(i)||Object(s.a)(n,i)||(n=i,t(i))}return Object(v.f)(i),e.subscribe(i)})(n,e)}}},,,,function(e,t,n){"use strict";var i=n(0),r=n(392),o=n(478);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));var s=null,c={};function l(){if(s)for(var e in c){var t=c[e],n=s.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!d[n]){if(!t.extractEvents)throw Error(a(97,e));for(var i in d[n]=t,n=t.eventTypes){var r=void 0,o=n[i],l=t,p=i;if(h.hasOwnProperty(p))throw Error(a(99,p));h[p]=o;var f=o.phasedRegistrationNames;if(f){for(r in f)f.hasOwnProperty(r)&&u(f[r],l,p);r=!0}else o.registrationName?(u(o.registrationName,l,p),r=!0):r=!1;if(!r)throw Error(a(98,i,e))}}}}function u(e,t,n){if(p[e])throw Error(a(100,e));p[e]=t,f[e]=t.eventTypes[n].dependencies}var d=[],h={},p={},f={};function m(e,t,n,i,r,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var g=!1,b=null,v=!1,_=null,y={onError:function(e){g=!0,b=e}};function w(e,t,n,i,r,o,a,s,c){g=!1,b=null,m.apply(y,arguments)}var E=null,x=null,O=null;function S(e,t,n){var i=e.type||"unknown-event";e.currentTarget=O(n),function(e,t,n,i,r,o,s,c,l){if(w.apply(this,arguments),g){if(!g)throw Error(a(198));var u=b;g=!1,b=null,v||(v=!0,_=u)}}(i,t,void 0,e),e.currentTarget=null}function C(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function j(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var k=null;function T(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)S(e,t[i],n[i]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function P(e){if(null!==e&&(k=C(k,e)),e=k,k=null,e){if(j(e,T),k)throw Error(a(95));if(v)throw e=_,v=!1,_=null,e}}var N={injectEventPluginOrder:function(e){if(s)throw Error(a(101));s=Array.prototype.slice.call(e),l()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!c.hasOwnProperty(t)||c[t]!==i){if(c[t])throw Error(a(102,t));c[t]=i,n=!0}}n&&l()}};function A(e,t){var n=e.stateNode;if(!n)return null;var i=E(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;I.hasOwnProperty("ReactCurrentDispatcher")||(I.ReactCurrentDispatcher={current:null}),I.hasOwnProperty("ReactCurrentBatchConfig")||(I.ReactCurrentBatchConfig={suspense:null});var R=/^(.*)[\\\/]/,F="function"==typeof Symbol&&Symbol.for,M=F?Symbol.for("react.element"):60103,D=F?Symbol.for("react.portal"):60106,L=F?Symbol.for("react.fragment"):60107,B=F?Symbol.for("react.strict_mode"):60108,U=F?Symbol.for("react.profiler"):60114,H=F?Symbol.for("react.provider"):60109,V=F?Symbol.for("react.context"):60110,z=F?Symbol.for("react.concurrent_mode"):60111,G=F?Symbol.for("react.forward_ref"):60112,W=F?Symbol.for("react.suspense"):60113,$=F?Symbol.for("react.suspense_list"):60120,q=F?Symbol.for("react.memo"):60115,Y=F?Symbol.for("react.lazy"):60116;F&&Symbol.for("react.fundamental"),F&&Symbol.for("react.responder"),F&&Symbol.for("react.scope");var K="function"==typeof Symbol&&Symbol.iterator;function Q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=K&&e[K]||e["@@iterator"])?e:null}function X(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case L:return"Fragment";case D:return"Portal";case U:return"Profiler";case B:return"StrictMode";case W:return"Suspense";case $:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case V:return"Context.Consumer";case H:return"Context.Provider";case G:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case q:return X(e.type);case Y:if(e=1===e._status?e._result:null)return X(e)}return null}function J(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=X(e.type);n=null,i&&(n=X(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(R,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Z=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,te=null,ne=null;function ie(e){if(e=x(e)){if("function"!=typeof ee)throw Error(a(280));var t=E(e.stateNode);ee(e.stateNode,e.type,t)}}function re(e){te?ne?ne.push(e):ne=[e]:te=e}function oe(){if(te){var e=te,t=ne;if(ne=te=null,ie(e),t)for(e=0;e<t.length;e++)ie(t[e])}}function ae(e,t){return e(t)}function se(e,t,n,i){return e(t,n,i)}function ce(){}var le=ae,ue=!1,de=!1;function he(){null===te&&null===ne||(ce(),oe())}new Map;var pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe=Object.prototype.hasOwnProperty,me={},ge={};function be(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ve[e]=new be(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ve[t]=new be(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ve[e]=new be(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ve[e]=new be(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ve[e]=new be(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ve[e]=new be(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ve[e]=new be(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ve[e]=new be(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ve[e]=new be(e,5,!1,e.toLowerCase(),null,!1)}));var _e=/[\-:]([a-z])/g;function ye(e){return e[1].toUpperCase()}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ee(e,t,n,i){var r=ve.hasOwnProperty(t)?ve[t]:null;(null!==r?0===r.type:!i&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!fe.call(ge,e)||!fe.call(me,e)&&(pe.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function xe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Oe(e){e._valueTracker||(e._valueTracker=function(e){var t=xe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Se(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=xe(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Ce(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function je(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=we(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&Ee(e,"checked",t,!1)}function Te(e,t){ke(e,t);var n=we(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ne(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ne(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Pe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ne(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ae(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ie(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+we(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fe(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(a(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(a(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:we(n)}}function Me(e,t){var n=we(t.value),i=we(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_e,ye);ve[t]=new be(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_e,ye);ve[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(_e,ye);ve[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ve[e]=new be(e,1,!1,e.toLowerCase(),null,!1)})),ve.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ve[e]=new be(e,1,!1,e.toLowerCase(),null,!0)}));var Le={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Be(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var He,Ve=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Le.svg||"innerHTML"in e)e.innerHTML=t;else{for((He=He||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=He.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ge(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var We={animationend:Ge("Animation","AnimationEnd"),animationiteration:Ge("Animation","AnimationIteration"),animationstart:Ge("Animation","AnimationStart"),transitionend:Ge("Transition","TransitionEnd")},$e={},qe={};function Ye(e){if($e[e])return $e[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in qe)return $e[e]=n[t];return e}Z&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Ke=Ye("animationend"),Qe=Ye("animationiteration"),Xe=Ye("animationstart"),Je=Ye("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(a(188))}function it(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return nt(r),e;if(o===i)return nt(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,i=o;break}if(c===i){s=!0,i=r,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,i=r;break}if(c===i){s=!0,i=o,n=r;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var rt,ot,at,st=!1,ct=[],lt=null,ut=null,dt=null,ht=new Map,pt=new Map,ft=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),gt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function bt(e,t,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i}}function vt(e,t){switch(e){case"focus":case"blur":lt=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":ht.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function _t(e,t,n,i,r){return null===e||e.nativeEvent!==r?(e=bt(t,n,i,r),null!==t&&null!==(t=pi(t))&&ot(t),e):(e.eventSystemFlags|=i,e)}function yt(e){var t=hi(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){at(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wt(e){if(null!==e.blockedOn)return!1;var t=Nn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=pi(t);return null!==n&&ot(n),e.blockedOn=t,!1}return!0}function Et(e,t,n){wt(e)&&n.delete(t)}function xt(){for(st=!1;0<ct.length;){var e=ct[0];if(null!==e.blockedOn){null!==(e=pi(e.blockedOn))&&rt(e);break}var t=Nn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ct.shift()}null!==lt&&wt(lt)&&(lt=null),null!==ut&&wt(ut)&&(ut=null),null!==dt&&wt(dt)&&(dt=null),ht.forEach(Et),pt.forEach(Et)}function Ot(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function St(e){function t(t){return Ot(t,e)}if(0<ct.length){Ot(ct[0],e);for(var n=1;n<ct.length;n++){var i=ct[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==lt&&Ot(lt,e),null!==ut&&Ot(ut,e),null!==dt&&Ot(dt,e),ht.forEach(t),pt.forEach(t),n=0;n<ft.length;n++)(i=ft[n]).blockedOn===e&&(i.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function Ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function jt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function kt(e,t,n){(t=A(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function Tt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=jt(t);for(t=n.length;0<t--;)kt(n[t],"captured",e);for(t=0;t<n.length;t++)kt(n[t],"bubbled",e)}}function Pt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=A(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function Nt(e){e&&e.dispatchConfig.registrationName&&Pt(e._targetInst,null,e)}function At(e){j(e,Tt)}function It(){return!0}function Rt(){return!1}function Ft(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?It:Rt,this.isPropagationStopped=Rt,this}function Mt(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function Dt(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Lt(e){e.eventPool=[],e.getPooled=Mt,e.release=Dt}r(Ft.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=It)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=It)},persist:function(){this.isPersistent=It},isPersistent:Rt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Rt,this._dispatchInstances=this._dispatchListeners=null}}),Ft.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Ft.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,Lt(n),n},Lt(Ft);var Bt=Ft.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ut=Ft.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ht=Ft.extend({view:null,detail:null}),Vt=Ht.extend({relatedTarget:null});function zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Gt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=$t[e])&&!!t[e]}function Yt(){return qt}for(var Kt=Ht.extend({key:function(e){if(e.key){var t=Gt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Wt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Yt,charCode:function(e){return"keypress"===e.type?zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Qt=0,Xt=0,Jt=!1,Zt=!1,en=Ht.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Yt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Jt?"mousemove"===e.type?e.screenX-t:0:(Jt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Xt;return Xt=e.screenY,Zt?"mousemove"===e.type?e.screenY-t:0:(Zt=!0,0)}}),tn=en.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),nn=en.extend({dataTransfer:null}),rn=Ht.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Yt}),on=Ft.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),an=en.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),sn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ke,"animationEnd",2],[Qe,"animationIteration",2],[Xe,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],cn={},ln={},un=0;un<sn.length;un++){var dn=sn[un],hn=dn[0],pn=dn[1],fn=dn[2],mn="on"+(pn[0].toUpperCase()+pn.slice(1)),gn={phasedRegistrationNames:{bubbled:mn,captured:mn+"Capture"},dependencies:[hn],eventPriority:fn};cn[pn]=gn,ln[hn]=gn}var bn={eventTypes:cn,getEventPriority:function(e){return void 0!==(e=ln[e])?e.eventPriority:2},extractEvents:function(e,t,n,i){var r=ln[e];if(!r)return null;switch(e){case"keypress":if(0===zt(n))return null;case"keydown":case"keyup":e=Kt;break;case"blur":case"focus":e=Vt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=rn;break;case Ke:case Qe:case Xe:e=Bt;break;case Je:e=on;break;case"scroll":e=Ht;break;case"wheel":e=an;break;case"copy":case"cut":case"paste":e=Ut;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=tn;break;default:e=Ft}return At(t=e.getPooled(r,t,n,i)),t}},vn=o.unstable_UserBlockingPriority,_n=o.unstable_runWithPriority,yn=bn.getEventPriority,wn=10,En=[];function xn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=hi(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=Ct(e.nativeEvent);i=e.topLevelType;for(var o=e.nativeEvent,a=e.eventSystemFlags,s=null,c=0;c<d.length;c++){var l=d[c];l&&(l=l.extractEvents(i,t,o,r,a))&&(s=C(s,l))}P(s)}}var On=!0;function Sn(e,t){Cn(t,e,!1)}function Cn(e,t,n){switch(yn(t)){case 0:var i=jn.bind(null,t,1);break;case 1:i=kn.bind(null,t,1);break;default:i=Pn.bind(null,t,1)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function jn(e,t,n){ue||ce();var i=Pn,r=ue;ue=!0;try{se(i,e,t,n)}finally{(ue=r)||he()}}function kn(e,t,n){_n(vn,Pn.bind(null,e,t,n))}function Tn(e,t,n,i){if(En.length){var r=En.pop();r.topLevelType=e,r.eventSystemFlags=t,r.nativeEvent=n,r.targetInst=i,e=r}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:i,ancestors:[]};try{if(t=xn,n=e,de)t(n,void 0);else{de=!0;try{le(t,n,void 0)}finally{de=!1,he()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,En.length<wn&&En.push(e)}}function Pn(e,t,n){if(On)if(0<ct.length&&-1<mt.indexOf(e))e=bt(null,e,t,n),ct.push(e);else{var i=Nn(e,t,n);null===i?vt(e,n):-1<mt.indexOf(e)?(e=bt(i,e,t,n),ct.push(e)):function(e,t,n,i){switch(t){case"focus":return lt=_t(lt,e,t,n,i),!0;case"dragenter":return ut=_t(ut,e,t,n,i),!0;case"mouseover":return dt=_t(dt,e,t,n,i),!0;case"pointerover":var r=i.pointerId;return ht.set(r,_t(ht.get(r)||null,e,t,n,i)),!0;case"gotpointercapture":return r=i.pointerId,pt.set(r,_t(pt.get(r)||null,e,t,n,i)),!0}return!1}(i,e,t,n)||(vt(e,n),Tn(e,t,n,null))}}function Nn(e,t,n){var i=Ct(n);if(null!==(i=hi(i))){var r=et(i);if(null===r)i=null;else{var o=r.tag;if(13===o){if(null!==(i=tt(r)))return i;i=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Tn(e,t,n,i),null}function An(e){if(!Z)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var In=new("function"==typeof WeakMap?WeakMap:Map);function Rn(e){var t=In.get(e);return void 0===t&&(t=new Set,In.set(e,t)),t}function Fn(e,t,n){if(!n.has(e)){switch(e){case"scroll":Cn(t,"scroll",!0);break;case"focus":case"blur":Cn(t,"focus",!0),Cn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":An(e)&&Cn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&Sn(e,t)}n.add(e)}}var Mn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dn=["Webkit","ms","Moz","O"];function Ln(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Mn.hasOwnProperty(e)&&Mn[e]?(""+t).trim():t+"px"}function Bn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=Ln(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Mn).forEach((function(e){Dn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mn[t]=Mn[e]}))}));var Un=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hn(e,t){if(t){if(Un[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function Vn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function zn(e,t){var n=Rn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=f[t];for(var i=0;i<t.length;i++)Fn(t[i],e,n)}function Gn(){}function Wn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,i=$n(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=$n(i)}}function Yn(){for(var e=window,t=Wn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Wn((e=t.contentWindow).document)}return t}function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Qn="$",Xn="/$",Jn="$?",Zn="$!",ei=null,ti=null;function ni(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ii(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,oi="function"==typeof clearTimeout?clearTimeout:void 0;function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Qn||n===Zn||n===Jn){if(0===t)return e;t--}else n===Xn&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),li="__reactInternalInstance$"+ci,ui="__reactEventHandlers$"+ci,di="__reactContainere$"+ci;function hi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[li])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function pi(e){return!(e=e[li]||e[di])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function fi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function mi(e){return e[ui]||null}var gi=null,bi=null,vi=null;function _i(){if(vi)return vi;var e,t,n=bi,i=n.length,r="value"in gi?gi.value:gi.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return vi=r.slice(e,1<t?1-t:void 0)}var yi=Ft.extend({data:null}),wi=Ft.extend({data:null}),Ei=[9,13,27,32],xi=Z&&"CompositionEvent"in window,Oi=null;Z&&"documentMode"in document&&(Oi=document.documentMode);var Si=Z&&"TextEvent"in window&&!Oi,Ci=Z&&(!xi||Oi&&8<Oi&&11>=Oi),ji=String.fromCharCode(32),ki={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ti=!1;function Pi(e,t){switch(e){case"keyup":return-1!==Ei.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ni(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ai=!1,Ii={eventTypes:ki,extractEvents:function(e,t,n,i){var r;if(xi)e:{switch(e){case"compositionstart":var o=ki.compositionStart;break e;case"compositionend":o=ki.compositionEnd;break e;case"compositionupdate":o=ki.compositionUpdate;break e}o=void 0}else Ai?Pi(e,n)&&(o=ki.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ki.compositionStart);return o?(Ci&&"ko"!==n.locale&&(Ai||o!==ki.compositionStart?o===ki.compositionEnd&&Ai&&(r=_i()):(bi="value"in(gi=i)?gi.value:gi.textContent,Ai=!0)),o=yi.getPooled(o,t,n,i),r?o.data=r:null!==(r=Ni(n))&&(o.data=r),At(o),r=o):r=null,(e=Si?function(e,t){switch(e){case"compositionend":return Ni(t);case"keypress":return 32!==t.which?null:(Ti=!0,ji);case"textInput":return(e=t.data)===ji&&Ti?null:e;default:return null}}(e,n):function(e,t){if(Ai)return"compositionend"===e||!xi&&Pi(e,t)?(e=_i(),vi=bi=gi=null,Ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ci&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=wi.getPooled(ki.beforeInput,t,n,i)).data=e,At(t)):t=null,null===r?t:null===t?r:[r,t]}},Ri={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ri[e.type]:"textarea"===t}var Mi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Di(e,t,n){return(e=Ft.getPooled(Mi.change,e,t,n)).type="change",re(n),At(e),e}var Li=null,Bi=null;function Ui(e){P(e)}function Hi(e){if(Se(fi(e)))return e}function Vi(e,t){if("change"===e)return t}var zi=!1;function Gi(){Li&&(Li.detachEvent("onpropertychange",Wi),Bi=Li=null)}function Wi(e){if("value"===e.propertyName&&Hi(Bi))if(e=Di(Bi,e,Ct(e)),ue)P(e);else{ue=!0;try{ae(Ui,e)}finally{ue=!1,he()}}}function $i(e,t,n){"focus"===e?(Gi(),Bi=n,(Li=t).attachEvent("onpropertychange",Wi)):"blur"===e&&Gi()}function qi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hi(Bi)}function Yi(e,t){if("click"===e)return Hi(t)}function Ki(e,t){if("input"===e||"change"===e)return Hi(t)}Z&&(zi=An("input")&&(!document.documentMode||9<document.documentMode));var Qi,Xi={eventTypes:Mi,_isInputEventSupported:zi,extractEvents:function(e,t,n,i){var r=t?fi(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=Vi;else if(Fi(r))if(zi)a=Ki;else{a=qi;var s=$i}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(a=Yi);if(a&&(a=a(e,t)))return Di(a,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Ne(r,"number",r.value)}},Ji={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zi={eventTypes:Ji,extractEvents:function(e,t,n,i,r){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?hi(t):null)&&(t!==(o=et(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=en,c=Ji.mouseLeave,l=Ji.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=tn,c=Ji.pointerLeave,l=Ji.pointerEnter,u="pointer");if(e=null==a?r:fi(a),r=null==t?r:fi(t),(c=s.getPooled(c,a,n,i)).type=u+"leave",c.target=e,c.relatedTarget=r,(i=s.getPooled(l,t,n,i)).type=u+"enter",i.target=r,i.relatedTarget=e,u=t,(s=a)&&u)e:{for(e=u,a=0,t=l=s;t;t=jt(t))a++;for(t=0,r=e;r;r=jt(r))t++;for(;0<a-t;)l=jt(l),a--;for(;0<t-a;)e=jt(e),t--;for(;a--;){if(l===e||l===e.alternate)break e;l=jt(l),e=jt(e)}l=null}else l=null;for(e=l,l=[];s&&s!==e&&(null===(a=s.alternate)||a!==e);)l.push(s),s=jt(s);for(s=[];u&&u!==e&&(null===(a=u.alternate)||a!==e);)s.push(u),u=jt(u);for(u=0;u<l.length;u++)Pt(l[u],"bubbled",c);for(u=s.length;0<u--;)Pt(s[u],"captured",i);return n===Qi?(Qi=null,[c]):(Qi=n,[c,i])}},er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tr=Object.prototype.hasOwnProperty;function nr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!tr.call(t,n[i])||!er(e[n[i]],t[n[i]]))return!1;return!0}var ir=Z&&"documentMode"in document&&11>=document.documentMode,rr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},or=null,ar=null,sr=null,cr=!1;function lr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return cr||null==or||or!==Wn(n)?null:(n="selectionStart"in(n=or)&&Kn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},sr&&nr(sr,n)?null:(sr=n,(e=Ft.getPooled(rr.select,ar,e,t)).type="select",e.target=or,At(e),e))}var ur={eventTypes:rr,extractEvents:function(e,t,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){e:{o=Rn(o),r=f.onSelect;for(var a=0;a<r.length;a++)if(!o.has(r[a])){o=!1;break e}o=!0}r=!o}if(r)return null;switch(o=t?fi(t):window,e){case"focus":(Fi(o)||"true"===o.contentEditable)&&(or=o,ar=t,sr=null);break;case"blur":sr=ar=or=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":return cr=!1,lr(n,i);case"selectionchange":if(ir)break;case"keydown":case"keyup":return lr(n,i)}return null}};N.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=mi,x=pi,O=fi,N.injectEventPluginsByName({SimpleEventPlugin:bn,EnterLeaveEventPlugin:Zi,ChangeEventPlugin:Xi,SelectEventPlugin:ur,BeforeInputEventPlugin:Ii}),new Set;var dr=[],hr=-1;function pr(e){0>hr||(e.current=dr[hr],dr[hr]=null,hr--)}function fr(e,t){hr++,dr[hr]=e.current,e.current=t}var mr={},gr={current:mr},br={current:!1},vr=mr;function _r(e,t){var n=e.type.contextTypes;if(!n)return mr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yr(e){return null!=e.childContextTypes}function wr(e){pr(br),pr(gr)}function Er(e){pr(br),pr(gr)}function xr(e,t,n){if(gr.current!==mr)throw Error(a(168));fr(gr,t),fr(br,n)}function Or(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,X(t)||"Unknown",o));return r({},n,{},i)}function Sr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||mr,vr=gr.current,fr(gr,t),fr(br,br.current),!0}function Cr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(t=Or(e,t,vr),i.__reactInternalMemoizedMergedChildContext=t,pr(br),pr(gr),fr(gr,t)):pr(br),fr(br,n)}var jr=o.unstable_runWithPriority,kr=o.unstable_scheduleCallback,Tr=o.unstable_cancelCallback,Pr=o.unstable_shouldYield,Nr=o.unstable_requestPaint,Ar=o.unstable_now,Ir=o.unstable_getCurrentPriorityLevel,Rr=o.unstable_ImmediatePriority,Fr=o.unstable_UserBlockingPriority,Mr=o.unstable_NormalPriority,Dr=o.unstable_LowPriority,Lr=o.unstable_IdlePriority,Br={},Ur=void 0!==Nr?Nr:function(){},Hr=null,Vr=null,zr=!1,Gr=Ar(),Wr=1e4>Gr?Ar:function(){return Ar()-Gr};function $r(){switch(Ir()){case Rr:return 99;case Fr:return 98;case Mr:return 97;case Dr:return 96;case Lr:return 95;default:throw Error(a(332))}}function qr(e){switch(e){case 99:return Rr;case 98:return Fr;case 97:return Mr;case 96:return Dr;case 95:return Lr;default:throw Error(a(332))}}function Yr(e,t){return e=qr(e),jr(e,t)}function Kr(e,t,n){return e=qr(e),kr(e,t,n)}function Qr(e){return null===Hr?(Hr=[e],Vr=kr(Rr,Jr)):Hr.push(e),Br}function Xr(){if(null!==Vr){var e=Vr;Vr=null,Tr(e)}Jr()}function Jr(){if(!zr&&null!==Hr){zr=!0;var e=0;try{var t=Hr;Yr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Hr=null}catch(t){throw null!==Hr&&(Hr=Hr.slice(e+1)),kr(Rr,Xr),t}finally{zr=!1}}}var Zr=3;function eo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function to(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var no={current:null},io=null,ro=null,oo=null;function ao(){oo=ro=io=null}function so(e,t){var n=e.type._context;fr(no,n._currentValue),n._currentValue=t}function co(e){var t=no.current;pr(no),e.type._context._currentValue=t}function lo(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function uo(e,t){io=e,oo=ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Wa=!0),e.firstContext=null)}function ho(e,t){if(oo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(oo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ro){if(null===io)throw Error(a(308));ro=t,io.dependencies={expirationTime:0,firstContext:t,responders:null}}else ro=ro.next=t;return e._currentValue}var po=!1;function fo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function mo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function go(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function bo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function vo(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,r=null;null===i&&(i=e.updateQueue=fo(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=fo(e.memoizedState),r=n.updateQueue=fo(n.memoizedState)):i=e.updateQueue=mo(r):null===r&&(r=n.updateQueue=mo(i));null===r||i===r?bo(i,t):null===i.lastUpdate||null===r.lastUpdate?(bo(i,t),bo(r,t)):(bo(i,t),r.lastUpdate=t)}function _o(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=fo(e.memoizedState):yo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function yo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=mo(t)),t}function wo(e,t,n,i,o,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,i,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(a,i,o):e))break;return r({},i,o);case 2:po=!0}return i}function Eo(e,t,n,i,r){po=!1;for(var o=(t=yo(e,t)).baseState,a=null,s=0,c=t.firstUpdate,l=o;null!==c;){var u=c.expirationTime;u<r?(null===a&&(a=c,o=l),s<u&&(s=u)):(jc(u,c.suspenseConfig),l=wo(e,0,c,l,n,i),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d<r?(null===u&&(u=c,null===a&&(o=l)),s<d&&(s=d)):(l=wo(e,0,c,l,n,i),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===u&&(o=l),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=u,kc(s),e.expirationTime=s,e.memoizedState=l}function xo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Oo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Oo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Oo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;if("function"!=typeof n)throw Error(a(191,n));n.call(i)}e=e.nextEffect}}var So=I.ReactCurrentBatchConfig,Co=(new i.Component).refs;function jo(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,null!==(i=e.updateQueue)&&0===e.expirationTime&&(i.baseState=n)}var ko={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=fc(),r=So.suspense;(r=go(i=mc(i,e,r),r)).payload=t,null!=n&&(r.callback=n),vo(e,r),gc(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=fc(),r=So.suspense;(r=go(i=mc(i,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),vo(e,r),gc(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=fc(),i=So.suspense;(i=go(n=mc(n,e,i),i)).tag=2,null!=t&&(i.callback=t),vo(e,i),gc(e,n)}};function To(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&nr(n,i)&&nr(r,o))}function Po(e,t,n){var i=!1,r=mr,o=t.contextType;return"object"==typeof o&&null!==o?o=ho(o):(r=yr(t)?vr:gr.current,o=(i=null!=(i=t.contextTypes))?_r(e,r):mr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ko,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function No(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function Ao(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Co;var o=t.contextType;"object"==typeof o&&null!==o?r.context=ho(o):(o=yr(t)?vr:gr.current,r.context=_r(e,o)),null!==(o=e.updateQueue)&&(Eo(e,o,n,r,i),r.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(jo(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ko.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(Eo(e,o,n,r,i),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var Io=Array.isArray;function Ro(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===Co&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Fo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Mo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){return(e=Yc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,i){return null===t||6!==t.tag?((t=Xc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Ro(e,t,n),i.return=e,i):((i=Kc(n.type,n.key,n.props,null,e.mode,i)).ref=Ro(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Qc(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Xc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case M:return(n=Kc(t.type,t.key,t.props,null,e.mode,n)).ref=Ro(e,null,t),n.return=e,n;case D:return(t=Jc(t,e.mode,n)).return=e,t}if(Io(t)||Q(t))return(t=Qc(t,e.mode,n,null)).return=e,t;Fo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:c(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case M:return n.key===r?n.type===L?d(e,t,n.props.children,i,r):l(e,t,n,i):null;case D:return n.key===r?u(e,t,n,i):null}if(Io(n)||Q(n))return null!==r?null:d(e,t,n,i,null);Fo(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return c(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case M:return e=e.get(null===i.key?n:i.key)||null,i.type===L?d(t,e,i.props.children,r,i.key):l(t,e,i,r);case D:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(Io(i)||Q(i))return d(t,e=e.get(n)||null,i,r,null);Fo(t,i)}return null}function m(r,a,s,c){for(var l=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=p(r,d,s[m],c);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(r,d),a=o(b,a,m),null===u?l=b:u.sibling=b,u=b,d=g}if(m===s.length)return n(r,d),l;if(null===d){for(;m<s.length;m++)null!==(d=h(r,s[m],c))&&(a=o(d,a,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=i(r,d);m<s.length;m++)null!==(g=f(d,r,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),l}function g(r,s,c,l){var u=Q(c);if("function"!=typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,b=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(b=m,m=null):b=m.sibling;var _=p(r,m,v.value,l);if(null===_){null===m&&(m=b);break}e&&m&&null===_.alternate&&t(r,m),s=o(_,s,g),null===d?u=_:d.sibling=_,d=_,m=b}if(v.done)return n(r,m),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=h(r,v.value,l))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return u}for(m=i(r,m);!v.done;g++,v=c.next())null!==(v=f(m,r,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,i,o,c){var l="object"==typeof o&&null!==o&&o.type===L&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case M:e:{for(u=o.key,l=i;null!==l;){if(l.key===u){if(7===l.tag?o.type===L:l.elementType===o.type){n(e,l.sibling),(i=r(l,o.type===L?o.props.children:o.props)).ref=Ro(e,l,o),i.return=e,e=i;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===L?((i=Qc(o.props.children,e.mode,c,o.key)).return=e,e=i):((c=Kc(o.type,o.key,o.props,null,e.mode,c)).ref=Ro(e,i,o),c.return=e,e=c)}return s(e);case D:e:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Jc(o,e.mode,c)).return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Xc(o,e.mode,c)).return=e,e=i),s(e);if(Io(o))return m(e,i,o,c);if(Q(o))return g(e,i,o,c);if(u&&Fo(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,i)}}var Do=Mo(!0),Lo=Mo(!1),Bo={},Uo={current:Bo},Ho={current:Bo},Vo={current:Bo};function zo(e){if(e===Bo)throw Error(a(174));return e}function Go(e,t){fr(Vo,t),fr(Ho,e),fr(Uo,Bo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ue(null,"");break;default:t=Ue(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}pr(Uo),fr(Uo,t)}function Wo(e){pr(Uo),pr(Ho),pr(Vo)}function $o(e){zo(Vo.current);var t=zo(Uo.current),n=Ue(t,e.type);t!==n&&(fr(Ho,e),fr(Uo,n))}function qo(e){Ho.current===e&&(pr(Uo),pr(Ho))}var Yo={current:0};function Ko(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Jn||n.data===Zn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Qo(e,t){return{responder:e,props:t}}var Xo=I.ReactCurrentDispatcher,Jo=I.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ia=null,ra=null,oa=null,aa=0,sa=null,ca=0,la=!1,ua=null,da=0;function ha(){throw Error(a(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function fa(e,t,n,i,r,o){if(Zo=o,ea=t,na=null!==e?e.memoizedState:null,Xo.current=null===na?Ia:Ra,t=n(i,r),la){do{la=!1,da+=1,na=null!==e?e.memoizedState:null,oa=ia,sa=ra=ta=null,Xo.current=Ra,t=n(i,r)}while(la);ua=null,da=0}if(Xo.current=Aa,(e=ea).memoizedState=ia,e.expirationTime=aa,e.updateQueue=sa,e.effectTag|=ca,e=null!==ta&&null!==ta.next,Zo=0,oa=ra=ia=na=ta=ea=null,aa=0,sa=null,ca=0,e)throw Error(a(300));return t}function ma(){Xo.current=Aa,Zo=0,oa=ra=ia=na=ta=ea=null,aa=0,sa=null,ca=0,la=!1,ua=null,da=0}function ga(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ra?ia=ra=e:ra=ra.next=e,ra}function ba(){if(null!==oa)oa=(ra=oa).next,na=null!==(ta=na)?ta.next:null;else{if(null===na)throw Error(a(310));var e={memoizedState:(ta=na).memoizedState,baseState:ta.baseState,queue:ta.queue,baseUpdate:ta.baseUpdate,next:null};ra=null===ra?ia=e:ra.next=e,na=ta.next}return ra}function va(e,t){return"function"==typeof t?t(e):t}function _a(e){var t=ba(),n=t.queue;if(null===n)throw Error(a(311));if(n.lastRenderedReducer=e,0<da){var i=n.dispatch;if(null!==ua){var r=ua.get(n);if(void 0!==r){ua.delete(n);var o=t.memoizedState;do{o=e(o,r.action),r=r.next}while(null!==r);return er(o,t.memoizedState)||(Wa=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,i]}}return[t.memoizedState,i]}i=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==i&&(i.next=null),i=s.next):i=null!==i?i.next:null,null!==i){var c=r=null,l=i,u=!1;do{var d=l.expirationTime;d<Zo?(u||(u=!0,c=s,r=o),d>aa&&kc(aa=d)):(jc(d,l.suspenseConfig),o=l.eagerReducer===e?l.eagerState:e(o,l.action)),s=l,l=l.next}while(null!==l&&l!==i);u||(c=s,r=o),er(o,t.memoizedState)||(Wa=!0),t.memoizedState=o,t.baseUpdate=c,t.baseState=r,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function ya(e){var t=ga();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:va,lastRenderedState:e}).dispatch=Na.bind(null,ea,e),[t.memoizedState,e]}function wa(e){return _a(va)}function Ea(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===sa?(sa={lastEffect:null}).lastEffect=e.next=e:null===(t=sa.lastEffect)?sa.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,sa.lastEffect=e),e}function xa(e,t,n,i){var r=ga();ca|=e,r.memoizedState=Ea(t,n,void 0,void 0===i?null:i)}function Oa(e,t,n,i){var r=ba();i=void 0===i?null:i;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==i&&pa(i,a.deps))return void Ea(0,n,o,i)}ca|=e,r.memoizedState=Ea(t,n,o,i)}function Sa(e,t){return xa(516,192,e,t)}function Ca(e,t){return Oa(516,192,e,t)}function ja(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(){}function Ta(e,t){return ga().memoizedState=[e,void 0===t?null:t],e}function Pa(e,t){var n=ba();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&pa(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Na(e,t,n){if(!(25>da))throw Error(a(301));var i=e.alternate;if(e===ea||null!==i&&i===ea)if(la=!0,e={expirationTime:Zo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===ua&&(ua=new Map),void 0===(n=ua.get(t)))ua.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var r=fc(),o=So.suspense;o={expirationTime:r=mc(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var c=s.next;null!==c&&(o.next=c),s.next=o}if(t.last=o,0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,u=i(l,n);if(o.eagerReducer=i,o.eagerState=u,er(u,l))return}catch(e){}gc(e,r)}}var Aa={readContext:ho,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useResponder:ha,useDeferredValue:ha,useTransition:ha},Ia={readContext:ho,useCallback:Ta,useContext:ho,useEffect:Sa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,xa(4,36,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4,36,e,t)},useMemo:function(e,t){var n=ga();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ga();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Na.bind(null,ea,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ga().memoizedState=e},useState:ya,useDebugValue:ka,useResponder:Qo,useDeferredValue:function(e,t){var n=ya(e),i=n[0],r=n[1];return Sa((function(){o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===t?null:t;try{r(e)}finally{Jo.suspense=n}}))}),[e,t]),i},useTransition:function(e){var t=ya(!1),n=t[0],i=t[1];return[Ta((function(t){i(!0),o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===e?null:e;try{i(!1),t()}finally{Jo.suspense=n}}))}),[e,n]),n]}},Ra={readContext:ho,useCallback:Pa,useContext:ho,useEffect:Ca,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Oa(4,36,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4,36,e,t)},useMemo:function(e,t){var n=ba();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&pa(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:_a,useRef:function(){return ba().memoizedState},useState:wa,useDebugValue:ka,useResponder:Qo,useDeferredValue:function(e,t){var n=wa(),i=n[0],r=n[1];return Ca((function(){o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===t?null:t;try{r(e)}finally{Jo.suspense=n}}))}),[e,t]),i},useTransition:function(e){var t=wa(),n=t[0],i=t[1];return[Pa((function(t){i(!0),o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===e?null:e;try{i(!1),t()}finally{Jo.suspense=n}}))}),[e,n]),n]}},Fa=null,Ma=null,Da=!1;function La(e,t){var n=$c(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ua(e){if(Da){var t=Ma;if(t){var n=t;if(!Ba(e,t)){if(!(t=ai(n.nextSibling))||!Ba(e,t))return e.effectTag=-1025&e.effectTag|2,Da=!1,void(Fa=e);La(Fa,n)}Fa=e,Ma=ai(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Da=!1,Fa=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Va(e){if(e!==Fa)return!1;if(!Da)return Ha(e),Da=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ii(t,e.memoizedProps))for(t=Ma;t;)La(e,t),t=ai(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Xn){if(0===t){Ma=ai(e.nextSibling);break e}t--}else n!==Qn&&n!==Zn&&n!==Jn||t++}e=e.nextSibling}Ma=null}}else Ma=Fa?ai(e.stateNode.nextSibling):null;return!0}function za(){Ma=Fa=null,Da=!1}var Ga=I.ReactCurrentOwner,Wa=!1;function $a(e,t,n,i){t.child=null===e?Lo(t,null,n,i):Do(t,e.child,n,i)}function qa(e,t,n,i,r){n=n.render;var o=t.ref;return uo(t,r),i=fa(e,t,n,i,o,r),null===e||Wa?(t.effectTag|=1,$a(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),us(e,t,r))}function Ya(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!=typeof a||qc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kc(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ka(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:nr)(r,i)&&e.ref===t.ref)?us(e,t,o):(t.effectTag|=1,(e=Yc(a,i)).ref=t.ref,e.return=t,t.child=e)}function Ka(e,t,n,i,r,o){return null!==e&&nr(e.memoizedProps,i)&&e.ref===t.ref&&(Wa=!1,r<o)?us(e,t,o):Xa(e,t,n,i,o)}function Qa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Xa(e,t,n,i,r){var o=yr(n)?vr:gr.current;return o=_r(t,o),uo(t,r),n=fa(e,t,n,i,o,r),null===e||Wa?(t.effectTag|=1,$a(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),us(e,t,r))}function Ja(e,t,n,i,r){if(yr(n)){var o=!0;Sr(t)}else o=!1;if(uo(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Po(t,n,i),Ao(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;l="object"==typeof l&&null!==l?ho(l):_r(t,l=yr(n)?vr:gr.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||c!==l)&&No(t,a,i,l),po=!1;var h=t.memoizedState;c=a.state=h;var p=t.updateQueue;null!==p&&(Eo(t,p,i,a,r),c=t.memoizedState),s!==i||h!==c||br.current||po?("function"==typeof u&&(jo(t,n,u,i),c=t.memoizedState),(s=po||To(t,n,s,i,h,c,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=l,i=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:to(t.type,s),c=a.context,l="object"==typeof(l=n.contextType)&&null!==l?ho(l):_r(t,l=yr(n)?vr:gr.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||c!==l)&&No(t,a,i,l),po=!1,c=t.memoizedState,h=a.state=c,null!==(p=t.updateQueue)&&(Eo(t,p,i,a,r),h=t.memoizedState),s!==i||c!==h||br.current||po?("function"==typeof u&&(jo(t,n,u,i),h=t.memoizedState),(u=po||To(t,n,s,i,c,h,l))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,h,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=l,i=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),i=!1);return Za(e,t,n,i,o,r)}function Za(e,t,n,i,r,o){Qa(e,t);var a=0!=(64&t.effectTag);if(!i&&!a)return r&&Cr(t,n,!1),us(e,t,o);i=t.stateNode,Ga.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=Do(t,e.child,null,o),t.child=Do(t,null,s,o)):$a(e,t,s,o),t.memoizedState=i.state,r&&Cr(t,n,!0),t.child}function es(e){var t=e.stateNode;t.pendingContext?xr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xr(0,t.context,!1),Go(e,t.containerInfo)}var ts,ns,is,rs,os={dehydrated:null,retryTime:0};function as(e,t,n){var i,r=t.mode,o=t.pendingProps,a=Yo.current,s=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),fr(Yo,1&a),null===e){if(void 0!==o.fallback&&Ua(t),s){if(s=o.fallback,(o=Qc(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Qc(s,r,n,null)).return=t,o.sibling=n,t.memoizedState=os,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Lo(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,(n=Yc(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=Yc(r,o,r.expirationTime)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=os,t.child=n,r}return n=Do(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Qc(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Qc(s,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=os,t.child=o,n}return t.memoizedState=null,t.child=Do(t,e,o.children,n)}function ss(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),lo(e.return,t)}function cs(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function ls(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if($a(e,t,i.children,n),0!=(2&(i=Yo.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ss(e,n);else if(19===e.tag)ss(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(fr(Yo,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Ko(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),cs(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ko(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}cs(t,!0,n,null,o,t.lastEffect);break;case"together":cs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function us(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&kc(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Yc(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yc(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function ds(e){e.effectTag|=4}function hs(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ps(e){switch(e.tag){case 1:yr(e.type)&&wr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Wo(),Er(),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return qo(e),null;case 13:return pr(Yo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pr(Yo),null;case 4:return Wo(),null;case 10:return co(e),null;default:return null}}function fs(e,t){return{value:e,source:t,stack:J(t)}}ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ns=function(){},is=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s,c,l=t.stateNode;switch(zo(Uo.current),e=null,n){case"input":a=Ce(l,a),i=Ce(l,i),e=[];break;case"option":a=Ae(l,a),i=Ae(l,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=Re(l,a),i=Re(l,i),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(l.onclick=Gn)}for(s in Hn(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(c in l=a[s])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(p.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var u=i[s];if(l=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&u!==l&&(null!=u||null!=l))if("style"===s)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(s,""+u)):"children"===s?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(p.hasOwnProperty(s)?(null!=u&&zn(o,s),e||l===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&ds(t)}},rs=function(e,t,n,i){n!==i&&ds(t)};var ms="function"==typeof WeakSet?WeakSet:Set;function gs(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=J(n)),null!==n&&X(n.type),t=t.value,null!==e&&1===e.tag&&X(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function bs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Uc(e,t)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:_s(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:to(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function _s(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var i=n=n.next;do{if(0!=(i.tag&e)){var r=i.destroy;i.destroy=void 0,void 0!==r&&r()}0!=(i.tag&t)&&(r=i.create,i.destroy=r()),i=i.next}while(i!==n)}}function ys(e,t,n){switch("function"==typeof Gc&&Gc(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Yr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){Uc(r,e)}}e=e.next}while(e!==i)}))}break;case 1:bs(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Uc(e,t)}}(t,n);break;case 5:bs(t);break;case 4:Os(e,t,n)}}function ws(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&ws(t)}function Es(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(Es(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Es(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){var o=5===r.tag||6===r.tag;if(o){var s=o?r.stateNode:r.stateNode.instance;if(n)if(i){var c=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(c,s):o.insertBefore(c,s)}else t.insertBefore(s,n);else i?(8===(c=t).nodeType?(o=c.parentNode).insertBefore(s,c):(o=c).appendChild(s),null!=(c=c._reactRootContainer)||null!==o.onclick||(o.onclick=Gn)):t.appendChild(s)}else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Os(e,t,n){for(var i,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var c=e,l=o,u=n,d=l;;)if(ys(c,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===l)break;for(;null===d.sibling;){if(null===d.return||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(c=i,l=o.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(ys(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:_s(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[ui]=i,"input"===e&&"radio"===i.type&&null!=i.name&&ke(n,i),Vn(e,r),t=Vn(e,i),r=0;r<o.length;r+=2){var s=o[r],c=o[r+1];"style"===s?Bn(n,c):"dangerouslySetInnerHTML"===s?Ve(n,c):"children"===s?ze(n,c):Ee(n,s,c,t)}switch(e){case"input":Te(n,i);break;case"textarea":Me(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Ie(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ie(n,!!i.multiple,i.defaultValue,!0):Ie(n,!!i.multiple,i.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,St(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,tc=Wr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=Ln("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Cs(t);break;case 19:Cs(t);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ms),t.forEach((function(t){var i=Vc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var js="function"==typeof WeakMap?WeakMap:Map;function ks(e,t,n){(n=go(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){rc||(rc=!0,oc=i),gs(e,t)},n}function Ts(e,t,n){(n=go(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return gs(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===ac?ac=new Set([this]):ac.add(this),gs(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ps,Ns=Math.ceil,As=I.ReactCurrentDispatcher,Is=I.ReactCurrentOwner,Rs=0,Fs=8,Ms=16,Ds=32,Ls=0,Bs=1,Us=2,Hs=3,Vs=4,zs=5,Gs=Rs,Ws=null,$s=null,qs=0,Ys=Ls,Ks=null,Qs=1073741823,Xs=1073741823,Js=null,Zs=0,ec=!1,tc=0,nc=500,ic=null,rc=!1,oc=null,ac=null,sc=!1,cc=null,lc=90,uc=null,dc=0,hc=null,pc=0;function fc(){return(Gs&(Ms|Ds))!==Rs?1073741821-(Wr()/10|0):0!==pc?pc:pc=1073741821-(Wr()/10|0)}function mc(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=$r();if(0==(4&t))return 99===i?1073741823:1073741822;if((Gs&Ms)!==Rs)return qs;if(null!==n)e=eo(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=eo(e,150,100);break;case 97:case 96:e=eo(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ws&&e===qs&&--e,e}function gc(e,t){if(50<dc)throw dc=0,hc=null,Error(a(185));if(null!==(e=bc(e,t))){var n=$r();1073741823===t?(Gs&Fs)!==Rs&&(Gs&(Ms|Ds))===Rs?wc(e):(_c(e),Gs===Rs&&Xr()):_c(e),(4&Gs)===Rs||98!==n&&99!==n||(null===uc?uc=new Map([[e,t]]):(void 0===(n=uc.get(e))||n>t)&&uc.set(e,t))}}function bc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Ws===r&&(kc(t),Ys===Vs&&tl(r,qs)),nl(r,t)),r}function vc(e){var t=e.lastExpiredTime;return 0!==t?t:el(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function _c(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Qr(wc.bind(null,e));else{var t=vc(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=fc();if(i=1073741823===t?99:1===t||2===t?95:0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==Br&&Tr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Qr(wc.bind(null,e)):Kr(i,yc.bind(null,e),{timeout:10*(1073741821-t)-Wr()}),e.callbackNode=t}}}function yc(e,t){if(pc=0,t)return il(e,t=fc()),_c(e),null;var n=vc(e);if(0!==n){if(t=e.callbackNode,(Gs&(Ms|Ds))!==Rs)throw Error(a(327));if(Dc(),e===Ws&&n===qs||Oc(e,n),null!==$s){var i=Gs;Gs|=Ms;for(var r=Cc();;)try{Pc();break}catch(t){Sc(e,t)}if(ao(),Gs=i,As.current=r,Ys===Bs)throw t=Ks,Oc(e,n),tl(e,n),_c(e),t;if(null===$s)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Ys,Ws=null,i){case Ls:case Bs:throw Error(a(345));case Us:il(e,2<n?2:n);break;case Hs:if(tl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ic(r)),1073741823===Qs&&10<(r=tc+nc-Wr())){if(ec){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,Oc(e,n);break}}if(0!==(o=vc(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=ri(Rc.bind(null,e),r);break}Rc(e);break;case Vs:if(tl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ic(r)),ec&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,Oc(e,n);break}if(0!==(r=vc(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==Xs?i=10*(1073741821-Xs)-Wr():1073741823===Qs?i=0:(i=10*(1073741821-Qs)-5e3,0>(i=(r=Wr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ns(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=ri(Rc.bind(null,e),i);break}Rc(e);break;case zs:if(1073741823!==Qs&&null!==Js){o=Qs;var s=Js;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(o=Wr()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=r?0:r+i-o),10<i){tl(e,n),e.timeoutHandle=ri(Rc.bind(null,e),i);break}}Rc(e);break;default:throw Error(a(329))}if(_c(e),e.callbackNode===t)return yc.bind(null,e)}}return null}function wc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Rc(e);else{if((Gs&(Ms|Ds))!==Rs)throw Error(a(327));if(Dc(),e===Ws&&t===qs||Oc(e,t),null!==$s){var n=Gs;Gs|=Ms;for(var i=Cc();;)try{Tc();break}catch(t){Sc(e,t)}if(ao(),Gs=n,As.current=i,Ys===Bs)throw n=Ks,Oc(e,t),tl(e,t),_c(e),n;if(null!==$s)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ws=null,Rc(e),_c(e)}}return null}function Ec(e,t){var n=Gs;Gs|=1;try{return e(t)}finally{(Gs=n)===Rs&&Xr()}}function xc(e,t){var n=Gs;Gs&=-2,Gs|=Fs;try{return e(t)}finally{(Gs=n)===Rs&&Xr()}}function Oc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oi(n)),null!==$s)for(n=$s.return;null!==n;){var i=n;switch(i.tag){case 1:null!=i.type.childContextTypes&&wr();break;case 3:Wo(),Er();break;case 5:qo(i);break;case 4:Wo();break;case 13:case 19:pr(Yo);break;case 10:co(i)}n=n.return}Ws=e,$s=Yc(e.current,null),qs=t,Ys=Ls,Ks=null,Xs=Qs=1073741823,Js=null,Zs=0,ec=!1}function Sc(e,t){for(;;){try{if(ao(),ma(),null===$s||null===$s.return)return Ys=Bs,Ks=t,null;e:{var n=e,i=$s.return,r=$s,o=t;if(t=qs,r.effectTag|=2048,r.firstEffect=r.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var a=o,s=0!=(1&Yo.current),c=i;do{var l;if(l=13===c.tag){var u=c.memoizedState;if(null!==u)l=null!==u.dehydrated;else{var d=c.memoizedProps;l=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!s)}}if(l){var h=c.updateQueue;if(null===h){var p=new Set;p.add(a),c.updateQueue=p}else h.add(a);if(0==(2&c.mode)){if(c.effectTag|=64,r.effectTag&=-2981,1===r.tag)if(null===r.alternate)r.tag=17;else{var f=go(1073741823,null);f.tag=2,vo(r,f)}r.expirationTime=1073741823;break e}o=void 0,r=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new js,o=new Set,m.set(a,o)):void 0===(o=m.get(a))&&(o=new Set,m.set(a,o)),!o.has(r)){o.add(r);var g=Hc.bind(null,n,a,r);a.then(g,g)}c.effectTag|=4096,c.expirationTime=t;break e}c=c.return}while(null!==c);o=Error((X(r.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(r))}Ys!==zs&&(Ys=Us),o=fs(o,r),c=i;do{switch(c.tag){case 3:a=o,c.effectTag|=4096,c.expirationTime=t,_o(c,ks(c,a,t));break e;case 1:a=o;var b=c.type,v=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===ac||!ac.has(v)))){c.effectTag|=4096,c.expirationTime=t,_o(c,Ts(c,a,t));break e}}c=c.return}while(null!==c)}$s=Ac($s)}catch(e){t=e;continue}break}}function Cc(){var e=As.current;return As.current=Aa,null===e?Aa:e}function jc(e,t){e<Qs&&2<e&&(Qs=e),null!==t&&e<Xs&&2<e&&(Xs=e,Js=t)}function kc(e){e>Zs&&(Zs=e)}function Tc(){for(;null!==$s;)$s=Nc($s)}function Pc(){for(;null!==$s&&!Pr();)$s=Nc($s)}function Nc(e){var t=Ps(e.alternate,e,qs);return e.memoizedProps=e.pendingProps,null===t&&(t=Ac(e)),Is.current=null,t}function Ac(e){$s=e;do{var t=$s.alternate;if(e=$s.return,0==(2048&$s.effectTag)){e:{var n=t,i=qs,o=(t=$s).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:yr(t.type)&&wr();break;case 3:Wo(),Er(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===n||null===n.child)&&Va(t)&&ds(t),ns(t);break;case 5:qo(t),i=zo(Vo.current);var s=t.type;if(null!==n&&null!=t.stateNode)is(n,t,s,o,i),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var c=zo(Uo.current);if(Va(t)){var l=(o=t).stateNode;n=o.type;var u=o.memoizedProps,d=i;switch(l[li]=o,l[ui]=u,s=void 0,i=l,n){case"iframe":case"object":case"embed":Sn("load",i);break;case"video":case"audio":for(l=0;l<Ze.length;l++)Sn(Ze[l],i);break;case"source":Sn("error",i);break;case"img":case"image":case"link":Sn("error",i),Sn("load",i);break;case"form":Sn("reset",i),Sn("submit",i);break;case"details":Sn("toggle",i);break;case"input":je(i,u),Sn("invalid",i),zn(d,"onChange");break;case"select":i._wrapperState={wasMultiple:!!u.multiple},Sn("invalid",i),zn(d,"onChange");break;case"textarea":Fe(i,u),Sn("invalid",i),zn(d,"onChange")}for(s in Hn(n,u),l=null,u)u.hasOwnProperty(s)&&(c=u[s],"children"===s?"string"==typeof c?i.textContent!==c&&(l=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(l=["children",""+c]):p.hasOwnProperty(s)&&null!=c&&zn(d,s));switch(n){case"input":Oe(i),Pe(i,u,!0);break;case"textarea":Oe(i),De(i);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(i.onclick=Gn)}s=l,o.updateQueue=s,(o=null!==s)&&ds(t)}else{n=t,d=s,u=o,l=9===i.nodeType?i:i.ownerDocument,c===Le.html&&(c=Be(d)),c===Le.html?"script"===d?((u=l.createElement("div")).innerHTML="<script><\/script>",l=u.removeChild(u.firstChild)):"string"==typeof u.is?l=l.createElement(d,{is:u.is}):(l=l.createElement(d),"select"===d&&(d=l,u.multiple?d.multiple=!0:u.size&&(d.size=u.size))):l=l.createElementNS(c,d),(u=l)[li]=n,u[ui]=o,ts(u,t,!1,!1),t.stateNode=u;var h=i,f=Vn(d=s,n=o);switch(d){case"iframe":case"object":case"embed":Sn("load",u),i=n;break;case"video":case"audio":for(i=0;i<Ze.length;i++)Sn(Ze[i],u);i=n;break;case"source":Sn("error",u),i=n;break;case"img":case"image":case"link":Sn("error",u),Sn("load",u),i=n;break;case"form":Sn("reset",u),Sn("submit",u),i=n;break;case"details":Sn("toggle",u),i=n;break;case"input":je(u,n),i=Ce(u,n),Sn("invalid",u),zn(h,"onChange");break;case"option":i=Ae(u,n);break;case"select":u._wrapperState={wasMultiple:!!n.multiple},i=r({},n,{value:void 0}),Sn("invalid",u),zn(h,"onChange");break;case"textarea":Fe(u,n),i=Re(u,n),Sn("invalid",u),zn(h,"onChange");break;default:i=n}Hn(d,i),l=void 0,c=d;var m=u,g=i;for(l in g)if(g.hasOwnProperty(l)){var b=g[l];"style"===l?Bn(m,b):"dangerouslySetInnerHTML"===l?null!=(b=b?b.__html:void 0)&&Ve(m,b):"children"===l?"string"==typeof b?("textarea"!==c||""!==b)&&ze(m,b):"number"==typeof b&&ze(m,""+b):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(p.hasOwnProperty(l)?null!=b&&zn(h,l):null!=b&&Ee(m,l,b,f))}switch(d){case"input":Oe(u),Pe(u,n,!1);break;case"textarea":Oe(u),De(u);break;case"option":null!=n.value&&u.setAttribute("value",""+we(n.value));break;case"select":(i=u).multiple=!!n.multiple,null!=(u=n.value)?Ie(i,!!n.multiple,u,!1):null!=n.defaultValue&&Ie(i,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(u.onclick=Gn)}(o=ni(s,o))&&ds(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(a(166));break;case 6:if(n&&null!=t.stateNode)rs(n,t,n.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(a(166));i=zo(Vo.current),zo(Uo.current),Va(t)?(s=(o=t).stateNode,i=o.memoizedProps,s[li]=o,(o=s.nodeValue!==i)&&ds(t)):(s=t,(o=(9===i.nodeType?i:i.ownerDocument).createTextNode(o))[li]=s,t.stateNode=o)}break;case 11:break;case 13:if(pr(Yo),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=i;break e}o=null!==o,s=!1,null===n?void 0!==t.memoizedProps.fallback&&Va(t):(s=null!==(i=n.memoizedState),o||null===i||null!==(i=n.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=i,i.nextEffect=u):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),o&&!s&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Yo.current)?Ys===Ls&&(Ys=Hs):(Ys!==Ls&&Ys!==Hs||(Ys=Vs),0!==Zs&&null!==Ws&&(tl(Ws,qs),nl(Ws,Zs)))),(o||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Wo(),ns(t);break;case 10:co(t);break;case 9:case 14:break;case 17:yr(t.type)&&wr();break;case 19:if(pr(Yo),null===(o=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(u=o.rendering)){if(s)hs(o,!1);else if(Ys!==Ls||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(u=Ko(n))){for(t.effectTag|=64,hs(o,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=i,s=t.child;null!==s;)n=o,(i=s).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(u=i.alternate)?(i.childExpirationTime=0,i.expirationTime=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=u.childExpirationTime,i.expirationTime=u.expirationTime,i.child=u.child,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,n=u.dependencies,i.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),s=s.sibling;fr(Yo,1&Yo.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=Ko(u))){if(t.effectTag|=64,s=!0,null!==(i=n.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate){null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else Wr()>o.tailExpiration&&1<i&&(t.effectTag|=64,s=!0,hs(o,!1),t.expirationTime=t.childExpirationTime=i-1);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(i=o.last)?i.sibling=u:t.child=u,o.last=u)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Wr()+500),i=o.tail,o.rendering=i,o.tail=i.sibling,o.lastEffect=t.lastEffect,i.sibling=null,o=Yo.current,fr(Yo,o=s?1&o|2:1&o),t=i;break e}break;case 20:case 21:break;default:throw Error(a(156,t.tag))}t=null}if(o=$s,1===qs||1!==o.childExpirationTime){for(s=0,i=o.child;null!==i;)(n=i.expirationTime)>s&&(s=n),(u=i.childExpirationTime)>s&&(s=u),i=i.sibling;o.childExpirationTime=s}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=$s.firstEffect),null!==$s.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=$s.firstEffect),e.lastEffect=$s.lastEffect),1<$s.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=$s:e.firstEffect=$s,e.lastEffect=$s))}else{if(null!==(t=ps($s)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=$s.sibling))return t;$s=e}while(null!==$s);return Ys===Ls&&(Ys=zs),null}function Ic(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Rc(e){var t=$r();return Yr(99,Fc.bind(null,e,t)),null}function Fc(e,t){do{Dc()}while(null!==cc);if((Gs&(Ms|Ds))!==Rs)throw Error(a(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=Ic(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ws&&($s=Ws=null,qs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=Gs;Gs|=Ds,Is.current=null,ei=On;var s=Yn();if(Kn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{c.nodeType,d.nodeType}catch(e){c=null;break e}var h=0,p=-1,f=-1,m=0,g=0,b=s,v=null;t:for(;;){for(var _;b!==c||0!==u&&3!==b.nodeType||(p=h+u),b!==d||0!==l&&3!==b.nodeType||(f=h+l),3===b.nodeType&&(h+=b.nodeValue.length),null!==(_=b.firstChild);)v=b,b=_;for(;;){if(b===s)break t;if(v===c&&++m===u&&(p=h),v===d&&++g===l&&(f=h),null!==(_=b.nextSibling))break;v=(b=v).parentNode}b=_}c=-1===p||-1===f?null:{start:p,end:f}}else c=null}c=c||{start:0,end:0}}else c=null;ti={focusedElem:s,selectionRange:c},On=!1,ic=r;do{try{Mc()}catch(e){if(null===ic)throw Error(a(330));Uc(ic,e),ic=ic.nextEffect}}while(null!==ic);ic=r;do{try{for(s=e,c=t;null!==ic;){var y=ic.effectTag;if(16&y&&ze(ic.stateNode,""),128&y){var w=ic.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&y){case 2:xs(ic),ic.effectTag&=-3;break;case 6:xs(ic),ic.effectTag&=-3,Ss(ic.alternate,ic);break;case 1024:ic.effectTag&=-1025;break;case 1028:ic.effectTag&=-1025,Ss(ic.alternate,ic);break;case 4:Ss(ic.alternate,ic);break;case 8:Os(s,u=ic,c),ws(u)}ic=ic.nextEffect}}catch(e){if(null===ic)throw Error(a(330));Uc(ic,e),ic=ic.nextEffect}}while(null!==ic);if(E=ti,w=Yn(),y=E.focusedElem,c=E.selectionRange,w!==y&&y&&y.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(y.ownerDocument.documentElement,y)){null!==c&&Kn(y)&&(w=c.start,void 0===(E=c.end)&&(E=w),"selectionStart"in y?(y.selectionStart=w,y.selectionEnd=Math.min(E,y.value.length)):(E=(w=y.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),u=y.textContent.length,s=Math.min(c.start,u),c=void 0===c.end?s:Math.min(c.end,u),!E.extend&&s>c&&(u=c,c=s,s=u),u=qn(y,s),d=qn(y,c),u&&d&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==d.node||E.focusOffset!==d.offset)&&((w=w.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),s>c?(E.addRange(w),E.extend(d.node,d.offset)):(w.setEnd(d.node,d.offset),E.addRange(w))))),w=[];for(E=y;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<w.length;y++)(E=w[y]).element.scrollLeft=E.left,E.element.scrollTop=E.top}ti=null,On=!!ei,ei=null,e.current=n,ic=r;do{try{for(y=i;null!==ic;){var x=ic.effectTag;if(36&x){var O=ic.alternate;switch(E=y,(w=ic).tag){case 0:case 11:case 15:_s(16,32,w);break;case 1:var S=w.stateNode;if(4&w.effectTag)if(null===O)S.componentDidMount();else{var C=w.elementType===w.type?O.memoizedProps:to(w.type,O.memoizedProps);S.componentDidUpdate(C,O.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var j=w.updateQueue;null!==j&&xo(0,j,S);break;case 3:var k=w.updateQueue;if(null!==k){if(s=null,null!==w.child)switch(w.child.tag){case 5:s=w.child.stateNode;break;case 1:s=w.child.stateNode}xo(0,k,s)}break;case 5:var T=w.stateNode;null===O&&4&w.effectTag&&ni(w.type,w.memoizedProps)&&T.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var P=w.alternate;if(null!==P){var N=P.memoizedState;if(null!==N){var A=N.dehydrated;null!==A&&St(A)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&x){w=void 0;var I=ic.ref;if(null!==I){var R=ic.stateNode;switch(ic.tag){case 5:w=R;break;default:w=R}"function"==typeof I?I(w):I.current=w}}ic=ic.nextEffect}}catch(e){if(null===ic)throw Error(a(330));Uc(ic,e),ic=ic.nextEffect}}while(null!==ic);ic=null,Ur(),Gs=o}else e.current=n;if(sc)sc=!1,cc=e,lc=t;else for(ic=r;null!==ic;)t=ic.nextEffect,ic.nextEffect=null,ic=t;if(0===(t=e.firstPendingTime)&&(ac=null),1073741823===t?e===hc?dc++:(dc=0,hc=e):dc=0,"function"==typeof zc&&zc(n.stateNode,i),_c(e),rc)throw rc=!1,e=oc,oc=null,e;return(Gs&Fs)!==Rs?null:(Xr(),null)}function Mc(){for(;null!==ic;){var e=ic.effectTag;0!=(256&e)&&vs(ic.alternate,ic),0==(512&e)||sc||(sc=!0,Kr(97,(function(){return Dc(),null}))),ic=ic.nextEffect}}function Dc(){if(90!==lc){var e=97<lc?97:lc;return lc=90,Yr(e,Lc)}}function Lc(){if(null===cc)return!1;var e=cc;if(cc=null,(Gs&(Ms|Ds))!==Rs)throw Error(a(331));var t=Gs;for(Gs|=Ds,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:_s(128,0,n),_s(0,64,n)}}catch(t){if(null===e)throw Error(a(330));Uc(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Gs=t,Xr(),!0}function Bc(e,t,n){vo(e,t=ks(e,t=fs(n,t),1073741823)),null!==(e=bc(e,1073741823))&&_c(e)}function Uc(e,t){if(3===e.tag)Bc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bc(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===ac||!ac.has(i))){vo(n,e=Ts(n,e=fs(t,e),1073741823)),null!==(n=bc(n,1073741823))&&_c(n);break}}n=n.return}}function Hc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),Ws===e&&qs===n?Ys===Vs||Ys===Hs&&1073741823===Qs&&Wr()-tc<nc?Oc(e,qs):ec=!0:el(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),_c(e)))}function Vc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=mc(t=fc(),e,null)),null!==(e=bc(e,t))&&_c(e)}Ps=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||br.current)Wa=!0;else{if(i<n){switch(Wa=!1,t.tag){case 3:es(t),za();break;case 5:if($o(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:yr(t.type)&&Sr(t);break;case 4:Go(t,t.stateNode.containerInfo);break;case 10:so(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?as(e,t,n):(fr(Yo,1&Yo.current),null!==(t=us(e,t,n))?t.sibling:null);fr(Yo,1&Yo.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return ls(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),fr(Yo,Yo.current),!i)return null}return us(e,t,n)}Wa=!1}}else Wa=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=_r(t,gr.current),uo(t,n),r=fa(null,t,i,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,ma(),yr(i)){var o=!0;Sr(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var s=i.getDerivedStateFromProps;"function"==typeof s&&jo(t,i,s,e),r.updater=ko,t.stateNode=r,r._reactInternalFiber=t,Ao(t,i,e,n),t=Za(null,t,i,!0,o,n)}else t.tag=0,$a(null,t,r,n),t=t.child;return t;case 16:if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"==typeof e)return qc(e)?1:0;if(null!=e){if((e=e.$$typeof)===G)return 11;if(e===q)return 14}return 2}(r),e=to(r,e),o){case 0:t=Xa(null,t,r,e,n);break;case 1:t=Ja(null,t,r,e,n);break;case 11:t=qa(null,t,r,e,n);break;case 14:t=Ya(null,t,r,to(r.type,e),i,n);break;default:throw Error(a(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Xa(e,t,i,r=t.elementType===i?r:to(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ja(e,t,i,r=t.elementType===i?r:to(i,r),n);case 3:if(es(t),null===(i=t.updateQueue))throw Error(a(282));if(r=null!==(r=t.memoizedState)?r.element:null,Eo(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r)za(),t=us(e,t,n);else{if((r=t.stateNode.hydrate)&&(Ma=ai(t.stateNode.containerInfo.firstChild),Fa=t,r=Da=!0),r)for(n=Lo(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else $a(e,t,i,n),za();t=t.child}return t;case 5:return $o(t),null===e&&Ua(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,ii(i,r)?s=null:null!==o&&ii(i,o)&&(t.effectTag|=16),Qa(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):($a(e,t,s,n),t=t.child),t;case 6:return null===e&&Ua(t),null;case 13:return as(e,t,n);case 4:return Go(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Do(t,null,i,n):$a(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,qa(e,t,i,r=t.elementType===i?r:to(i,r),n);case 7:return $a(e,t,t.pendingProps,n),t.child;case 8:case 12:return $a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,so(t,o=r.value),null!==s){var c=s.value;if(0==(o=er(c,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(c,o):1073741823))){if(s.children===r.children&&!br.current){t=us(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&o)){1===c.tag&&((u=go(n,null)).tag=2,vo(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),lo(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}}$a(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,uo(t,n),i=i(r=ho(r,o.unstable_observedBits)),t.effectTag|=1,$a(e,t,i,n),t.child;case 14:return o=to(r=t.type,t.pendingProps),Ya(e,t,r,o=to(r.type,o),i,n);case 15:return Ka(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:to(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,yr(i)?(e=!0,Sr(t)):e=!1,uo(t,n),Po(t,i,r),Ao(t,i,r,n),Za(null,t,i,!0,e,n);case 19:return ls(e,t,n)}throw Error(a(156,t.tag))};var zc=null,Gc=null;function Wc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $c(e,t,n,i){return new Wc(e,t,n,i)}function qc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yc(e,t){var n=e.alternate;return null===n?((n=$c(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kc(e,t,n,i,r,o){var s=2;if(i=e,"function"==typeof e)qc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case L:return Qc(n.children,r,o,t);case z:s=8,r|=7;break;case B:s=8,r|=1;break;case U:return(e=$c(12,n,t,8|r)).elementType=U,e.type=U,e.expirationTime=o,e;case W:return(e=$c(13,n,t,r)).type=W,e.elementType=W,e.expirationTime=o,e;case $:return(e=$c(19,n,t,r)).elementType=$,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case H:s=10;break e;case V:s=9;break e;case G:s=11;break e;case q:s=14;break e;case Y:s=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=$c(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Qc(e,t,n,i){return(e=$c(7,e,i,t)).expirationTime=n,e}function Xc(e,t,n){return(e=$c(6,e,null,t)).expirationTime=n,e}function Jc(e,t,n){return(t=$c(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function el(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function tl(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function nl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function il(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function rl(e,t,n,i){var r=t.current,o=fc(),s=So.suspense;o=mc(o,r,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(yr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var l=n.type;if(yr(l)){n=Or(n,l,c);break e}}n=c}else n=mr;return null===t.context?t.context=n:t.pendingContext=n,(t=go(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),vo(r,t),gc(r,o),o}function ol(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function al(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function sl(e,t){al(e,t),(e=e.alternate)&&al(e,t)}function cl(e,t,n){var i=new Zc(e,t,n=null!=n&&!0===n.hydrate),r=$c(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,e[di]=i.current,n&&0!==t&&function(e){var t=Rn(e);mt.forEach((function(n){Fn(n,e,t)})),gt.forEach((function(n){Fn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function ll(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ul(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof r){var s=r;r=function(){var e=ol(a);s.call(e)}}rl(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new cl(e,0,t?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"==typeof r){var c=r;r=function(){var e=ol(a);c.call(e)}}xc((function(){rl(t,a,e,r)}))}return ol(a)}function dl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ll(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:D,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}cl.prototype.render=function(e,t){rl(e,this._internalRoot,null,void 0===t?null:t)},cl.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,i=t.containerInfo;rl(null,t,null,(function(){i[di]=null,null!==n&&n()}))},rt=function(e){if(13===e.tag){var t=eo(fc(),150,100);gc(e,t),sl(e,t)}},ot=function(e){if(13===e.tag){fc();var t=Zr++;gc(e,t),sl(e,t)}},at=function(e){if(13===e.tag){var t=fc();gc(e,t=mc(t,e,null)),sl(e,t)}},ee=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=mi(i);if(!r)throw Error(a(90));Se(i),Te(i,r)}}}break;case"textarea":Me(e,n);break;case"select":null!=(t=n.value)&&Ie(e,!!n.multiple,t,!1)}},ae=Ec,se=function(e,t,n,i){var r=Gs;Gs|=4;try{return Yr(98,e.bind(null,t,n,i))}finally{(Gs=r)===Rs&&Xr()}},ce=function(){(Gs&(1|Ms|Ds))===Rs&&(function(){if(null!==uc){var e=uc;uc=null,e.forEach((function(e,t){il(t,e),_c(t)})),Xr()}}(),Dc())},le=function(e,t){var n=Gs;Gs|=2;try{return e(t)}finally{(Gs=n)===Rs&&Xr()}};var hl,pl,fl={createPortal:dl,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=it(t))?null:e.stateNode},hydrate:function(e,t,n){if(!ll(t))throw Error(a(200));return ul(null,e,t,!0,n)},render:function(e,t,n){if(!ll(t))throw Error(a(200));return ul(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){if(!ll(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return ul(e,t,n,!1,i)},unmountComponentAtNode:function(e){if(!ll(e))throw Error(a(40));return!!e._reactRootContainer&&(xc((function(){ul(null,null,e,!1,(function(){e._reactRootContainer=null,e[di]=null}))})),!0)},unstable_createPortal:function(){return dl.apply(void 0,arguments)},unstable_batchedUpdates:Ec,flushSync:function(e,t){if((Gs&(Ms|Ds))!==Rs)throw Error(a(187));var n=Gs;Gs|=1;try{return Yr(99,e.bind(null,t))}finally{Gs=n,Xr()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[pi,fi,mi,N.injectEventPluginsByName,h,At,function(e){j(e,Nt)},re,oe,Pn,P,Dc,{current:!1}]}};pl=(hl={findFiberByHostInstance:hi,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);zc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Gc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(r({},hl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=it(e))?null:e.stateNode},findFiberByHostInstance:function(e){return pl?pl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var ml={default:fl},gl=ml&&fl||ml;e.exports=gl.default||gl},function(e,t,n){"use strict";var i=n(392),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113;r&&Symbol.for("react.suspense_list");var f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder"),r&&Symbol.for("react.scope");var g="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function y(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||v}function w(){}function E(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=y.prototype;var x=E.prototype=new w;x.constructor=E,i(x,y.prototype),x.isPureReactComponent=!0;var O={current:null},S={current:null},C=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var i,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&!j.hasOwnProperty(i)&&(r[i]=t[i]);var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===r[i]&&(r[i]=c[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:S.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g,N=[];function A(e,t,n,i){if(N.length){var r=N.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function R(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case a:c=!0}}if(c)return i(r,t,""===n?"."+F(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=n+F(s=t[l],l);c+=e(s,u,i,r)}else if("function"==typeof(u=null===t||"object"!=typeof t?null:"function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null))for(t=u.call(t),l=0;!(s=t.next()).done;)c+=e(s=s.value,u=n+F(s,l++),i,r);else if("object"===s)throw i=""+t,Error(b(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return c}(e,"",t,n)}function F(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,i,n,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),i.push(e))}function L(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),R(e,D,t=A(t,o,i,r)),I(t)}function B(){var e=O.current;if(null===e)throw Error(b(321));return e}var U={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return L(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;R(e,M,t=A(null,null,t,n)),I(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!T(e))throw Error(b(143));return e}},createRef:function(){return{current:null}},Component:y,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,n){return B().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,n){return B().useReducer(e,t,n)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,Profiler:l,StrictMode:c,Suspense:p,createElement:k,cloneElement:function(e,t,n){if(null==e)throw Error(b(267,e));var r=i({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)C.call(t,u)&&!j.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:c}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:T,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:i}},H={default:U},V=H&&U||H;e.exports=V.default||V},function(e,t,n){"use strict";e.exports=n(479)},function(e,t,n){"use strict";var i,r,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,u=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(u,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},i=function(e){null!==c?setTimeout(i,0,e):(c=e,setTimeout(u,0))},r=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var b=p.now();t.unstable_now=function(){return p.now()-b}}var v=!1,_=null,y=-1,w=5,E=0;a=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,O=x.port2;x.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();E=e+w;try{_(!0,e)?O.postMessage(null):(v=!1,_=null)}catch(e){throw O.postMessage(null),e}}else v=!1},i=function(e){_=e,v||(v=!0,O.postMessage(null))},r=function(e,n){y=f((function(){e(t.unstable_now())}),n)},o=function(){m(y),y=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var i=Math.floor((n-1)/2),r=e[i];if(!(void 0!==r&&0<k(r,t)))break e;e[i]=t,e[n]=r,n=i}}function C(e){return void 0===(e=e[0])?null:e}function j(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>k(a,n))void 0!==c&&0>k(c,a)?(e[i]=c,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==c&&0>k(c,n)))break e;e[i]=c,e[s]=n,i=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],P=[],N=1,A=null,I=3,R=!1,F=!1,M=!1;function D(e){for(var t=C(P);null!==t;){if(null===t.callback)j(P);else{if(!(t.startTime<=e))break;j(P),t.sortIndex=t.expirationTime,S(T,t)}t=C(P)}}function L(e){if(M=!1,D(e),!F)if(null!==C(T))F=!0,i(B);else{var t=C(P);null!==t&&r(L,t.startTime-e)}}function B(e,n){F=!1,M&&(M=!1,o()),R=!0;var i=I;try{for(D(n),A=C(T);null!==A&&(!(A.expirationTime>n)||e&&!a());){var s=A.callback;if(null!==s){A.callback=null,I=A.priorityLevel;var c=s(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?A.callback=c:A===C(T)&&j(T),D(n)}else j(T);A=C(T)}if(null!==A)var l=!0;else{var u=C(P);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{A=null,I=i,R=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var c=a.delay;c="number"==typeof c&&0<c?s+c:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),c=s;return e={id:N++,callback:n,priorityLevel:e,startTime:c,expirationTime:a=c+a,sortIndex:-1},c>s?(e.sortIndex=c,S(P,e),null===C(T)&&e===C(P)&&(M?o():M=!0,r(L,c-s))):(e.sortIndex=a,S(T,e),F||R||(F=!0,i(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var n=C(T);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<A.expirationTime||a()},t.unstable_requestPaint=H,t.unstable_continueExecution=function(){F||R||(F=!0,i(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return C(T)},t.unstable_Profiling=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(285),r=n(394),o=new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"return\\s","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));function a(e){var t=o,n=e.match(t);if(n&&n[2])return n[2].split(".");throw new TypeError('Expected a property expression, got "'+e+'".\n\n      A property expression should be a referentially transparent (no side-effects),\n      single-expression "getter" function.\n\n      Correct example: "function (x) { return x.some }" or "x => x.some".\n      Incorrect example: "function (x) { var y = x.some; return y }" or "({some}) => some"')}function s(e){return a(e.toString())}function c(e){return void 0===e?function(e){return r.Lens.create((function(t){return t[e]}),(function(t,n){return i.setKey(e,t,n)}))}:r.Lens.create((function(t){return t[e]}),(function(t,n){return i.setKey(e,t,n)}))}new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"(\\$_\\$wf\\(\\d+\\);)?","return\\s","(\\$_\\$w\\(\\d+, \\d+\\),\\s)?","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*")),t.parsePropertyPath=a,t.extractPropertyPath=s,t.keyImpl=c;var l=0;function u(e){var t=s(e);return i.DEV_ENV&&function(e){if(l<10){l++;var t="x."+e.join("."),n="'"+e.join("', '")+"'";i.warning("The property expression overload of Atom.lens and Lens.prop are deprecated and will be removed in next versions of Focal. Please use the key name overload for Atom.lens and Lens.key instead. You can convert your code by changing the calls:\n  a.lens(x => "+t+") to a.lens("+n+"),\n  Lens.prop((x: T) => "+t+") to Lens.key<T>()("+n+").")}}(t),r.Lens.compose.apply(r.Lens,t.map(c()))}function d(e){if(e<0)throw new TypeError(e+" is not a valid array index, expected >= 0");return r.Prism.create((function(t){return t[e]}),(function(t,n){return n.length<=e?n.concat(Array(e-n.length),[t]):i.structEq(t,n[e])?n:n.slice(0,e).concat([t],n.slice(e+1))}))}function h(e){return r.Lens.replace(void 0,e)}function p(e,t){return r.Lens.create((function(n){return i.structEq(n,e)?t:n}),i.conservatively((function(n){return i.structEq(n,t)?e:n})))}function f(e){return t=function(t){var n=i.findIndex(t,e);return n<0?r.Lens.nothing():r.Lens.index(n)},r.Lens.create((function(e){return t(e).get(e)}),(function(e,n){return t(n).set(e,n)}));var t}t.propImpl=u,t.indexImpl=d,t.withDefaultImpl=h,t.replaceImpl=p,t.findImpl=f,r.Lens.key=c,r.Lens.prop=u,r.Lens.index=d,r.Lens.withDefault=h,r.Lens.replace=p,r.Lens.find=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(482);!function(e){e.create=function(e){return new i.JsonAtom(e)},e.log=function(e,t){var n=function(e,t,n){return console.log("%c"+e,"color: "+t+"; font-weight: bold",n)},i=e.get();return e.subscribe((function(e){"function"==typeof t?t(i,e):(console.group("UPDATE "+(t?"TYPE: "+t+" ":"")+"@ "+(new Date).toTimeString()),n("prev state","#9E9E9E",i),n("next state","#4CAF50",e),console.groupEnd()),i=e})),e},e.combine=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new i.CombinedAtomViewImpl(e.slice(void 0,-1),(function(t){return e[e.length-1].apply(e,t)}))}}(t.Atom||(t.Atom={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(393),a=n(285),s=n(29),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.view=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return void 0!==e[0]?"function"==typeof e[0]?new h(this,e[0]):"string"==typeof e[0]?new h(this,o.Lens.compose.apply(o.Lens,e.map(o.Lens.key())).get):new h(this,(function(t){return e[0].get(t)})):this},t}(s.BehaviorSubject);t.AbstractReadOnlyAtom=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.set=function(e){this.modify((function(){return e}))},t.prototype.lens=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new d(this,"function"==typeof e?o.Lens.prop(e):"string"==typeof e?o.Lens.compose.apply(o.Lens,[o.Lens.key(e)].concat(t.map((function(e){return o.Lens.key(e)})))):e,a.structEq)},t}(c);t.AbstractAtom=l;var u=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.get=function(){return this.getValue()},t.prototype.modify=function(e){var t=this.getValue(),n=e(t);a.structEq(t,n)||this.next(n)},t.prototype.set=function(e){var t=this.getValue();a.structEq(t,e)||this.next(e)},t}(l);t.JsonAtom=u;var d=function(e){function t(t,n,i){void 0===i&&(i=a.structEq);var r=e.call(this,void 0)||this;return r._source=t,r._lens=n,r._eq=i,r._subscription=null,r._refCount=0,r}return r(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._lens.get(this._source.get())},t.prototype.modify=function(e){var t=this;this._source.modify((function(n){return t._lens.modify(e,n)}))},t.prototype.set=function(e){var t=this;this._source.modify((function(n){return t._lens.set(e,n)}))},t.prototype._onSourceValue=function(e){var t=this.getValue(),n=this._lens.get(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=this._source.subscribe((function(e){return n._onSourceValue(e)}))),this._refCount++;var i=new s.Subscription((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return i.add(e.prototype._subscribe.call(this,t)),i},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(l),h=function(e){function t(t,n,i){void 0===i&&(i=a.structEq);var r=e.call(this,void 0)||this;return r._source=t,r._getter=n,r._eq=i,r._subscription=null,r._refCount=0,r}return r(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._getter(this._source.get())},t.prototype._onSourceValue=function(e){var t=this.getValue(),n=this._getter(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=this._source.subscribe((function(e){return n._onSourceValue(e)}))),this._refCount++;var i=new s.Subscription((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return i.add(e.prototype._subscribe.call(this,t)),i},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(c),p=function(e){function t(t,n,i){void 0===i&&(i=a.structEq);var r=e.call(this,void 0)||this;return r._sources=t,r._combineFn=n,r._eq=i,r._subscription=null,r._refCount=0,r}return r(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._combineFn(this._sources.map((function(e){return e.get()})))},t.prototype._onSourceValues=function(e){var t=this.getValue(),n=this._combineFn(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=s.combineLatest(this._sources).subscribe((function(e){return n._onSourceValues(e)}))),this._refCount++;var i=new s.Subscription((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return i.add(e.prototype._subscribe.call(this,t)),i},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(c);t.CombinedAtomViewImpl=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(406);function o(e){return function(t){return i.createElement(r.LiftWrapper,{component:e,props:t})}}t.liftIntrinsic=o,t.createLiftedIntrinsics=function(){var e={};return["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].forEach((function(t){return e[t]=o(t)})),e.Fragment=function(e){return i.createElement(r.LiftWrapper,{component:i.Fragment,props:e})},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.printBuffer=function(e,t){var n=t.logger,i=t.actionTransformer,r=t.titleFormatter,c=void 0===r?function(e){var t=e.timestamp,n=e.duration;return function(e,i,r){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+i),n&&o.push("%c(in "+r.toFixed(2)+" ms)"),o.join(" ")}}(t):r,l=t.collapsed,u=t.colors,d=t.level,h=t.diff;e.forEach((function(r,p){var f=r.started,m=r.startedTime,g=r.action,b=r.prevState,v=r.error,_=r.took,y=r.nextState,w=e[p+1];w&&(y=w.prevState,_=w.started-f);var E=i(g),x="function"==typeof l?l((function(){return y}),g,r):l,O=(0,o.formatTime)(m),S=u.title?"color: "+u.title(E)+";":"",C=["color: gray; font-weight: lighter;"];C.push(S),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var j=c(E,O,_);try{x?u.title?n.groupCollapsed.apply(n,["%c "+j].concat(C)):n.groupCollapsed(j):u.title?n.group.apply(n,["%c "+j].concat(C)):n.group(j)}catch(e){n.log(j)}var k=s(d,E,[b],"prevState"),T=s(d,E,[E],"action"),P=s(d,E,[v,b],"error"),N=s(d,E,[y],"nextState");k&&(u.prevState?n[k]("%c prev state","color: "+u.prevState(b)+"; font-weight: bold",b):n[k]("prev state",b)),T&&(u.action?n[T]("%c action    ","color: "+u.action(E)+"; font-weight: bold",E):n[T]("action    ",E)),v&&P&&(u.error?n[P]("%c error     ","color: "+u.error(v,b)+"; font-weight: bold;",v):n[P]("error     ",v)),N&&(u.nextState?n[N]("%c next state","color: "+u.nextState(y)+"; font-weight: bold",y):n[N]("next state",y)),h&&(0,a.default)(b,y,n,x);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))};var r,o=n(421),a=(r=n(485))&&r.__esModule?r:{default:r};function s(e,t,n,r){switch(void 0===e?"undefined":i(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)):e[r];case"function":return e(t);default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){var s=(0,r.default)(e,t);try{i?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}s?s.forEach((function(e){var t=e.kind,i=function(e){var t=e.kind,n=e.path,i=e.lhs,r=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[n.join("."),i,"→",r];case"N":return[n.join("."),r];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}(e);n.log.apply(n,["%c "+o[t].text,a(t)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}};var i,r=(i=n(486))&&i.__esModule?i:{default:i},o={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};function a(e){return"color: "+o[e].color+"; font-weight: bold"}e.exports=t.default},function(e,t,n){(function(n){var i;!function(r,o){"use strict";void 0===(i=function(){return function(e){var t,i,r=[];function o(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function a(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function c(e,t){c.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function l(e,t){l.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function d(e,t,n){var i=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,i),e}function h(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":void 0!==e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function p(t,n,i,r,o,a,f){var m=(o=o||[]).slice(0);if(void 0!==a){if(r){if("function"==typeof r&&r(m,a))return;if("object"==typeof r){if(r.prefilter&&r.prefilter(m,a))return;if(r.normalize){var g=r.normalize(m,a,t,n);g&&(t=g[0],n=g[1])}}}m.push(a)}"regexp"===h(t)&&"regexp"===h(n)&&(t=t.toString(),n=n.toString());var b=typeof t,v=typeof n;if("undefined"===b)"undefined"!==v&&i(new c(m,n));else if("undefined"===v)i(new l(m,t));else if(h(t)!==h(n))i(new s(m,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!=0)i(new s(m,t,n));else if("object"===b&&null!==t&&null!==n){if((f=f||[]).indexOf(t)<0){if(f.push(t),Array.isArray(t)){var _;for(t.length,_=0;_<t.length;_++)_>=n.length?i(new u(m,_,new l(e,t[_]))):p(t[_],n[_],i,r,m,_,f);for(;_<n.length;)i(new u(m,_,new c(e,n[_++])))}else{var y=Object.keys(t),w=Object.keys(n);y.forEach((function(o,a){var s=w.indexOf(o);s>=0?(p(t[o],n[o],i,r,m,o,f),w=d(w,s)):p(t[o],e,i,r,m,o,f)})),w.forEach((function(t){p(e,n[t],i,r,m,t,f)}))}f.length=f.length-1}}else t!==n&&("number"===b&&isNaN(t)&&isNaN(n)||i(new s(m,t,n)))}function f(t,n,i,r){return r=r||[],p(t,n,(function(e){e&&r.push(e)}),i),r.length?r:e}function m(e,t,n){if(e&&t&&n&&n.kind){for(var i=e,r=-1,o=n.path?n.path.length-1:0;++r<o;)void 0===i[n.path[r]]&&(i[n.path[r]]="number"==typeof n.path[r]?[]:{}),i=i[n.path[r]];switch(n.kind){case"A":!function e(t,n,i){if(i.path&&i.path.length){var r,o=t[n],a=i.path.length-1;for(r=0;r<a;r++)o=o[i.path[r]];switch(i.kind){case"A":e(o[i.path[r]],i.index,i.item);break;case"D":delete o[i.path[r]];break;case"E":case"N":o[i.path[r]]=i.rhs}}else switch(i.kind){case"A":e(t[n],i.index,i.item);break;case"D":t=d(t,n);break;case"E":case"N":t[n]=i.rhs}return t}(n.path?i[n.path[r]]:i,n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}}return t="object"==typeof n&&n?n:"undefined"!=typeof window?window:{},(i=t.DeepDiff)&&r.push((function(){void 0!==i&&t.DeepDiff===f&&(t.DeepDiff=i,i=e)})),o(s,a),o(c,a),o(l,a),o(u,a),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:p,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&p(e,t,(function(i){n&&!n(e,t,i)||m(e,t,i)}))},enumerable:!0},applyChange:{value:m,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var i,r,o=e;for(r=n.path.length-1,i=0;i<r;i++)void 0===o[n.path[i]]&&(o[n.path[i]]={}),o=o[n.path[i]];switch(n.kind){case"A":!function e(t,n,i){if(i.path&&i.path.length){var r,o=t[n],a=i.path.length-1;for(r=0;r<a;r++)o=o[i.path[r]];switch(i.kind){case"A":e(o[i.path[r]],i.index,i.item);break;case"D":case"E":o[i.path[r]]=i.lhs;break;case"N":delete o[i.path[r]]}}else switch(i.kind){case"A":e(t[n],i.index,i.item);break;case"D":case"E":t[n]=i.lhs;break;case"N":t=d(t,n)}return t}(o[n.path[i]],n.index,n.item);break;case"D":case"E":o[n.path[i]]=n.lhs;break;case"N":delete o[n.path[i]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==i},enumerable:!0},noConflict:{value:function(){return r&&(r.forEach((function(e){e()})),r=null),f},enumerable:!0}}),f}()}.apply(t,[]))||(e.exports=i)}()}).call(this,n(163))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,n){var i=n(272).Symbol;e.exports=i},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(541),r=n(545);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},function(e,t,n){var i=n(547),r=n(626),o=n(490);e.exports=function(e){return o(e)?i(e,!0):r(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var i=n(542),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(493)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var i=n(345)(n(272),"Map");e.exports=i},function(e,t,n){var i=n(547),r=n(656),o=n(490);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t,n){var i=n(662),r=n(550),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),i(a(e),(function(t){return o.call(e,t)})))}:r;e.exports=s},function(e,t,n){var i=n(666),r=n(497),o=n(667),a=n(668),s=n(669),c=n(447),l=n(543),u=l(i),d=l(r),h=l(o),p=l(a),f=l(s),m=c;(i&&"[object DataView]"!=m(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?l(n):"";if(i)switch(i){case u:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var i=n(672);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},,,,,,,function(e,t,n){try{e.exports=n(602)}catch(e){}},,function(e,t,n){"use strict";n.r(t);var i,r=n(30),o=n(22),a=n(45),s=n(222),c=n(237);!function(e){e.defaultConfig={writer:new s.a,filterFn:e=>!0};let t=e.defaultConfig;function n(e){t=Object.assign({},t,e)}e.getGlobal=function(){return t},e.updateGlobal=n,e.configure=function(e){n({writer:new s.a,filterFn:e.prodCs?Object(c.a)(a.a.ERROR):e=>!0})}}(i||(i={})),n.d(t,"disableConsoleLog",(function(){return h})),n.d(t,"setSeleniumCompatibility",(function(){return f})),n.d(t,"flushLog",(function(){return m}));const l=["info","warn","error","time","timeEnd","debug"],u=window,d=console;function h(){i.getGlobal().writer instanceof s.a&&i.updateGlobal({filterFn:Object(c.a)(a.a.ERROR)});const e={log:o.e};l.forEach(t=>{e[t]=d[t]}),u.console=e}const p=[];function f(){r.on("bg-log",e=>{console[e.method]("BG LOG",...e.args)});const e={};l.concat("log").forEach(t=>{e[t]=(...e)=>{try{p.push({method:t,args:e}),d[t](JSON.stringify(e))}catch(e){}}}),u.console=e}function m(){const e=p.concat();return p.length=0,e}},function(e,t,n){"use strict";function i(e){return e.caretPositionFromPoint?(t,n)=>{const i=e.caretPositionFromPoint(t,n);return i&&{container:i.offsetNode,offset:i.offset,getClientRects:()=>{const e=i.getClientRect();return e?[e]:[]},detach:()=>{}}}:e.caretRangeFromPoint?(t,n)=>{const i=e.caretRangeFromPoint(t,n);return i&&{container:i.startContainer,offset:i.startOffset,getClientRects:()=>Array.from(i.getClientRects()),detach:()=>i.detach()}}:(e,t)=>null}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(170),r=n(66),o=n(40),a=n(7);function s(e,t,n,s){return a.Atom.combine(t,n,s,(e,t,n)=>({alerts:e,isUserPremium:t,isCritical:n})).view(({alerts:t,isUserPremium:n,isCritical:a})=>{const s=r.a.alertMapToCapiAlerts(t);return{popupEditorSupported:c(e,s),critical:c(a,s),plus:c(n?e:e=>Object(i.c)(e)&&e.isHidden,s),freeClarity:c(t=>e(t)&&Object(i.c)(t)&&!t.isHidden&&t.outcome===o.f.clarity&&t.isMuted,s),hiddenClarity:c(t=>e(t)&&Object(i.c)(t)&&t.isHidden&&t.outcome===o.f.clarity,s)}})}function c(e,t){return t.reduce((t,n)=>t+(e(n)?1:0),0)}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.initial={type:"none"}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(593),o=n(308);!function(e){e.initial={dataControl:r.a.inactive,offline:!1,checking:!1,userType:o.b.anonymous,shouldShowLoginReminderBadge:!1,hovered:!1,visible:!0,experiments:void 0,errors:{popupEditorSupported:0,critical:0,plus:0,freeClarity:0,hiddenClarity:0},clarityVisible:!1,clarityHiddenIfEnterprise:!1,edcBlocked:!1,siteSettings:{isEnterprise:!1}}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(170),r=n(66);function o(e){return Object(i.e)(e)||function(e){return r.a.isCapiAlert(e)&&Object(i.c)(e)&&!e.isHidden&&e.hasTransforms}(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return x}));var i=n(52),r=n(148),o=n(94),a=n(151),s=n(212),c=n(371),l=n(203),u=n(147),d=n(130),h=n(67),p=n(81),f=n(77),m=n(434),g=n(385),b=n(303),v=n(50),_=n(109),y=n(186),w=n(73);function E(e,t,n=e.getBoundingClientRect()){const i=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle(e),r=_.a.create(Object(g.a)(e,i,n));return{position:v.c.getHighlightsPosition(r,t,{top:0,left:0}),clientPosition:r,height:r.height,width:r.width,padding:i?Object(w.f)(i):{top:0,bottom:0,left:0,right:0}}}function x(e,t=E,n=0,g=Object(i.b)(),x=20,O,S=(e=>e),C=Object(h.c)(e.ownerDocument&&(e.ownerDocument.body.parentElement||e.ownerDocument.body)),j=C,k=Object(w.c)(e),T=(e=>Object(w.a)(e,O,j)),P=(()=>({top:0,left:0})),N=(e=>e)){const A=e.ownerDocument&&e.ownerDocument.defaultView,I=m.a.createShared(e),R=A?()=>({top:A.scrollY,left:A.scrollX}):()=>({top:0,left:0}),F=y.a.createOptimized(()=>t(e,R()),Object(r.a)(I||Object(i.b)(),I?w.l:w.i,...A?[Object(o.a)(A,"resize"),Object(o.a)(A,"keydown"),Object(o.a)(A,"mousedown")]:[],p.a.create(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),Object(o.a)(e,"keydown"),Object(o.a)(e,"keyup"),Object(w.j)(e,x),g).pipe(Object(s.a)(void 0)),f.a),M={textFieldRect:F,highlightsRect:S(F),scroll:y.a.create(()=>Object.assign(Object.assign({},v.b.create({top:e.scrollTop,left:e.scrollLeft})),{width:e.scrollWidth,height:e.scrollHeight}),Object(w.g)(e).pipe(Object(c.a)((I||Object(i.b)()).pipe(Object(l.a)(w.k)))),f.a),zIndex:k,highlightHeightOffset:n,container:C,getTranslationToCards:P};return{highlights:M,gbutton:N(T(M)),mouse:Object(a.b)(F.behavior,M.scroll.behavior,(e,t)=>({scroll:t,rect:_.a.create(Object.assign(Object.assign({},e.clientPosition),{width:e.width,height:e.height}))})).pipe(Object(u.a)(({rect:e,scroll:t})=>Object(b.b)(A,e,t)),Object(d.a)(f.a))}}},,function(e,t,n){"use strict";var i=n(9),r=n(232),o=n(90),a=n(22),s=n(0),c=n(151),l=n(42),u=n(7),d=n(38),h=n(53),p=n(26);const f=({nextStep:e})=>s.createElement("div",{className:d.step},s.createElement("div",{className:d.content},s.createElement("div",{className:d.title},"Defeat Tricky Mistakes",s.createElement("br",null)," With One Click"),s.createElement("div",{className:d.text},"Simply hover your mouse over underlined words and click once on your preferred correction."),s.createElement(p.a,{clickHandler:()=>{e(),h.a.onboardingOverlayNextButtonClick("start")}},s.createElement("button",{"data-name":"next-btn",className:d.button},"next")))),m=({nextStep:e,lastStep:t})=>s.createElement("div",{className:d.step},s.createElement("div",{className:d.content},s.createElement("div",{className:d.title},"Personalize Grammarly ",s.createElement("br",null)," for More Relevant Checking"),s.createElement("div",{className:d.text},"Write more effectively by letting Grammarly",s.createElement("br",null)," know a little bit about your preferences."),s.createElement(p.a,{clickHandler:()=>{e(),h.a.onboardingOverlayPersonalizeButtonClick("info")}},s.createElement("button",{"data-name":"personalize-btn",className:d.button},"personalize")),s.createElement(p.a,{clickHandler:()=>t()},s.createElement("button",{"data-name":"skip-btn",className:d.link},"skip")))),g=({onClose:e})=>s.createElement("div",{className:d.step},s.createElement("div",{className:d.content},s.createElement("div",{className:d.title},"You’re fully protected!"),s.createElement("div",{className:d.text},"Now, whenever you see the green Grammarly logo, it means that Grammarly has not found any mistakes. Happy writing!"),s.createElement(p.a,{clickHandler:()=>e()},s.createElement("button",{"data-name":"lets-write-btn",className:d.button},"let's write"))));var b=n(574);const v="",_="#00B281",y="#9399A7";class w extends s.Component{constructor(e){super(e),this.selectOnChange=({target:e})=>{const{id:t,change:n}=this.props,i=e,r=i.value;i.style.color=_,n(t,r)},this.state={val:v}}shouldComponentUpdate(){return!1}render(){const{id:e,options:t}=this.props,{val:n}=this.state;return s.createElement("div",{className:b.selectWrap},s.createElement("select",{ref:"select-"+e,key:"select-"+e,onChange:e=>this.selectOnChange(e),style:{color:y}},n===v&&s.createElement("option",{key:`${e}_default}`,value:v},"SELECT"),t.map(({val:t,title:n})=>s.createElement("option",{key:`${e}_${t}`,value:t},n))))}}const E=[{val:"work",title:"WORK"},{val:"school",title:"SCHOOL"},{val:"otherProjects",title:"OTHER PROJECTS"}],x=[{val:"american",title:"AMERICAN ENGLISH"},{val:"british",title:"BRITISH ENGLISH"},{val:"australian",title:"AUSTRALIAN ENGLISH"},{val:"canadian",title:"CANADIAN ENGLISH"}],O=[{val:"english",title:"ENGLISH"},{val:"notEnglish",title:"NOT ENGLISH"}],S=[{val:"beginner",title:"BEGINNER"},{val:"intermediate",title:"INTERMEDIATE"},{val:"advanced",title:"ADVANCED"}];class C extends s.Component{constructor(e){super(e),this.change=(e,t)=>{this.setState({isSaveActive:!0,values:Object.assign({},this.state.values,{[e]:t})})},this.onSaveClick=()=>{const{isSaveActive:e,values:t}=this.state;if(!1===e)return;const n=Object.keys(t).reduce((e,n)=>(t[n]!==v&&(e[n]=t[n]),e),{});this.props.saveAnonymousProps(n),this.props.nextStep(),h.a.onboardingOverlaySaveButtonClick("personalize")},this.state={values:{writingType:v,dialectStrong:v,primaryLanguage:v,grammarSkills:v},isSaveActive:!1}}getProgressInPercents(){const e=Object.keys(this.state.values),t=e.filter(e=>this.state.values[e]!==v).length;return Math.round(t/e.length*100)}render(){const e=this.getProgressInPercents(),t={transform:`scaleX(${e/100})`};return s.createElement("div",{className:Object(i.c)(d.step,d.personalize)},s.createElement("div",{className:d.content},s.createElement("div",{className:d.title},"Personalize"),s.createElement("div",{className:d.progress},"Your preferences are ",s.createElement("span",{className:d.progressValue},e,"%")," custom",s.createElement("div",{className:d.bar},s.createElement("div",{className:d.barValue,style:t}))),s.createElement("div",{className:d.grid},s.createElement("div",{"data-name":"writingType",className:d.item},s.createElement("div",{className:d.name},"Most of my writing is for"),s.createElement(w,{id:"writingType",options:E,change:this.change}),s.createElement("div",{className:d.description},"Our algorithms will show corrections relevant to your writing style")),s.createElement("div",{"data-name":"dialectStrong",className:d.item},s.createElement("div",{className:d.name},"I prefer to write in"),s.createElement(w,{id:"dialectStrong",options:x,change:this.change}),s.createElement("div",{className:d.description},"Select which dialectical conventions we should follow")),s.createElement("div",{"data-name":"primaryLanguage",className:d.item},s.createElement("div",{className:d.name},"My primary language is"),s.createElement(w,{id:"primaryLanguage",options:O,change:this.change}),s.createElement("div",{className:d.description},"This setting helps us understand your needs better")),s.createElement("div",{"data-name":"grammarSkills",className:d.item},s.createElement("div",{className:d.name},"My grammar skills are"),s.createElement(w,{id:"grammarSkills",options:S,change:this.change}),s.createElement("div",{className:d.description},"Our algorithms will show corrections relevant to your writing level")))),s.createElement("footer",{className:d.footer},s.createElement(p.a,{clickHandler:this.onSaveClick},s.createElement("button",{"data-name":"save-btn",className:Object(i.c)(d.button,!1===this.state.isSaveActive&&d.inactive)},"save")),s.createElement(p.a,{clickHandler:()=>this.props.lastStep()},s.createElement("button",{"data-name":"later-btn",className:d.link},"later"))))}}var j=n(55),k=n(575);const T=({gdprSignupEnabled:e,className:t})=>s.createElement("div",{className:t||k.footer},"By signing up, you agree to our ",s.createElement("a",{tabIndex:-1,target:"__blank",href:Object(j.k)()},"Terms and Conditions")," ","and"," ",s.createElement("a",{tabIndex:-1,target:"__blank",href:Object(j.h)()},"Privacy Policy"),". ",!0!==e&&s.createElement("span",null,"You also agree to receive product-related emails from Grammarly, which you can unsubscribe from at any time."));var P=n(333);class N extends s.Component{componentDidMount(){h.a.signUpOverlayShow("onboarding")}get _gdprSignupEnabled(){return!!this.props.experiments&&this.props.experiments.gdprSignupEnabled}_renderUnifiedFunnelExperiment(){return s.createElement("div",{className:d.unifiedFunnel},s.createElement("span",{className:d.title},"Create an account"),s.createElement("span",{className:d.sub},"to save your personalization settings"),s.createElement(P.b,{className:Object(i.c)(d.button,d.fb),onClick:this.props.continueWithFacebook}),s.createElement(P.c,{className:Object(i.c)(d.button,d.google),onClick:this.props.continueWithGoogle}),s.createElement(P.a,{className:Object(i.c)(d.button,d.email),onClick:this.props.continueWithEmail}),s.createElement(T,{gdprSignupEnabled:this._gdprSignupEnabled,className:d.terms}),s.createElement("div",{className:d.bottom},s.createElement("div",{className:d.login},"Already have an account?"," ",s.createElement(p.a,{clickHandler:this.props.openSignin},s.createElement("span",{className:d.link},"Log in"))),s.createElement(p.a,{clickHandler:()=>this.props.lastStep()},s.createElement("span",{className:Object(i.c)(d.skip,d.link)},"Don’t save my settings"))))}render(){return this._renderUnifiedFunnelExperiment()}}var A=n(124);class I extends s.Component{constructor(e){super(e),this.transforms=["0","18px","36px","36px","54px"],this.classes=["start","info","personolize","registration","finish"],this.nextStep=()=>{this.setState({stepIndex:this.state.stepIndex+1})},this.lastStep=()=>{this.setState({stepIndex:this.steps.length-1})},this.videoLoaded=()=>{clearTimeout(this.placeholderTimeout),Object(A.a)().onboardingVideoLoaded()},this.state={stepIndex:0,placeholder:!1}}renderStep(e){return this.steps=[s.createElement(f,{nextStep:this.nextStep}),s.createElement(m,{nextStep:this.nextStep,lastStep:this.lastStep}),s.createElement(C,{nextStep:this.props.isAnonymous?this.nextStep:this.lastStep,lastStep:this.lastStep,saveAnonymousProps:this.props.saveAnonymousProps}),s.createElement(N,{nextStep:this.nextStep,lastStep:this.lastStep,experiments:this.props.experiments,onClose:this.props.onClose,continueWithFacebook:this.continueWithFacebook,continueWithGoogle:this.continueWithGoogle,continueWithEmail:this.continueWithEmail,openSignin:this.openSignin}),s.createElement(g,{nextStep:this.nextStep,onClose:this.props.onClose})],this.steps[e]}componentWillMount(){this.placeholderTimeout=setTimeout(()=>{this.setState({stepIndex:this.state.stepIndex,placeholder:!0})},1500)}componentWillReceiveProps(e){!1===this.props.userWasAuthenticated&&!0===e.userWasAuthenticated&&this.lastStep()}componentWillUnmount(){clearTimeout(this.placeholderTimeout)}componentDidMount(){h.a.onboardingOverlayShow(),Object(A.a)().onboardingTutorialShow()}continueWithFacebook(){window.open(Object(j.e)("signupHook"))}continueWithGoogle(){window.open(Object(j.f)("signupHook"))}continueWithEmail(){window.open(Object(j.j)("signupHook","onboardingStep"))}openSignin(){window.open(Object(j.i)())}render(){const e={transform:`translateX(${this.transforms[this.state.stepIndex]})`},t=Object(i.c)(d[this.classes[this.state.stepIndex]],this.state.placeholder&&d.placeholder);return s.createElement("div",{className:t},s.createElement("video",{className:d.startVideo,autoPlay:!0,loop:!0,muted:!0,preload:"auto",onLoadedData:this.videoLoaded},s.createElement("source",{src:"http://d481ihvqkt377.cloudfront.net/onboarding/1cards.mp4",type:"video/mp4"})),s.createElement("video",{className:d.infoVideo,autoPlay:!0,loop:!0,muted:!0,preload:"auto"},s.createElement("source",{src:"http://d481ihvqkt377.cloudfront.net/onboarding/2personalization.mp4",type:"video/mp4"})),s.createElement("video",{className:d.finishVideo,autoPlay:!0,loop:!0,muted:!0,preload:"auto"},s.createElement("source",{src:"http://d481ihvqkt377.cloudfront.net/onboarding/3gbutton.mp4",type:"video/mp4"})),this.renderStep(this.state.stepIndex)||null,s.createElement("div",{className:d.slider},s.createElement("div",{className:d.sliderActive,style:e}),s.createElement("div",{className:d.sliderItem}),s.createElement("div",{className:d.sliderItem}),s.createElement("div",{className:d.sliderItem}),s.createElement("div",{className:d.sliderItem})))}}var R=n(11),F=n(354);class M extends s.Component{constructor(){super(...arguments),this._containerRef=null,this.state={hide:!1},this.onClose=e=>{e&&e.stopPropagation(),this.setState({hide:!0});const t=this.refs.onboarding;void 0!==t&&t.state.stepIndex===t.steps.length-1&&h.a.onboardingOverlayLetsWriteButtonClick("onboarding"),this._containerRef&&this._containerRef.addEventListener("animationend",()=>this.props.onClose())},this.setOnboardingRef=e=>{e&&!this._containerRef?(this._containerRef=e,this._containerRef.addEventListener("click",this.preventClick)):!e&&this._containerRef&&(this._containerRef.removeEventListener("click",this.preventClick),this._containerRef=null)},this.preventClick=e=>{e.stopPropagation(),e.stopImmediatePropagation()}}componentDidMount(){this.props.shouldClose.subscribe(e=>{e&&this.onClose()})}componentWillUnmount(){this._sub&&this._sub.unsubscribe()}render(){const e=Object(i.c)({[F.onboardingDialog]:!0,[F.hide]:this.state.hide,[F.windows]:Object(R.n)()});return s.createElement("div",{ref:this.setOnboardingRef,className:e,"data-grammarly-part":"onboarding"},s.createElement("div",{className:F.content},s.createElement("div",{className:F.viewContainer},s.createElement(I,{ref:"onboarding",isAnonymous:this.props.isAnonymous,userWasAuthenticated:this.props.userWasAuthenticated,experiments:this.props.experiments,onClose:this.onClose,saveAnonymousProps:this.props.saveAnonymousProps}))),s.createElement(p.a,{clickHandler:()=>{h.a.onboardingOverlayCloseButtonClick("dialog"),this.onClose()}},s.createElement("div",{className:F.btnClose})))}}class D extends(Object(a.k)(o.emitter)){constructor({doc:e,user:t,saveAnonymousProps:n}){super(),this.view=null,this.userWasAuthenticated=u.Atom.create(!1),this.shouldClose=u.Atom.create(!1),this.updateUser=e=>{!0===this.user.get().anonymous&&!1===e.anonymous&&this.userWasAuthenticated.set(!0),this.user.set(e)},this.onKey=e=>{Object(a.r)(e)===a.a&&this.view&&this.shouldClose.set(!0)},this.onClose=()=>{this.emit("hide"),this.remove()},this.component=()=>(s.useEffect(()=>(Object(r.a)(this.doc.defaultView,"keydown",this.onKey,!1),()=>Object(r.b)(this.doc.defaultView,"keydown",this.onKey,!1)),[]),s.createElement(u.F.Fragment,null,Object(c.b)(this.user,this.userWasAuthenticated,(e,t)=>s.createElement(M,{username:e&&e.firstName||"",isAnonymous:!e||e.anonymous,experiments:e&&e.experiments,userWasAuthenticated:t,saveAnonymousProps:this.saveAnonymousProps,onClose:this.onClose,shouldClose:this.shouldClose})))),this.doc=e,this.user=u.Atom.create(t),this.saveAnonymousProps=n,this.createView()}createView(){this.view||(this.view=new l.b(l.a.fromDocument(this.doc,"grammarly-onboarding"),l.c.appendChild(this.doc.documentElement),this.component))}remove(){this.view&&(this.view.dispose(),this.view=null)}}var L=n(62),B=n(30),U=n(274),H=n(123),V=n(226);class z extends s.Component{constructor(){super(...arguments),this.state={hide:!1},this.onClick=()=>{this.refs["open-from-gbutton-el"].checked&&this.props.showEdgePopupFromGButton(),this.props.createDocument(this.props.text),this.onClose()},this.onComponentClick=e=>{Object(i.i)(e.target,`.${V.content}, .${V.content} *`)||this.onClose(e)},this.onClose=e=>{e&&e.stopPropagation(),this.setState({hide:!0});const t=H.findDOMNode(this.refs["dialog-el"]);t&&t.addEventListener("animationend",()=>this.props.onClose())}}render(){const e=Object(i.c)({[V.dialog]:!0,[V.hide]:this.state.hide,[V.windows]:Object(R.n)()}),t=`Grammarly’s pop-up editor\nisn’t available on ${this.props.domain}`,n=this.props.errorMessage?this.props.errorMessage:t;let r=0;const o=n.split("\n").reduce((e,t,n)=>(0!==n&&e.push(s.createElement("br",{key:r++})),e.push(s.createElement("span",{key:r++},t)),e),[]);return s.createElement("div",{onClick:this.onComponentClick,"data-grammarly-part":"unsupported-dialog",ref:"dialog-el",className:e},s.createElement("div",{className:V.content},s.createElement("div",{className:V.viewContainer},s.createElement("div",{className:V.title},o),s.createElement(U.a,{onClick:this.onClick,text:"Open on grammarly.com"}),s.createElement("div",{className:V.text},"This will open a new tab."),s.createElement("div",{className:V.footer},s.createElement("input",{ref:"open-from-gbutton-el",type:"checkbox",id:"unsupported-checkbox"}),s.createElement("label",{className:V.label,htmlFor:"unsupported-checkbox"},"Go straight to grammarly.com next time.")))),s.createElement("div",{className:V.btnClose,onClick:this.onClose}))}}class G extends(Object(a.k)(o.emitter)){constructor({doc:e,text:t,showEdgePopupFromGButton:n,errorMessage:i}){super(),this.view=null,this.onKey=e=>{Object(a.r)(e)===a.a&&this.onClose()},this.createDocument=e=>{B.emitBackground("create-document",e)},this.onClose=()=>{this.emit("hide"),this.remove()},this.component=()=>(s.useEffect(()=>(Object(r.a)(this.doc.defaultView,"keydown",this.onKey,!1),()=>Object(r.b)(this.doc.defaultView,"keydown",this.onKey,!1)),[]),s.createElement(z,{onClose:this.onClose,createDocument:this.createDocument,showEdgePopupFromGButton:this.showEdgePopupFromGButton,domain:Object(L.b)(),text:this.text,errorMessage:this.errorMessage})),this.doc=e,this.showEdgePopupFromGButton=n,this.text=t,i&&(this.errorMessage=i),this.createView()}createView(){this.view||(this.view=new l.b(l.a.fromDocument(this.doc,"grammarly-unsupported"),l.c.appendChild(this.doc.documentElement),this.component))}remove(){this.view&&(this.view.dispose(),this.view=null)}}var W=n(76),$=n(718),q=n(12),Y=n(243),K=n(85),Q=n(259),X=n(332);n.d(t,"b",(function(){return Z})),n.d(t,"a",(function(){return te}));const J="gr-old-editor-iframe";function Z(e){return Object(i.f)(e,J)}const ee=({visible:e,onClick:t,onBackClick:n,iframeLoaded:i,iframeBackground:r})=>{const[o,a]=s.useState(!1),[c,l]=s.useState(!1),[d,h]=s.useState(!0),[p,f]=s.useState("");return s.useEffect(()=>{let t=null;const n=[e.subscribe(e=>{null===e?(a(!1),l(!1)):e?(a(!0),t=setTimeout(()=>l(!0),100)):(a(!1),l(!1),h(!1))}),r.subscribe(f)];return()=>{n.forEach(e=>e.unsubscribe()),null!==t&&clearTimeout(t)}},[]),s.createElement("div",Object.assign({"data-grammarly-part":"popup-editor"},Object(u.classes)(X.editor,d&&X.first_load,o&&X.editor_display,c&&X.editor_full_opacity),{onClick:t}),s.createElement("div",{onClick:n}),s.createElement("iframe",{ref:i,className:J,style:{background:p}}))};function te({doc:e,iframe:t,iframeSubject:n,user:o,page:c,actions:{updateSettings:d,incFixed:p,saveAnonymousProps:f,showEdgePopupFromGButton:m,updateGroups:g}},b=q.a.create(te.name)){let v=!1;const _=u.Atom.create(null),y=u.Atom.create("");let w,E,x,O=null,S=c&&c.dialectStrong;const C={show:U,hide:z,updateState:function(e,n){const i=!1===o.anonymous&&!1===e.anonymous&&o.premium!==e.premium,r=S!==n.dialectStrong;o=e,S=(c=n).dialectStrong,E&&E.updateUser(e),i&&t.refresh(),r&&t.send({action:"hard-reset"})},preActivate:function(){o.anonymous||t.activate()},renderEditor:I,remove:function(){window===window.top&&(B.off("show-dialog",U),B.off("hide-dialog",z),B.off("reset",T),B.off(Q.a.serverIframe,V)),t.deactivate(),t.off("message",H),O&&(O.dispose(),O=null)},refresh:F};t&&t.on("message",H),window===window.top&&(B.on("show-dialog",U),B.on("hide-dialog",z),B.on("reset",T),B.on(Q.a.serverIframe,V));let j=e=>{B.emitFocusedTab("editor-set-state",e)};return C;function k(t){const n="off"===t;e.scrollingElement&&Object(i.o)(e.scrollingElement,n,X.disable_scroll)}function T(){w&&!o.anonymous&&F()}function P(t,n,i){k("off"),x=function(t,n){return new G({doc:e,text:t,showEdgePopupFromGButton:m,errorMessage:n})}(n,i),x.one("hide",()=>{k("on"),B.emitFocusedTab("focus-editor",t)})}function N(t){g(),k("off"),E=function(t){return new D({doc:e,user:t,saveAnonymousProps:f})}(o),E.one("hide",()=>{k("on"),B.emitFocusedTab("focus-editor",t)})}function I(){O||(O=new l.b(l.a.fromDocument(e,"grammarly-popup-editor"),l.c.appendChild(e.documentElement),()=>s.createElement(ee,{visible:_,onClick:z,onBackClick:z,iframeLoaded:e=>n.next(e),iframeBackground:y})))}function F(){if(v){y.set("");const e=j;return j=n=>{j=e,t.refresh(),B.emitFocusedTab("after-refresh-dialog",n)},void z()}t.refresh()}function M(e){B.emitBackground(Q.a.iframeMode,{iframeMode:e,id:w.socketId})}function U({data:n,isOnboarding:i,editorId:o,shouldOpenUnsupportedPopupDialog:a}){var s;return w=n,i?N(o):a?function(e,t,n){const i=e.api.text;c.showEdgePopupFromGButton?B.emitBackground("create-document",i):P(t,i,n)}(n,o,null===(s=n.data)||void 0===s?void 0:s.popupDialogErrorMessage):(Y.a.instance.start(),t.activate(),void function(n){O||I(),_.set(!0);const i=Object($.a)({favicon:Object(L.c)(),page:Object(L.e)()},n);t.send(i),M(!0),setTimeout(()=>{t.getWasLoadedBefore()&&Y.a.instance.trackLoad(Y.a.PopupEditorType.old,!1,Date.now())},100),k("off"),Object(r.a)(e.body,"keydown",J,!1),v=!0}(n))}function H(t){const n=t.action;"edit"===n&&j(t),"close"===n&&z(),"initialized"===n&&(function(t){const n="Premium"===t.userType?"freemium-plus":"freemium";e.documentElement.setAttribute("data-type",n)}(t),setTimeout(()=>y.set("transparent"),300)),"socket"===n&&("connect"!==t.method?(delete t.url,B.emitBackground(Q.a.client,t)):b.error("'connect' method call not allowed on remote socket, ignoring",t)),"setSettings"===n&&d(t.data),"tracking"===n&&t.method&&Object(W.a)(t.method,t.param,t.props),"popup-editor-fix"===n&&p(),"open-url"===n&&!0===t.upgradeHookUrl&&(h.a.getPremiumButtonClick(t.placement||"popupEditor"),Object(A.a)().userUpgradeClick(t.placement||"popupEditor"),Object(R.l)()&&Object(K.b)().openSubscriptionDialog({currentAlerts:[],isAnonymousUser:!1,isFromEmail:!1,showPlanComparison:!1}))}function V(e,n){w&&e.socketId===w.socketId&&(n("ok"),e.action="socket",t.send(e))}function z(){v&&(v=!1,k("on"),_.set(!1),Object(r.b)(e.body,"keydown",J,!1),t.send({action:"hide"}),M(!1),B.emitFocusedTab("dialog-closed",w.editorId))}function J(e){if(Object(a.r)(e)===a.a&&v)return e.stopPropagation(),e.preventDefault(),z()}}},function(e,t,n){e.exports={animatedUnderline:"_38jSQ",showUnderline:"_3Sb36",completeAnimation:"_1ZdZ-"}},function(e,t,n){e.exports={counter:"_1NNY0",premium:"_3PC-V"}},function(e,t,n){e.exports={gr_gbutton_container:"_3TiRl"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(185);!function(e){const t="gmail_quote",n="gmail_attr",i=new Set(["PRE","CODE","STYLE","SCRIPT","NOSCRIPT","IMG","SVG","CANVAS","AUDIO","VIDEO","IFRAME","EMBED","OBJECT","BUTTON"]);function o(e,o){if(a=e,i.has(a.tagName)||!r.a.isNotHiddenNode(a)||function(e){return"false"===e.getAttribute("contenteditable")}(e))return!1;var a;const s=e.classList.contains(t)&&"BLOCKQUOTE"===e.tagName,c=e.classList.contains(n)&&e.parentElement&&e.parentElement.classList.contains(t);return!s&&!c}e.createTextMap=e=>new r.a(e,o)}(i||(i={}))},,,,,function(e,t,n){"use strict";var i=n(64),r=n(58);t.a=function(e){return"number"==typeof e||Object(r.a)(e)&&"[object Number]"==Object(i.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(185);!function(e){e.createTextMap=t=>new r.a(t,t=>!e.hasPlaceholder(t)),e.hasPlaceholder=e=>!!e.querySelector(".placeholder-decoration")}(i||(i={}))},function(e,t,n){"use strict";var i=n(90),r=n(718),o=n(99),a=n(12),s=n(445);const c=a.a.create("lib.grammarly-editor.capi"),l=Object(i.emitter)({CLIENT_NAME:"web",PROTOCOL_VERSION:"1.0",clientVersion:"",extDomain:"",token:null,debug:!1,setToken:e=>{l.token=e,l.emit("ready",l.token)},onReady:e=>{if(l.token)return e(l.token);l.one("ready",e)},createClient:e=>{const t=!e.silentLogs,n={runtime_error:{maxCount:10,emitMsg:"frequent_runtime_error"},not_authorized:{maxCount:5,emitMsg:"frequent_not_authorized_error"}};let a=!1,u=0;const d=(e=Object(r.a)({connectionTimeout:1e3,sid:null,useQueue:30,useStandBy:9e5,extendStartMessage:e=>e},e)).createWs||s,h=Object(i.emitter)({rev:0,messageId:0,options:e,genre:null,ws:d(e),fluidEx:{feedback:(e,t)=>{m("feedback",{sentenceNo:e.sentenceNo,alertId:e.id,text:e.text,type:t})},acceptedFeedback:(e,t,n)=>{m("feedback",{sentenceNo:e.sentenceNo,alertId:e.id,text:n,type:t})},autocorrectFeedback:e=>{m("feedback",e)},addToDictionary:e=>m("add_to_dict",{word:e}),emogenieFeedback:(e,t)=>m("feedback",{emotion:e,type:t})},checkText:(e,t,n,i)=>h.check(e,t,n,void 0,i),submitOt:(e,t,n,i)=>(h.rev=t,n=n||{},f("submit_ot",Object(r.a)({ch:e},n),i)),checkNoSynonymsText:(e,t,n,i)=>h.check(e,t,n,"NOSYNONYMS",i),checkGrammar:(e,t,n,i)=>h.check(e,t,n,"GRAMMAR",i),checkSpell:(e,t,n,i)=>h.check(e,t,n,"SPELL",i),checkStyle:(e,t,n,i)=>h.check(e,t,n,"STYLE",i),checkSynonyms:(e,t,n,i)=>h.check(e,t,n,"SYNONYMS",i),acknowledged:e=>h.feedback(e,"acknowledged"),ignore:e=>h.feedback(e,"ignore"),ignoreAll:e=>h.feedback(e,"ignore_all"),addToDictionary:e=>m("add_to_dict",{word:e.value}),sendEmailSubject:e=>m("feedback",{type:"EMAIL_SUBJECT",emailSubject:e}),sendEmailFormatting:(e,t)=>m("feedback",{type:"EMAIL_FORMATTING",formattingType:e,emailFormatting:t}),sendEmailSummary:e=>m("feedback",{type:"EMAIL_SUMMARY",emailSummary:e}),sendEmailSummaryAcknowledget:()=>m("feedback",{type:"EMAIL_SUMMARY_ACKNOWLEDGED"}),sendEmailSummaryNotHelpful:()=>m("feedback",{type:"EMAIL_SUMMARY_NOT_HELPFUL"}),feedback:(e,t)=>e.sid?m("feedback",{sentenceNo:e.sentence_no,alertId:String(e.sid),text:e.value,type:t}):0,acceptedFeedback:(e,t,n)=>e.sid?m("feedback",{sentenceNo:e.sentence_no,alertId:String(e.sid),text:n,type:t}):0,undoFeedback:(e,t,n)=>e.sid?m("feedback",{sentenceNo:e.sentence_no,alertId:String(e.sid),text:n,type:t}):0,check:(e,t,n,i,r)=>f("submit",{text:e,begin:t,end:n,checks:i},r),start:t=>{var n;const i={type:t,token:e.token||l.token,sid:e.sid,docid:e.docid,client:e.clientName||l.CLIENT_NAME,protocolVersion:l.PROTOCOL_VERSION,clientSubtype:(n=e.clientSubtype,null!=n?n:"inline"),clientSupports:e.clientSupports};return e.dialect&&(i.dialect=e.dialect),(e.clientVersion||l.clientVersion)&&(i.clientVersion=e.clientVersion||l.clientVersion),(e.extDomain||l.extDomain)&&(i.extDomain=e.extDomain||l.extDomain),m("start",e.extendStartMessage?e.extendStartMessage(i):i)},plagiarism:(e,t)=>f("plagiarism",{text:e},t),undo:(e,t)=>m("undo",{alertId:e,sentenceId:t}),drop:(e,t)=>m("drop",{alertId:e,sentenceId:t}),synonyms:(e,t)=>m("synonyms",{rev:h.rev-1,begin:e,token:t}),stop:()=>m("stop"),logout:()=>m("logout"),close:()=>h.ws.close(),wsPause:()=>h.ws.wsPause(),wsPlay:()=>h.ws.wsPlay(),sendContainerId:e=>m("option",{name:"gnar_containerId",value:e})}),p=(()=>{let e,t=!1;return{setAvailable:function(){clearTimeout(e),t&&h.emit("serviceState",{type:"capi",available:!0}),t=!1},checkOnline:function(){clearTimeout(e),e=setTimeout(()=>{h.ws.isConnected()||(h.emit("serviceState",{type:"capi",available:!1}),t=!0)},6e4)}}})();return h.ws.on("message",t=>{if(!t.action)return;const i=t.action.toLowerCase();if("finished"===i&&void 0!==t.rev)return h.emit([i,t.rev.toString()],t),h.emit(i,t);if("cannot_find_synonym"===t.error){const e={synonyms:{},action:"synonyms",id:t.id,type:"syn"};return h.emit("synonyms",e)}return"error"===i?(function(t){const i=n[t.error];if(!i)return;i.intervals||(i.intervals=[],i.lastErrSent=0),i.lastErr=Date.now(),i.intervals.push(i.lastErr),i.intervals.length<i.maxCount&&(h.ws.reconnect(),e.fluid||h.start("other"));const r=i.lastErr-i.intervals[i.intervals.length-(i.maxCount+1)]<6e4;i.intervals.length>i.maxCount&&r&&i.lastErr-i.lastErrSent>6e4&&(h.emit(i.emitMsg,{msg:t,count:i.intervals.length,intervals:i.intervals}),i.lastErrSent=i.lastErr),"not_authorized"===t.error&&i.intervals.length>i.maxCount&&(i.intervals=[])}(t),h.emit("capiError",t)):"alert"===i&&void 0!==t.rev?(h.emit([i,t.rev.toString()],t),h.emit(i,t)):(t.id&&h.emit([i,t.id],t),void h.emit(i,t))}),h.on("start",e=>{h.emit("socketStart"),t&&c.trace(`Got START with sid ${e.sid}`),e.sid&&(h.options.sid=e.sid)}),h.ws.connect(),h.start("initial"),h.ws.on("connect",()=>{h.emit("socketConnect"),p.setAvailable()}),h.ws.on("error",e=>{p.checkOnline(),"disconnected"!==e&&(h.emit("socketError",e),a||(u++,h.emit("socketFailCount",u)),a=!0)}),h.ws.on("reconnect",()=>{h.start("other"),h.emit("socketReconnect"),p.setAvailable(),a&&(h.emit("socketReconnectAfterError"),a=!1)}),h.ws.delegate(h,"disconnect"),h;function f(e,t,n){return t.rev=h.rev++,Object(o.a)(n)&&h.one(["finished",t.rev.toString()],n),m(e,t),t.rev}function m(e,t,n){return(t=t||{}).action=e,t.id=h.messageId++,h.one([t.action.toString(),t.id.toString()],()=>{Object(o.a)(n)&&n(t)}),h.ws.send(t),t.id}}});var u=n(352),d=n(22),h=n(310),p=n(75),f=n(110),m=n(33),g=p.a?p.a.isConcatSpreadable:void 0,b=function(e){return Object(m.a)(e)||Object(f.a)(e)||!!(g&&e&&e[g])},v=n(268),_=n(269),y=n(312),w=n(88),E=function(e,t){var n=-1,i=Object(w.a)(e)?Array(e.length):[];return Object(y.a)(e,(function(e,r,o){i[++n]=t(e,r,o)})),i},x=function(e,t){return(Object(m.a)(e)?v.a:E)(e,Object(_.a)(t,3))},O=function(e,t){return function e(t,n,i,r,o){var a=-1,s=t.length;for(i||(i=b),o||(o=[]);++a<s;){var c=t[a];n>0&&i(c)?n>1?e(c,n-1,i,r,o):Object(h.a)(o,c):r||(o[o.length]=c)}return o}(x(e,t),1)},S=n(211),C=n(210),j=function(e,t){return t.length<2?e:Object(C.a)(e,function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}(t,0,-1))},k=n(117),T=function(e,t){return t=Object(S.a)(t,e),null==(e=j(e,t))||delete e[Object(k.a)(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},P=n(142),N=Array.prototype.splice,A=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=Object(_.a)(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return function(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;Object(P.a)(r)?N.call(e,r,1):T(e,r)}}}(e,r),n},I=n(205);function R(e,t){const n=new I.diff_match_patch,i=n.diff_main(e,t,!0);n.diff_cleanupSemantic(i);const r=u.cs([]),o=e.length;let a=0;return i.forEach(e=>{e[0]===I.DIFF_EQUAL&&(a+=e[1].length),e[0]===I.DIFF_DELETE&&(r.push(u.op({type:"-",tlen:o,pos:a,text:e[1],accessory:0})),a+=e[1].length),e[0]===I.DIFF_INSERT&&r.push(u.op({type:"+",tlen:o,pos:a,text:e[1],accessory:0}))}),r}const F=a.a.create("lib.grammarly-editor.text-api"),M=100,D=100,L=e=>{const t=!e.silentLogs,n=e.capi||l.createClient,i=e.getContainerId,o=n({sid:e.sid,docid:e.docid,createWs:e.createWs,url:e.capiUrl,dialect:e.dialect,silentLogs:e.silentLogs,clientSupports:e.clientSupports,extendStartMessage:e.extendStartMessage});o.on("alert",p.bind(null,"error")),o.on("synonyms",p.bind(null,"syn")),o.on("disconnect",c),o.on("socketStart",(function(){i().then(e=>{o.sendContainerId(e)}).catch(e=>{t&&F.error("Cannot send containerId",e)})}));const a=Object(r.a)({text:"",shiftedMatchesText:"",changes:[],sentRev:0,finishedRev:-1,isReconnectMode:!1,send:f,update:s,updateMatchesToCurrentRevision:function(e){B(e,a.changes)},updateMatchToCurrentRevision:function(e){U(e,a.changes)},getShiftedMatches:function(e,t){if(t===a.shiftedMatchesText)return e;const n=R(a.shiftedMatchesText,t);if(a.shiftedMatchesText=t,!n.length)return e;const i=[n],r=e.map(e=>({id:e.id,value:e.value,_value:e._value,s:e.s,e:e.e,_s:e._s,_e:e._e,rev:-1}));return B(r,i),r.filter(e=>e._s>=0&&e._e>=0&&e.s>=0&&e.e>=0)},restart:function(){const e=a.text;c(),s(e),f(!1)},reset:c,checkPlagiarism:function(e){a.emit("sending"),o.plagiarism(e,()=>a.emit("plagiarismChecked"))},getState:function(){return{changes:a.changes.map(e=>e.pack()),text:a.text,sentRev:a.sentRev}},setState:function(e){a.text=e.text,a.changes=e.changes.map(e=>u.unpack(e)),a.sentRev=e.sentRev,o.rev=e.sentRev},onadd:p,onfinish:h},o);return a;function s(e){if(e===a.text)return;const t=R(a.text,e);a.text=e,a.shiftedMatchesText||(a.shiftedMatchesText=e),t.length&&a.changes.push(t)}function c(){a.changes=[],a.text="",a.shiftedMatchesText="",a.sentRev=0,o.rev=0}function h(e){t&&F.trace("MIDDLE LOG: finished: "+JSON.stringify(e)),(e.removed||[]).forEach(e=>a.emit("remove",e)),void 0!==e.rev&&(a.finishedRev=e.rev),a.emit("finish",e)}function p(e,n){t&&F.trace("MIDDLE LOG: received match: "+JSON.stringify(n)+e+a.changes.length),U(n,a.changes),n.type=e,a.emit("add",n)}function f(e){!function(e,t,n,i,r,o=M,a=D){const s=function(e,t=M,n=D){const i=e.map(e=>e.pack()).join("");if(!e.length)return[];if(function(e){return Object(d.g)(e)/1e3}(i)<t)return[e];const r=function(e,t=M,n=D){return Math.floor(e.length/function(e,t=M){return Math.ceil(Object(d.g)(e)/1e3/t)}(e,t))-n}(i,t,n);return function(e,t){const n=[];let i=0;return e.forEach((e,r)=>{0===r&&n.push([]),e.text.length+i>t&&(n.push([]),i=0),n[n.length-1].push(e),i+=e.text.length}),n}(function(e,t){return O(e,e=>O(e,e=>{let n=e.pos,i=e.tlen;return e.text.length>t?Object(d.i)(e.text,t).map(t=>{const r=e.extend({text:t,tlen:"+"===e.type?n:i,type:e.type,pos:"+"===e.type?n:e.pos,accessory:e.accessory});return n+=t.length,i-=t.length,r}):[e]}))}(e,r),r).map(e=>[u.cs(e)])}(e.slice(t),o,a);0!==s.length&&(1===s.length?r(s[0].map(e=>e.pack()),e.length-1,n,i):(A(e,(e,n)=>n>=t&&!s.find(t=>e===t[0])),s.forEach(t=>{e.push(t[0]),r([t[0].pack()],e.length-1,n,i)})))}(a.changes,a.sentRev,a.isReconnectMode,e,m),a.changes.length&&(a.isReconnectMode=!1)}function m(t,n,i,r){const s={};a.emit("sending"),e.extendParams&&e.extendParams(s),i&&Object.assign(s,{type:"reconnect"}),r&&Object.assign(s,{type:"initial"}),o.submitOt(t,n,s,h),a.sentRev=a.changes.length}};function B(e,t){for(let n=0;n<e.length;n++){const i=e[n];i.begin=i.s,i.end=i.e,i.highlightBegin=i._s,i.highlightEnd=i._e,U(i,t),i.s=i.begin,i.e=i.end,i._s=i.highlightBegin,i._e=i.highlightEnd}}function U(e,t){const n=e.begin;for(let n=e.rev+1;n<t.length;n++)H(t[n],e);e.rev=t.length-1,e.begin!==n&&F.trace("DIFF",e)}function H(e,t){e.sequencify().forEach(e=>{V(e,t,"begin","end"),V(e,t,"highlightBegin","highlightEnd")})}function V(e,t,n,i){"+"===e.type?(t[n]<0||e.pos<=t[n])&&(t[n]+=e.len,t[i]+=e.len):"-"===e.type&&e.pos<t[n]&&(t[n]-=e.len,t[i]-=e.len)}var z,G,W=n(30),$=n(148),q=n(36),Y=n(118),K=n(234),Q=n(16),X=n(355),J=n(179),Z=n(79),ee=n(119),te=n(39),ne=n(349),ie=n(273),re=n(212),oe=n(416),ae=n(147),se=n(371),ce=n(347),le=n(8),ue=n(40),de=n(65),he=n(7);function pe(){return le.c.create().slice(0,6)}n.d(t,"a",(function(){return fe})),function(e){e.create=e=>({nonEnglishText:e.foreign,generalScore:e.generalScore,outcomeScores:e.outcomeScores})}(z||(z={})),function(e){e.freeClarityAlerts="free_clarity_alerts",e.fillerWordsCheck="filler_words_check",e.readabilityCheck="readability_check",e.sentenceVarietyCheck="sentence_variety_check",e.freeOccasionalPremiumAlerts="free_occasional_premium_alerts",e.lockedPremiumAlerts="is_locked_premium_alert",e.voxCheck="vox_check"}(G||(G={}));class fe{constructor(e,t,n,i,r,o=r.appConfig.url.capi,s=[],c=null,u=null,d=null,h=`extension_${{chrome:"chrome",firefox:"firefox",safari:"safari",edge:"edge"}[r.bundleInfo.browser]}`,p=r.buildInfo.version,f=r.appConfig.gnar.sendFluidExperimentData,m=le.e.seconds(11),g=le.e.seconds(10),b=a.a.create(fe.name),v=(e=>e)){this._docId=e,this._dialect=t,this._domainName=n,this._createSocket=i,this._capiUrl=o,this._supportedFeatures=s,this._clientSubtype=c,this._felog=u,this._capiToken=d,this._clientName=h,this._clientVersion=p,this._sendFluidExperimentData=f,this._checkingStatusTimeoutMs=m,this._reconnectTimeoutMs=g,this._log=b,this._extendStartMessage=v,this._connectionId=pe(),this._responseTimeTelemetry=this._felog&&!this._felog.responseTime.dummy?this._felog.responseTime:null,this._api=L({silentLogs:!0,createWs:this._createSocket,docid:this._docId,dialect:this._dialect,capiUrl:this._capiUrl,clientSupports:this._supportedFeatures.length>0?this._supportedFeatures:void 0,getContainerId:()=>W.promiseBackground("get-containerIdOrUndefined").then(e=>e&&"string"==typeof e?e:Promise.reject(void 0)),extendParams:e=>e,extendStartMessage:this._extendStartMessage,capi:e=>l.createClient(Object.assign(Object.assign(Object.assign({},e),{token:null!==this._capiToken?this._capiToken:void 0,clientName:this._clientName,clientVersion:this._clientVersion,extDomain:this._domainName,fluid:!0}),this._clientSubtype?{clientSubtype:this._clientSubtype}:{}))}),this._onAdd=this._apiEvent("add").pipe(Object(J.a)()),this._rawAlerts=this._onAdd.pipe(Object(Z.a)(e=>"synonyms"!==e.action)),this._rawSynonyms=this._onAdd.pipe(Object(Z.a)(e=>"synonyms"===e.action)),this._onRemove=this._apiEvent("remove").pipe(Object(ee.a)(e=>"number"==typeof e?[e]:"object"==typeof e&&"remove"===e.action?[e.id]:(this._log.warn("unrecognized capi onRemove message",e),[])),Object(J.a)()),this._onFinished=this._apiEvent("finish").pipe(Object(J.a)()),this._onStart=this._apiEvent("start").pipe(Object(J.a)()),this._onEmogenie=this._apiEvent("emotions").pipe(Object(J.a)()),this._onSending=this._apiEvent("sending").pipe(Object(J.a)()),this._onReconnect=this._apiEvent("socketReconnect"),this._onDisconnect=this._apiEvent("disconnect"),this._onConnectOrStart=Object($.a)(...["socketConnect","socketStart"].map(e=>this._apiEvent(e))),this._onConnectionStatus=Object($.a)(...["socketReconnect","socketConnect","socketError","socketStart"].map(e=>this._apiEvent(e))),this._clientConnectionStatus="ok",this._reconnectPending=!1,this._reconnectInitiatedSubject=new q.a,this._socketNotInitialized=this._apiEvent("fluidNotConnected",this._api.ws),this._connectToken=new me(1,3,le.e.seconds(60)),this._setTextSubject=new q.a,this._checkingStatusChanged=Object($.a)(Object($.a)(this._onSending,this._rawAlerts,this._onRemove,this._onConnectionStatus,this._setTextSubject).pipe(Object(te.a)(e=>this._currentTextIsTrivial()?Object(Y.a)(ue.e.idle):Object(Y.a)(ue.e.idle).pipe(Object(ne.a)(this._checkingStatusTimeoutMs),Object(ie.a)(ue.e.inProgress)))),Object($.a)(this._onFinished,this._setTextSubject.pipe(Object(Z.a)(e=>this._currentTextIsTrivial()))).pipe(Object(re.a)(Object(Y.a)(ue.e.idle)))).pipe(Object(oe.a)()),this._checkingStatus=he.Atom.create(ue.e.idle),this._subs=[this._checkingStatusChanged.subscribe(e=>this._checkingStatus.set(e)),this._onReconnect.subscribe(e=>{this._connectionId=pe(),this._log.debug(`*** reconnect OK! new conn id ${this._connectionId}`),this._api.reset(),this._clientConnectionStatus="ok",this._reconnectPending=!1,null!==this._currentText&&this.setText(this._currentText)}),this._onDisconnect.subscribe(e=>{this._clientConnectionStatus="disconnected"}),this._onConnectOrStart.subscribe(e=>{this._clientConnectionStatus="ok"}),this._reconnectInitiatedSubject.pipe(Object(ae.a)(e=>Object(K.a)(this._reconnectTimeoutMs))).subscribe(e=>{this._reconnectPending&&(this._reconnectPending=!1,this._connectToken.take()?(this._log.warn("reconnect timeout, restarting"),this._api.ws.reconnect(),this._api.reset(),null!==this._currentText&&this._api.update(this._currentText),this._api.send(!0)):(this._log.warn("no restart token available -- not connecting"),this._clientConnectionStatus="disconnected"))}),this._socketNotInitialized.subscribe(e=>{this._connectToken.take()?(this._log.warn("bg websocket uninitialized -- fixing"),this._api.ws.connect(),this._api.start("other"),this._clientConnectionStatus="ok",this._reconnectPending=!1,null!=this._currentText&&(this._api.update(this._currentText),this._api.send(!1))):(this._log.warn("couldn't fix uninitialized socket -- no token available"),this._clientConnectionStatus="disconnected")})],this._currentText=null,this._pingMeasureInProgress=!1,this._pingMeasureThrottleTimeMs=3e3,this._lastPingTimestamp=0,this.messages=Object($.a)(this._rawAlerts.pipe(Object(te.a)(e=>ue.d.add(ue.a.create(e,this._connectionId)))),this._onRemove.pipe(Object(te.a)(e=>ue.d.remove(String(e)))),this._onFinished.pipe(Object(te.a)(e=>ue.d.finished(z.create(e)))),this._onEmogenie.pipe(Object(te.a)(e=>ue.d.emogenie(e))),this._onStart.pipe(Object(te.a)(e=>ue.d.start(e)))).pipe(Object(J.a)()),this.checkingStatus=this._checkingStatus.view(),this._sendFluidExperimentData}_apiEvent(e,t=this._api){return new Q.a(n=>{const i=e=>n.next(e);return t.on(e,i),()=>t.off(e,i)})}_currentTextIsTrivial(){return""===this._currentText||null===this._currentText||this._currentText.length<100&&""===this._currentText.trim()}_maybeMeasurePing(){try{const e=Date.now();if(this._responseTimeTelemetry&&!this._pingMeasureInProgress&&e-this._lastPingTimestamp>this._pingMeasureThrottleTimeMs){this._pingMeasureInProgress=!0,this._lastPingTimestamp=e;const t=this._responseTimeTelemetry.startMeasure();this._api.ws.send({action:"ping"}),this._apiEvent("pong",this._api).pipe(Object(se.a)(this._onConnectionStatus),Object(ce.a)()).subscribe(e=>{this._pingMeasureInProgress=!1,void 0!==e&&"pong"===e.action?t.endMeasure():this._log.warn("dropping ping measure, connection changed")})}}catch(e){this._log.warn("crashed while trying to measure ping",e)}}reconnect(){this._connectToken.take()?(this._api.ws.reconnect(),this._api.reset()):this._log.warn("skip reconnect -- no token available")}closeConnection(){try{this._api.ws.close(),this._api.reset()}catch(e){this._log.debug("Cannot close connection",e)}}getDocId(){return this._docId}getLegacyApiState(){return{textApiState:this._api.getState(),docId:this._docId,socketId:this._api.ws.socketId}}setLegacyApiState(e){this._api.setState(e)}setText(e){this._currentText=e;const t=`${this._connectionId}-${this._api.sentRev}`;return"ok"===this._clientConnectionStatus?(this._maybeMeasurePing(),this._api.update(e),this._api.send(!1),this._log.debug(`SENDING text for checking @ ${t} (uncomment to see text)`)):"disconnected"===this._clientConnectionStatus?""!==e?(this._api.update(e),this._api.send(!1),this._clientConnectionStatus="reconnecting",this._reconnectPending=!0,this._reconnectInitiatedSubject.next(),this._log.debug(`KICKED client to reconnect @ ${t}`)):this._log.debug("disconnected and text is empty -- NOT doing anything for now"):"reconnecting"===this._clientConnectionStatus?this._log.debug("WAITING for client to reconnect, NOT sending anything"):Object(le.g)(this._clientConnectionStatus),this._setTextSubject.next(),t}requestSynonyms(e,t){this._log.trace("Ask synonyms for",{token:e,position:t});const n=this._api.synonyms(t,e);return this._rawSynonyms.pipe(Object(ce.a)(e=>!!e.synonyms&&e.id===n),Object(te.a)(e=>ue.g.create(String(n),t,e))).toPromise()}onTextChanged(e){return this.setText(de.a.applyChanges(this._currentText||"",e))}_feedbackCheckingAlert(e,t){this._api.fluidEx.feedback({sentenceNo:e.sentenceNo,id:e.id,text:e.transformText},t)}onAlertApplied(e,t){this._api.fluidEx.acceptedFeedback({sentenceNo:e.sentenceNo,id:e.id,text:e.transformText},"accepted",t),this._sendFluidExperimentData}onSynonymApplied(e,t){this._api.fluidEx.acceptedFeedback({id:String(e.id),text:e.token},"accepted",t)}onEmogenieFeedback(e,t){this._api.fluidEx.emogenieFeedback(e,t)}onAlertIgnored(e){this._feedbackCheckingAlert(e,"ignore")}onAddToDictionary(e){this._api.fluidEx.addToDictionary(e)}onAlertDisplayed(e){this._feedbackCheckingAlert(e,"looked")}onAutocorrectAlertAccepted(e){this._api.fluidEx.autocorrectFeedback({type:"autocorrect_accept",before:e.before,after:e.after,context:e.context})}onAutocorrectAlertDismissed(e){this._api.fluidEx.autocorrectFeedback({type:"autocorrect_dismiss",before:e.before,after:e.after,context:e.context,expected:e.expected})}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[],this._connectToken.dispose(),this._api.close()}static getFactory(e,t,n=(e=>[G.freeClarityAlerts,G.readabilityCheck,G.fillerWordsCheck,G.sentenceVarietyCheck,G.voxCheck,...e.pageContext.config.systemInfo.os.isChromeOS?[]:[G.freeOccasionalPremiumAlerts,G.lockedPremiumAlerts]])){return i=>new fe(i.docId,i.state.page.dialectStrong||i.state.page.dialectWeak,i.state.page.domain,i.createSocket,i.pageContext.config,e,n(i),t||null,i.felog.capiClient,i.state.user.grauth,void 0,void 0,void 0,void 0,void 0,void 0,i.extendCapiStartMessage)}}class me{constructor(e,t,n){this._refillAmt=e,this._capacity=t,this._refillIntervalMs=n,this._tokens=this._capacity,this._refillSub=Object(X.a)(this._refillIntervalMs).subscribe(()=>{this._tokens=Math.min(this._capacity,this._tokens+this._refillAmt)})}take(){return this._tokens>=1&&(this._tokens--,!0)}dispose(){this._refillSub.unsubscribe()}}},function(e,t,n){"use strict";var i=n(259),r=n(22),o=n(90),a=n(471);class s extends a.a{constructor(e,t,n){super(),this.socketId=e,this._send=t,this._isConnected=n,this.send=e=>this._send("send",e),this.close=()=>this._send("close"),this.connect=e=>this._send("connect",e),this.reconnect=e=>this._send("reconnect",e),this.release=()=>this._send("release"),this.isConnected=()=>this._isConnected(),this.wsPlay=()=>this._send("wsPlay"),this.wsPause=()=>this._send("wsPause"),this.toString=()=>"[object SocketClient]"}}var c=n(12);n.d(t,"a",(function(){return u}));const l=c.a.create("universal.bg.state.tabs");class u{constructor(e,t){this._telemetry=e,this._message=t,this._sockets={},this.createSocket=e=>{const t=e.socketId||Object(r.q)(),n={socketId:t,useStandBy:e.useStandBy,url:e.url,fluid:e.fluid};let o=!1,a=!1;this._message.onBackgroundPortReconnect(()=>{const e=this._sockets[t];!a&&e&&e.reconnect(!0)});const c=()=>{o=!1,a=!0};this._sockets[t]||(this._sockets[t]=new s(t,(e,t)=>{this._message.emitBackground(i.a.client,Object.assign({},n,{method:e,arg:t})),"close"===e&&c()},()=>o));const l=this._sockets[t];return l.on("disconnect",c),l.on("connect",()=>{o=!0}),l.one("cleanup-socket-on-editor-remove",()=>{delete this._sockets[t]}),l.on("error",e=>{o=!1,this._onError(e)}),l},this._onError=e=>{if("disconnected"===e)return;const t={};"string"==typeof e?t.msg=e:e.error&&(t.readyState=e.error.currentTarget&&e.error.currentTarget.readyState,t.returnValue=e.error.returnValue),this._telemetry.socketCsError(),l.error("capi error",e),window.emit||Object(o.emitter)(window),window.emit("bgerror",e||"when send message to the socket")},this._onMessage=(e,t)=>{const n=this._sockets[e.socketId];if(!n)return;const i=e.msg||{};i.action&&"error"===i.action.toLowerCase()&&this._telemetry.soketCsErrorMsg(i),t("ok"),n.emit(e.event,e.msg)},t.on(i.a.server,this._onMessage)}}},,function(e,t,n){},function(e,t,n){n(534)},function(e,t,n){},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(383),a=n(465),s=n(466),c=function(){return(new Date).setFullYear((new Date).getFullYear()+10)},l=function(){return(new Date).setMinutes((new Date).getMinutes()+10)},u=/^\.\w+\.\w+/;function d(e){return{type:"success",value:e}}function h(e){return{type:"failure",error:e}}function p(e){return e.then(d,h)}function f(e,t,n){var i=n();return e>0?i.catch((function(i){return new Promise((function(e,n){return setTimeout(e,t)})).then((function(i){return f(e-1,t,n)}))})):i}var m=function(){function e(e,t,n,i,r,o){void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=3e5),void 0===r&&(r=0),void 0===o&&(o=function(){return Date.now()}),this.primaryStorage=e,this.secondaryStorages=t,this._logger=n,this._cacheSuccessTimeoutMillis=i,this._cacheFailureTimeoutMillis=r,this._getTime=o,this._allStorages=[e].concat(t)}return e.prototype._expireCache=function(e){0===e?this._cacheExpireTimestamp=0:e>0&&(this._cacheExpireTimestamp=this._getTime()+e)},e.prototype.getValue=function(){var e=this;if(void 0!==this._cache&&(void 0===this._cacheExpireTimestamp||this._getTime()<this._cacheExpireTimestamp))return this._cache;var t=s.guard((function(){return e._logger&&e._logger.getValueStart(e.valueLabel())})),n=this._valueFromStorage();return this._cache=n,this._cacheExpireTimestamp=void 0,n.then((function(t){t?e._expireCache(e._cacheSuccessTimeoutMillis):e._cache=void 0}),(function(t){e._cache=void 0})),n.then((function(e){t&&s.guard((function(){return t.getValueSuccess()}))}),(function(e){t&&s.guard((function(){return t.getValueFailure(e)}))})),n},e.prototype._valueFromStorage=function(){var e=this;return Promise.all(this._allStorages.map((function(t){return p(t.safeGetValue(e.key()))}))).then((function(t){var n=t[0];if("failure"===n.type)return Promise.reject("getting value from primary storage '"+e.primaryStorage.name+"' has failed: "+n.error);var i=t.find((function(e){return"success"===e.type&&void 0!==e.value}));if(void 0===i)return Promise.resolve(void 0);var r=i.value,o="success"===n.type&&void 0===n.value,a=t.reduce((function(e,t,n){return"success"===t.type&&t.value!==r?e.concat(n):e}),[]);return e.setValue(r,o,!1,a)}))},e.prototype.setValue=function(e,t,n,i){var r=this;void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=Array.from(Array(this._allStorages.length).keys()));var o=i.map((function(t){return p(r._allStorages[t].safeSetValue(r.key(),e))})),a=Promise.all(o).then((function(i){if(t||n){var o=i[0];if("success"!==o.type)return Promise.reject("setting "+r.valueLabel()+" to primary storage has failed:\n                "+o.error)}var a=Promise.resolve(e);return r._cache=a,r._expireCache(r._cacheSuccessTimeoutMillis),a}));return a.then((function(e){t?s.guard((function(){return r._logger&&r._logger.valueRecovered()})):n&&s.guard((function(){return r._logger&&r._logger.valueGenerated()}))})),a},e}();t.ValueManager=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.containerIdLength=12,t.initialSetPromise=void 0,t.generatedContainerId=void 0,t.getContainerId=function(){return e.prototype.getValue.call(t).then((function(n){if(void 0===n){if(t.initialSetPromise)return t.initialSetPromise;var i=e.prototype.setValue.call(t,t.getOrGenerateContainerId(),!1,!0);t.initialSetPromise=i;var r=function(){return t.initialSetPromise=void 0};return i.then(r,r),i}return n}))},t}return r(t,e),t.prototype.key=function(){return"gnar_containerId"},t.prototype.valueLabel=function(){return"ContainerId"},t.prototype.getOrGenerateContainerId=function(){return this.generatedContainerId||(this.generatedContainerId=a.alphanumeric(this.containerIdLength)),this.generatedContainerId},t}(m);t.ContainerIdManager=g;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.key=function(){return"ga_clientId"},t.prototype.valueLabel=function(){return"GAClientId"},t.prototype.setId=function(t){e.prototype.setValue.call(this,t,!1,!0)},t}(m);t.GAClientIdManager=b;var v=function(){function e(e){this.name=e}return e.prototype.safeSetValue=function(e,t){var n=this;return this.ensureAvailable(e).then((function(){return n.setValue(e,t)}))},e.prototype.safeGetValue=function(e){var t=this;return this.ensureAvailable(e).then((function(){return t.getValue(e)})).then((function(e){return""===e?void 0:e}))},e}();t.BaseStorage=v;var _=function(e){function t(t,n){var i=e.call(this,"chromeCookie")||this;if(i._url=t,i._domain=n,!u.test(n))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."');return i}return r(t,e),t.prototype._hasRuntimeError=function(){return window.chrome&&window.chrome.runtime&&window.chrome.runtime.lastError},t.prototype.ensureAvailable=function(){var e=this;return f(2,1e3,(function(){return new Promise((function(t,n){var i=a.alphanumeric(10);try{window.chrome.cookies.set({name:i,value:i,url:e._url,domain:e._domain,expirationDate:l()/1e3},(function(r){var o=e._hasRuntimeError();!r&&o&&n("chrome.cookie.set failed with an error: "+o.message),r&&r.value===i?t():n(new Error("ChromeCookieStorage is unavailable.\n              Availability test failed.\n              Tried to set "+i+", the result is "+(r?r.value:r)+"."))}))}catch(e){n(e)}}))}))},t.prototype.getValue=function(e){var t=this;return new Promise((function(n,i){try{window.chrome.cookies.get({url:t._url,name:e},(function(e){var r=t._hasRuntimeError();!e&&r&&i("chrome.cookie.get failed with an error: "+r.message),n(e?e.value:void 0)}))}catch(e){i(e)}}))},t.prototype.setValue=function(e,t){var n=this;return new Promise((function(i,r){try{window.chrome.cookies.set({name:e,value:t,url:n._url,domain:n._domain,expirationDate:c()/1e3},(function(o){var a=n._hasRuntimeError();!o&&a&&r("chrome.cookie.set failed with an error: "+a.message),o&&o.value===t||r(new Error("setValue for "+e+" failed.\n            Tried to set "+t+", the result is "+(o?o.value:o)+".")),i()}))}catch(e){r(e)}}))},t}(v);t.ChromeCookieStorage=_;var y=function(e){function t(t,n){var i=e.call(this,"webExtensionsCookie")||this;if(i._url=t,i._domain=n,!u.test(n))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."');return i}return r(t,e),t.prototype.ensureAvailable=function(){var e=this;return f(2,1e3,(function(){return new Promise((function(t,n){var i=a.alphanumeric(10);window.browser.cookies.set({name:i,value:i,url:e._url,domain:e._domain,expirationDate:l()/1e3}).then((function(){window.browser.cookies.get({url:e._url,name:i}).then((function(e){e&&e.value===i?t():n(new Error("WebExtensionsCookieStorage is unavailable.\n              Availability test failed.\n              Tried to set "+i+", the result is "+(e?e.value:e)+"."))})).catch((function(e){n("browser.cookies.get failed with an error: "+e.message)}))})).catch((function(e){n("browser.cookies.set failed with an error: "+e.message)}))}))}))},t.prototype.getValue=function(e){var t=this;return new Promise((function(n,i){window.browser.cookies.get({url:t._url,name:e}).then((function(e){n(e?e.value:void 0)})).catch((function(e){i("browser.cookies.get failed with an error: "+e.message)}))}))},t.prototype.setValue=function(e,t){var n=this;return new Promise((function(i,r){window.browser.cookies.set({name:e,value:t,url:n._url,domain:n._domain,expirationDate:c()/1e3}).then((function(e){e&&e.value===t||r(new Error("setValue failed.\n          Tried to set "+t+", the result is "+(e?e.value:e)+".")),i()})).catch((function(e){r("browser.cookies.set failed with an error: "+e.message)}))}))},t}(v);t.WebExtensionsCookieStorage=y;var w=function(e){function t(t,n){var i=e.call(this,"readonlyWebExtensionsCookie")||this;if(i._url=t,i._domain=n,!u.test(n))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."');return i}return r(t,e),t.prototype.ensureAvailable=function(){return Promise.resolve()},t.prototype.getValue=function(e){var t=this;return new Promise((function(n,i){window.browser.cookies.get({url:t._url,name:e}).then((function(e){n(e?e.value:void 0)})).catch((function(e){i("browser.cookies.get failed with an error: "+e.message)}))}))},t.prototype.setValue=function(){return Promise.reject("can not set value for the readonly storage")},t}(v);t.ReadonlyWebExtensionsCookieStorage=w;var E=function(e){function t(){return e.call(this,"localStorage")||this}return r(t,e),t.prototype.ensureAvailable=function(e){var t=e+"_test",n=a.alphanumeric(10);return new Promise((function(e,i){localStorage.setItem(t,n),localStorage.getItem(t)!==n?i(new Error("LocalStorage is unavailable.\n          Availability test failed.\n          Tried to set "+n+",\n          the result is "+localStorage.getItem(t)+".")):e(),localStorage.removeItem(t)}))},t.prototype.getValue=function(e){var t=localStorage.getItem(e);return new Promise((function(e,n){return e(null===t?void 0:t)}))},t.prototype.setValue=function(e,t){return new Promise((function(n,i){localStorage.setItem(e,t),n()}))},t}(v);t.LocalStorage=E;var x=function(e){function t(t){var n=e.call(this,"cookie")||this;if(n._domain=t,!u.test(t))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."');return n}return r(t,e),t.prototype._getCookieOptions=function(){return{path:"/",domain:this._domain,expires:new Date(c())}},t.prototype.ensureAvailable=function(){var e=a.alphanumeric(10);return new Promise((function(t,n){o.default(e,e),o.default(e)!==e?n(new Error("CookieStorage is unavailable.\n          Availability test failed.\n          Tried to set "+e+", the result is "+o.default(e)+".")):t(),o.default(e,null)}))},t.prototype.getValue=function(e){return new Promise((function(t,n){return t(o.default(e))}))},t.prototype.setValue=function(e,t){var n=this;return new Promise((function(i,r){o.default(e,t,n._getCookieOptions()),i()}))},t}(v);t.CookieStorage=x;var O=function(e){function t(t,n){var i=e.call(this,"backend")||this;return i._fetch=t,i._url=n,i._baseUrl=n+"/cookies",i}return r(t,e),t.prototype.ensureAvailable=function(e){var t=this,n=e+"_test",i=a.alphanumeric(10),r=(l()-Date.now())/1e3,o=this._baseUrl+"?name="+n,s=o+"&value="+i+"&maxAge="+r;return this._doSend(s,"post").then((function(e){if(!e.ok)throw new Error("BackendStorage is unavailable.\n          Availability test failed.\n          Tried to set "+i+". Request failed.\n        ")})).then((function(){return t._doSend(o,"get").then((function(e){if(e.ok)return e.json().then((function(e){if(e.value!==i)throw new Error("BackendStorage is unavailable.\n                Availability test failed.\n                Tried to get "+n+" from server.\n                Got "+e.value+" instead of "+i+".")}));throw new Error("BackendStorage is unavailable.\n            Availability test failed.\n            Tried to get "+n+" from server. Request failed.")}))}))},t.prototype._doSend=function(e,t){return this._fetch(e,{credentials:"include",method:t})},t.prototype.getValue=function(e){var t=this._baseUrl+"?name="+e;return this._doSend(t,"get").then((function(e){return e.json()})).then((function(e){return e.value}))},t.prototype.setValue=function(e,t){var n=(c()-Date.now())/1e3,i=this._baseUrl+"?name="+e+"&value="+t+"&maxAge="+n;return this._doSend(i,"post").then((function(){}))},t}(v);t.BackendStorage=O;var S=function(e){function t(t){void 0===t&&(t=void 0);var n=e.call(this,"memory")||this;return n._value=t,n}return r(t,e),t.prototype.ensureAvailable=function(){return Promise.resolve()},t.prototype.getValue=function(e){return Promise.resolve(this._value)},t.prototype.setValue=function(e,t){return this._value=t,Promise.resolve()},t}(v);t.MemoryStorage=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e,t,n,i,r,o;e=window,t=document,n="script",i="ga",e.GoogleAnalyticsObject=i,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=(new Date).getTime(),r=t.createElement(n),o=t.getElementsByTagName(n)[0],r.async=1,r.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(r,o)},r=function(){function e(e,t,n){void 0===n&&(n=!0);var r=this;this._isReady=!1,this._gaQueue=[],n&&i(),this._clientId=t.getValue().then((function(n){return n?(ga("create",e,"auto",{clientId:n}),n):(ga("create",e,"auto"),new Promise((function(e,n){return ga((function(i){if(i){var r=i.get("clientId");t.setId(r),e(r)}else n(new Error("No default google analytics tracker found after analytics.js was ready"))}))})))})),this._clientId.then((function(e){for(;r._gaQueue.length>0;)ga.apply(null,r._gaQueue.shift());r._isReady=!0}))}return e.prototype.setUserId=function(e){/^-/.test(e)||this.ga("set","userId",e)},e.prototype.ga=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._isReady?ga.apply(null,arguments):this._gaQueue.push(arguments)},e.prototype.sendPageview=function(e){void 0===e&&(e=document.location.pathname);var t=document.location.href;o(t,"utm_medium",["navigation","store","internal","email","content","social","referralProgram"])&&(t=a(t,"utm_")),this.ga("set","location",t),this.ga("send","pageview",e)},e.prototype.getClientId=function(){return this._clientId},e}();function o(e,t,n){var i="("+n.map((function(e){return"("+e+")"})).join("|")+")";return new RegExp("^[^?#]*(\\?|(\\?[^#]*?&))"+t+"="+i+"(([&#].*)|$)").test(e)}function a(e,t){var n=new RegExp("^([^?#]*(\\?|(\\?[^#]*?&)))("+t+"[^?&#=]*=[^&#]*)(.*)$").exec(e);return n?a(n[1]+n[5],t):e}t.GoogleAnalyticsClient=r,t.hasParams=o,t.removeParams=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(12);!function(e){class t{constructor(e,t,n,i=r.a.create(`universal.cs.integration.field.${t}`)){this._integrationName=t,this._textField=n,this._log=i,this._disposed=!1,this._log.trace(`creating '${this._integrationName}'`);try{this.integration=e(),this._log.trace(`'${this._integrationName}' init ok!`,this._textField)}catch(e){throw this._log.error(`'${this._integrationName}' init FAIL`,e),e}}update(e){if(this._log.trace(`${this._integrationName} updating state`,{element:this._textField,state:e}),this._disposed)this._log.warn(`Trying to update already unloaded ${this._integrationName} integration`,this._textField);else try{this.integration.update(e)}catch(e){throw this._log.error(`${this._integrationName} update failed`,e),e}}dispose(){if(this._log.trace(`${this._integrationName} disposing`,this._textField),this._disposed)this._log.warn(`Trying to dispose already disposed ${this._integrationName} integration`,this._textField);else{this._disposed=!0;try{this.integration.dispose()}catch(e){throw this._log.error(`${this._integrationName} dispose failed`,e),e}}}}e.decorate=function(e,n,i){return new t(e,n,i)}}(i||(i={}))},function(e,t,n){var i=n(539),r=n(489),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||i(e,t,n)}},function(e,t,n){var i=n(540);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var i=n(345),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,n){var i=n(447),r=n(368);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(163))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var i=n(620),r=n(621),o=n(492),a=n(548),s=n(546),c=n(624),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&r(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&c(e),p=n||u||d||h,f=p?i(e.length,String):[],m=f.length;for(var g in e)!t&&!l.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},function(e,t,n){(function(e){var i=n(272),r=n(623),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,c=(s?s.isBuffer:void 0)||r;e.exports=c}).call(this,n(493)(e))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var i=n(552),r=n(553),o=n(499),a=n(550),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:a;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t,n){var i=n(549)(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){var i=n(552),r=n(492);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={selectWrap:"_1D3G2"}},function(e,t,n){e.exports={footer:"_2r-kR"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emojiLinkV1="https://assets.grammarly.com/emoji/v1/"},function(e,t,n){e.exports={popupContainer:"_2wveU"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(185);!function(e){e.createEditorTextMap=e=>new r.a(e,void 0,void 0,(e,t)=>t.isEditable)}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(185);!function(e){e.ignoredClasses=["ace-line-pocket-zws","ace-line-pocket","gallery-image-annotations-container","gallery-extraneous-space"];const t=new Set(["BUTTON"]);e.createTextMap=n=>r.a.create(n,{andRejectByClass:e.ignoredClasses,andRejectByTagName:t})}(i||(i={}))},,,,,function(e,t,n){"use strict";n(533);var i=n(24),r=n(62);function o(){const e={};function t(e){const t={target:document.activeElement,_inherits_from_prototype:!0,defaultPrevented:!1,preventDefault:()=>{}};for(const n in e)t[n]=e[n];return t}function n(t,n){const i=e[t];i&&i.forEach(e=>{e(n)})}document.addEventListener("document-paste-activeElement-gr",e=>{n("paste",t({clipboardData:{getData:()=>e.detail||"",items:["text/plain"]}}))}),document.addEventListener("document-mousedown-mouseup-activeElement-gr",()=>{n("mousedown",t({type:"mousedown"})),n("mouseup",t({type:"mouseup"}))}),document.addEventListener("document-backspace-activeElement-gr",()=>{n("keydown",t({keyCode:8,which:8,charCode:0,type:"keydown"}))});const i=document.addEventListener.bind(document);document.addEventListener=(t,n,r)=>{const o=e[t]||[];o.push(n),e[t]=o,i(t,n,r)}}function a(){function e(e,t={}){const n=document.createEvent("CustomEvent");n.initCustomEvent(e+"-gr",!0,!0,t),document.dispatchEvent(n)}let t=0,n=0;function i(e){const i=e.target,r=e.relatedTarget||e.explicitOriginalTarget||document.elementFromPoint(t,n);r&&i&&function(e){return function(e,t,n=10){if(e){for(;e&&e!==document.body&&!t(e)&&n>0;)e=e.parentElement,n--;return e&&t(e)}}(e,e=>e.classList&&(e.classList.contains("inline-edit-fields")||e.classList.contains("editable-field")))}(i)&&function(e){return"function"==typeof e.matches&&e.matches("grammarly-card, grammarly-card *,.gr-top-zero, .gr-top-zero *,[class*=-gButtonPopup], [class*=-gButtonPopup] *,[class*=-onboardingDialog], [class*=-onboardingDialog] *")}(r)&&(e.stopImmediatePropagation(),function(e,t){const n=t&&t.getAttribute("data-action");"editor"!==n&&"login"!==n&&e.focus()}(i,r))}document.addEventListener("blur",i,!0),document.addEventListener("DOMContentLoaded",()=>{"jira"===document.body.id&&document.body.getAttribute("data-version")||document.querySelector("input[type=hidden][title=JiraVersion]")?(e("jira-inline-support",{activated:!0}),document.addEventListener("mousemove",e=>{t=e.clientX,n=e.clientY},!0)):(e("jira-inline-support",{activated:!1}),document.removeEventListener("blur",i,!0))})}function s(){let e=0,t=0;document.addEventListener("blur",(function(n){const i=n.target,r=n.relatedTarget||n.explicitOriginalTarget||document.elementFromPoint(e,t);r&&i&&function(e){return function(e,t,n=10){if(e){for(;e&&e!==document.body&&!t(e)&&n>0;)e=e.parentElement,n--;return e&&t(e)}}(e,e=>e.classList&&e.classList.contains("editor-element"))}(i)&&function(e){return"function"==typeof e.matches&&e.matches("grammarly-card, grammarly-card *, .gr-top-zero, .gr-top-zero *")}(r)&&(n.stopImmediatePropagation(),function(e,t){const n=t&&t.getAttribute("data-action");"editor"!==n&&"login"!==n&&e.focus()}(i,r))}),!0),document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("mousemove",n=>{e=n.clientX,t=n.clientY},!0)})}var c=n(124);class l{onLoadEnd(e,t){this._loadTime=Date.now()-e,this._loadError=t}onInitStart(){this._initStart=Date.now()}onInitEnd(e){Object(c.a)().performance.csInitialized(this._loadTime,void 0!==this._initStart?Date.now()-this._initStart:void 0,this._loadError||e)}}l.instance=new l,n(324);var u=n(510),d=n(90),h=n(8),p=n(152),f=n(0),m=n(42),g=n(53),b=n(9),v=n(154),_=n(15),y=n(306),w=n(22),E=n(379);const x=({data:e,doc:t,rect:n,onClickOutside:i})=>{const[r,o]=f.useState({top:0,left:0,flip:!1}),[a,s]=f.useState(!1),c=f.useRef(null);f.useEffect(()=>{if(c.current){const e=y.c(c.current,n);o(e.rect),s(!0),t.addEventListener("click",i)}return()=>t.removeEventListener("click",i)},[]);const l=f.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},[]),u=0===e.defs.length;return f.createElement("div",{"data-grammarly-part":"dictionary-card",className:b.c(_.container,u&&_.notFound),style:{top:r.top,left:r.left,visibility:a?"visible":"hidden"},ref:c,onClick:l},f.createElement("div",{tabIndex:-1,className:b.c(_.card,_.dict,u&&_.notFound,r.flip&&_.flip)},u?f.createElement(f.Fragment,null,f.createElement(v.f,{className:_.iconNotFound})," No definition found"):f.createElement(f.Fragment,null,f.createElement("div",{className:_.dictContent},e.defs.map((t,n)=>{let i=t.replace(/^([:,]\s)/,"");return i=i[0].toUpperCase()+i.substring(1,i.length),f.createElement("div",{key:n,className:b.c(1===e.defs.length?_.dictSingle:_.dictItem)},e.defs.length>1&&f.createElement("span",{className:_.dictItemCounter},n+1,". "),f.createElement("span",{dangerouslySetInnerHTML:{__html:p.sanitize(i)}}))})),f.createElement("div",{className:_.footer},e.url&&"wiki"===e.origin&&f.createElement("div",{className:b.c(_.item,_.wiki)},f.createElement("a",{href:encodeURI(e.url),rel:"noopener noreferrer",target:"_blank",className:_.wikiLink},f.createElement(v.h,{className:b.c(_.icon,_.wikiIcon)})," More on Wikipedia")),f.createElement("div",{className:b.c(_.item,_.dictFooterItem)},f.createElement(v.f,{className:b.c(_.icon,_.logoIcon)})," Definitions by Grammarly")))))},O=Object.assign((e=document)=>{const t=e.createElement("div");let n,i=null;const r={keydown:function(e){27===Object(w.r)(e)&&l()},scroll:l,resize:l},o=Object(d.emitter)({show:function(t,o){const u={ownerDocument:e,getBoundingClientRect:()=>o.pos,getClientRects:()=>[o.pos]};n=t;const d=y.a(u);n.title=o.el.toString(),n.defs=(n.defs||[]).splice(0,3).map(a).map(s);const h=()=>{"dictionary-card"!==document.body.className&&l()};i||(i=new m.b(m.a.fromDocument(e,"grammarly-dictionary-card"),m.c.appendChild(e.documentElement),()=>f.createElement(x,{doc:e,rect:d,data:n,onClickOutside:h}))),E.b(r,null,!0),g.a.definitionPopupShow(),Object(c.a)().dictCardShowAction()},hide:l,unescapeSuperscript:s});return o;function a(e){t.innerHTML=p.sanitize(e);const n=t.querySelector("span.qualifier");return n?(n.innerHTML=n.innerHTML.replace("(","").replace(")",""),n.className=_.qualifier,t.innerHTML):e}function s(e){return e.replace(/&lt;(sup|sub)&gt;(.*?)&lt;(\/sup|\/sub)&gt;/,"<$1>$2<$3>").replace(/&amp;(?=\w{1,8};)/,"&")}function l(){i&&(i.dispose(),i=null),E.a(r,null,!0),o.emit("hide"),Object(c.a)().dictCardHideAction()}},{component:x});var S=n(11),C=n(314),j=n(249),k=n(232);function T(e){return e.getRangeAt(0).getBoundingClientRect()}class P{constructor(e,t,n){this._doc=e,this._selectHandler=t,this._deselectHandler=n,this._select=!1,this.release=()=>Object(k.b)(this._doc,"click",this.check),this.check=({detail:e})=>{if(2!==e)return void(this._select&&(this._deselectHandler(),this._select=!1));this._select=!0;const t=this._doc.getSelection();if(!function(e,t){const n=e.anchorNode;if(!n)return!1;const i=j.f.map(e=>Array.isArray(e)?`[${e[0]}="${e[1]}"]`:`[${e}]`).join(","),r=t.activeElement,o=e.toString().trim(),a="TEXTAREA"!==n.tagName&&"INPUT"!==n.tagName,s=!r||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName,c=!Object(b.h)(n),l=!Object(b.e)(n,i)&&!Object(b.i)(n,i),u=!Object(b.e)(n,"[contenteditable=true],[contenteditable=plaintext-only]")&&!Object(b.m)(n);return!!(o&&a&&s&&c&&l&&u)}(t,this._doc))return;const n=t.anchorNode.textContent,i=t.toString();if(i.match(/[0-9_±!@#$%^&*:"|<>?~().,:}{’=']/))return;let r={v:i,s:0,e:i.length};const o=t.getRangeAt(0);if(o.ownerDocument=this._doc,t.anchorNode===t.focusNode){const e=t.anchorOffset;r=function(e,t,n){if(!e)return null;const i=e.split(/[.;!?]/g);let r=0,o=0;for(let e=0;e<i.length;e++){if(o=r+i[e].length,t>=r&&n<=o)return{v:i[e],s:t-r,e:n-r};r=o+1}return null}(n,e,e+i.length)}null!==r&&this._selectHandler({data:{v:r.v,s:r.s,e:r.e,w:i},pos:T(t),el:o})},Object(k.a)(e,"click",this.check)}}var N=n(39),A=n(283),I=n(7),R=n(519);const F=({top:e,left:t,width:n,height:i,complete:r})=>f.createElement(I.F.div,{"data-grammarly-part":"underline",style:{top:e,left:t,width:n,height:i,zIndex:A.a},className:r.pipe(Object(N.a)(e=>e?[R.completeAnimation]:[]),Object(N.a)(e=>[R.animatedUnderline,...e].join(" ")))});class M{constructor(e=document){this._doc=e,this._view=null,this._complete=I.Atom.create(!1),this.remove=()=>{this._view&&(this._view.dispose(),this._view=null)},this.complete=()=>{this._complete.set(!0)}}animate(e){this._view&&this.remove();const t=Object(y.a)(e);this._view=new m.b(m.a.fromDocument(this._doc,"grammarly-underline"),m.c.appendChild(this._doc.documentElement),()=>f.createElement(F,{top:t.top,left:t.left,width:t.width,height:t.height,complete:this._complete}))}}var D=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},L=n(378),B=n(459),U=n(30),H=n(12);const V=H.a.create("lib.external");function z(e){const t=document.createElement("script");t.innerHTML=e,document.head.appendChild(t),t.parentNode&&t.parentNode.removeChild(t)}var G=n(180);const W="life_without_bg_connection";class ${constructor(e=!0){this._bgConnected=e}trackBgConnectionError(e){const t=Object(c.a)();if(e&&this._bgConnected)G.a.start(W),t.lostBgPageConnection();else if(!e&&!this._bgConnected){const e=G.a.stop(W);t.restoreBgPageConnection(e)}this._bgConnected=!e}}const q=(e,t)=>{const n=function(e,t){return t.find(t=>t.canExecute(e))}(e,t);if(void 0!==n)return n;throw new Error(`Integration rule for ${e.url} was not found`)};class Y{constructor(e,t,n=H.a.create("cs.integration.PIC")){this._ctx=e,this._rules=t,this._log=n,this._pageIntegration=null;try{this._log.debug("selecting integration rule");const e=q(this._ctx,this._rules);this._log.debug("executing rule"),this._pageIntegration=e.execute(this._ctx)}catch(e){throw this._log.error("Cannot load page integration",e,{tabUrl:this._ctx.url}),e}}update(e){null!=this._pageIntegration?this._pageIntegration.update(e):this._log.warn("There is no integration for state update")}dispose(){null!=this._pageIntegration?(this._pageIntegration.dispose(),this._pageIntegration=null):this._log.warn("no active integration")}}var K;!function(e){e.create=function(e,t){return{url:e.location.href,domain:e.location.hostname.replace(/^(www\.)/,""),doc:e.document,config:t}}}(K||(K={}));var Q=n(593),X=n(386);class J{constructor(e,t,n,o=U){this._bgRpc=e,this._reduxStore=t,this._getPageIntegrationRules=n,this._message=o,this._log=H.a.create("lib.app"),this._disableReminderNotificationTimeout=h.e.week,this._stateGetTimeout=h.e.seconds(30),this._initWithoutBgConnId="init_without_bg_connection",this._domain=Object(r.b)(),this._config=i.a(),this._csTracking=new $,this._inited=!1,this._storeSub=null,this._bgLiveTimeout=setTimeout(()=>this._initWithDefaultState(),this._stateGetTimeout),this._appElements=L.a.empty(),this._onUpdate=e=>{if(e.page.domain!==this._domain)return void this._log.warn(`got state for a different domain (${e.page.domain}), ignoring`);const t=!1===navigator.cookieEnabled;e.connection.cookiesDisabled!==t&&this.actions.updateConnection({cookiesDisabled:t});const n=G.a.stop(this._initWithoutBgConnId);n&&!e.connection.bgNotConnected&&!1===Object(S.l)()&&Object(c.a)().restoredBgConnection(n),this._bgLiveTimeout&&(clearTimeout(this._bgLiveTimeout),this._bgLiveTimeout=null),this._inited||this._init(e),e.page.enabled||Object(S.j)()&&"docs.google.com"===e.page.domain&&e.page.gdocsWasInitiallyDisabled?(!1===Object(S.l)()&&this._csTracking.trackBgConnectionError(e.connection.bgNotConnected),this._render(e)):this.stop(),this._inited||!1!==e.page.enabled||this._checkForRemindNotification(e),this._inited||l.instance.onInitEnd(),this._inited=!0,this._log.trace(`App state was updated on ${this._domain}`)}}_initWithDefaultState(){const e={enabled:!0,enabledDefs:!1,domain:this._domain},t={dynamicConfig:X.a.empty,connection:{networkOffline:!window.navigator.onLine,online:!1,bgNotConnected:!0,cookiesDisabled:!1===navigator.cookieEnabled,dataControl:Q.a.inactive},user:{anonymous:!0,premium:!1,settings:{}},page:e};this._onUpdate(t)}run(){this.actions=this._reduxStore.actions,this._storeSub=this._reduxStore.subscribe(this._onUpdate),"prod"===this._config.bundleInfo.env&&Object(u.disableConsoleLog)(),this._initOnGrammarly(),Object(S.l)()&&this._message.emitBackground("content-script-inited",{})}_render(e){const{user:t,page:n}=e;this._toggleDefs(n.enabledDefs,t),this._controller?(this._controller.update(e),this._appElements.initialized&&this._appElements.updateState(e)):this._controller=new Y(K.create(window,this._config),this._getPageIntegrationRules(e,this.actions,this._appElements,this._config))}_init(e){const{page:t,connection:n}=e;this._message.one("disable-on-tab",()=>{this.stop(),this._defs&&this._defs.clear(),this._defs=null}),this._message.one("reload-tab",()=>{setTimeout(()=>window.location.reload(!0),200)}),n.bgNotConnected&&(G.a.start(this._initWithoutBgConnId),!1===Object(S.l)()&&Object(c.a)().initWithoutBgConnection()),this._log.trace(`App initialized on ${t.domain}`)}_initOnGrammarly(){const e=`^([a-z\\-0-9]+\\.)*${this._config.appConfig.url.grammarlyDomain}$`;window.location.protocol===this._config.appConfig.url.grammarlyProtocol&&this._domain.match(e)&&(z(`window.GR_EXTENSION_ID='${Object(S.g)()}'`),z("\n    window.GR_EXTENSION_SEND = function(key, data) {\n      if (!key) throw new TypeError('cant be called without message')\n      var e = document.createEvent('CustomEvent')\n      e.initCustomEvent('external:' + key, true, true, data)\n      document.dispatchEvent(e)\n    }\n  "),j.c.map(e=>`external:${e}`).forEach(e=>b.j.call(document,e,({detail:t})=>{V.trace("external event",{event:e,detail:t}),U.emitBackground(e,t)})))}_checkForRemindNotification(e){!0!==e.page.disableReminderNotification&&null!=e.page.disabledDate&&Date.now()-e.page.disabledDate>this._disableReminderNotificationTimeout&&(this._notifications=new B.a({actions:this.actions,doc:document}),this._notifications.showReminder(),this.actions.showDisableReminder(this._domain))}_toggleDefs(e,t={}){e&&!this._defs?this._defs=function(e,t){const n=new M(t),i=O(t);let r,o=new P(t,(function(t){var o;return D(this,void 0,void 0,(function*(){if(null===(o=t.el.startContainer.parentElement)||void 0===o?void 0:o.closest('[data-grammarly-part="dictionary-card"]'))return;n.animate(t.el),r=t;let a={};try{if(a=yield e.api.fetch({url:Object(S.f)().dictionary,method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(C.d)(t.data)}),r!==t)return}catch(e){Object(c.a)().fetchDefinitionsFail()}n.complete(),i.show(a,t)}))}),h.n);return i.on("hide",n.remove),Object(d.emitter)({clear:function(){o&&o.release(),o=null,r=null}})}(this._bgRpc,document):(this._defs&&this._defs.clear(),this._defs=null)}stop(){this._controller&&(this._appElements.initialized&&this._appElements.clear(),this._appElements=L.a.empty(),this._controller.dispose(),this._controller=null,this._log.trace(`App stopped on ${this._domain}`))}dispose(){this.stop(),this._storeSub&&(this._storeSub(),this._storeSub=null)}}var Z=n(472);const ee="connection/UPDATE_CONNECTION";function te(e){return{type:ee,data:{bgNotConnected:!0,online:!1},reason:e,sync:!1}}function ne(e={},{type:t,data:n}){switch(t){case ee:return Object.assign({},e,{connection:Object.assign({},e.connection,n)});default:return e}}const ie=Date.now();class re{constructor(e,t,n=i.a()){this._bgRpc=e,this._getPageIntegrationRules=t,this._config=n,this._app=null}load(){let e;(function(){const e=Object(r.h)()?o:Object(r.j)()?a:Object(r.g)()?s:null;e&&function(e,t,n,i=!1){const r=e.createElement("script");n=n||[],i&&(r.dataset.ckeTemp="1");const o=t.toString(),a=n.join(",");r.innerHTML=`(function(){(${o})(${a}) })()`,e.documentElement.appendChild(r)}(document,e,[])})(),"firefox"===this._config.bundleInfo.browser&&Object(r.h)()&&(e=Object.assign({},window));const t=()=>{l.instance.onInitStart();try{if(void 0!==e&&(window.extensionContentScriptApi=e.extensionContentScriptApi),document.location&&"about:"===document.location.protocol)return;document.body.dataset.grCSLoaded=!0,this._app=new J(this._bgRpc,function(){const e=Object(Z.a)({bgPageDown:te},ne);return U.on("__bgerror",e.actions.bgPageDown),e}(),this._getPageIntegrationRules),this._app.run()}catch(e){throw l.instance.onInitEnd(e),e}};l.instance.onLoadEnd(ie),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t,!1):t()}unload(){this._app&&(this._app.stop(),this._app=null)}}var oe=n(282);function ae(e,t){!function(e,t){if("qa"===i.a().bundleInfo.env){const{setSeleniumCompatibility:e}=n(510);e()}try{new re(e,t).load()}catch(e){throw l.instance.onLoadEnd(e,ie),e}}(oe.a.init(e).bgRpc,t)}n.d(t,"a",(function(){return ae}))},,,,,,,,,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.inactive="inactive",e.active="active",e.accepted="accepted"}(i||(i={}))},,,,,,,,function(e,t,n){},function(e,t,n){!function(){function t(e,t){if(e===t)return{};var n=e.length,i=t.length;if(i>n){if(t.substr(0,n)===e)return{from:n,to:n,oldFragment:"",newFragment:t.substr(n)};if(t.substr(i-n)===e)return{from:0,to:0,oldFragment:"",newFragment:t.substr(0,i-n)}}if(i<n){if(e.substr(n-i)===t)return{from:0,to:n-i,oldFragment:e.substr(0,n-i),newFragment:""};if(e.substr(0,i)===t)return{from:i,to:n,oldFragment:e.substr(i),newFragment:""}}var r=i<n?i:n,o=function(e,t,n){for(var i=0;e[i]===t[i]&&i<n;)i+=1;return i}(e,t,r),a=function(e,t,n,i,r){for(var o=0;e[n-o-1]===t[i-o-1]&&r-o>=0;)o+=1;return o}(e,t,n,i,r);return o+a>n&&(a-=o+a-n),o+a>i&&(a-=o+a-i),{from:o,to:n-a,oldFragment:e.substr(o,n-a-o),newFragment:t.substr(o,i-a-o)}}try{e.exports={diffPos:function(e,n){var i=t(e,n);return null==i.from?{s:-1,delta:0}:{s:i.from,delta:i.newFragment.length-i.oldFragment.length}},textdiff:t}}catch(e){}}()},function(e,t,n){e.exports=n(604)},function(e,t,n){var i=n(422),r=n(611),o=n(491),a=r((function(e,t){i(t,o(t),e)}));e.exports=a},function(e,t,n){var i=n(541),r=n(608),o=n(368),a=n(543),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?h:s).test(a(e))}},function(e,t,n){var i=n(488),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var i,r=n(609),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var i=n(272)["__core-js_shared__"];e.exports=i},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var i=n(612),r=n(619);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var c=n[i];c&&e(t,c,i,a)}return t}))}},function(e,t,n){var i=n(544),r=n(613),o=n(615);e.exports=function(e,t){return o(r(e,t,i),e+"")}},function(e,t,n){var i=n(614),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=r(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(c),i(e,this,l)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var i=n(616),r=n(618)(i);e.exports=r},function(e,t,n){var i=n(617),r=n(540),o=n(544),a=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,i=0;return function(){var r=n(),o=16-(r-i);if(i=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var i=n(489),r=n(490),o=n(546),a=n(368);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&o(t,n.length):"string"==s&&t in n)&&i(n[t],e)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},function(e,t,n){var i=n(622),r=n(423),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){var i=n(447),r=n(423);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(625),r=n(494),o=n(495),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},function(e,t,n){var i=n(447),r=n(545),o=n(423),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},function(e,t,n){var i=n(368),r=n(496),o=n(627),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var i=n(629);e.exports=function(e){return i(e,4)}},function(e,t,n){var i=n(630),r=n(654),o=n(538),a=n(655),s=n(658),c=n(659),l=n(660),u=n(661),d=n(663),h=n(664),p=n(665),f=n(500),m=n(670),g=n(671),b=n(677),v=n(492),_=n(548),y=n(679),w=n(368),E=n(681),x=n(498),O="[object Arguments]",S="[object Function]",C="[object Object]",j={};j[O]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[C]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[S]=j["[object WeakMap]"]=!1,e.exports=function e(t,n,k,T,P,N){var A,I=1&n,R=2&n,F=4&n;if(k&&(A=P?k(t,T,P,N):k(t)),void 0!==A)return A;if(!w(t))return t;var M=v(t);if(M){if(A=m(t),!I)return l(t,A)}else{var D=f(t),L=D==S||"[object GeneratorFunction]"==D;if(_(t))return c(t,I);if(D==C||D==O||L&&!P){if(A=R||L?{}:b(t),!I)return R?d(t,s(A,t)):u(t,a(A,t))}else{if(!j[D])return P?t:{};A=g(t,D,I)}}N||(N=new i);var B=N.get(t);if(B)return B;N.set(t,A),E(t)?t.forEach((function(i){A.add(e(i,n,k,i,t,N))})):y(t)&&t.forEach((function(i,r){A.set(r,e(i,n,k,r,t,N))}));var U=F?R?p:h:R?keysIn:x,H=M?void 0:U(t);return r(H||t,(function(i,r){H&&(i=t[r=i]),o(A,r,e(i,n,k,r,t,N))})),A}},function(e,t,n){var i=n(448),r=n(636),o=n(637),a=n(638),s=n(639),c=n(640);function l(e){var t=this.__data__=new i(e);this.size=t.size}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(449),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},function(e,t,n){var i=n(449);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var i=n(449);e.exports=function(e){return i(this.__data__,e)>-1}},function(e,t,n){var i=n(449);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var i=n(448);e.exports=function(){this.__data__=new i,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var i=n(448),r=n(497),o=n(641);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var i=n(642),r=n(649),o=n(651),a=n(652),s=n(653);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var i=n(643),r=n(448),o=n(497);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},function(e,t,n){var i=n(644),r=n(645),o=n(646),a=n(647),s=n(648);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var i=n(450);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var i=n(450),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},function(e,t,n){var i=n(450),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var i=n(450);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var i=n(451);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var i=n(451);e.exports=function(e){return i(this,e).get(e)}},function(e,t,n){var i=n(451);e.exports=function(e){return i(this,e).has(e)}},function(e,t,n){var i=n(451);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t,n){var i=n(422),r=n(498);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){var i=n(496),r=n(657),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var i=n(549)(Object.keys,Object);e.exports=i},function(e,t,n){var i=n(422),r=n(491);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){(function(e){var i=n(272),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n(493)(e))},function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},function(e,t,n){var i=n(422),r=n(499);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}},function(e,t,n){var i=n(422),r=n(551);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t,n){var i=n(554),r=n(499),o=n(498);e.exports=function(e){return i(e,o,r)}},function(e,t,n){var i=n(554),r=n(551),o=n(491);e.exports=function(e){return i(e,o,r)}},function(e,t,n){var i=n(345)(n(272),"DataView");e.exports=i},function(e,t,n){var i=n(345)(n(272),"Promise");e.exports=i},function(e,t,n){var i=n(345)(n(272),"Set");e.exports=i},function(e,t,n){var i=n(345)(n(272),"WeakMap");e.exports=i},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},function(e,t,n){var i=n(501),r=n(673),o=n(674),a=n(675),s=n(676);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},function(e,t,n){var i=n(272).Uint8Array;e.exports=i},function(e,t,n){var i=n(501);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var i=n(488),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var i=n(501);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var i=n(678),r=n(553),o=n(496);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(r(e))}},function(e,t,n){var i=n(368),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var i=n(680),r=n(494),o=n(495),a=o&&o.isMap,s=a?r(a):i;e.exports=s},function(e,t,n){var i=n(500),r=n(423);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},function(e,t,n){var i=n(682),r=n(494),o=n(495),a=o&&o.isSet,s=a?r(a):i;e.exports=s},function(e,t,n){var i=n(500),r=n(423);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(281),r=n(280),o=n(196),a=Object(r.a)((function(e,t){Object(i.a)(t,Object(o.a)(t),e)}));t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(36),r=n(184),o=n(181),a=n(39),s=n(179),c=n(239),l=n(12),u=n(81),d=n(185);class h{constructor(e,t,n=h.createContentMutationObservable(e),u=(e=>new d.a(e)),p=l.a.create(h.name)){this._root=e,this._diffText=t,this._contentMutationObservable=n,this._createTextMap=u,this._log=p,this._textMapDirty=!0,this._cachedTextMap=null,this._contentChangeSubject=new i.a,this._sub=this._contentMutationObservable.subscribe(e=>{this._textMapDirty=!0,this._contentChangeSubject.next()}),this._changes=Object(r.a)(()=>(this.getCurrentTextMap(),this._contentChangeSubject)).pipe(Object(a.a)(e=>{if(this._cachedTextMap){const e=this._cachedTextMap,t=this.getCurrentTextMap(),n=e.getPlainText(),i=t.getPlainText();return{changes:this._diffText(n,i),prevText:n,newText:i}}return this._log.warn("no text map cache on text change -- forcing"),{changes:[],prevText:"",newText:this.getCurrentTextMap().getPlainText()}}),Object(s.a)()),this.contentChanges={immediate:this._changes,async:this._changes.pipe(Object(c.b)(o.a))}}static createContentMutationObservable(e){return u.a.createUnsafe(e,{subtree:!0,childList:!0,characterData:!0})}getCurrentTextMap(){return(this._textMapDirty||null===this._cachedTextMap)&&(this._cachedTextMap=this._createTextMap(this._root),this._textMapDirty=!1),this._cachedTextMap}invalidate(){this._textMapDirty=!0,this._contentChangeSubject.next()}dispose(){this._sub.unsubscribe()}}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(36),r=n(346),o=n(8),a=n(12),s=n(7),c=n(80),l=n(65),u=n(270),d=n(331);class h{constructor(e,t,n=new RegExp(`^[,.;:()§&$%!@#?*~+}{\\[\\]|/-<>…\`"'”’‚‛‟„“\\u001c\\u0011${u.d}]*$`),o=null,c=(e=>!1),l=a.a.create(h.name)){this._ordering=t,this._tokenSeparatorStringRe=n,this._addAlertFilter=o,this._canResizeAlert=c,this._log=l,this._alertMap=new Map,this._text="",this._alertChangeSubject=new i.a,this._alertMapAtom=s.Atom.create({}),this._localRevisionLimit=50,this._localRevs=new r.a(this._localRevisionLimit),this._lastLocalRevId=0,this._remoteToLocalRevLimit=10*this._localRevisionLimit,this._remoteToLocalRev=new Map,this.alerts={getAlertById:e=>this._alertMap.get(e)||null,getAll:()=>this._alertMap.values(),state:this._alertMapAtom.view(),changes:this._alertChangeSubject.asObservable()},this._text=e,this._addLocalRevision(e,[],[])}getText(){return this._text}_addLocalRevision(e,t,n){this._lastLocalRevId++,this._localRevs.enqueue({id:this._lastLocalRevId,text:e,changes:t.map((e,t)=>({change:e,stagedText:n[t]}))})}_removeAlert(e){const t=this._alertMap.get(e);return void 0!==t?(this._log.trace(`removing alert #${e}`),this._alertMap.delete(e),t):(this._log.debug(`not removing #${e} -- does not exist`),null)}_localRevsSinceRemoteRev(e){const t=this._remoteToLocalRev.get(e);if(void 0===t)return this._log.warn(`unregistered remote revision ${e}`),[];{const n=this._localRevs.toArray();let i=null;for(let e=n.length-1;e>=0;e--)if(n[e].id===t){i=e;break}return null!==i?n.slice(i):(this._log.warn(`rev ${t} @ ${e} not found in history`),n)}}_rebaseAlert(e,t){let n={startOffset:0,endOffset:0};for(let i=1;i<t.length;i++){const r=t[i-1].text;for(const o of t[i].changes){if(null===n)return null;n=this._reduceAlertTransform(n,e,o.change,o.stagedText,r)}}return null!==n?c.a.transform(e,n,n):null}_addAlert(e){const t=[],n=[],i=[],r=this._localRevsSinceRemoteRev(e.revision),a=this._rebaseAlert(e,r);if(null!==a){const e={start:0,end:this._text.length};if(c.b.contains(e,a.highlightRange)&&c.b.contains(e,a.transformRange))if(c.a.isConsistentWithText(a,this._text))if(!this._addAlertFilter||this._addAlertFilter(a)){const e=this._alertMap.has(a.id),r=o.d.find(this._alertMap,e=>this._ordering.areConflicting(e,a));null===r?(e?(this._log.trace(`updating #${a.id}`),i.push(a)):(this._log.trace(`adding #${a.id}`),t.push(a)),this._alertMap.set(a.id,a)):this._ordering.greaterThan(a,r)?e?(this._log.trace(`replacing #${r.id} with UPDATED #${a.id} (priority)`),n.push(r),i.push(a),this._alertMap.delete(r.id),this._alertMap.set(a.id,a)):(this._log.trace(`replacing #${r.id} with #${a.id} (priority)`),n.push(r),t.push(a),this._alertMap.delete(r.id),this._alertMap.set(a.id,a)):e?(this._log.trace(`deleting #${a.id} -- updated to lower priority`),n.push(a),this._alertMap.delete(a.id)):this._log.trace(`dropping #${a.id} -- lower priority`)}else this._log.trace(`dropping #${a.id} -- filter`);else this._log.warn(`alert #${a.id} inconsistent with document text: alert (${a.transformText}, ${a.highlightText}) vs text (${this._text.slice(a.transformRange.start,a.transformRange.end)}, ${this._text.slice(a.highlightRange.start,a.highlightRange.end)}) -- dropping`);else this._log.warn(`alert #${a.id} is out of bounds: ${c.b.toString(a.highlightRange)}, ${c.b.toString(a.transformRange)} vs ${c.b.toString(e)} -- dropping`)}else this._log.debug(`couldn't rebase #${e.id} accross ${r.length-1} local revisions, dropping`);return{addedAlerts:t,removedAlerts:n.map(e=>({id:e.id,alert:e,reason:{_tag:d.a.alertUpdate}})),updatedAlerts:i,transformedAlerts:[]}}_onAlertsChanged(e){this._alertChangeSubject.next(e),this._alertMapAtom.set(o.f.create(this._alertMap.entries()))}_updateAlerts(e,t){for(const t of e)this._alertMap.delete(t);for(const e of this._alertMap.values()){const n=t.get(e.id);if(void 0!==n&&!c.c.isNoop(n)){const t=c.a.transform(e,n,n);n.startOffset!==n.endOffset||c.a.isConsistentWithText(t,this._text)?this._alertMap.set(e.id,t):(this._log.warn(`alert #${e.id} is inconsistent with text after transform by ${JSON.stringify(n)} -- dropping`),this._alertMap.delete(e.id))}}}_isAlertBrokenByChange(e,t,n,i,r,o){const a=(c.b.intersects(t,n)||c.b.intersects(t,i))&&!o&&!(t.start===i.start&&e._tag===l.a.Type.ins&&this._tokenSeparatorStringRe.test(e.text)),s=t.start===i.end&&!this._tokenSeparatorStringRe.test(r[t.start])&&void 0!==r[t.start];return a||s}_isSeparatorChar(e){return void 0!==e&&this._tokenSeparatorStringRe.test(e)}_isValidAlertTransform(e,t,n,i){const r=this._isSeparatorChar(i[e.start-1]),o=this._isSeparatorChar(i[e.end]),a=this._isSeparatorChar(n[t.start-1]),s=this._isSeparatorChar(n[t.end]),c=this._isSeparatorChar(n[t.start]),l=this._isSeparatorChar(n[t.end-1]);return(r===a||c)&&(o===s||l)}_reduceAlertTransform(e,t,n,i,r){const a=c.b.transform(t.transformRange,e),s=c.b.transform(t.highlightRange,e),u={start:n.pos,end:n._tag===l.a.Type.ins?n.pos:n._tag===l.a.Type.del?n.pos+n.length:Object(o.g)(n)},d=l.a.getTransformOffset(n),h=this._canResizeAlert(t);if(this._isAlertBrokenByChange(n,u,a,s,i,h))return this._log.debug(`can't transform #${t.id}: breaking text change`),null;if(a.start>=u.start||s.start>=u.start||h&&(c.b.intersects(a,u)||c.b.intersects(s,u))){const o={start:n.pos<=s.start?Math.max(n.pos,s.start+d):s.start,end:n.pos<s.end?Math.max(n.pos,s.end+d):s.end};return this._isValidAlertTransform(s,o,i,r)?{startOffset:e.startOffset+(o.start-s.start),endOffset:e.endOffset+(o.end-s.end)}:(this._log.debug(`can't transform #${t.id}: invalid transform`),null)}return e}onTextChanged(e){if(0===e.length)return this._log.debug("processed text changes: NO OP"),{removedAlerts:[],transformedAlerts:[]};const t=new Map,n=new Map;let i=this._text;const r=[];for(const o of e){const e=i;i=l.a.applyChanges(i,[o]),r.push(i);for(const r of this._alertMap.values())if(!t.has(r.id)){const a=this._reduceAlertTransform(n.get(r.id)||{startOffset:0,endOffset:0},r,o,i,e);null===a?(t.set(r.id,r),n.delete(r.id)):n.set(r.id,a)}}this._text=i,this._updateAlerts(t.keys(),n),this._log.debug("processed text changes",{changes:e,toRemove:t,toTransform:n,alerts:this._alertMap.values()});const o=Array.from(t.entries(),([t,n])=>({id:t,alert:n,reason:{_tag:d.a.textChange,changes:e}})),a=Array.from(n.entries()).filter(([e,t])=>!c.c.isNoop(t)).map(([e,t])=>({id:e,transform:t}));return(o.length>0||a.length>0)&&this._onAlertsChanged({removedAlerts:o,transformedAlerts:a,addedAlerts:[],updatedAlerts:[]}),this._addLocalRevision(i,e,r),{removedAlerts:o,transformedAlerts:a}}registerRemoteRevision(e){this._remoteToLocalRev.size>this._remoteToLocalRevLimit&&(this._remoteToLocalRev=new Map([...this._remoteToLocalRev.entries()].slice(this._remoteToLocalRev.size/2))),this._remoteToLocalRev.set(e,this._lastLocalRevId),this._log.debug(`registered remote revision ${e} at ${this._lastLocalRevId}`)}addAlert(e){const t=this._addAlert(e);return this._onAlertsChanged(t),t}removeAlert(e){const t=this._removeAlert(e);t&&this._onAlertsChanged({removedAlerts:[{id:e,alert:t,reason:{_tag:d.a.alertUpdate}}],addedAlerts:[],updatedAlerts:[],transformedAlerts:[]})}removeAllAlerts(){for(const e of this.alerts.getAll())this.removeAlert(e.id)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(36),r=n(94),o=n(273),a=n(130),s=n(166),c=n(12),l=n(40),u=n(160);class d{constructor(e,t,n,r=3,s=c.a.create(d.name)){this._legacyCardView=e,this._layout=t,this._editorId=n,this._underlineThicknessOffset=r,this._log=s,this._subs=[],this._cardHoverSubject=new i.a,this._cardHovered=e=>this._cardHoverSubject.next(e),this.cardHovered=this._cardHoverSubject.pipe(Object(o.a)(!1),Object(a.a)())}show(e,t){const n={id:parseInt(e.alert.id,10),editorId:this._editorId,rawMatch:l.a.toRawCapiAlert(e.alert),replace:(t,n)=>{e.onReplace(t),this.hide()},ignore:()=>{e.onIgnore(),this.hide()},addToDict:()=>{}};this._subs=[Object(r.a)(this._legacyCardView,"addtodict").pipe(Object(s.a)(1)).subscribe(t=>{e.onAddToDictionary(),this._cardHovered(!0)}),Object(r.a)(this._legacyCardView,"toeditor").pipe(Object(s.a)(1)).subscribe(t=>{e.onOpenPopupEditor(e.alert.id),this.hide()}),Object(r.a)(this._legacyCardView,"toUnifiedLoginReminder").pipe(Object(s.a)(1)).subscribe(t=>{e.onShowUnifiedLoginReminder(),this.hide()}),Object(r.a)(this._legacyCardView,"upgradeFromLockedPremiumAlert").pipe(Object(s.a)(1)).subscribe(t=>{e.onClickUpgradeFromLockedPremiumAlerts(e.alert.cardLayout.outcome),this.hide()})];const i=this._layout.textField.rect.getApproximate(),o=this._layout.textField.scroll.getApproximate();this._legacyCardView.fluidShow(Object(u.b)(t,i.page,o,this._layout.getTranslationToCards()),this._underlineThicknessOffset,n,this._cardHovered),e.onShown()}hide(){this._log.info("hiding inline card"),this._subs.forEach(e=>e.unsubscribe()),this._subs=[],this._cardHovered(!1),this._legacyCardView.fluidHide()}dispose(){try{this.hide()}catch(e){}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n(264);var i,r=n(361),o=n(584),a=n(118),s=n(185),c=n(206),l=n(457),u=n(530),d=n(30),h=n(529);function p(e,t){return n=>({canExecute(t){const i=void 0===e.someBrowser||e.someBrowser.includes(n.config.bundleInfo.browser),r=void 0===e.someExperiment||!!n.appState.user.experiments&&e.someExperiment.some(e=>n.appState.user.experiments[e]),o=void 0===e.domain||e.domain.test(t.domain),a=void 0===e.url||e.url.test(t.url),s=void 0===e.devOnly||!e.devOnly||!1,c=void 0===e.andCanExecute||e.andCanExecute(t);return i&&r&&o&&a&&s&&c},execute:e=>new l.a(e,n.appState,{actions:n.actions,app:n.appElements,createSocket:new u.a(n.felog,d).createSocket,gnar:n.gnar,felog:n.felog},t,h.a.getFactory(),"fluid")})}!function(e){e.allUsers={someBrowser:["chrome","firefox","safari","edge"]},e.grammarlyTeam=Object.assign(Object.assign({},e.allUsers),{someExperiment:["fluidDogfood"]}),e.dev=Object.assign(Object.assign({},e.grammarlyTeam),{devOnly:!0})}(i||(i={}));var f,m=n(353),g=n(204),b=n(122),v=n(77),_=n(186),y=n(159);!function(e){const t=2;function n(e=0,n=0,i=0,r=41,o={}){return Object.assign(Object.assign({},o),{highlightHeightOffset:t,extendGButtonLayout:t=>Object.assign(Object.assign({},t),{position:t.position.map(t=>Object.assign(Object.assign({},t),{top:t.top+n,left:t.left+e+(t.textFieldHeight-t.effectivePadding.bottom-t.effectivePadding.top>=r?i:0)}),v.a)})})}const r=e=>new b.a(e,n(-5,4)),o=m.a.contentEditable(e=>({extraCondition:e=>!!Object(c.d)(e.field,e=>"message_input"===e.getAttribute("data-qa")||e.classList.contains("p-message_input_field")),validationRules:g.allSizesDefaults,createLayout:r})),l=m.a.contentEditable(e=>({extraCondition:e=>!!Object(c.d)(e.field,e=>e.classList.contains("c-message__editor__input")),validationRules:g.allSizesDefaults,createLayout:e=>new b.a(e,n(-4,4,29))})),u=m.a.contentEditable(e=>({extraCondition:e=>!!Object(c.d)(e.field,e=>e.classList.contains("p-share_dialog_message_input")),validationRules:g.allSizesDefaults,createLayout:e=>new b.a(e,n(-2,4))})),d=m.a.contentEditable(e=>({extraCondition:e=>!!Object(c.d)(e.field,e=>!!e.getAttribute("data-thread-ts")),validationRules:g.allSizesDefaults,createLayout:r,gbuttonMinimizeState:{minimized:Object(a.a)(!0)}})),h=(m.a.contentEditable(e=>({getCustomTarget:e=>{const t=(e,n=100)=>"TS-ROCKET"===e.tagName?e:e.parentElement&&n>0?t(e.parentElement,n-1):null;return t(e)},matchCheckOverride:(e,t)=>t.field.matches("TS-ROCKET *")||"TS-ROCKET"===t.field.tagName,textMap:{createFieldTextMap:e=>new s.a(e,(e,t)=>s.a.defaultFilterNode(e,t)&&"-1"!==e.getAttribute("tabindex"),(e,t)=>s.a.defaultIsBlockNode(e,t)&&"P"!==e.tagName),popupEditorTextMapType:y.a.generic}})),m.a.contentEditable(e=>({validationRules:g.allSizesDefaults,extraCondition:e=>e.field.classList.contains("ql-editor"),createLayout:r}))),f=m.a.textarea(e=>({validate:e=>!!e.field.closest(".ReactModalPortal"),createLayout:e=>new b.a(e,n(void 0,-2,35,void 0,{zIndex:_.a.constant(2e3)}))}));e.page=p(Object.assign({domain:/^\S+\.slack\.com$/},i.allUsers),[d,o,l,u,h,f,m.a.textarea()])}(f||(f={}));var w,E=n(124),x=n(53),O=n(287),S=n(347),C=n(212),j=n(101),k=n(320);(w||(w={})).generic=e=>m.a.contentEditable(t=>{const{overwriteGenericOpts:n={},extraCondition:i=(()=>!0)}=e&&e(t)||{};return Object.assign({extraCondition:e=>e.field.classList.contains("ProseMirror")&&i(e),createContentService:e=>new k.c(t.field)},n)});var T,P=n(114),N=n(578),A=n(81);!function(e){const t=m.a.iframe(e=>({getIsMatching:e=>(e,t,n)=>Object(P.b)(e)&&(Object(c.c)(n)||Object(c.b)(n)),expiration:(e,t)=>{const n=e.parentElement&&e.parentElement.parentElement;return n&&"wysiwyg"===n.id?A.a.observeAttribute(n,"class").pipe(Object(S.a)(e=>!!e&&e.includes("hidden")),Object(C.a)(void 0)):Object(O.b)()},textMap:{createFieldTextMap:N.a.createEditorTextMap,popupEditorTextMapType:y.a.confluenceEditor}})),n=w.generic(e=>({overwriteGenericOpts:{validationRules:P.a.allSizesDefaults,createLayout:()=>new j.a(e.field,{pretendFieldPositioned:!0})}}));e.page=p(Object.assign({domain:/^\S+\.atlassian\.net$/,url:/^https?:\/\/\S+\.atlassian\.net\/wiki\/.*$/},i.allUsers),[n,m.a.contentEditable(),t,m.a.iframe(),m.a.textarea()])}(T||(T={}));var I,R=n(50),F=n(86),M=n(160),D=n(579);!function(e){const t=e=>e.field.classList.contains("selenium-inner-zone-ace-editor"),n=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("ace-editor")&&!t(e),createLayout:t=>new b.a(t,e.field.parentElement&&e.field.parentElement.classList.contains("ace-type-full")?function(e,t=20,n=35){return{extendGButtonLayout:i=>Object.assign(Object.assign({},i),{position:i.position.map(i=>Object.assign(Object.assign(Object.assign({},i),R.a.create({top:e.ownerDocument&&e.ownerDocument.documentElement&&e.ownerDocument.documentElement.clientHeight-t||0,left:i.left+n})),{_tag:M.a.fixed}),v.a)})}}(t):{}),textMap:{createFieldTextMap:D.a.createTextMap,popupEditorTextMapType:y.a.dropboxPaper},createContentService:t=>k.a.createIfSupported(e.pageContext.config.bundleInfo.browser,{target:e.field,afterSetSelection:e=>F.a.create((e,t)=>{setTimeout(e,100)})})})),r=m.a.contentEditable(()=>({extraCondition:e=>!t(e)}));e.page=p(Object.assign({domain:/^paper\.dropbox\.com$/},i.grammarlyTeam),[n,r,m.a.textarea()])}(I||(I={}));var L,B=n(52),U=n(148),H=n(528),V=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class z{constructor(e){this._target=e,this.exportContent=()=>V(this,void 0,void 0,(function*(){return{content:H.a.hasPlaceholder(this._target)?"":this._target.innerHTML,volatile:!1}})),this.importContent=e=>V(this,void 0,void 0,(function*(){this._target.innerHTML=e}))}}!function(e){const t=w.generic(e=>({overwriteGenericOpts:{validationRules:P.a.allSizesDefaults,createLayout:()=>new j.a(e.field.closest(".ak-editor-content-area, .content-area")||e.field),expiration:e=>{const t=e.closest("body > span > div"),n=t?A.a.observeStyle(t).pipe(Object(S.a)(e=>"0"===e.opacity),Object(C.a)(void 0)):Object(B.b)();return Object(U.a)(Object(c.a)(e),n)},textMap:{createFieldTextMap:H.a.createTextMap,popupEditorTextMapType:y.a.jira},createContentService:t=>new z(e.field)}})),n=m.a.textarea(e=>({validate:e=>!!e.field.closest("#description-wiki-edit"),createLayout:()=>new j.a(e.field),createContentService:()=>null}));e.page=p(Object.assign({domain:/^\S+\.atlassian\.net$/},i.allUsers),[t,n,m.a.iframe(e=>({createLayout:()=>new j.a(e.field,{iframe:!0})})),m.a.contentEditable(e=>({createLayout:()=>new j.a(e.field)})),m.a.textarea(e=>({createLayout:()=>new j.a(e.field)}))])}(L||(L={}));var G=n(12),W=n(67),$=n(73),q=n(375),Y=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class K extends k.a{constructor(e,t,n=G.a.create(K.name)){super({target:e,skipClipboardDataCheckForCollapsedSelection:!0}),this._innerSectionDiv=t,this._log=n,this._selectAllText=e=>Y(this,void 0,void 0,(function*(){e.focus(),e.dispatchEvent(new KeyboardEvent("keydown",{metaKey:!0,ctrlKey:!0,keyCode:65}));const t=Object(W.c)(e.ownerDocument&&e.ownerDocument.getSelection(),"selection"),n=t.getRangeAt(0).commonAncestorContainer;return this._innerSectionDiv===n||this._innerSectionDiv.contains(n)||this._log.error("selection consistency check failed",t),t.isCollapsed}))}}var Q;!function(e){const t=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("postArticle-content"),textMap:{createFieldTextMap:e=>new s.a(e,(e,t)=>s.a.defaultFilterNode(e,t)&&!e.classList.contains("defaultValue")),popupEditorTextMapType:y.a.generic},createLayout:()=>{const t=e.field.parentElement;return null!=t&&t.classList.contains("postArticle--full")?new b.a(e.field,function(e){return{createGButtonLayout:t=>{const n=e.querySelector("section > div.section-content > div.section-inner"),i=Object($.a)(t);if(n){const t=i.position.map(t=>((e,t,n)=>{const i=n.getBoundingClientRect(),r=t.ownerDocument.body.offsetWidth-i.right-22;return Object.assign(Object.assign({},e),{left:e.left-r})})(t,e,n),v.a);return Object.assign(Object.assign({},i),{position:t})}return i}}}(e.field)):new j.a(e.field,{createGbuttonShiftBehavior:e=>Object(a.a)({top:-4,left:0})})},createContentService:t=>q.a.isSupported(e.pageContext.config.bundleInfo.browser)?new K(e.field,e.field):null}));e.page=p(Object.assign({url:/^https?:\/\/(medium\.com)\/.*$/},i.allUsers),[t,m.a.contentEditable(),m.a.textarea()])}(Q||(Q={}));var X,J=n(258);!function(e){e.createAnswerEditorTextMap=e=>s.a.create(e,{andIsBlockNode:(e,t)=>"span"!==e.getAttribute("data-kind")&&"content"!==e.className});const t=m.a.contentEditable(t=>({extraCondition:e=>"doc"===e.field.getAttribute("data-kind"),createContentService:e=>k.a.createIfSupported(t.pageContext.config.bundleInfo.browser,{target:t.field,afterSetSelection:e=>F.a.create((t,n)=>{e.dispatchEvent(new Event("mouseup",{target:e})),setTimeout(t,50)})}),textMap:{createFieldTextMap:e.createAnswerEditorTextMap,popupEditorTextMapType:y.a.generic}})),n={match:e=>{if("TEXTAREA"===e.field.tagName){const t=e.field.closest(".modal_overlay");return t?{targetField:e.field,matchExpires:Object(c.e)(e.field),execute:()=>Object(J.b)(e,void 0,new b.a(e.field,{gbuttonMinPadding:J.c,zIndex:Object($.c)(t)}))}:null}return null}};e.page=p(Object.assign({url:/^https?:\/\/(www\.quora\.com)\/.*$/},i.allUsers),[t,n,m.a.contentEditable(()=>({validationRules:g.allSizesDefaults})),m.a.textarea()])}(X||(X={}));var Z,ee=n(166),te=n(434);!function(e){const t=e=>({match:t=>t.field.classList.contains("tinymce")?null:e.match(t)}),n=m.a.iframe(e=>({expiration:(e,t)=>Object(U.a)(Object(c.a)(t),(te.a.createShared(e)||Object(B.b)()).pipe(Object(S.a)(e=>0===e.width||0===e.height),Object(C.a)(void 0))).pipe(Object(ee.a)(1))}));e.createBlockEditorTextMap=e=>s.a.create(e,{andFilterNodeOutput:(e,t)=>t.outputConsidered||"textbox"===e.getAttribute("role")&&"true"!==e.getAttribute("data-is-placeholder-visible")});const r=m.a.textarea(e=>({validate:e=>!!e.field.closest(".editor-post-title__block"),createLayout:()=>new j.a(e.field,{gbuttonMinPadding:J.c})})),o={match:t=>{const n=t.field.closest(".editor-block-list__layout");return n?m.a.contentEditable(t=>({target:n,matchCheckOverride:()=>!0,createLayout:()=>new j.a(n),textMap:{createFieldTextMap:e.createBlockEditorTextMap,popupEditorTextMapType:y.a.generic},createContentService:()=>null})).match(t):null}},a=e=>p(Object.assign({andCanExecute:e},i.allUsers),[r,o,m.a.contentEditable(),n,t(m.a.textarea())]);e.page=a(e=>/^(\S+\.)?wordpress\.com$/.test(e.domain)||/\/wp-admin$|\/wp-admin\//.test(e.url)),e.pageFuzzy=a(e=>!!e.doc.querySelector("noscript.wpcom-site__global-noscript"))}(Z||(Z={}));var ne,ie=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};!function(e){class t extends k.b{constructor(e){super(e),this.target=e}exportContent(){const e=Object.create(null,{exportContent:{get:()=>super.exportContent}});return ie(this,void 0,void 0,(function*(){return this.target.querySelectorAll("[data-bbfile]").length>0?{errorMessage:"Oops! Grammarly can’t open the pop-up editor because this text contains images, videos, or files. Try removing them first."}:yield e.exportContent.call(this)}))}}const n=e=>p(Object.assign({andCanExecute:e},i.allUsers),[m.a.contentEditable(e=>({createLayout:()=>new j.a(e.field),createContentService:()=>new t(e.field)})),m.a.iframe(),m.a.textarea()]);e.page=n(e=>/\S+\.blackboard\.com$/.test(e.domain)),e.pageFuzzy=n(e=>/(^|\.)blackboard\.\S+\.(com|edu|ac.uk)$/.test(e.domain))}(ne||(ne={}));var re,oe,ae=n(151),se=n(273),ce=n(39),le=n(147),ue=n(130),de=n(71),he=n(387),pe=n(233),fe=n(94),me=n(419),ge=n(417),be=n(66),ve=n(746),_e=n(40),ye=n(65),we=n(719);!function(e){function t(e){const t=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle(e);return!!t&&("auto"===t.overflow||"scroll"===t.overflow||"auto"===t.overflowY||"scroll"===t.overflowY||"auto"===t.overflowX||"scroll"===t.overflowX)}e.getComposeFieldContainer=function(e){const n=e.closest('div[style*="max-height"]'),i=n&&n.querySelector('div > div[style*="display:none"]');return n&&t(n)&&i?n:Object($.e)(e,50).find(e=>t(e))||null},e.hasOverlayAncestor=function(e){const t=e.closest("body > div");if(!t)return!1;const n=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle(t);return!!n&&"absolute"===n.position&&0===parseInt(n.top||"",10)&&0===parseInt(n.left||"",10)},e.getFormattingToolbarContainer=function(e){const t=e.closest("table"),n=t&&t.querySelector('div[aria-label="Formatting options"], div[role="toolbar"]');return n&&n.closest('[style*="visibility"]')},e.getSendButton=function(e){const t=e.closest("table"),n=t&&t.querySelector("table[role=group] [aria-haspopup=true]");return n&&n.parentElement};class n{constructor(){this._suggestionsSelectors=['[role="menu"][aria-label="Misspelling"]','[role="menu"][aria-label="Grammar error"]'],this._underlinesSelectors=['[aria-invalid="spelling"]','[aria-invalid="grammar"]'],this._hideCallsCount=0}_getNativeSuggestionParent(){const e=document.querySelector(this._suggestionsSelectors.join(","));return e&&e.parentElement&&e.parentElement instanceof HTMLElement&&"absolute"===e.parentElement.style.position?e.parentElement:null}_addStyles(e){this._styleEl=document.createElement("STYLE"),this._styleEl.innerHTML=(e?`.${e}{display: none !important}`:"")+this._underlinesSelectors.map(e=>`${e}{background: none !important}`).join(""),document.head.appendChild(this._styleEl)}_removeStyles(){this._styleEl&&(this._styleEl.remove(),this._styleEl=null)}_cleanupSubscription(){this._popupContainerWaiter&&(this._popupContainerWaiter.unsubscribe(),this._popupContainerWaiter=null)}hide(){if(this._hideCallsCount++,1===this._hideCallsCount){const e=this._getNativeSuggestionParent();e?this._addStyles(e.className):(this._popupContainerWaiter=A.a.observeChildList(document.body).pipe(Object(ce.a)(e=>this._getNativeSuggestionParent()),Object(S.a)(e=>!!e),Object(ee.a)(1),Object(ce.a)(e=>{this._removeStyles(),this._cleanupSubscription(),this._addStyles(e.className)})).subscribe(),this._addStyles(null))}}show(){if(this._hideCallsCount--,0===this._hideCallsCount){this._cleanupSubscription(),this._removeStyles();const e=this._getNativeSuggestionParent();if(e){const t=e.querySelector(this._suggestionsSelectors.join(","));if(t&&t instanceof HTMLElement){const n=t.style.height;t.style.height="auto";const i=t.clientHeight,r=t.clientWidth;e.style.height=`${i}px`,e.style.width=`${r}px`,t.style.height=n}}}this._hideCallsCount<0&&(this._hideCallsCount=0)}}let i;e.hideNativeSuggestions=function(){i||(i=new n),i.hide()},e.showNativeSuggestions=function(){i&&i.show()}}(re||(re={})),function(e){function t(e){e.style.display="none"}e.contentEditableOptsExt=function(e,n){const i=new we.a(e.field,ye.b.fromDiff,void 0,n),r=new pe.a(!1),o=new pe.a(!1),s=[];return{createTextObserver:()=>i,createAlertProcessor:n=>{const c=new ve.a(n,_e.a.ordering);return function(e,n,i,r,o){const s=he.a.contentEligibleObs(n.contentChanges.async.pipe(Object(se.a)(null),Object(ce.a)(e=>n.getCurrentTextMap().getPlainText())),i.alerts.state.view(be.a.alertMapToCapiAlerts)).pipe(Object(ue.a)()),c=re.getComposeFieldContainer(e.field);return[(c&&!he.a.hasShownPopupRecently(e.state.page)?de.a.sec1.pipe(Object(se.a)(0),Object(C.a)(c&&re.getSendButton(c)),Object(S.a)(e=>!!e),Object(ce.a)(e=>(function(e){if(!e||!e.parentElement)return null;const t=e.parentElement.querySelector("grammarly-extension-before-send-hook");if(t)return t;const n=document.createElement("grammarly-extension-before-send-hook");return n.style.position="absolute",n.style.width=`${e.offsetWidth}px`,n.style.height=`${e.offsetHeight}px`,e.parentElement.appendChild(n),n})(e)),Object(le.a)(n=>n?s.pipe(Object(me.a)(e=>e?function(e){e.style.display="block"}(n):t(n)),Object(ge.a)(Object(fe.a)(n,"click").pipe(Object(me.a)(i=>{e.actions.showGmailSendEmailPremiumPopup(),r.next(!0),t(n)})))):Object(a.a)(null))):Object(a.a)(null)).subscribe(),s.subscribe(e=>o.next(e))]}(e,i,c,r,o).forEach(e=>s.push(e)),c},customizations:{gmailSendEmailMaskClickObs:r,contentEligibleForVerbosePremium:o},onDispose(){s.forEach(e=>e.unsubscribe())}}}}(oe||(oe={}));var Ee,xe=n(207),Oe=n(153),Se=n(522);!function(e){function t(e){const t=e.closest('[style*="float"]');return!!t&&!(!e.ownerDocument||!e.ownerDocument.defaultView)&&"right"===e.ownerDocument.defaultView.getComputedStyle(t).cssFloat&&re.hasOverlayAncestor(e)}const n=(e,t)=>m.a.contentEditable(n=>{const i=he.a.isInExperiment(n.pageContext.config,n.state.user)?oe.contentEditableOptsExt(n,Se.a.createTextMap):{};return{name:t,extraCondition:t=>e(t.field),createLayout:e=>{const t=(n.state.page.emogenieEmojiState&&"show"===n.state.page.emogenieEmojiState?xe.a.emojiWidth+xe.a.gButtonSize:xe.a.gButtonSize)+8,i=re.getComposeFieldContainer(n.field),r=(e,t,n)=>e?de.a.sec1.pipe(Object(se.a)(null),Object(ce.a)(t),Object(S.a)(e=>!!e),Object(ee.a)(1),Object(le.a)(n),Object(se.a)(null)):Object(a.a)(null),o=r(i,e=>i&&re.getFormattingToolbarContainer(i),e=>e?A.a.observeStyle(e).pipe(Object(se.a)(e.style),Object(ce.a)(e=>"collapse"!==e.visibility&&"hidden"!==e.visibility&&"none"!==e.display),Object(ue.a)(v.a),Object(ce.a)(t=>({visible:t,el:e}))):Object(a.a)(null)),s=r(i,e=>{if(i){const e=Object($.d)(i,1);return e?e.querySelector("input[name=attach][type=hidden]"):null}return null},e=>{const t=Object($.d)(e,3);return t?A.a.observeChildList(t).pipe(Object(se.a)(t.childNodes),Object(ce.a)(e=>Array.from(e).filter(e=>!!Object(Oe.b)(e)&&!!e.querySelector("input[name=attach][type=hidden]")).map(e=>e))):Object(a.a)(null)});return new j.a(i||n.field,{gbuttonMinPadding:6,createGbuttonShiftBehavior:e=>{const n=Object(ae.b)(o,e.rect.behavior,(e,n)=>{if(e&&e.visible&&e.el){const i=e.el.getBoundingClientRect();return n.size.width-i.width-4<t?i.height+(i.bottom-n.client.top-n.size.height):0}return 0}),i=Object(ae.b)(s,e.rect.behavior,o,(e,t,n)=>{const i={top:0,width:0};if(e&&e.length){const t=e[0].firstElementChild;if(t&&Object(Oe.b)(t)&&"DIV"===t.nodeName){const e=t,n=e.offsetTop;if(n)return{top:n,width:e.offsetWidth};{const t=e.offsetParent;return t&&"DIV"===t.nodeName?{top:t.offsetTop,width:e.offsetWidth}:i}}return i}return i}),r=Object(ae.b)(i,e.rect.behavior,e.scroll.behavior,(e,n,i)=>n.size.height-e.top+i.top>0&&n.size.width-e.width-4<t?n.size.height-e.top+i.top+4:0);return Object(ae.b)(n,r,(e,t)=>Math.max(e,t)).pipe(Object(ce.a)(e=>({top:-e,left:0})))},injectIntegrationRoot:(e,t,n,i)=>{e.parentElement.appendChild(i)}})},createContentService:e=>new k.c(n.field),textMap:{createFieldTextMap:Se.a.createTextMap,popupEditorTextMapType:y.a.gmail},createTextObserver:i.createTextObserver,createAlertProcessor:i.createAlertProcessor,customizations:i.customizations,onCreate:re.hideNativeSuggestions,onDispose:()=>{re.showNativeSuggestions(),i.onDispose&&i.onDispose()}}}),r=n(t,"compose"),o=n((function(e){return re.hasOverlayAncestor(e)&&!t(e)}),"compose fullscreen"),s=n((function(e){const t=e.closest("body > div");return!(!t||0!==t.querySelectorAll('[role*="navigation"], [role*="complimentary"], [aria-label*="Hangouts"]').length)}),"compose standalone"),c=m.a.contentEditable(e=>({name:"compose reply",extraCondition:e=>(function(e){const t=e.closest("[role=list]");return!!t&&!!t.querySelector("[data-message-id]")})(e.field),createLayout:()=>(function(e){const t=e.closest("table"),n=t&&t.closest("table:not(:scope)"),i=n&&n.querySelector('[command="Files"]'),r=i&&i.closest("table")||void 0,o=Object($.e)(e,2),a=Object(W.c)("TD"===o[1].nodeName?o[0]:o[1]),s=Object(W.c)(e.offsetParent&&e.offsetParent.nodeType===Node.ELEMENT_NODE?"TD"===e.offsetParent.nodeName?t:e.offsetParent:null);return new b.a(e,{onScrollMaxAncestors:100,createHighlightAreaRect:e=>e.map(e=>({position:R.c.create({top:s.offsetTop,left:s.offsetLeft}),width:e.width,height:e.height}),v.a),highlightsContainer:a,gbuttonContainer:r,extendGButtonLayout:e=>Object.assign(Object.assign({},e),{getShouldFlipMenu:()=>!1}),getGbuttonPositionStyleBehavior:e=>e.pipe(Object(ce.a)(e=>({position:"absolute",bottom:"calc(100% + 11px)",right:"11px",zIndex:e})))})})(e.field),textMap:{createFieldTextMap:Se.a.createTextMap,popupEditorTextMapType:y.a.gmail},createContentService:t=>new k.c(e.field),gbuttonMinimizeState:{minimized:Object(a.a)(!1)},onCreate:re.hideNativeSuggestions,onDispose:re.showNativeSuggestions,customizations:{extendCapiStartMessage:e=>Object.assign(Object.assign({},e),{isReply:!0})}})),l=p(Object.assign({domain:/^mail\.google\.com$/,andCanExecute:e=>!e.doc.querySelector("body>table")},i.allUsers),[c,s,r,o]),u=p(Object.assign({domain:/^mail\.google\.com$/,andCanExecute:e=>!!e.doc.querySelector("body>table")},i.allUsers),[m.a.textarea(e=>({createLayout:()=>new b.a(e.field)}))]);e.pages=[l,u]}(Ee||(Ee={}));var Ce,je,ke,Te=n(380),Pe=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};!function(e){function t(e,t){const n=e.getAttribute("data-testid");return!(!n||n!==t)}function n(e){return t(e,"UFI2ComposerInput/comment:rich-input")||t(e,"UFI2ComposerInput/reply:rich-input")}function r(e){const t=e.closest("[role=dialog],[role=region]");return t?A.a.observeAttribute(t,"role").pipe(Object(S.a)(e=>"dialog"!==e),Object(C.a)(void 0)):Object(O.b)()}function o(e,t,n){return{createGButtonLayout:n=>Object($.a)(n,void 0,void 0,{top:e,left:t}),zIndex:n}}const s=m.a.contentEditable(e=>({plainTextPopupEditor:!0,extraCondition:e=>t(e.field,"status-attachment-mentions-input"),validationRules:P.a.allSizesDefaults,createReplacementService:t=>Te.a.create(t,{asyncReplace:!0,focusElement:e.field}),createContentService:t=>Ne.createIfSupported(e.pageContext.config.bundleInfo.browser,e.field,t),createLayout:e=>{const t=e.closest(".navigationFocus"),n=t&&t.parentElement||e;return new b.a(n,o(-2,-26))},expiration:r})),c=m.a.contentEditable(e=>({plainTextPopupEditor:!0,extraCondition:e=>"combobox"===e.field.getAttribute("role")&&!!e.field.closest("[data-testid=react-composer-root]"),validationRules:P.a.allSizesDefaults,createReplacementService:t=>Te.a.create(t,{asyncReplace:!0,focusElement:e.field}),createContentService:t=>Ne.createIfSupported(e.pageContext.config.bundleInfo.browser,e.field,t),createLayout:e=>{const t=e.closest(".navigationFocus"),n=t&&t.parentElement||e;return new j.a(n,{createGbuttonShiftBehavior:()=>Object(a.a)({left:9,top:2,zIndex:1})})},expiration:r})),l=(e,t)=>m.a.contentEditable(n=>({plainTextPopupEditor:!0,extraCondition:t?e=>t(e.field):void 0,validationRules:P.a.allSizesDefaults,createLayout:e,createReplacementService:e=>Te.a.create(e,{asyncReplace:!0,focusElement:n.field}),createContentService:e=>Ne.createIfSupported(n.pageContext.config.bundleInfo.browser,n.field,e)})),u=l(e=>{const t=e.closest('[role*="presentation"]'),n=t&&t.parentElement||e;return new b.a(n,o(-1,0,_.a.constant(1)))},e=>n(e)),d=l(e=>new b.a(e.parentElement&&e.parentElement.parentElement&&e.parentElement.parentElement.parentElement||e,o(3,0,_.a.constant(500))),e=>n(e)&&null!=e.closest(".photoUfiContainer"));e.message=l(e=>new b.a(e,o(6,0,_.a.constant(300))),e=>e.matches('[data-testid="info_panel"] ~ div .navigationFocus [contenteditable="true"]')),e.page=p(Object.assign({domain:/^facebook\.com$/},i.allUsers),[s,c,d,u,m.a.textarea(),e.message])}(Ce||(Ce={}));class Ne{constructor(e,t){this._target=e,this._getCurrentTextMap=t}static createIfSupported(e,t,n){return q.a.isSupported(e)?new Ne(t,n):null}exportContent(){return Pe(this,void 0,void 0,(function*(){return{content:this._getCurrentTextMap().getPlainText(),volatile:!1}}))}importContent(e){return Pe(this,void 0,void 0,(function*(){return new Promise(t=>{this._target.focus(),document.execCommand("selectAll"),setTimeout(()=>{setTimeout(()=>{e?this._target.dispatchEvent(this._createPasteEvent("text/plain",e)):this._target.dispatchEvent(this._createDeleteEvent()),t()},0)},0)})}))}_createPasteEvent(e,t){const n=new DataTransfer;return n.setData(e,t),new ClipboardEvent("paste",{target:this._target,clipboardData:n,dataType:e,data:t,bubbles:!0,cancelable:!0})}_createDeleteEvent(){return new KeyboardEvent("keydown",{target:this._target,bubbles:!0,cancelable:!0,keyCode:46})}}!function(e){const t=m.a.textarea(e=>({createLayout:e=>new j.a(e,{highlightHeightOffset:-3}),validate:e=>"Headline"===e.field.getAttribute("placeholder")}));e.page=p(Object.assign({domain:/^linkedin\.com$/},i.allUsers),[m.a.contentEditable(e=>({validationRules:g.allSizesDefaults,createLayout:()=>new j.a(e.field),createContentService:t=>new k.b(e.field)})),t,m.a.textarea(e=>({createLayout:()=>new j.a(e.field,{gbuttonMinPadding:J.c})}))])}(je||(je={})),function(e){const t=m.a.textarea(e=>({createLayout:e=>new b.a(e,{extendGButtonLayout:e=>Object.assign(Object.assign({},e),{position:e.position.map(e=>e._tag===M.a.fixed?e:Object.assign(Object.assign({},e),{effectivePadding:Object.assign(Object.assign({},e.effectivePadding),{right:e.effectivePadding.left,bottom:e.effectivePadding.left})}),v.a)})})}));e.page=p(Object.assign({domain:/^translate\.google\.com$/},i.allUsers),[t])}(ke||(ke={}));var Ae,Ie,Re,Fe=n(8),Me=n(200),De=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};function Le(e,t){const n=Object(Fe.r)(()=>{const e=new DataTransfer;return void 0!==t.html&&e.setData("text/html",t.html),void 0!==t.plain&&e.setData("text/plain",t.plain),e},()=>void 0);e.dispatchEvent(new ClipboardEvent("paste",{clipboardData:n,dataType:void 0!==t.html?"text/html":void 0!==t.plain?"text/plain":void 0,data:void 0!==t.html?t.html:t.plain,bubbles:!0,cancelable:!0}))}function Be(e){e.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:46}))}class Ue extends Te.b{constructor(e,t,n,i,r,o=!0){super(t,t=>F.a.create((n,i)=>{t||!o?Le(e,{plain:t}):Be(e),n()}),n,i,!0,r)}}class He{constructor(e,t,n,i=!0){this._target=e,this._getCurrentTextMap=t,this._pasteType=n,this._useDeletion=i}exportContent(){return De(this,void 0,void 0,(function*(){return this._pasteType===Ae.ContentType.html?{content:this._target.innerHTML,volatile:!1}:this._pasteType===Ae.ContentType.plain?{content:this._getCurrentTextMap().getPlainText(),volatile:!1}:Object(Fe.g)(this._pasteType)}))}_getTextMapRange(){const e=this._getCurrentTextMap();return Me.b.createRange(e,0,e.getPlainText().length,!0)||Me.b.createRange(e,0,e.getPlainText().length-1,!0)}_getDomRange(){const e=this._target.querySelectorAll('[data-text="true"]');if(e.length>0&&this._target.ownerDocument){const t=this._target.ownerDocument.createRange(),n=e.item(0),i=e.item(e.length-1);return t.setStart(n,0),t.setEnd(i,i.nodeType===Node.TEXT_NODE?(i.nodeValue||"").length:i.childNodes.length),t}return null}importContent(e){return De(this,void 0,void 0,(function*(){const t=this._getTextMapRange()||this._getDomRange();try{yield Object(Te.d)(Object(W.c)(t,"entire text range"),e,e=>F.a.create((t,n)=>{e||!this._useDeletion?Le(this._target,{[this._pasteType]:e}):Be(this._target),!e&&this._useDeletion&&setTimeout(()=>{this._target.focus()},0),t()}),void 0,!0,this._target)}finally{if(t)try{t.detach()}catch(e){}}}))}}!function(e){let t;!function(e){e.plain="plain",e.html="html"}(t=e.ContentType||(e.ContentType={}));const n=Math.pow(2,10);e.zIndex=_.a.create(()=>n,Object(O.b)(),v.a),e.generic=n=>m.a.contentEditable(i=>{const r=q.a.isSupported(i.pageContext.config.bundleInfo.browser),o=n&&n(i)||{},{genericOpts:a={},contentType:s=t.html,useInjectionLayout:c=!1,useDeletion:l=!0,extraCondition:u=(()=>!0)}=o,{createContentService:d=(e=>new He(i.field,e,s,l))}=o;return Object.assign({createLayout:t=>c?new j.a(i.field,{pretendFieldPositioned:!0}):new b.a(t,{zIndex:e.zIndex}),extraCondition:e=>r&&!!e.field.parentElement&&e.field.parentElement.classList.contains("DraftEditor-editorContainer")&&u(e),createReplacementService:e=>new Ue(i.field,e,void 0,void 0,i.field,l),createContentService:d},a)})}(Ae||(Ae={})),function(e){const t=".js-countdown-counter";function n(e,n=0,i=0,r){return{zIndex:r,extendGButtonLayout:r=>{const o=e.parentElement&&e.parentElement.parentElement&&e.parentElement.parentElement.querySelector(t);return Object.assign(Object.assign({},r),{position:r.position.map(e=>Object.assign(Object.assign({},e),{top:e.top+i,left:o&&""!==o.innerHTML?e.left+n:e.left}),v.a)})}}}let r,o;!function(e){e.contentEditable=m.a.contentEditable(e=>({createLayout:e=>new b.a(e,n(e,-28,3))}));const t=_.a.create(()=>5e3,Object(O.b)(),v.a);e.dmContenteditable=m.a.contentEditable(e=>({createLayout:e=>new b.a(e,n(e,-28,3,t)),validationRules:g.allSizesDefaults,extraCondition:e=>e.field.classList.contains("DMComposer-editor")||e.field.classList.contains("rich-editor"),expiration:e=>{const t=e.closest(".RichEditor");return t?A.a.observeAttribute(t,"class").pipe(Object(S.a)(e=>!t.classList.contains("is-fakeFocus")),Object(C.a)(void 0)):Object(O.b)()}})),e.page=p(Object.assign({domain:/^twitter\.com$/},i.allUsers),[e.dmContenteditable,e.contentEditable,m.a.textarea()])}(r=e.Classic||(e.Classic={})),function(e){const t=Ae.generic(e=>({genericOpts:{createLayout:e=>new b.a(e,n(e,-28,3,Ae.zIndex)),plainTextPopupEditor:!0,validationRules:g.allSizesDefaults},contentType:Ae.ContentType.plain,useDeletion:!0})),o=m.a.textarea(e=>({validate:e=>"dmComposerTextInput"===e.field.getAttribute("data-testid")&&Object(P.b)(e,g.allSizesDefaults)})),a=m.a.contentEditable(e=>({extraCondition:e=>!!e.field.parentElement&&e.field.parentElement.classList.contains("DraftEditor-editorContainer"),validationRules:g.allSizesDefaults,createContentService:e=>null}));e.page=p(Object.assign({domain:/^(mobile\.)?twitter\.com$/,andCanExecute:e=>!!e.doc.querySelector("#react-root")},i.allUsers),[t,o,a,m.a.textarea(),r.dmContenteditable,r.contentEditable])}(o=e.New||(e.New={})),e.pages=[o.page,r.page]}(Ie||(Ie={})),(Re||(Re={})).page=p(Object.assign({domain:/^youtube\.com$/},i.allUsers),[m.a.textarea(e=>({validate:e=>Object(P.b)(e,g.allSizesDefaults)})),m.a.contentEditable(()=>({validationRules:g.allSizesDefaults}))]);var Ve,ze,Ge,We=n(234),$e=n(266),qe=n(516);!function(e){let t;!function(e){const t=(e=(e=>({})))=>m.a.textarea(t=>{const n=function(e){return e.closest(".window-overlay")}(t.field),i=e(t);return Object.assign(Object.assign({mirrorContainer:n,createLayout:e=>{const t=Object(W.c)(n,".window-overlay");return new b.a(e,Object(J.a)({highlightsContainer:t,getTextFieldRect:(e,n,i)=>{const r=i||e.getBoundingClientRect();return Object(qe.b)(e,{top:t.scrollTop,left:t.scrollLeft},{top:r.top,left:r.left,height:r.height,width:r.width})},getTranslationToCards:()=>({top:-t.scrollTop,left:-t.scrollLeft})}))}},i),{validate:e=>!!n&&(i.validate?i.validate(e):Object(P.b)(e,g.allSizesDefaults))})}),n=(e,n)=>t(t=>({expiration:t=>{const i=t.closest(e),r=new RegExp(n,"g");return i&&i.nodeType===Node.ELEMENT_NODE?function(e,t,n=300){return Object(We.a)(n).pipe(Object($e.a)(t=>A.a.observeAttribute(e,"class").pipe(Object(se.a)(e.getAttribute("class")))),Object(S.a)(e=>!!e&&t(e)),Object(C.a)(void 0))}(i,e=>!r.test(e)):Object(O.b)()},validate:t=>!!t.field.closest(e)&&Object(P.b)(t,g.allSizesDefaults)}));e.title=n(".window-title","is-editing"),e.checklistEditItem=n(".checklist-item-details","editing"),e.checklistAddItem=n(".checklist-new-item","focus"),e.generic=t(e=>({}))}(t||(t={}));const n=m.a.textarea(e=>({validate:e=>Object(P.b)(e,g.allSizesDefaults)}));e.page=p(Object.assign({domain:/^trello\.com$/},i.allUsers),[t.title,t.checklistEditItem,t.checklistAddItem,t.generic,n])}(Ve||(Ve={})),function(e){function t(e){return"none"!==e.style.getPropertyValue("display")}const n=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("editor-richtext"),createLayout:e=>new b.a(e,{createGButtonLayout:n=>{const i=e.parentElement.querySelector(".inline-controls"),r=Object($.a)(n);if(i){const e=A.a.observeStyle(i).pipe(Object(ce.a)(e=>t(i)?{top:i.offsetTop,left:i.offsetLeft}:null),Object(ue.a)()),o=Object(ae.b)(e,r.position.behavior),a=_.a.create(()=>(function(e,n,i){const r=e.position.getApproximate();if(t(i)){const e=i.querySelector(".tray");if(e){const t=R.b.create({top:i.offsetTop+e.offsetTop,left:i.offsetLeft+e.offsetLeft}),o=R.c.fromOffset(t,n.textFieldRect.getApproximate().position,n.scroll.getApproximate());if(o.top+e.offsetHeight>r.top-xe.a.gButtonSize)return Object.assign(Object.assign({},r),{top:o.top})}}return r})(r,n,i),o,v.a);return Object.assign(Object.assign({},r),{position:a})}return r}})})),r=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("editor")&&null===e.field.closest(".gif-search-input")&&"Post tags"!==e.field.getAttribute("aria-label")&&!e.field.classList.contains("text-input")&&null===e.field.closest(".audio-search-field")&&null===e.field.closest(".media-wrapper")})),o=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("editor")&&"Quote"===e.field.getAttribute("aria-label"),createLayout:e=>new b.a(e.parentElement)})),a={match:e=>"TEXTAREA"===e.field.tagName&&e.field.classList.contains("ask-question")&&Object(P.b)(e)?{targetField:e.field,matchExpires:Object(c.e)(e.field),execute:()=>Object(J.b)(e)}:null};e.page=p(Object.assign({domain:/^tumblr\.com$/},i.allUsers),[n,o,r,a])}(ze||(ze={})),(Ge||(Ge={})).page=p(Object.assign({domain:/^calendar\.google\.com$/},i.allUsers),[m.a.contentEditable(e=>({createContentService:t=>new k.c(e.field),createLayout:()=>new j.a(e.field)})),m.a.textarea(e=>({createLayout:()=>new j.a(e.field,{gbuttonMinPadding:J.c})}))]);var Ye,Ke=n(89),Qe=n(349);!function(e){let t;!function(e){function t(e){return e.querySelector('div[contenteditable="true"]')}function n(e){const t=Object(Ke.b)(e).body,n=e.parentElement;return n===t?t:Object(Ke.c)(n||e)}function i(e){const t=Object(Ke.d)(e),n=Object($.d)(e,4);return Object(a.a)(!!n&&"fixed"===t.getComputedStyle(n).position)}function r(e,t,n,i,r){r.appendChild(i)}e.content=m.a.contentEditable(({field:e})=>{const o=e.parentElement,s=!!o&&function(e){return e.querySelector('div[contenteditable="true"] ~ div[contenteditable="true"]')}(o)===e,c=n(e),l=!!o&&t(o),u=l?A.a.observeStyle(l).pipe(Object(se.a)(l.style),Object(ce.a)(e=>"none"!==e.display),Object(ue.a)()):Object(a.a)(!1),d=i(e),h=d.pipe(Object(le.a)(e=>e?Object(a.a)(!0).pipe(Object(Qe.a)(1e3),Object(se.a)(!1)):u));return{validationRules:[e=>s,...P.a.allSizesDefaults],createLayout:t=>new j.a(e,{positionedAncestor:c,injectIntegrationRoot:r}),customizations:{gbuttonContainerVisible:h,gbuttonContainerHoverable:d}}}),e.title=m.a.contentEditable(({field:e})=>{const o=e.parentElement,s=!!o&&t(o)===e,c=n(e),l=i(e).pipe(Object(le.a)(e=>e?Object(a.a)(!0).pipe(Object(Qe.a)(1e3),Object(se.a)(!1)):Object(a.a)(!0)));return{validationRules:[e=>s,...P.a.allSizesDefaults],createLayout:t=>new j.a(e,{minimizeEnabled:!0,positionedAncestor:c,injectIntegrationRoot:r,createGbuttonShiftBehavior:e=>Object(a.a)({left:-30,top:-3})}),customizations:{gbuttonContainerVisible:l}}})}(t||(t={})),e.page=p(Object.assign({domain:/^keep\.google\.com$/},i.allUsers),[t.content,t.title,m.a.contentEditable(),m.a.textarea()])}(Ye||(Ye={}));var Xe=n(249),Je=n(62),Ze=n(9),et=n(313),tt=n(527);class nt{constructor(e){this._page=e,this.MIN_INIT_REQUIRED_FIELD_HEIGHT=35,this.MIN_INIT_REQUIRED_FIELD_WIDTH=300,e&&(this.MIN_INIT_REQUIRED_FIELD_HEIGHT=Object(tt.a)(e.minFieldHeight)?e.minFieldHeight:this.MIN_INIT_REQUIRED_FIELD_HEIGHT,this.MIN_INIT_REQUIRED_FIELD_WIDTH=Object(tt.a)(e.minFieldWidth)?e.minFieldWidth:this.MIN_INIT_REQUIRED_FIELD_WIDTH)}isFieldIsSmall(e){const{clientHeight:t,clientWidth:n}=e;return t<this.MIN_INIT_REQUIRED_FIELD_HEIGHT||n<this.MIN_INIT_REQUIRED_FIELD_WIDTH}isFieldEnabled(e){if(!this._page)return!0;if(!1===this._page.enabled)return!1;if(!this._page.fields&&!0===this._page.enabled)return!0;const t=this._page.fields;return!(t&&t.some(({name:t,id:n,className:i,attr:r})=>!!(t&&t===e.name||n&&n===e.id||i&&Object(Ze.f)(e,i)||r&&Array.isArray(r)&&(([t,n])=>e.getAttribute(t)===n)(r))))}}class it{constructor(e=Je.h){this._isFbSite=e}validate(e,t){const n=e.field,i=new nt(e.state.page),r=at(n,t,Xe.f),o=i.isFieldEnabled(n);return function(e,t){const n=ot(e),i=et.a.isSpecific.draftJs(e);return n||!i||t}(n,this._isFbSite())&&!r&&!rt(n,t)&&!i.isFieldIsSmall(n)&&(o||Object(Ze.f)(n,"grammDemo"))}shouldTrackNonValid(e,t){const n=e.field,i=new nt(e.state.page);return rt(n,t)||!i.isFieldEnabled(n)}}function rt(e,t){return at(e,t,Xe.b)&&!ot(e)}function ot(e){return e.hasAttribute(Xe.d.name)&&e.getAttribute(Xe.d.name)===Xe.d.value}function at(e,t,n){return n.filter(e=>!t||"readonly"!==e).some(t=>Array.isArray(t)?e.hasAttribute(t[0])&&e.getAttribute(t[0]).includes(t[1]):e.hasAttribute(t))||"rtl"===e.getAttribute("dir")}class st{constructor(e,t,n=new it,i=G.a.create("validationDecorator.ts")){this._rule=e,this._isContentEditable=t,this._validator=n,this._log=i}match(e){const t=this._rule.match(e);return t?this._validator.validate(e,this._isContentEditable)?t:(this._log.trace("field not validated, not integrating",e.field),null):null}}var ct,lt,ut,dt,ht,pt,ft,mt,gt,bt=n(11),vt=n(518);function _t(e,t,n){return n.filter(e=>!t||"readonly"!==e).some(t=>Array.isArray(t)?e.hasAttribute(t[0])&&e.getAttribute(t[0]).includes(t[1]):e.hasAttribute(t))||"rtl"===e.getAttribute("dir")}(lt=ct||(ct={})).rules=[Ae.generic(),m.a.contentEditable(),m.a.iframe(),m.a.textarea()],lt.newLayoutRulesFactory=e=>[Ae.generic(e=>({useInjectionLayout:!0})),m.a.contentEditable(t=>Object.assign(Object.assign({},e||{}),{createLayout:()=>new j.a(t.field)})),m.a.iframe(t=>Object.assign(Object.assign({},e||{}),{createLayout:()=>new j.a(t.field,{iframe:!0})})),m.a.textarea(t=>Object.assign(Object.assign({},e||{}),{createLayout:()=>new j.a(t.field,{gbuttonMinPadding:J.c})}))],lt.newLayoutRules=lt.newLayoutRulesFactory(),lt.newLayoutLegacyScopeRules=[new st(m.a.contentEditable(e=>({createLayout:()=>new j.a(e.field)})),!0),new st(m.a.iframe(e=>({createLayout:()=>new j.a(e.field,{iframe:!0}),extraCondition:e=>!!function(e,t,n){const i=n.page,r=new nt(i),o=t.createElement("a"),a=t.location.hostname,s=new RegExp("://"+a);if(o.href=e.src,0===e.src.indexOf("http")&&!s.test(e.src)||"about:blank"===e.src)return;if(e.src&&-1===e.src.indexOf("javascript:")&&(o.protocol!==document.location.protocol||o.hostname!==document.location.hostname||o.port!==document.location.port))return;if(Object(vt.b)(e))return;let c=null;try{c=e.contentDocument}catch(e){return}if(c&&!c.body)return;if(!c||_t(e,!1,Xe.a)||_t(c.body,!1,Xe.a)||!r.isFieldEnabled(e))return;const l=c.querySelector("html")||{hasAttribute:e=>!1};return"on"!==c.designMode&&!c.body.hasAttribute("contenteditable")&&"false"!==c.body.getAttribute("contenteditable")&&!l.hasAttribute("contenteditable")&&"false"!==l.getAttribute("contenteditable")||r.isFieldIsSmall(e)?void 0:(Object(bt.k)()&&"on"===c.designMode&&(c.designMode="off",c.body.setAttribute("contenteditable","true")),!0)}(e.field,e.pageContext.doc,e.state)})),!0),new st(m.a.textarea(e=>({createLayout:()=>new j.a(e.field,{gbuttonMinPadding:J.c})})),!1)],lt.rulesAllSizes=[Ae.generic(e=>({genericOpts:{validationRules:P.a.allSizesDefaults}})),m.a.contentEditable(e=>({validationRules:P.a.allSizesDefaults})),m.a.iframe(e=>({validationRules:P.a.allSizesDefaults})),m.a.textarea(e=>({validationRules:P.a.allSizesDefaults}))],lt.catchAll=p(Object.assign({url:/.*/},i.allUsers),[Ae.generic(e=>({useInjectionLayout:!0,extraCondition:e=>!!e.state.dynamicConfig.newRichTextFieldsEnabled})),w.generic(e=>({extraCondition:e=>!!e.state.dynamicConfig.newRichTextFieldsEnabled,overwriteGenericOpts:{createLayout:e=>new j.a(e)}})),...lt.newLayoutLegacyScopeRules]),(ut||(ut={})).page=p(Object.assign({domain:/^outlook\.live\.com$/},i.allUsers),[m.a.contentEditable(e=>({createContentService:t=>new k.c(e.field),createLayout:()=>new j.a(e.field)})),m.a.textarea(e=>({createLayout:()=>new j.a(e.field,{gbuttonMinPadding:J.c})}))]),function(e){let t;!function(e){e.page=p(Object.assign({domain:/^reddit\.com$/,andCanExecute:e=>!e.doc.querySelector('body>div.content[role="main"]')},i.allUsers),ct.newLayoutRules)}(t||(t={})),e.pages=[t.page]}(dt||(dt={})),function(e){const t=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("editor"),createLayout:e=>new b.a(e,{createGButtonLayout:e=>Object($.a)(e,void 0,void 0,{top:41,left:0})}),createContentService:t=>new k.b(e.field,void 0,!0,!0)})),n=m.a.textarea(e=>({validate:e=>!!e.field.closest(".chat_view"),createLayout:()=>new j.a(e.field)}));e.page=p(Object.assign({domain:/^\S+\.zendesk\.com$/},i.allUsers),[t,n,m.a.contentEditable(),m.a.iframe(),m.a.textarea()])}(ht||(ht={})),(pt||(pt={})).page=p(Object.assign({domain:/^\S+\.lightning\.force\.com$/},i.allUsers),ct.rules),(ft||(ft={})).page=p(Object.assign({domain:/^messenger\.com$/},i.allUsers),[Ce.message]),function(e){const t=m.a.contentEditable(e=>({createContentService:t=>{const n=new k.c(e.field,{dispatchInputEvent:!0});return q.a.isSupported(e.pageContext.config.bundleInfo.browser)?new k.d(new k.a({target:e.field,reactCompat:!0,mediaType:"text/plain",possiblyVolatile:!0}),n):n},createLayout:()=>{const t=e.field;return new b.a(t,{zIndex:_.a.constant(2e3),createGButtonLayout:e=>Object($.a)(e,void 0,void 0,{top:2,left:0})})},validationRules:P.a.allSizesDefaults}));e.page=p(Object.assign({domain:/^web\.whatsapp\.com$/},i.allUsers),[t])}(mt||(mt={})),(gt||(gt={})).page=p(Object.assign({domain:/^upwork\.com$/},i.allUsers),[m.a.textarea(e=>({validate:e=>!!e.field.classList.contains("msg-composer-input"),createLayout:()=>new j.a(e.field,{gbuttonMinPadding:2})})),...ct.newLayoutRulesFactory({validationRules:P.a.allSizesDefaults})]);var yt,wt,Et=n(79);!function(e){function t(e){return de.a.sec1.pipe(Object(se.a)(0),Object(ce.a)(t=>e.closest(".state")),Object(S.a)(e=>!!e),Object(le.a)(e=>e?A.a.observeAttribute(e,"class").pipe(Object(se.a)(e.className)):Object(a.a)(null)))}const n=m.a.iframe(e=>({validationRules:[e=>!!e.field.closest("iframe.composeBox"),...P.a.allSizesDefaults],expiration:n=>t(e.field).pipe(Object(Et.a)(e=>!!e&&!e.includes("composeMode")),Object(C.a)(void 0))})),r=m.a.textarea(e=>({validationRules:[e=>!!e.field.closest("textarea.htmlBox"),...P.a.allSizesDefaults],expiration:n=>t(e.field).pipe(Object(Et.a)(e=>!!e&&!e.includes("htmlMode")),Object(C.a)(void 0))}));e.page=p(Object.assign({domain:/(^|\.)blogger\.com$/},i.allUsers),[n,r,m.a.contentEditable(),m.a.iframe(),m.a.textarea()])}(yt||(yt={})),(wt||(wt={})).page=p(Object.assign({domain:/^wix\.com$/},i.allUsers),[Ae.generic(e=>({useInjectionLayout:!0,createContentService:()=>null})),...ct.newLayoutRules]),n(532),Object(o.a)({browser:"chrome",browserApi:Object(r.a)(!1)},(function(e,t,n,i){return[...Ee.pages,Ce.page,je.page,ke.page,...Ie.pages,Re.page,Ve.page,Ge.page,ze.page,...dt.pages,T.page,L.page,ne.page,Z.page,f.page,Q.page,X.page,ht.page,pt.page,ut.page,yt.page,wt.page,ft.page,mt.page,gt.page,I.page,Ye.page,Z.pageFuzzy,ne.pageFuzzy,ct.catchAll].filter(e=>!!e).map(r=>r({appState:e,actions:t,appElements:n,config:i,felog:Object(E.a)(),gnar:x.a}))}))}]);