kia.prototype.Vda=W(6,function(){throw Gca("setValue not supported").C;});xda.prototype.H=W(1,function(){throw Gca("remove").C;});$da.prototype.H=W(0,function(){this.J.splice(this.F,1);this.F--});function Brh(a,b){a.oS=b.oS;return a}function Crh(a,b,c){for(a=a.tj();a.C();){var d=a.D();if(wb(b,d))return c&&a.H(),!0}return!1}function Drh(a,b,c){return a.yX(b)?a.kva(b,c):null}function Erh(a,b){var c=b.gs();b=b.hs();var d=a.get(c);return!wb(b,d)||null==d&&!a.yX(c)?!1:!0}
function Frh(a){return a?a.hs():null}function Grh(a){if(a.F.C())return!0;if(!Sa(a.F,a.R))return!1;a.F=a.L.C.tj();return a.F.C()}function Hrh(a,b){return(a=a.C.get(b))?a:[]}function Irh(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(wb(a,d.gs()))return d}return null}function Jrh(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}function Krh(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}
function Lrh(a,b){for(b=b.tj();b.C();){var c=b.D().hs();if(wb(a,c))return!0}return!1}function Mrh(){this.J=this.F=0}u(Mrh,Ra);Mrh.prototype.C=function(){return this.F<this.L.size()};Mrh.prototype.D=function(){this.C();return this.L.goa(this.J=this.F++)};Mrh.prototype.H=function(){this.L.Kga(this.J);this.F=this.J;this.J=-1};function Nrh(){Mrh.call(this)}u(Nrh,Mrh);function Orh(){this.J=!1}u(Orh,Ra);Orh.prototype.C=g("J");
Orh.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=Grh(this);return a};Orh.prototype.H=function(){this.O.H();this.O=null;this.J=Grh(this)};function Prh(){}u(Prh,Ra);Prh.prototype.C=function(){return this.F.C()};Prh.prototype.D=function(){return this.F.D().hs()};Prh.prototype.H=function(){this.F.H()};function Qrh(){}u(Qrh,Ra);Qrh.prototype.C=function(){return this.F.C()};Qrh.prototype.D=function(){return this.F.D().gs()};Qrh.prototype.H=function(){this.F.H()};
function Rrh(){this.F=this.J=0}u(Rrh,Ra);Rrh.prototype.C=function(){return this.J<this.L.C.length};Rrh.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};Rrh.prototype.H=function(){this.L.Kga(this.J=this.F);this.F=-1};function Srh(a){var b;null==a?b=0:b=Ab(a)|0;return b}function Trh(a,b){for(var c=Srh(b),d=Hrh(a,c),e=0;e<d.length;e++){var f=d[e];if(wb(b,f.gs()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.hs()}return null}
function Urh(){this.F=0}u(Urh,Ra);Urh.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};Urh.prototype.D=function(){return this.L=this.J[this.F++]};Urh.prototype.H=function(){Trh(this.O,this.L.gs());0!=this.F&&this.F--};function Vrh(){this.D=0}u(Vrh,Ra);Vrh.prototype.tj=function(){var a=new Urh;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function Wrh(a){var b=0;for(a=a.tj();a.C();){var c=a.D();b+=Wba(c);b|=0}return b}function Xrh(){}u(Xrh,Ra);Xrh.prototype.equals=function(a){return null!=a&&a.kZ?wb(this.gs(),a.gs())&&wb(this.hs(),a.hs()):!1};Xrh.prototype.xk=function(){return Wba(this.gs())^Wba(this.hs())};Xrh.prototype.toString=function(){return Ta(this.gs())+"="+Ta(this.hs())};Xrh.prototype.kZ=!0;function Yrh(){this.F=0}u(Yrh,Xrh);Yrh.prototype.gs=function(){return this.C.value[0]};
Yrh.prototype.hs=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};Yrh.prototype.Vda=function(a){return Krh(this.D,this.C.value[0],a)};function Zrh(){}u(Zrh,Ra);Zrh.prototype.C=function(){return!this.J.done};Zrh.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new Yrh,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};Zrh.prototype.H=function(){Jrh(this.F,this.O.value[0])};function $rh(){this.D=this.F=0}u($rh,Ra);
$rh.prototype.tj=function(){var a=new Zrh;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function ash(a){var b=new Vrh;b.C=new Map;b.F=a;a.C=b;b=new $rh;b.C=new Map;b.H=a;a.D=b}function bsh(a,b){return Sa(b,a)?"(this Map)":Ta(b)}function csh(){}u(csh,Ra);csh.prototype.toString=function(){return this.C?Vb(this.D)?this.C.toString():Ta(this.C.toString())+Ta(this.D):this.J};function dsh(a,b){var c=new csh;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ta(c.F)+Ta(c.D);return c}
function esh(a,b){a.C?Eb(a.C,a.H):a.C=cca(a.F);a=a.C;a.Cp=Ta(a.Cp)+Ta(b)}function fsh(){}u(fsh,Ra);p=fsh.prototype;p.gs=g("D");p.hs=g("C");p.Vda=function(a){var b=this.C;this.C=a;return b};p.equals=function(a){return null!=a&&a.kZ?wb(this.D,a.gs())&&wb(this.C,a.hs()):!1};p.xk=function(){return Wba(this.D)^Wba(this.C)};p.toString=function(){return Ta(this.D)+"="+Ta(this.C)};p.kZ=!0;function gsh(){}u(gsh,fsh);function hsh(a,b){var c=new gsh;c.D=a;c.C=b;return c}
function ish(a,b,c){var d=Srh(b),e=Hrh(a,d);if(0==e.length)a.C.set(d,e);else if(d=Irh(b,e))return d.Vda(c);e[e.length]=hsh(b,c);a.D++;return null}function jsh(a,b,c){for(a=a.uG().tj();a.C();){var d=a.D();if(wb(b,d.gs()))return c&&(d=hsh(d.gs(),d.hs()),a.H()),d}return null}function ksh(){}u(ksh,Ra);p=ksh.prototype;p.add=function(){throw Gca("Add not supported on this collection").C;};p.clear=function(){for(var a=this.tj();a.C();)a.D(),a.H()};p.contains=function(a){return Crh(this,a,!1)};
p.isEmpty=function(){return 0==this.size()};p.remove=function(a){return Crh(this,a,!0)};p.Jc=function(a){for(var b=!1,c=this.tj();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};p.Nf=function(){return this.CQa(Array(this.size()))};p.CQa=function(a){var b=this.size();a.length<b&&(a=Brh(Array(b),a));for(var c=a,d=this.tj(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};
p.toString=function(){for(var a=dsh("[","]"),b=this.tj();b.C();){var c=b.D();esh(a,Sa(c,this)?"(this Collection)":Ta(c))}return a.toString()};function lsh(){}u(lsh,ksh);lsh.prototype.clear=function(){this.C.clear()};lsh.prototype.contains=function(a){return this.C.Ut(a)};lsh.prototype.tj=function(){var a=this.C.uG().tj(),b=new Prh;b.F=a;return b};lsh.prototype.size=function(){return this.C.size()};function msh(){}u(msh,ksh);
msh.prototype.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.GAa)return!1;if(a.size()!=this.size())a=!1;else a:{for(a=a.tj();a.C();){var b=a.D();if(!this.contains(b)){a=!1;break a}}a=!0}return a};msh.prototype.xk=function(){return Wrh(this)};msh.prototype.Jc=function(a){var b=this.size();if(b<a.size())for(var c=this.tj();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.tj();a.C();)c=a.D(),this.remove(c);return b!=this.size()};msh.prototype.GAa=!0;function nsh(){}u(nsh,msh);p=nsh.prototype;
p.clear=function(){this.C.clear()};p.contains=function(a){return null!=a&&a.kZ?Erh(this.C,a):!1};p.tj=function(){var a=new Orh;a.L=this.C;a.R=a.L.D.tj();a.F=a.R;a.J=Grh(a);return a};p.remove=function(a){return this.contains(a)?(this.C.remove(a.gs()),!0):!1};p.size=function(){return this.C.size()};function osh(){}u(osh,msh);p=osh.prototype;p.clear=function(){this.C.clear()};p.contains=function(a){return this.C.yX(a)};p.tj=function(){var a=this.C.uG().tj(),b=new Qrh;b.F=a;return b};
p.remove=function(a){return this.C.yX(a)?(this.C.remove(a),!0):!1};p.size=function(){return this.C.size()};function psh(){}u(psh,Ra);p=psh.prototype;p.clear=function(){this.uG().clear()};p.yX=function(a){return!!jsh(this,a,!1)};p.Ut=function(a){for(var b=this.uG().tj();b.C();){var c=b.D().hs();if(wb(a,c))return!0}return!1};p.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.P0a||this.size()!=a.size())return!1;for(a=a.uG().tj();a.C();){var b=a.D();if(!Erh(this,b))return!1}return!0};
p.get=function(a){return Frh(jsh(this,a,!1))};p.xk=function(){return Wrh(this.uG())};p.isEmpty=function(){return 0==this.size()};p.QKb=function(){var a=new osh;a.C=this;return a};p.kva=function(){throw Gca("Put not supported on this map").C;};p.remove=function(a){return Frh(jsh(this,a,!0))};p.size=function(){return this.uG().size()};p.toString=function(){for(var a=dsh("{","}"),b=this.uG().tj();b.C();){var c=b.D();c=Ta(bsh(this,c.gs()))+"="+Ta(bsh(this,c.hs()));esh(a,c)}return a.toString()};
p.values=function(){var a=new lsh;a.C=this;return a};p.replace=function(a,b){return Drh(this,a,b)};p.P0a=!0;function qsh(){}u(qsh,psh);p=qsh.prototype;p.clear=function(){ash(this)};p.yX=function(a){var b;Xb(a)?b=null==a?!!Irh(null,Hrh(this.C,Srh(null))):void 0!==this.D.C.get(a):b=!!Irh(a,Hrh(this.C,Srh(a)));return b};p.Ut=function(a){return Lrh(a,this.D)||Lrh(a,this.C)};p.uG=function(){var a=new nsh;a.C=this;return a};
p.get=function(a){var b;Xb(a)?b=null==a?Frh(Irh(null,Hrh(this.C,Srh(null)))):this.D.C.get(a):b=Frh(Irh(a,Hrh(this.C,Srh(a))));return b};p.kva=function(a,b){var c;Xb(a)?c=null==a?ish(this.C,null,b):Krh(this.D,a,b):c=ish(this.C,a,b);return c};p.remove=function(a){var b;Xb(a)?b=null==a?Trh(this.C,null):Jrh(this.D,a):b=Trh(this.C,a);return b};p.size=function(){return this.C.D+this.D.F};p.replace=function(a,b){return Drh(this,a,b)};function rsh(){}u(rsh,qsh);
rsh.prototype.replace=function(a,b){return Drh(this,a,b)};function ssh(){}u(ssh,ksh);p=ssh.prototype;p.add=function(a){this.oCa(this.size(),a);return!0};p.oCa=function(){throw Gca("Add not supported on this list").C;};p.clear=function(){this.BQa(0,this.size())};p.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.FAa||this.size()!=a.size())return!1;a=a.tj();for(var b=this.tj();b.C();){var c=b.D(),d=a.D();if(!wb(c,d))return!1}return!0};
p.xk=function(){for(var a=1,b=this.tj();b.C();){var c=b.D();a=31*a+Wba(c);a|=0}return a};p.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(wb(a,this.goa(b)))return b;return-1};p.tj=function(){var a=new Mrh;a.L=this;a.F=0;a.J=-1;return a};p.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(wb(a,this.goa(b)))return b;return-1};p.Kga=function(){throw Gca("Remove not supported on this list").C;};
p.BQa=function(a,b){var c=new Nrh;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};p.FAa=!0;function tsh(){}u(tsh,ssh);p=tsh.prototype;p.add=function(a){this.C[this.C.length]=a;return!0};p.oCa=function(a,b){this.C.splice(a,0,b)};p.clear=function(){this.C=[]};p.contains=function(a){return-1!=this.indexOf(a)};p.goa=function(a){return this.C[a]};p.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(wb(a,this.C[b])){a=b;break a}a=-1}return a};
p.tj=function(){var a=new Rrh;a.L=this;a.J=0;a.F=-1;return a};p.isEmpty=function(){return 0==this.C.length};p.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(wb(a,this.C[b])){a=b;break a}a=-1}return a};p.Kga=function(a){this.C.splice(a,1)};p.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.Kga(a);return!0};p.size=function(){return this.C.length};p.Nf=function(){var a=this.C;return Brh(a.slice(0,this.C.length),a)};
p.CQa=function(a){var b=this.C.length;a.length<b&&(a=Brh(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};p.BQa=function(a,b){this.C.splice(a,b-a)};p.FAa=!0;function ush(a){var b=new Kpa;return cj(b,6,a)}function vsh(){var a=kw.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function wsh(a){a.bYa=!1;a.aYa=!1}function xsh(a,b){return!(!a.C[b]&&!a.J[b])}var ysh={};function O6(a){J(this,a,0,1,null,null)}y(O6,I);
O6.prototype.ea=function(){var a=new F;zsh(this,a);return Y(a)};function zsh(a,b){Pi(a,b,ysh,O6.prototype.getExtension)}function Ash(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&Fi(b,2,c);c=K(a,3);null!=c&&Fi(b,3,c)}function Bsh(a){J(this,a,0,-1,null,null)}y(Bsh,I);p=Bsh.prototype;p.ea=function(){var a=new F;Ash(this,a);return Y(a)};p.getUrl=function(){return K(this,1)};p.getWidth=function(){return K(this,2)};p.setWidth=function(a){return M(this,2,a)};
p.getHeight=function(){return K(this,3)};p.setHeight=function(a){return M(this,3,a)};function Csh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)}function Dsh(a){J(this,a,0,-1,null,null)}y(Dsh,I);Dsh.prototype.ea=function(){var a=new F;Csh(this,a);return Y(a)};
function Esh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,Bsh,3);null!=c&&b.C(3,c,Ash);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.D(5,c);c=K(a,9);null!=c&&b.D(9,c);c=K(a,6);null!=c&&b.D(6,c);c=N(a,Dsh,7);null!=c&&b.C(7,c,Csh);c=K(a,8);null!=c&&b.D(8,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,10);null!=c&&b.D(10,c);c=K(a,12);null!=c&&b.D(12,c)}function Fsh(a){J(this,a,0,-1,null,null)}y(Fsh,I);p=Fsh.prototype;p.ea=function(){var a=new F;Esh(this,a);return Y(a)};
p.getName=function(){return K(this,1)};p.ld=function(a){return M(this,1,a)};p.getUrl=function(){return K(this,2)};p.getId=function(){return K(this,9)};p.Uc=function(a){return M(this,9,a)};var Gsh=[8],Hsh=[5];function Ish(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function P6(a){J(this,a,0,-1,null,null)}y(P6,I);p=P6.prototype;p.ea=function(){var a=new F;Ish(this,a);return Y(a)};p.getType=function(){return K(this,1)};p.setType=function(a){return M(this,1,a)};
p.clearType=function(){return M(this,1,void 0)};p.hasType=function(){return null!=K(this,1)};p.getValue=function(){return K(this,2)};p.setValue=function(a){return M(this,2,a)};p.hasValue=function(){return null!=K(this,2)};function Jsh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,O6,3);null!=c&&b.C(3,c,zsh);c=K(a,4);null!=c&&b.D(4,c)}function Ksh(a){J(this,a,0,-1,null,null)}y(Ksh,I);p=Ksh.prototype;p.ea=function(){var a=new F;Jsh(this,a);return Y(a)};
p.getType=function(){return K(this,1)};p.setType=function(a){return M(this,1,a)};p.clearType=function(){return M(this,1,void 0)};p.hasType=function(){return null!=K(this,1)};p.getValue=function(){return K(this,2)};p.setValue=function(a){return M(this,2,a)};p.hasValue=function(){return null!=K(this,2)};function Lsh(a,b){a=N(a,eZ,1);null!=a&&b.C(1,a,q4e)}function Msh(a){J(this,a,0,-1,null,null)}y(Msh,I);Msh.prototype.ea=function(){var a=new F;Lsh(this,a);return Y(a)};
function Q6(a){return N(a,Ksh,9)}function Nsh(a,b){var c=N(a,eZ,1);null!=c&&b.C(1,c,q4e);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&Gi(b,3,c);c=K(a,4);null!=c&&Gi(b,4,c)}function Osh(a){J(this,a,0,-1,null,null)}y(Osh,I);Osh.prototype.ea=function(){var a=new F;Nsh(this,a);return Y(a)};Osh.prototype.D=function(a){M(this,2,a)};
function Psh(a,b){var c=K(a,1);null!=c&&Gi(b,1,c);c=K(a,2);null!=c&&Gi(b,2,c);c=K(a,3);null!=c&&Gi(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=bj(a,Osh,5);0<c.length&&Li(b,5,c,Nsh)}function Qsh(a){J(this,a,0,-1,Hsh,null)}y(Qsh,I);Qsh.prototype.ea=function(){var a=new F;Psh(this,a);return Y(a)};function Rsh(a){J(this,a,0,-1,Gsh,null)}y(Rsh,I);p=Rsh.prototype;p.ea=function(){var a=new F;Ssh(this,a);return Y(a)};
function Ssh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=a.getContent();null!=c&&b.C(3,c,Ish);c=N(a,P6,4);null!=c&&b.C(4,c,Ish);c=N(a,eZ,5);null!=c&&b.C(5,c,q4e);c=N(a,Fsh,14);null!=c&&b.C(14,c,Esh);c=K(a,6);null!=c&&Gi(b,6,c);c=K(a,7);null!=c&&Gi(b,7,c);c=R6(a);0<c.length&&Li(b,8,c,Ssh);c=Q6(a);null!=c&&b.C(9,c,Jsh);c=N(a,bW,21);null!=c&&b.C(21,c,ZBe);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&Gi(b,13,c);c=K(a,15);
null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.D(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,Msh,18);null!=c&&b.C(18,c,Lsh);c=N(a,Qsh,19);null!=c&&b.C(19,c,Psh);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}p.getId=function(){return K(this,1)};p.Uc=function(a){return M(this,1,a)};p.getContent=function(){return N(this,P6,3)};p.setContent=function(a){return cj(this,3,a)};p.Pr=function(){return null!=K(this,3)};function R6(a){return bj(a,Rsh,8)}
p.getOrigin=function(){return K(this,17)};function S6(a){return N(a,Rsh,2)}function T6(a){J(this,a,0,-1,null,null)}y(T6,I);function Tsh(a){J(this,a,0,-1,null,null)}y(Tsh,I);p=T6.prototype;p.ea=function(){var a=new F;Ush(this,a);return Y(a)};
function Ush(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=S6(a);null!=c&&b.C(2,c,Ssh);c=K(a,3);null!=c&&Gi(b,3,c);c=K(a,4);null!=c&&Gi(b,4,c);c=a.fp();null!=c&&b.C(5,c,Vsh);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.D(8,c);c=K(a,9);null!=c&&G(b,9,c)}p.getId=function(){return K(this,1)};p.Uc=function(a){return M(this,1,a)};p.fp=function(){return N(this,Tsh,5)};p.Ft=function(a){return cj(this,5,a)};p=Tsh.prototype;p.ea=function(){var a=new F;Vsh(this,a);return Y(a)};
function Vsh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=a.getTitle();null!=c&&b.C(2,c,Ish);c=N(a,T6,3);null!=c&&b.C(3,c,Ush)}p.getId=function(){return K(this,1)};p.Uc=function(a){return M(this,1,a)};p.getTitle=function(){return N(this,P6,2)};p.setTitle=function(a){return cj(this,2,a)};function Wsh(a){J(this,a,"gs",-1,null,null)}y(Wsh,I);Wsh.prototype.ea=function(){var a=new F;var b=this.Ko();null!=b&&a.C(1,b,r4e);return Y(a)};Wsh.Ge="gs";Wsh.prototype.Ko=function(){return N(this,fZ,1)};
var Xsh=[1,2],Ysh=[1];function Zsh(a){J(this,a,"sr",-1,Ysh,null)}y(Zsh,I);Zsh.prototype.ea=function(){var a=new F;var b=bj(this,T6,1);0<b.length&&Li(a,1,b,Ush);b=K(this,2);null!=b&&Gi(a,2,b);b=K(this,3);null!=b&&Gi(a,3,b);return Y(a)};Zsh.Ge="sr";function $sh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function ath(a){J(this,a,0,-1,null,null)}y(ath,I);ath.prototype.ea=function(){var a=new F;$sh(this,a);return Y(a)};ath.prototype.getId=function(){return K(this,1)};
ath.prototype.Uc=function(a){return M(this,1,a)};function bth(a){J(this,a,"u",-1,Xsh,null)}y(bth,I);bth.prototype.ea=function(){var a=new F;var b=bj(this,T6,1);0<b.length&&Li(a,1,b,Ush);b=bj(this,ath,2);0<b.length&&Li(a,2,b,$sh);return Y(a)};bth.Ge="u";
function cth(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new ccf(c,a.H):dcf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||bcf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new Dbf(d.D.metadata,d.F):Jbf),e=b(d.C));if(e)return d.getUrl()}}return null}function dth(a){null===a.F&&(a.F=cth(a.C,function(b){return!!b&&!Ebf(b)}),null===a.F&&(a.F=ucf(a,cth)));return a.F}function eth(){}u(eth,msh);p=eth.prototype;p.add=function(a){return null==this.C.kva(a,this)};p.clear=function(){this.C.clear()};
p.contains=function(a){return this.C.yX(a)};p.isEmpty=function(){return this.C.isEmpty()};p.tj=function(){return this.C.QKb().tj()};p.remove=function(a){return null!=this.C.remove(a)};p.size=function(){return this.C.size()};p.GAa=!0;function fth(a,b,c,d){QA.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}y(fth,QA);fth.prototype.Sv=function(){this.pz=[this.C?T5a(this.element):this.element.offsetLeft,this.element.offsetTop];fth.Ua.Sv.call(this)};function gth(a,b){A.call(this);this.Bg=a;this.C=b}
y(gth,A);p=gth.prototype;p.connect=function(a){a&&a()};p.isConnected=m(!0);p.tf=function(a,b,c){this.Bg.D.tf(this.C+":"+a,v(this.AFa,this,b),c)};p.FL=function(a){this.D=v(this.AFa,this,a)};p.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Bg.D.send(this.C+":"+a,b)};p.AFa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};p.Ja=function(){this.Bg=this.Bg.C[this.C]=null};
function hth(a){A.call(this);this.D=a;this.C={};this.D.FL(v(this.F,this))}y(hth,A);function ith(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new gth(a,b);return a.C[b]=c}hth.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};
hth.prototype.Ja=function(){Hd(this.C,function(a){Hf(a)});Hf(this.D);delete this.C;delete this.D};var jth={S0a:"all",Htc:"important",NONE:"none"};function kth(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function lth(a){var b=new Jpa,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;M(b,1,a.D+c+e+f+a.V);M(b,2,a.D);M(b,14,a.V);M(b,9,a.F);M(b,6,a.O);M(b,3,c);M(b,10,a.H);M(b,12,a.C);M(b,13,a.L);M(b,7,d);M(b,4,e);M(b,11,a.J);M(b,8,a.R);M(b,5,f);return new Ywd(b)}var mth=[1];
function nth(a){J(this,a,0,-1,null,null)}y(nth,I);nth.prototype.ea=function(){var a=new F;var b=this.Ko();null!=b&&a.C(1,b,r4e);return Y(a)};nth.prototype.Ko=function(){return N(this,fZ,1)};function oth(a){J(this,a,0,-1,null,null)}y(oth,I);oth.prototype.ea=function(){var a=new F;var b=K(this,1);null!=b&&a.D(1,b);b=K(this,2);null!=b&&a.D(2,b);b=K(this,3);null!=b&&a.D(3,b);b=K(this,4);null!=b&&a.D(4,b);return Y(a)};oth.prototype.Yf=function(){return K(this,1)};
oth.prototype.getFileName=function(){return K(this,2)};function pth(a){J(this,a,0,-1,mth,null)}y(pth,I);pth.prototype.ea=function(){var a=new F;var b=bj(this,T6,1);0<b.length&&Li(a,1,b,Ush);b=K(this,2);null!=b&&Gi(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&Gi(a,4,b);b=K(this,5);null!=b&&a.D(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};
var qth=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,rth=/^(.*?)([':;,\.?}\]\)!]+)$/;
function sth(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Ce(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(qth,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,k=""):(l||(e="http://"),(k=h.match(rth))&&!Dd(h,"(")?(h=k[1],k=k[2]):k="");b.href=e+h;d.push(Ee("a",b,h));d.push(k);return""});return Ge(d)}
var tth={Jvc:"docos-insert-discussion",wgc:"docos-cancel-insert-discussion",gDc:"docos-new-doco",hDc:"docos-new-reply",Jjc:"docos-delete-doco",Ljc:"docos-delete-reply",rnc:"docos-edit-doco",tnc:"docos-edit-reply",snc:"docos-edit-draft",Cfc:"docos-before-highlight-doco",ftc:"docos-highlight-doco",bLc:"docos-speak-doco",xIc:"docos-resolve-doco",tfc:"docos-back-to-document",ldc:"docos-accept-suggestion",oIc:"docos-reject-suggestion",Yhc:"docos-convert-doco",Kjc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",EPc:"docos-vote-doco",FPc:"docos-vote-reply",JCc:"mouse-hover-doco-view"};function uth(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.O=void 0===c?!1:c;this.L=void 0===d?!0:d;this.R=void 0===e?null:e;this.J=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.H=void 0===k?!1:k}function U6(){return new uth("")}function V6(a){return new vth(a)}function vth(a){this.O=a;this.L=void 0;this.J=!1;this.D=this.F=!0;this.C=void 0;this.H=!1}function W6(a,b){a.L=b;return a}function wth(a){a.J=!0;return a}function xth(a){a.F=!1;return a}function yth(a,b){a.D=b;return a}
function zth(a){a.H=!0;return a}function X6(a){return new uth(a.O,a.L,a.J,a.F,void 0,a.D,a.C,a.H)};function Y6(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}oa("docos.Event",Y6,void 0);oa("docos.api.Event",Y6,void 0);Y6.prototype.getType=g("type");Y6.prototype.getType=Y6.prototype.getType;Y6.prototype.getAnchors=g("anchors");Y6.prototype.getAnchors=Y6.prototype.getAnchors;
Y6.prototype.getDocos=g("docos");Y6.prototype.getDocos=Y6.prototype.getDocos;Y6.prototype.isNonAnchored=g("nonAnchored");Y6.prototype.isNonAnchored=Y6.prototype.isNonAnchored;Y6.prototype.isUserInitiated=g("userInitiated");Y6.prototype.isUserInitiated=Y6.prototype.isUserInitiated;Y6.prototype.getArgs=g("args");Y6.prototype.getArgs=Y6.prototype.getArgs;Y6.prototype.canPreventDefault=m(!1);Y6.prototype.canPreventDefault=Y6.prototype.canPreventDefault;
Y6.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};Y6.prototype.preventDefault=Y6.prototype.preventDefault;Y6.prototype.getAnchorIds=g("D");Y6.prototype.getAnchorIds=Y6.prototype.getAnchorIds;Y6.prototype.getDocoHandles=g("F");Y6.prototype.getDocoHandles=Y6.prototype.getDocoHandles;function Ath(a){return new Z6(a)}Y6.builder=Ath;function Z6(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}oa("docos.api.Event.Builder",Z6,void 0);
Z6.prototype.addAnchorId=function(a){this.C.push(a);return this};Z6.prototype.addAnchorId=Z6.prototype.addAnchorId;Z6.prototype.setAnchorIds=function(a){this.C=a;return this};Z6.prototype.setAnchorIds=Z6.prototype.setAnchorIds;Z6.prototype.addDocoHandle=function(a){this.D.push(a);return this};Z6.prototype.addDocoHandle=Z6.prototype.addDocoHandle;Z6.prototype.setDocoHandles=function(a){this.D=a;return this};Z6.prototype.setDocoHandles=Z6.prototype.setDocoHandles;
Z6.prototype.setNonAnchored=function(a){this.F=a;return this};Z6.prototype.setNonAnchored=Z6.prototype.setNonAnchored;Z6.prototype.setUserInitiated=function(a){this.H=a;return this};Z6.prototype.setUserInitiated=Z6.prototype.setUserInitiated;Z6.prototype.setApiEventArgs=function(a){this.args=a;return this};Z6.prototype.setApiEventArgs=Z6.prototype.setApiEventArgs;Z6.prototype.isEmpty=function(){return ad(this.C)&&ad(this.D)&&!this.args};Z6.prototype.isEmpty=Z6.prototype.isEmpty;
Z6.prototype.build=function(){return new Y6(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new n5)};Z6.prototype.build=Z6.prototype.build;function Bth(a,b){Y6.call(this,a,[],[],!1,!1,new n5);this.interval=this.interval=b}y(Bth,Y6);oa("docos.api.TimedEvent",Bth,void 0);function Cth(){this.C={};this.D={}}function Dth(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Qn(c,"end",function(){delete f[b];delete h[b];e()})}function Eth(a,b){(a=a.C[b])&&a.stop()}Cth.prototype.getDuration=function(a){return this.D[a]};function Fth(a){var b=a.oh,c=a.tA,d=a.De;a=a.hQ;return S('<div class="'+T("docos-icon")+" "+T("goog-inline-block")+(d?" "+T(d):"")+" "+T(c)+'"><div class="'+T("docos-icon-img")+" "+T("docos-icon-img-container")+" "+T(b)+(a?" "+T("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function Gth(a){var b=a.size,c=a.De,d=a.e$a;a=a.qma;return S('<img class="'+T("docos-avatar")+(c?" "+T(c):"")+'" width="'+T(b)+'" height="'+T(b)+'" alt=""'+(d?' src="'+T(Ew(d))+'"':"")+(a?' data-hovercard-id="'+T(a)+'"':"")+"/>")};function Hth(a,b,c){b=c||b;c=a.dDa;var d=a.Kj,e=a.En;a='<div class="'+T("docos-assigneeview")+'"><table><tr><td class="'+T("docos-assigneeview-avatar-container")+'">'+R(Gth({size:32,De:"docos-assigneeview-avatar"}))+'</td><td class="'+T("docos-assigneeview-assigneeinfo")+'"><div class="'+T("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+T("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+T("hide-on-readonly")+'">';e=e={Kj:d,En:e};d=e.Kj;e=e.En;var f='aria-label="'+
Cw("Mark as done and hide discussion.");b=""+R(Nz({ad:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:Bw(f+'"'),style:e?4:0,content:Aw(""+R(Fth({oh:"docos-icon-accept-checkmark-black",tA:"docos-icon-accept-checkmark-size",De:"docos-icon-checkmark jfk-button-img"}))),NM:d},b));b=S(b);return S(a+(c+b+"</td></tr></table></div>"))};function Ith(a,b){var c;a?c=a&&Jth($6(a),b)?"docos-assignee-you":"docos-assignee-other":c="docos-assignee-none";return c}function Kth(a,b){a=$6(a);return Lth(a,b)}function Mth(a,b,c){a=Lth(a,b,!0);return c?(new uA("Reassign to {user}")).format({user:a}):(new uA("Assign to {user}")).format({user:a})}function Lth(a,b,c){return Jth(a,b)?c?"you":"You":a7(a)}function Jth(a,b){return null!=a.getEmail()&&null!=b.jh().getEmail()&&a.getEmail()==b.jh().getEmail()};function b7(a,b){Q.call(this,b);this.Qc=Nth(a);this.C=c7(a)}y(b7,Q);b7.prototype.zd=!1;b7.prototype.Ia=function(){b7.Ua.Ia.call(this);this.zd&&(this.Dd(),Oth(this))};function Pth(a){a.zd||(a.zd=!0,a.getHandler().listen(a.C,"r",a.Dd),a.Dd(),Oth(a))}b7.prototype.Dd=function(){if(this.Gb()){var a=this.getElement(),b=this.C.H;ix(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));ix(this.getElement(),"docos-offline",this.C.V)}};
function d7(a,b,c,d){a.Qc&&(d=a.Qc.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function Oth(a){a.Gb()&&d7(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.Wg)}b7.prototype.Wg=function(a){a.stopPropagation()};function Qth(a,b,c){this.C=a;this.D=b;this.F=c};function Rth(a,b,c,d){b7.call(this,a,b);this.H=a;this.Uc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new Oz(null);this.va(this.R)}u(Rth,b7);p=Rth.prototype;
p.Ca=function(){var a=this.qa(),b=e7(Sth(this)),c=Sx(Hth,{dDa:Kth(b,this.C),Kj:this.C.Kj(),En:"legacy"!=this.C.F});this.jb(c);this.L=a.bb("docos-icon-checkmark",c);this.O=a.bb("docos-icon-img-container",c);this.J=a.bb("docos-mark-done-button",c);this.R.Va(this.J);d7(this,this.R,"action",this.TMb);this.F=a.bb("docos-assigneeview-assignee-text",c);this.D=fW(a,"IMG","docos-assigneeview-avatar",c);a=$6(b);Tth(f7(this.H),this.D,a.C,a7(a));Uth(this,b)};
p.Ia=function(){b7.prototype.Ia.call(this);var a=e7(Sth(this));a=$6(a);Vth(this,a,this.F);Vth(this,a,this.D)};
function Uth(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black",f=a.C;!b||!Jth($6(b),f)||"black"==ez()&&tf||"material_yellow"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=Ith(b,a.C);hx(a.getElement(),["docos-assignee-you","docos-assignee-other"]);hx(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);hx(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
hx(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);ex(a.L,d);ex(a.O,e);ex(a.J,c);ex(a.getElement(),b)}function Sth(a){return g7(a.H).ud(a.getId())}p.update=function(){var a=e7(Sth(this)),b=Kth(a,this.C)||"";Eo(this.F,b);h7(f7(this.H),this.D);b=$6(a);Tth(f7(this.H),this.D,b.C,a7(b));Uth(this,a);Vth(this,b,this.F);Vth(this,b,this.D)};function Vth(a,b,c){c&&(a.C.ma?c.setAttribute("data-hovercard-id",b.getId()?b.getId():""):(b=b.getName())&&a.C.D.C(c,b))}
p.TMb=function(a){a&&a.stopPropagation();(a=Sth(this))&&!a.isResolved()&&(a=i7(this.H),this.dispatchEvent("br"),a.uf("docos-resolve-doco").wb(new Qth(this.getId(),!0,Wth(this.V))),this.dispatchEvent("ar"))};p.vd=function(){b7.prototype.vd.call(this)};p.Ja=function(){b7.prototype.Ja.call(this);delete this.F;delete this.D;delete this.L};function Xth(a,b){void 0!==b.getId()&&a.Uc(b.getId());var c=S6(b);if(void 0!==c){var d=S6(a);c?d?Yth(d,c):cj(a,2,c):cj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),M(a,3,c));void 0!==K(b,4)&&(c=K(b,4),M(a,4,c));d=b.fp();if(void 0!==d)if(c=a.fp(),d)if(c){void 0!==d.getId()&&c.Uc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?Zth(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,T6,3);void 0!==d&&(e=N(c,T6,3),d?e?Xth(e,d):cj(c,3,d):cj(c,3,void 0))}else a.Ft(d);else a.Ft(void 0);void 0!==Ri(b,
6)&&(c=Ri(b,6),M(a,6,c));void 0!==Ri(b,7)&&(c=Ri(b,7),M(a,7,c));void 0!==K(b,8)&&(c=K(b,8),M(a,8,c));void 0!==Ri(b,9)&&(b=Ri(b,9),M(a,9,b))}
function Yth(a,b){void 0!==b.getId()&&a.Uc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);M(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?Zth(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,P6,4);void 0!==c&&(d=N(a,P6,4),c?d?Zth(d,c):cj(a,4,c):cj(a,4,void 0));c=N(b,eZ,5);void 0!==c&&(c?cj(a,5,c):cj(a,5,void 0));d=N(b,Fsh,14);if(void 0!==d)if(c=N(a,Fsh,14),d)if(c){void 0!==d.getName()&&c.ld(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();M(c,2,e)}e=N(d,Bsh,3);if(void 0!==e){var f=
N(c,Bsh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();M(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else cj(c,3,e);else cj(c,3,void 0)}void 0!==Ri(d,4)&&(e=Ri(d,4),M(c,4,e));void 0!==K(d,5)&&(e=K(d,5),M(c,5,e));void 0!==K(d,6)&&(e=K(d,6),M(c,6,e));f=N(d,Dsh,7);void 0!==f&&(e=N(c,Dsh,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),M(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),M(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),M(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
M(e,4,f))):cj(c,7,f):cj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),M(c,8,e));void 0!==K(d,11)&&(e=K(d,11),M(c,11,e));void 0!==K(d,10)&&(e=K(d,10),M(c,10,e));void 0!==K(d,12)&&(d=K(d,12),M(c,12,d))}else cj(a,14,d);else cj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),M(a,6,c));void 0!==K(b,7)&&(c=K(b,7),M(a,7,c));R6(b)&&(c=id(R6(a),R6(b)),ej(a,8,c));d=Q6(b);void 0!==d&&(c=Q6(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,O6,3)&&(e=N(d,O6,3),
cj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),M(c,4,d))):cj(a,9,d):cj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),M(a,10,c));void 0!==K(b,11)&&(c=K(b,11),M(a,11,c));void 0!==Ri(b,12)&&(c=Ri(b,12),M(a,12,c));void 0!==K(b,13)&&(c=K(b,13),M(a,13,c));void 0!==Ri(b,15)&&(c=Ri(b,15),M(a,15,c));void 0!==K(b,16)&&(c=K(b,16),M(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),M(a,17,c));void 0!==K(b,20)&&(c=K(b,20),M(a,20,c));c=N(b,Msh,18);void 0!==c&&(e=N(a,Msh,18),c?e?(d=N(c,eZ,1),void 0!==d&&(c=N(e,eZ,1),d?c?(void 0!==
d.getName()&&c.ld(d.getName()),void 0!==K(d,2)&&(e=K(d,2),M(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),M(c,3,e)),void 0!==d.getId()&&c.Uc(d.getId()),void 0!==Ri(d,5)&&(e=Ri(d,5),M(c,5,e)),void 0!==Ri(d,6)&&(e=Ri(d,6),M(c,6,e)),void 0!==Ri(d,7)&&(e=Ri(d,7),M(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),M(c,8,d))):cj(e,1,d):cj(e,1,void 0))):cj(a,18,c):cj(a,18,void 0));d=N(b,Qsh,19);void 0!==d&&(c=N(a,Qsh,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),M(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),M(c,3,e)),void 0!==K(d,2)&&(e=
K(d,2),M(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),M(c,4,e)),void 0!==bj(d,Osh,5)&&(d=bj(d,Osh,5),ej(c,5,d))):cj(a,19,d):cj(a,19,void 0));void 0!==N(b,bW,21)?(c=N(b,bW,21),cj(a,21,c)):void 0!==b.getContent()&&cj(a,21,void 0);void 0!==Ri(b,22)&&(c=Ri(b,22),M(a,22,c));void 0!==Ri(b,23)&&(b=Ri(b,23),M(a,23,b))}function Zth(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function $th(a,b,c,d,e,f,h){this.J=a;this.D=b&&!Bd(b)?Cd(b.toLowerCase()):null;this.L=c;this.C=d;this.bd=e;this.H=f;this.F=h}$th.prototype.getName=g("J");$th.prototype.getEmail=g("D");$th.prototype.getId=g("bd");function a7(a){a=Bd(cf(a.getName()))?a.getEmail():a.getName();return cf(a)}function auh(a){var b=buh(cuh(duh(euh((new j7).ld(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Uc(a.getId()||""),!!Ri(a,5));a=!!Ri(a,7);b.D=a;return fuh(b)}
function guh(a){var b=(new eZ).Uc(a.getId()||""),c=a.getName();null!==c&&b.ld(c);c=a.L;null!==c&&M(b,2,c);c=a.C;null!==c&&M(b,3,c);c=a.getEmail();null!==c&&M(b,8,c);M(b,5,!!a.H);return b}function j7(){}j7.prototype.ld=function(a){this.H=a;return this};function euh(a,b){a.C=b&&!Bd(b)?Cd(b.toLowerCase()):null;return a}function duh(a,b){a.L=b;return a}function cuh(a,b){a.J=b;return a}j7.prototype.Uc=function(a){this.bd=a;return this};function buh(a,b){a.F=b;return a}
function fuh(a){return new $th(a.H,a.C,a.L,a.J,a.bd,a.F,a.D)};function huh(a){N(a,eZ,1);this.C=a}function $6(a){a=N(a.C,eZ,1);return auh(a)}huh.prototype.equals=function(a){return hj(this.C,a.C)};function iuh(a){var b=new Msh;a=guh(a);b=cj(b,1,a);return new huh(b)};function juh(a){N(a,eZ,1);K(a,2);this.C=a};function kuh(a){this.C=a}function luh(a,b){var c=[];a=bj(a.C,Osh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new juh(e))}return c}function k7(a){return null!=K(a.C,4)?K(a.C,4):0};function muh(){var a=nuh;this.C=[];this.D={};this.F=a}muh.prototype.text=function(a){this.C.push(a)};function ouh(a,b){if(a.D[b])a.C.push(b);else{var c=new puh(b,a.C.length);a.C.push(c);a.D[b]=c}}function quh(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=Sc(Nd(a.D),function(e){return e.D>c.D});rd(d,function(e,f){return qd(e.D,f.D)});a.C.push(new ruh(a.F[b].close,d,a.F))}else a.C.push(b)}muh.prototype.getResult=function(){return this.C.join("")};
function puh(a,b){this.F=a;this.D=b;this.C=null}puh.prototype.getName=g("F");puh.prototype.toString=function(){return null!==this.C?this.C:this.F};function ruh(a,b,c){this.F=a;this.C=b;this.D=c}ruh.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function suh(a){a=Be(sth(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new tuh(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new uuh(a.substring(0,c))),a=a.substring(c);b.push(new tuh(a));return new vuh(b)}function wuh(a){var b=new muh;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=xuh.test(d);d=yuh.test(d);f?d?(f=b,f.D[e]?quh(f,e):ouh(f,e)):ouh(b,e):d?quh(b,e):b.text(e)}return new tuh(b.getResult())}
function zuh(a){return new tuh(a.replace(Auh,"<br>"))}var Auh=/\r\n|\n|\r/g,nuh={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},xuh=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,yuh=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function tuh(a){this.Ve=a}tuh.prototype.C=function(a){return a(this.Ve)};tuh.prototype.toString=g("Ve");function uuh(a){this.Ve=a}uuh.prototype.C=function(){return this};uuh.prototype.toString=g("Ve");
function vuh(a){this.Oh=a}vuh.prototype.C=function(a){var b=Tc(this.Oh,function(c){return c.C(a)});return new vuh(b)};vuh.prototype.toString=function(){return this.Oh.join("")};function Buh(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(M(this.C,13,void 0),M(this.C,15,void 0));this.F=this.J=this.H=this.D=null}p=Buh.prototype;p.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),cj(a,4,void 0),cj(a,9,void 0));if(void 0!==N(a,bW,21)||void 0!==a.getContent())this.D=null;Yth(this.C,a);0==K(this.C,13)&&(M(this.C,13,void 0),M(this.C,15,void 0))};p.equals=function(a){return hj(this.C,a.C)};
p.Nv=function(){var a=N(this.C,eZ,5)||new eZ;return auh(a)};p.getId=function(){return this.C.getId()||K(this.C,11)||""};p.lx=function(){this.H||(this.H=gX(K(this.C,6)));return this.H};p.YO=function(){if(void 0===K(this.C,7))return this.lx();this.J||(this.J=gX(K(this.C,7)));return this.J};function Cuh(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=gX(K(a.C,13))),b=a.F;if(!b||a.YO()>b)b=a.YO();return b}
function Duh(a){if(void 0!==Q6(a.C)&&("text/html"==Q6(a.C).getType()||"text/plain"==Q6(a.C).getType())){var b=Q6(a.C).getValue();b="text/html"==Q6(a.C).getType()?b:Xe(b)}return b||""}p.N1=function(){if(void 0!==Q6(this.C)){var a=N(Q6(this.C),O6,3);if(a)return a.Nf()}return null};p.pea=function(){return K(this.C,10)};p.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};p.qea=function(){if(null!=N(this.C,bW,21)&&!this.D){var a=N(this.C,bW,21);this.D=He(K(a,2)||"",null)}return this.D};
p.Wz=function(){return null!=N(this.C,P6,4)?N(this.C,P6,4).getValue()||"":""};p.oua=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};p.eQ=function(){return!!Ri(this.C,12)};function l7(a){return!!K(a.C,13)}p.JA=function(){var a=N(this.C,Msh,18);return null!=a?new huh(a):null};p.Sy=function(){var a=N(this.C,Qsh,19);return null!=a?new kuh(a):null};p.$j=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};
p.xG=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function Euh(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}p.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};p.Msa=function(){return!!Ri(this.C,22)};p.Isa=function(){return 2==this.getOrigin()};function m7(a,b){this.C=new Rsh;M(this.C,11,a);b&&b!=a&&this.C.Uc(b)}function Fuh(a,b){var c=R6(a.C);c.push(b.C);ej(a.C,8,c);return a}function Guh(a,b){M(a.C,16,b);return a}
function n7(a){M(a.C,12,!0);return a}function Huh(a,b){M(a.C,6,b);return a}function Iuh(a){var b=La();M(a.C,13,b);return a}function Juh(a){M(a.C,13,0);return a}function Kuh(a,b){cj(a.C,18,b.C);M(a.C,10,4);return a}function Luh(a,b){b=guh(b);cj(a.C,5,b);return a}function Muh(a){M(a.C,20,1);return a}function o7(a,b,c){b=Cd(b);var d=(new P6).setType("text/plain").setValue(b);cj(a.C,4,d);b=(new P6).setType("text/html").setValue(suh(b).C(wuh).C(zuh).toString());a.C.setContent(b);M(a.C,7,c);return a};function Nuh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function Ouh(a,b){return a.F.getId()==b.Nv().getId()}function Puh(a,b){return Ouh(a,b)&&!!b.Wz()&&("suggest"==a.C||"full"==a.C)}function Quh(a,b){return b instanceof Buh&&void 0!==b.pea()?!1:(a.H||Ouh(a,b))&&(!!b.Wz()||b.$j())&&("suggest"==a.C||"full"==a.C)}function Ruh(a,b){return a.D&&!b.$j()&&("suggest"==a.C||"full"==a.C)}Nuh.prototype.cta=g("D");function Suh(a){return"suggest"==a.C||"full"==a.C};function Tuh(a){J(this,a,0,-1,null,null)}y(Tuh,I);Tuh.prototype.ea=function(){var a=new F;var b=K(this,1);null!=b&&a.D(1,b);return Y(a)};function Uuh(a,b){this.D=a;this.C=b||null}Uuh.prototype.jo=function(a,b,c){this.D(a,b,c)};Uuh.prototype.Bya=function(a){this.C&&this.C(a)};function Vuh(a,b,c,d,e){d=d?d.Nf():void 0;e=e?e.Nf():void 0;a(b,c,d,e)};function Wuh(a){Wn.call(this);this.v0(a)}y(Wuh,Wn);p=Wuh.prototype;
p.v0=function(a){var b=a.kd;if(void 0===b.jh())throw Error("Invalid or missing user.");var c=b.jh();this.FFa=fuh(buh(cuh(duh(euh((new j7).ld(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Uc(c.getId()||""),!!Ri(c,5)));this.Hca=!!Ri(b,40);this.s9=!Ri(b,20);this.t9=K(b,11);this.AHa=!!Ri(b,12);this.Tma=K(b,6);this.EFa=void 0!==a.l?!!a.l:!!Ri(b,25);this.ZVa=K(b,21);this.Vma=K(b,23);this.GFa=K(b,24);this.CPa=K(b,31);void 0!==a.i?this.Uma=a.i:this.Uma=void 0;if(a=gZ(b))this.w0=K(a,1);this.dispatchEvent("r")};
p.Tma=null;p.CPa=null;p.Uma=void 0;p.t9=null;p.EFa=!1;p.Hca=!1;p.ZVa=null;p.Vma=null;p.GFa=null;p.s9=!0;p.AHa=!1;p.FFa=null;p.w0=null;p.jh=g("FFa");function Xuh(a,b,c){function d(f){return c?kd(f):f}var e=null;a&&wa(a)&&(e=d(a),wa(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function Yuh(a){this.C=a};function Zuh(){}Zuh.prototype.install=function(a){a=a&&ao(a);K8a(a)};Zuh.prototype.C=function(a,b){cz(a,b,void 0)};Zuh.prototype.qf=function(a){a=a&&ao(a);P8a(a)};Zuh.prototype.D=function(a,b){dX(a,b)};function $uh(a,b){b=void 0===b?function(){return lJe()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));wa(c)&&(c=Xuh(c,"kd",!0),c.unshift("kd"),a.kd=new s4e(c));Wuh.call(this,a);this.Qi=b}u($uh,Wuh);p=$uh.prototype;
p.v0=function(a){Wuh.prototype.v0.call(this,a);this.C=a.kd;this.L=this.L||v2b("disco");var b;if(!(b=this.Qa)){b=v2b("usp_dm");var c=new y9d;null!=b&&("true"==b?M(c,1,2):"false"==b&&M(c,1,1));b=c}this.Qa=b;this.Pi=a["anchor-is-orphaned-fn"]||ee;this.Ea=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new Yuh(a.containerdiv));this.Ns=b;this.tc=a.storage||null;this.Vc=!!a["storage-ro"];this.Td=!!a["disable-focus"];this.eD=!!a.so;this.Af=a.docscroller||null;this.Tn=a["inactive-doco-indent"]||
10;this.Wa=a["instant-docos-div"]||null;this.Kb=a["enable-new-delete-ui"]||!1;this.Bb=a["delete-dialog-show"]||null;this.R=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.R=new Uuh(b,c));this.Zk=a["memory-monitor-fn"]||null;this.yj=a.layout||null;this.gj=!!a.layoutrtl;this.J=a.listeners||{};this.O=a.panediv||null;this.Ba=a.panekbdiv||null;b=a.sortpaneby||"creation";"sortpane"in a&&(b=a.sortpane?"updated":"none");this.fb=b;this.Qc=a.quotefn||null;this.zd=a["user-color-provider-fn"]||
null;this.VD=a["user-color-provider-from-name-fn"]||null;this.$u=a.quoterenderfn||null;this.qh=!!a["hide-notification"];this.V=!!a.offline;this.Dc=!!a.nocss;this.Lc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Dd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Ri(this.C,8);this.H=new Nuh(this.jh(),c?c:d?"readonly":"full",!!Ri(this.C,3),b);this.Ta=!!a.iph;this.Fs=a.maxheight||0;this.uy=!!a.showerrors;
this.yd=a["stream-button"]||null;this.ke=!!a["disable-spfw"];this.Pa=a["anchor-mutate-fn"]||null;avh(this)||(this.Pa=null);this.Rf=!!a["enable-comment-button"];this.Oa=!!a["enable-gsuite-embedding"];this.Kg=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.Gl=a["acl-fix-fn"]||null;this.fk=a["load-acl-fixer-fn"]||null;this.Ie=a["intercept-docos-edit-fn"]||null;this.Nh=a["is-an-illegal-write-fn"]||null;this.Qd=!!a["defer-first-sync"];this.Cm=!!a["enable-lazy-loading"];this.Ka=
!!a["enable-all-docos-in-anchored-stream"];this.Py=a["stream-pane-banner-message"]||null;this.Oy=a["stream-pane-banner-learn-more-url"]||null;this.Vm=!!a["enable-track-mouse-positions-in-doco-view"];this.ma=!!a["enable-docos-people-hovercard"];this.$a=(b=a["impression-recorder-fn"])?Ja(Vuh,b):null;this.Mh=a.hidepromofn;this.Fy=a.showpromofn;this.Fl=a["acl-check-fn"]||null;this.D=a["tooltip-manager"]||new Zuh;this.Tl=a["browser-app-clipboard"]||null;this.Za=a["modal-dialog-z-index"]||null;this.Ye=
a["doco-link-base-url"];this.xa=!!a["untrusted-iframe"];this.Ha=a["static-input-pane-message"]||null;this.Cb=a["drive-id"]||null;this.Pb=!!a["enable-roving-tabindex"];this.Wg=a["auto-complete-factories"]||[];this.An=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.fc=a["link-opener"]||null;this.dispatchEvent("r")};function bvh(a){return null!=K(a.C,44)&&null!=K(gZ(a.C),51)&&!!Ri(gZ(a.C),51)}p.DI=function(){if(this.qh)return!1;var a=Ri(this.C,26);return null!=a?!!a:!0};
p.pda=function(){return!!Ri(this.C,43)};p.Tsa=function(){var a=!1,b=gZ(this.C);b&&(a=Ri(b,2));return!!Ri(this.C,43)&&!!a};function cvh(a){return!!gZ(a.C)&&!!Ri(gZ(a.C),32)}function avh(a){return a.C&&!!Ri(a.C,18)}p.Kj=function(){return!!Ri(this.C,39)};function dvh(a){return a.Qi()&&!!Ri(a.C,10)&&!a.Td}function evh(a){return Ri(a.C,10)?a.Wg:[]}function fvh(a){return!!gZ(a.C)&&!!Ri(gZ(a.C),50)};function gvh(a,b,c,d,e,f){b7.call(this,a,c);this.D=c7(a);this.Oa=Wl(Lc(z(),"docs-seu")||this.D.Ye||window.location.href);this.Nc=new Py(c,new hvh(d));this.F=new $y("",this.Nc,void 0,c);this.F.nH=!0;this.Ga(this.F);this.J=null;$c(e,"edit")&&(this.J=new Ky("Edit"),this.J.Kc("docos-edit-menuitem"),this.Nc.Ga(this.J,!0));this.H=null;$c(e,"delete")&&(this.H=new Ky("Delete"),this.H.Kc("docos-delete-menuitem"),this.Nc.Ga(this.H,!0));this.R=null;$c(e,"reanchor")&&cvh(this.D)&&(this.R=new Ky("Reanchor comment"),
this.R.Kc("docos-reanchor-menuitem"),this.Nc.Ga(this.R,!0));this.xa=null;$c(e,"disable")&&(this.xa=new Ky("Turn off suggested action items"),this.xa.Kc("docos-disable-menuitem"),this.Nc.Ga(this.xa,!0));this.Ha=null;$c(e,"help")&&(this.Ha=new Ky("Learn more"),this.Ha.Kc("docos-help-menuitem"),this.Nc.Ga(this.Ha,!0));d=g7(a).ud(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ka=f?p7(d,f):null;this.V=null;c7(a).H.cta()&&$c(e,"resolve")&&(this.V=new Ky(""),this.Nc.Ga(this.V,
!0));this.O=this.Ba=this.ma=null;$c(e,"link")&&(this.Ba=new Ky("Link to this comment..."),this.Ba.Kc("docos-link-menuitem"),this.Nc.Ga(this.Ba,!0),this.O=new U9e(c,this.D.Tl||void 0,void 0,null===this.D.Za?void 0:this.D.Za),this.Ga(this.O),ex(xx(this.O),"docos"),this.O.setTitle("Link to this comment..."),ivh(this,b));this.Ea=c7(a).An.map(function(h){return{p6a:h,pJa:new Ky(h.getLabel())}});for(a=0;a<this.Ea.length;a++)this.Nc.Ga(this.Ea[a].pJa,!0)}u(gvh,b7);p=gvh.prototype;
p.Ec=function(a){b7.prototype.Ec.call(this,a);a=this.qa().bb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Qc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Va(a),this.F.Na(!0),this.D.D.C(a,"More options..."),this.F.ue("More options..."))};
p.Ia=function(){var a=this;b7.prototype.Ia.call(this);jvh(this);d7(d7(d7(this,this.Nc.getElement(),"click",this.oRa),this.F.getElement(),"click",this.oRa),this.D,"r",this.zob);d7(this,this.F.getElement(),"keyup",this.Z$b);kvh(this,this.J,this.hbc);kvh(this,this.H,this.fbc);kvh(this,this.Ba,this.$4b);kvh(this,this.R,this.lbc);kvh(this,this.V,this.mbc);kvh(this,this.xa,this.gbc);kvh(this,this.Ha,this.kbc);for(var b={},c=0;c<this.Ea.length;b={s7:b.s7},c++)b.s7=this.Ea[c],kvh(this,b.s7.pJa,function(d){return function(){d.s7.p6a.C((a.Ka||
a.L).Wz())}}(b))};p.bh=function(a){this.qa().ai(this.F.getElement(),a)};p.focus=function(){this.F.getElement().focus()};p.update=function(){jvh(this)};function ivh(a,b){if(a.O){var c=a.Oa.clone();b=c.C.set("disco",b);a.O.bSa(Ql(c,b).toString())}}function kvh(a,b,c){b&&d7(a,b,"action",c)}p.mbc=function(a){Ruh(this.D.H,this.L)&&(this.dispatchEvent(new lvh("r")),mvh(this,a))};p.hbc=function(a){nvh(this)&&(this.dispatchEvent(new lvh("e")),mvh(this,a))};
p.gbc=function(a){this.dispatchEvent(new lvh("i"));mvh(this,a)};p.fbc=function(a){ovh(this)&&(this.F.Fd(!1),this.dispatchEvent(new lvh("d")),mvh(this,a))};p.lbc=function(a){this.dispatchEvent(new lvh("ra"));mvh(this,a)};p.kbc=function(a){this.dispatchEvent(new lvh("h"));mvh(this,a)};p.$4b=function(a){mvh(this,a);this.O.setVisible(!0)};function mvh(a,b){b.stopPropagation();a.F.Fd(!1)}p.Z$b=function(a){27==a.keyCode&&a.stopPropagation()};p.oRa=function(a){a.stopPropagation()};p.zob=function(){jvh(this)};
function nvh(a){return Puh(a.D.H,a.Ka||a.L)&&!a.ma}function ovh(a){return Quh(a.D.H,a.Ka||a.L)&&!a.D.xa}function jvh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=pvh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Na(Ruh(a.D.H,a.L))}a.J&&(b=nvh(a),a.J.Na(b),a.J.setVisible(b));a.H&&(b=ovh(a),a.H.Na(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Na(b),a.R.setVisible(b))}function lvh(a){Kn.call(this,a)}u(lvh,Kn);
function hvh(a){a=void 0===a?"docos-docomenu":a;Ny.call(this);this.D=a}u(hvh,Ny);hvh.prototype.gc=function(){return(new fq("goog-menu"," ","docos"," ",this.D)).toString()};function qvh(){rC.call(this,!1)}u(qvh,rC);qvh.prototype.JL=function(a){rC.prototype.JL.call(this,a)};function rvh(){this.C=!1;this.D=new Bf;this.va(this.D)}y(rvh,A);function svh(a,b,c,d,e,f,h){this.J=a;this.F=b;this.L=c;this.H=d;this.yx=e;this.C=f;this.D=h}svh.prototype.ud=g("F");function tvh(){}function q7(a){var b=new tvh;b.D=a;return b}function r7(a,b){a.C=b;return a}function uvh(a,b){a.yx=b;return a}function s7(a){return new svh(a.D,a.C,a.J||!1,a.L||null,a.yx||null,a.F||null,a.H||null)};function vvh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Iq=h}function wvh(){}function xvh(a){var b=new wvh;b.H=a;return b}function yvh(a,b){a.D=b;return a}function zvh(a,b){a.Iq=b;return a}function Avh(a){return new vvh(a.H,a.L||!1,a.F||null,a.J||null,a.C||null,a.D||null,a.Iq||null)};function Bvh(a,b,c){var d=S6(a);this.F=a;this.O=b;this.rs=c||null;this.R=null;this.J={};this.D={};this.C=new Buh(d);this.H=void 0;this.iQ=!!N(d,Msh,18);b=this.getId();if(a=S6(a)){a=R6(a);for(c=0;c<a.length;c++)d=new Buh(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,Euh(d)&&(this.H=Euh(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}p=Bvh.prototype;p.Nv=function(){return this.C.Nv()};p.getId=function(){return this.C.getId()};
function t7(a){return K(a.C.C,11)||""}p.YO=function(){var a=K(this.F,4);if(void 0===a)return this.lx();this.V||(this.V=gX(a));return this.V};p.getContent=function(){return this.C.getContent()};p.oua=function(){return this.C.oua()};p.pea=function(){return this.C.pea()};p.Wz=function(){return this.C.Wz()};function u7(a){return K(a.F,8)||""}p.qea=function(){return this.C.qea()};p.N1=function(){return this.C.N1()};p.Ty=function(){return void 0!==K(this.F,8)};
p.isResolved=function(){return!!Ri(this.F,6)};function Cvh(a,b){var c=Nd(a.D);b&&c.push(a.C);sd(c,function(d,e){return fX(d.lx(),e.lx())});return c}function p7(a,b){return a.D[b]||null}p.lx=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=gX(a)):this.L=null;return this.L};p.getNewDocoType=g("rs");p.vA=function(){return"draft"==this.rs||"client-integrated-draft"==this.rs||"instant-doco"==this.rs};function Dvh(a){return Evh(a)}
function Evh(a){return a.vA()||"smart-todo"==a.rs}p.DW=function(){return"smart-todo"==this.rs};p.eQ=function(){return!!Ri(this.F,9)};p.Sy=function(){return this.C.Sy()};p.JA=function(){return this.C.JA()};function e7(a){var b=a.C.JA()?a.C.JA():null;a=Cvh(a);for(var c=0;c<a.length;c++){var d=a[c];d.JA()&&(d=d.JA(),b?(b=new huh(kj(b.C)),d=$6(d),d=guh(d),cj(b.C,1,d)):b=new huh(kj(d.C)))}return b}function pvh(a){return a.C.JA()?a.C:null}p.$j=function(){return this.C.$j()};
p.isTodo=function(){return null!=this.iQ?this.iQ:this.iQ=!!pvh(this)};p.xG=function(){return this.C.xG()};function Fvh(a){if(void 0!==a.H)return a.H;if(!a.$j())return a.H=null;for(var b in a.D){var c=Euh(a.D[b]);if(c)return a.H=c}return a.H=null}p.getOrigin=function(){return this.C.getOrigin()};p.Msa=function(){return this.C.Msa()};p.Isa=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=Cvh(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};
function Gvh(a){this.C=a;this.rs=null}function v7(a){var b=new T6;a=a.C;cj(b,2,a);a.getId()||K(a,11);b.Uc(a.getId()||K(a,11));return new Gvh(b)}function Hvh(a,b){M(a.C,8,b);return a}function w7(a,b){M(a.C,9,b);return a}function Ivh(a,b){a.rs=b;return a}Gvh.prototype.getNewDocoType=g("rs");Gvh.prototype.getId=function(){return S6(this.C).getId()};function Jvh(a,b,c,d,e,f,h,k){Kn.call(this,a);this.O=b;this.C=c;this.R=d;this.Iq=e;this.D=f;this.V=h;this.F=k}u(Jvh,Kn);function Kvh(){this.Iq=this.F=this.D=this.L=this.Yt=null;this.H=this.C=0;this.J=!1}function Lvh(a){var b=new Kvh;b.Yt=a;return b}function Mvh(a,b){a.L=b;return a}function Nvh(a,b){a.H=b;return a}function Ovh(a,b){a.J=b;return a}function Pvh(a){return new Jvh(a.Yt,a.L,a.D,a.F,a.Iq,a.C,a.H,a.J)};function Qvh(a){A.call(this);this.C=a;this.F=c7(a);this.D=Rvh(this.C);this.H={}}y(Qvh,A);function Svh(a,b,c,d,e,f){var h=ef(),k=new m7(h);d&&o7(k,d,La());f&&Muh(k);e&&(d=fuh(buh(euh(new j7,e).Uc(""),!1)),d=iuh(d),Kuh(k,d));c=Ivh(w7(Hvh(v7(k),b),!1),c);Tvh(g7(a.C),c);g7(a.C).flush();Uvh(a.D,Avh(zvh(yvh(xvh(43008),h),b)));return x7(g7(a.C),h)}
function Vvh(a,b,c,d,e){d=buh(euh(new j7,d).Uc(""),!1);Bd(cf(e))||d.ld(e);e=fuh(d);d=iuh(e);e=ef();var f=La();c=Muh(Kuh(o7(Luh(new m7(e),a.F.jh()),c,f),d));c=Ivh(w7(Hvh(v7(c),b),!1),"smart-todo");Tvh(g7(a.C),c);g7(a.C).flush();Uvh(a.D,Avh(zvh(yvh(xvh(43023),e),b)));return x7(g7(a.C),e)}
function Wvh(a,b,c,d,e){var f=ef(),h=La();c=o7(Luh(Huh(n7(new m7(f)),h),a.F.jh()),c,h);e&&Muh(c);d&&(d=fuh(buh(euh(new j7,d).Uc(""),!1)),d=iuh(d),Kuh(c,d));c=w7(v7(c),!0);M(c.C,3,h);b=Ivh(Hvh(c,b),"discussion");Tvh(g7(a.C),b);g7(a.C).flush();b=g7(a.C).ud(f);y7(a.D,s7(r7(q7(43009),b)));return x7(g7(a.C),f)}p=Qvh.prototype;p.$$a=function(a){Xvh(g7(this.C),a);g7(this.C).flush()};
p.W$a=function(a,b,c,d){if(a=g7(this.C).ud(a)){if(d&&!a.JA())throw Error("Cannot reassign a doco with no existing assignment");if(a.$j()&&d)throw Error("Cannot reassign a suggestion.");var e=ef(),f=La();b=Luh(Huh(o7(n7(new m7(e)),b,f),f),this.F.jh());c&&Guh(b,c);d&&Kuh(b,d);c=Fuh(new m7(t7(a),a.getId()),b);c=w7(v7(c),!0);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(r7(q7(d?43020:43010),a)))}};
p.bab=function(a,b){if(a=g7(this.C).ud(a)){var c=new m7(t7(a),a.getId()),d=null!=a.Sy()?new kuh(a.Sy().C.clone()):new kuh(new Qsh);M(d.C,4,b?1:0);cj(c.C,19,d.C);n7(c);c=w7(v7(c),!0);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(r7(q7(b?43040:43041),a)))}};
p.cab=function(a,b,c){if(a=g7(this.C).ud(a)){var d=new m7(t7(a),a.getId());if(c=p7(a,c)){var e=null!=c.Sy()?new kuh(c.Sy().C.clone()):new kuh(new Qsh),f=new m7(t7(a),c.getId());M(e.C,4,b?1:0);cj(f.C,19,e.C);Fuh(d,n7(f));d=w7(v7(d),!0);z7(g7(this.C),d);g7(this.C).flush();y7(this.D,s7(uvh(r7(q7(b?43042:43043),a),c)))}}};
p.Keb=function(a,b,c){if(a=g7(this.C).ud(a))if(b=p7(a,b)){var d=La();c=o7(n7(new m7(K(b.C,11)||"",b.getId())),c,d);c=Fuh(new m7(t7(a),a.getId()),c);c=w7(v7(c),!0);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(uvh(r7(q7(43021),a),b)))}};p.$1b=function(a,b){if(a=g7(this.C).ud(a)){var c=La();b=o7(new m7(t7(a),a.getId()),b,c);b=w7(v7(b),!1);z7(g7(this.C),b);g7(this.C).flush()}};
p.aab=function(a,b,c){if(a=g7(this.C).ud(a)){if(a.$j())throw Error("Cannot resolve a suggestion.");var d=ef(),e=La();d=Luh(Huh(n7(new m7(d)),e),this.F.jh());M(d.C,10,b?0:1);c&&o7(d,c,e);c=Fuh(new m7(t7(a),a.getId()),d);c=w7(v7(c),!0);M(c.C,6,b);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(r7(q7(b?43014:43015),a)))}};
p.X$a=function(a,b){var c=g7(this.C),d=c.ud(a);d&&(this.H[x7(c,a)]=Od(Yd(d.D)),a=Iuh(n7(new m7(t7(d),d.getId()))),a=w7(v7(a),!0),d.DW()||(d=r7(q7(43017),d),null!=b&&(d.F=b),y7(this.D,s7(d))),z7(c,a),c.flush())};
function Yvh(a,b){var c=g7(a.C);if(A7(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ea[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=Juh(n7(new m7(t7(d),d.getId()))),f=a.H[b];delete a.H[b];a=Yd(d.J);b=Yd(d.D);for(var h=0;h<f.length;h++){var k=f[h];Fuh(e,Juh(n7(new m7(K((b[k]||a[k]).C,11)||"",k))))}e=w7(v7(e),!0);z7(c,e);c.flush();return x7(c,d.getId())}
p.HFa=function(a,b){if(a=A7(g7(this.C),a)){var c=a.xG();if(!a.$j()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=n7(new m7(t7(a),a.getId()));c=(new Ksh).setType("application/vnd.google-apps.docs.mds");b=cj(c,3,b);cj(a.C,9,b);b=w7(v7(a),!0);z7(g7(this.C),b);g7(this.C).flush()}};p.Ieb=function(a,b){if(a=g7(this.C).ud(a)){var c=La();b=o7(n7(new m7(t7(a),a.getId())),b,c);b=w7(v7(b),!0);z7(g7(this.C),b);g7(this.C).flush();y7(this.D,s7(r7(q7(43022),a)))}};
p.l$a=function(a,b){(a=g7(this.C).ud(a))&&(b=p7(a,b))&&Zvh(this,a,b)};function Zvh(a,b,c){y7(a.D,s7(uvh(r7(q7(43016),b),c)));z7(g7(a.C),$vh(b,c));g7(a.C).flush()}function $vh(a,b){b=Iuh(n7(new m7(K(b.C,11)||"",b.getId())));a=Fuh(new m7(t7(a),a.getId()),b);return w7(v7(a),!0)}p.Z$a=function(a){var b=A7(g7(this.C),a,!0);a=awh(g7(this.C),a);b&&a&&Zvh(this,b,a)};
p.Y$a=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=A7(g7(this.C),d,!0);d=awh(g7(this.C),d);e&&d&&b.push($vh(e,d))}bwh(g7(this.C),b,"c")};function cwh(a,b,c,d){b=A7(g7(a.C),b);if(!dwh(a,b))return 0;var e=ef();z7(g7(a.C),ewh(a,b,e,c));d||(d=a.D,c=r7(q7(c?43027:43028),b),c.J=!0,y7(d,s7(c)));return x7(g7(a.C),b.getId(),e)}function dwh(a,b){if(!b)return!1;if(!b.$j()||!b.xG())throw Error("Attempting to accept/reject a non-suggestion.");return fwh(g7(a.C),b)?!0:!1}
function ewh(a,b,c,d){a=Guh(Luh(Huh(n7(new m7(c)),La()),a.F.jh()),b.xG());M(a.C,10,d?2:3);b=Fuh(new m7(t7(b),b.getId()),a);return w7(v7(b),!0)}function gwh(a,b,c){for(var d=[],e=[],f=[],h=0;h<b.length;h++){var k=A7(g7(a.C),b[h]);if(dwh(a,k)){var l=ef();d.push(ewh(a,k,l,c));e.push(k.getId());f.push(l)}}bwh(g7(a.C),d,"c");b=[];for(h=0;h<e.length;h++)b.push(x7(g7(a.C),e[h],f[h]));return b};function hwh(){Wn.call(this)}y(hwh,Wn);function iwh(a,b){Kn.call(this,a);this.Ql=b||null}y(iwh,Kn);function jwh(){Np.call(this,"",void 0,!0);this.F=new Ip(v(this.C,this));this.va(this.F);this.H=null}u(jwh,Np);jwh.prototype.O=function(a,b,c,d){if(this.H&&!wd(a,"Error in protected function: ")){var e=new oth;a=M(e,1,a);b=M(a,2,b);c=M(b,3,String(c));d&&M(c,4,d);kwh(this.H,"rjse",c,void 0,qa,!0,1)}};jwh.prototype.Ja=function(){Np.prototype.Ja.call(this);delete this.F};function lwh(a){Wn.call(this);var b=this;this.F=null;this.H=new zn;this.va(this.H);this.C=a;An(this.H,this.C.DF(),function(){"hidden"===b.C.getState()&&(b.D=new ZB);"visible"!=b.C.getState()||ojb(b.D)||(b.dispatchEvent("oj"),mwh(b))});this.D=new ZB;mwh(this)}u(lwh,Wn);lwh.prototype.format=function(a){var b=new ZB(a);b=(new ZB).getTime()-b.getTime();if(15552E6<b||-864E5>b)return nwh.format(a);b=E4e(a.getTime());return owh.format(a)+(" "+b)};
function mwh(a){var b=new ZB;b.add(new YB(0,0,1));b=b.getTime();jp(a.F);a.F=ip(function(){a.dispatchEvent("oj");mwh(a)},b-La(),a)}ta(lwh);var owh=new cC(7),nwh=new cC(2);function pwh(a){this.C=a;this.D={};this.J={};this.L=this.C.V;this.bd=0;this.H=[];this.Ma=new Xn(this);this.va(this.Ma);this.Ma.listen(this.C,"r",this.O)}y(pwh,A);var qwh=[mf?"readystatechange":"load","abort","error"];function rwh(a){return"legacy"==a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}
function swh(a,b,c,d){if(b){var e="dcs-img-"+a.bd++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||"//ssl.gstatic.com/s2/profiles/images/silhouette96.png";twh(a,e)}}function Tth(a,b,c,d){b&&a.H.push(new uwh(b,c,d))}function vwh(a){ip(function(){for(;this.H.length;){var b=this.H.pop();swh(this,b.ax,b.src,b.C)}},0,a)}function h7(a,b){b&&b.id&&(a.Ma.Gc(b,qwh,a.F),delete a.D[b.id],delete a.J[b.id])}pwh.prototype.O=function(){var a=this.C.V;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)twh(this,b)};
pwh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.D.C(b,"")),this.Ma.Gc(b,qwh,this.F),b.src="//ssl.gstatic.com/s2/profiles/images/silhouette96.png"):h7(this,b)}};function twh(a,b){a.Ma.listen(a.D[b],qwh,a.F);a.D[b].src=a.J[b]}function uwh(a,b,c){this.ax=a;this.src=b;this.C=c};function wwh(){$W.call(this);this.V=!1}y(wwh,$W);function c7(a){return a.get("config")}function i7(a){var b=aX(a,"action_registry");if(!b){b=new qvh;for(var c=Nd(tth),d=0;d<c.length;d++){var e=c[d];e=O((new Us(e)).bj("label",e).bj("visible",!0).bj("hint",e).bj("enabled",!0));b.pB(e);b.va(e)}a.tf("action_registry",b)}return b}function g7(a){return a.get("stream")}function f7(a){return a.get("imageManager")}function xwh(a){return a.get("subscriptionManager")}
function Rvh(a){return a.get("impressionRecorder")}function Nth(a){return aX(a,"errorReporter")}function ywh(a){var b=aX(a,"batchEventTracker");b||(b=new rvh,a.tf("batchEventTracker",b));return b};function zwh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=c7(a).Vm}function Awh(a,b){a.C!=b&&(a.C=b,b={Bj:a.D,VJb:a.O,dKb:b},i7(a.L).uf("mouse-hover-doco-view").wb(b))};function Bwh(a){a=a||{};var b=a.fI,c=a.a_,d=a.eKb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+bX(c)+"><span class="+bX(d)+">"+R(b)+"</span></div>":"<span class="+bX(d)+">"+R(b)+"</span>");return S(a)};function Cwh(a){a=a||{};var b=a.oh,c=a.tA;a=a.hQ;return S('<div class="'+T("goog-inline-block")+" "+T("goog-menu-button")+" "+T("docos-docomenu-dropdown")+'">'+(b?R(Fth({oh:""+b,tA:""+c,hQ:a})):"")+"</div>")};function Dwh(a,b,c){b=c||b;a=a||{};c=S;var d;if(a.Qo){var e=b;b=a||{};var f=b.author,h=b.uL,k=b.Ska,l=b.De;a=b.Ul;var n=b.zA,q=b.$j,r=b.vA,w=b.twa,x=b.fI,B=b.rW,L=b.Kj,X=b.pda,V=b.Tsa,ca=b.timestamp,na=b.a$a,ua=b.En;f='<div class="'+T("docos-anchoredreplyview")+(l?" "+T(l):"")+(q?" "+T("docos-replyview-suggest"):" "+T("docos-replyview-comment"))+'"><div class="'+T("docos-anchoredreplyview-header")+'"><div class="'+T("docos-anchoredreplyview-avatar-holder")+'">'+R(Gth({size:32,e$a:na,qma:h?""+h:"",
De:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(n?'<div class="'+T("docos-user-presence")+'"></div>':"")+'</div><div class="'+T("docos-anchoredreplyview-authortimestamp")+'"><div class="'+T("docos-anchoredreplyview-author")+" "+T("docos-author")+'"'+(h?' data-hovercard-id="'+T(h)+'"':"")+">"+(f?R(f):"")+'</div><div class="'+T("docos-anchoredreplyview-timestamp")+" "+T("docos-replyview-timestamp")+'">'+(ca?R(ca):"")+'</div></div><div class="'+T("docos-anchoredreplyview-buttonholder")+
" "+T("hide-on-readonly")+'">';zw(q)&&zw(n)?(x=x={En:ua},x=S(Ewh({ad:"docos-accept-suggestion jfk-button-collapse-right",En:x.En},e)),ua=ua={Kj:L,En:ua},L=ua.Kj,ua=ua.En,e=""+R(Nz({title:"Reject suggestion",style:ua?4:0,ad:"docos-reject-suggestion jfk-button-collapse-left",content:Aw(""+(ua?S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):R(Fth({oh:"docos-icon-reject-suggestion-cross",
tA:"docos-icon-reject-suggestion-cross-size",De:"jfk-button-img"})))),NM:L},e)),e=S(e),e=x+e):r?e="":(L=n?X?S(Ewh({ad:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},e)):S(R(Nz({ad:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},e))):"",!zw(X)||!zw(B)&&x?e="":V?(X=(X=b)||{},ua=X.zA,x=X.rW,X=X.Kj,V=R(Fth({oh:"docos-icon-thumb-black",tA:"docos-icon-thumb-size",De:"jfk-button-img",hQ:!0}))+'<div class="'+T("like-button-text")+
'">',V+="0</div>",e=""+R(Nz({ad:"docos-like-button "+(zw(ua)&&!x?"jfk-button-collapse-left":""),title:"Like this",content:Aw(V),NM:X},e)),e=S(e),e=R(e)):(X=(X=b)||{},ua=X.zA,x=X.rW,X=X.Kj,V='<div class="'+T("vote-button-text")+'">',V+="+1</div>",e=""+R(Nz({ad:"docos-vote-button "+(zw(ua)&&!x?"jfk-button-collapse-left":""),title:"+1 this comment",content:Aw(V),NM:X},e)),e=S(e),e=R(e)),e=L+e+'<div class="'+T("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');k=f+e+'</div></div><div class="'+
T("docos-collapsible-replyview")+" "+(k?"":T("docos-collapsible-replyview-empty"))+'">'+(n||B?"":R(Bwh(xw({a_:""},b))))+'<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-replyview-body")+" "+T("docos-anchoredreplyview-body")+'">'+(k?R(k):"")+'</div><div class="'+T("docos-show-more")+'" role="button" tabindex="0">';k=k+'Show more</div><div class="'+(T("docos-show-less")+'" role="button" tabindex="0" style="display:none">');k+="Show less";n?d=R(Bwh(xw({a_:"docos-root-reply-action-text-wrapper"},
b))):B?d=R(Bwh(xw({a_:"docos-action-text-bottom-wrapper"},b))):d="";k+="</div></div></div>"+(a?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+d+'<div class="'+T("docos-replyview-origin")+" "+T("docos-anchoredreplyview-origin")+'">'+(w?R(w):"")+"</div></div>";d=S(k)}else B=a||{},k=B.author,f=B.uL,e=B.Ska,w=B.hla,a=B.Ul,n=B.twa,L=B.timestamp,ua=B.En,d=S,B.zA?(a=(a=B)||{},ua=a.author,x=a.uL,n=a.Ska,X=a.De,w=a.Ul,B=a.q6b,k=a.cta,f=a.twa,e=a.fI,L=a.rW,V=a.timestamp,
b='<div class="'+T("docos-streamrootreplyview")+(X?" "+T(X):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(x?' data-hovercard-id="'+T(x)+'"':"")+">"+(ua?R(ua):"")+'</div><div class="'+T("goog-inline-block")+" "+T("docos-actionmenu-outer")+'">'+R(Cwh(null,b))+'</div><div class="'+T("docos-streamdocoview-details")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+
'">'+(V?R(V):"")+'</div><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-streamdocoview-comments-off")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(T("docos-streamdocoview-reopen-control")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'" style="display: none"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+
T("docos-docoview-reopen")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=Cw("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',B&&(b+='<div class="'+T("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(T("docos-replyview-quote")+" "+T("docos-replyview-quote-collapsed")+'">'+R(B)+'<div class="'+T("docos-replyview-quote-collapse")+" "+T("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+
(T("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamdocoview-body")+" "+T("docos-replyview-body")+'">'+R(n)+"</div>"+(e?R(Bwh(xw({a_:"docos-root-reply-action-text-wrapper"},a))):"")+'<div class="'+T("docos-streamdocoview-controls")+" "+T("hide-on-readonly")+'"><div class="'+T("docos-streamdocoview-comment-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-docoview-comment")+" "+T("goog-inline-block")+
'" role="button" tabindex="0" title="',b+=Cw("Reply to this comment"),b+='">Reply</div></div>',k&&(b+='<div class="'+T("docos-streamdocoview-resolve-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>',L?(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Cw("Mark as done and hide discussion"),b+='">Mark as done'):(b+='<div class="'+T("docos-docoview-resolve")+
" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Cw("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(w?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(f?R(f):"")+"</div></div>",b=S(b)):(b='<div class="'+T("docos-streamreplyview")+'">'+R(Gth({size:ua?32:24,qma:f?""+f:"",De:"docos-replyview-avatar docos-streamreplyview-avatar"}))+
'<div class="'+T("docos-streamreplyview-content")+'"><div class="'+T("docos-streamreplyview-text")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamreplyview-author")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(f?' data-hovercard-id="'+T(f)+'"':"")+">"+(k?R(k):"")+"</div>"+R(Bwh(B))+' <br><span class="'+T("docos-replyview-body")+" "+T("docos-streamreplyview-body")+" "+T("docos-replyview-static")+'">'+R(e)+'</span></div><div class="'+T("docos-replyview-static")+'"><div class="'+
T("docos-streamreplyview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(L?R(L):"")+"</div>",zw(w)||zw(a)?(k=k={V7a:!0,hla:w,Ul:a},w=k.hla,B=k.Ul,k=k.V7a,f='<div class="'+T("docos-replyview-control")+" "+T("docos-replyview-static")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'">',B&&(f+=(k?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-edit")+" "+T("goog-inline-block")+
'" role="button" tabindex="0" title="',f+=Cw("Make changes to your comment"),f+='">Edit</div>'),w&&(f+=(k?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-delete")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',f+=Cw("Permanently delete your comment"),f+='">Delete</div>'),w=S(f+"</div>"),w=R(w)):w="",b=b+w+"</div>"+(a?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':
"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(n?R(n):"")+"</div></div></div>"),d=d(b);return c(d)}function Fwh(){return S('<div class="'+T("docos-showrepliesbutton")+'" style="display:none"><div class="'+T("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function Ewh(a,b){a=a||{};var c=a.ad;a=a.En;var d=S,e;a?e=S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(Fth({oh:"docos-icon-accept-checkmark-black",tA:"docos-icon-accept-checkmark-size",De:"jfk-button-img"}));return d(R(Nz({ad:c?""+c:"",style:a?4:0,content:Aw(""+e)},b)))};function Gwh(a,b){a=a||{};var c=a.XDa,d=a.ad,e=a.UGa;a=a.VGa;return S('<div class="'+T("goog-inline-block")+(d?" "+T(d):"")+'">'+R(bhd({Mk:c,ad:e},b))+(c?"<label"+(a?' class="'+T(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function Hwh(a,b,c){b=c||b;a=a||{};var d=a.De;c=a.E8;var e=a.G$b,f=a.nla,h=a.WGa,k=a.dDa,l=a.Kj,n=a.fI,q=a.LH;a='<div class="'+T("docos-input")+(d?" "+T(d):"")+'" style="display: none"><textarea class="'+T("docos-input-textarea")+(h?" "+T(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>'+(n?R(Bwh(xw({a_:"docos-edit-pane-action-text-wrapper",eKb:!0},a))):"")+(e?'<div class="'+T("docos-input-sidearrow-outer")+'"></div><div class="'+T("docos-input-sidearrow-inner")+'"></div>':"")+
'<div id="docos-input-assignment-panel" class="'+T("docos-input-assignment-panel")+'" style="display: none">'+R(bhd({ad:"docos-input-assignment-box"},b))+'<div class="'+T("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+T("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+T("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+T("docos-input-at-reply-message")+'" style="display: none">';a=a+'Your +mention will add people to this discussion and send an email.</div><div class="'+
(T("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Making sure people you mentioned have access\u2026</div><div class="'+(T("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+(T("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+T("docos-focusedpresenceindicator-container")+'"></div><div class="'+T("docos-input-buttons")+'">'+R(Nz({style:2,
ad:"docos-input-post docos-input-buttons-post"},b)));d="";d=f?d+(""+f):d+"Discard comment";f="";f=c?f+R(c):f+"Cancel";a+=R(Nz({ad:"docos-input-cancel",title:d,content:Aw(f),NM:l},b));return S(a+"</div></div>")};function Iwh(a,b,c){b=c||b;a=a||{};c=S;if(a.Qo){a=a||{};var d=a.author,e=a.DW,f=a.rW,h=a.Kj,k=a.En;a.vA?(a=(a=xw({author:d,Kj:h},a))||{},d=a.author,e=a.Kj,f=a.LH,b=S('<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-draft")+'">'+R(Dwh(xw({author:d,Qo:!0,zA:!0,De:"docos-replyview-first"},a),b))+"</div>"+R(Hwh({De:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",Kj:e,LH:f},b)))):e?(d=(d=xw({Kj:h,En:k},a))||{},e=d.f8a,a=
d.Kj,f=d.En,h='<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-smarttodoview")+'"><div class="'+T("docos-smarttodoview-container")+'"><div class="'+T("docos-smarttodoview-header")+'"><table><tr><td class="'+T("docos-icon-explore-container")+'">'+R(Fth({oh:"docos-icon-explore",tA:"docos-icon-explore-size",hQ:!0}))+'</td><td class="'+T("docos-smarttodoview-headertext")+'" role="heading"><div class="'+T("docos-smarttodoview-headertext-outer")+'"><div class="'+T("docos-smarttodoview-headertext-inner")+
'">',h=h+'Suggested action item</div></div></td><td><div class="'+(T("docos-overflowmenu-outer")+'">'+R(Cwh({tA:"docos-icon-overflow-three-dots-size",oh:"docos-icon-overflow-three-dots",hQ:f},b))+'</div></td></tr></table></div><div class="'+T("docos-smarttodoview-body")+'"></div>'),h+=R(Hwh({De:"docos-docoview-input-pane",E8:"Dismiss",nla:"Dismiss suggested action item",Kj:a},b)),e&&(h+='<div class="'+T("docos-smarttodoview-showfeedbackdialog-container")+'"><div class="'+T("docos-smarttodoview-showfeedbackdialog-button")+
'" role="button" tabindex="0" aria-expanded="false">',h+="Bad suggestion?</div></div>"),a=h,e?(d=d||{},d=d.Kj,e='<div class="'+T("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+T("docos-smarttodoview-feedback-headertext")+'" role="heading">',e=e+"Tell us why you didn't like this</div><div class=\""+(T("docos-smarttodoview-feedback-checkboxlist")+'">'),e+=R(Gwh({XDa:"Not an action item",ad:"docos-smarttodoview-feedback-checkbox-container",UGa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",
VGa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),e+=R(Gwh({XDa:"Wrong assignee",ad:"docos-smarttodoview-feedback-checkbox-container",UGa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",VGa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),e+='</div><div class="'+T("goog-inline-block")+" "+T("docos-smarttodoview-writefeedback-link")+'" role="button" tabindex="0">',e=e+'Write feedback</div><div class="'+
(T("docos-smarttodoview-feedback-buttonlist")+'">'),e+=R(Nz({style:2,ad:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",NM:d},b)),e+=R(Nz({ad:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",NM:d},b)),b=S(e+"</div></div>")):b="",b=S(a+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-assigneecontainer")+'"></div>':"")+'<div class="'+T("docos-anchoreddocoview-content")+
" "+T("docos-docoview-replycontainer")+'"><div class="'+T("docos-docoview-rootreply")+'"></div></div><div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+T("docos-unfocusedpresenceindicator-container")+'"></div>';b=S('<div class="'+T("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+T("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else a=a||{},b=a.uL,a=a.En,b=S('<div class="'+T("docos-docoview-tesla-conflict")+'">'+R(Gth({size:a?32:
48,qma:b?""+b:"",De:"docos-streamdocoview-avatar"}))+'<div class="'+T("docos-streamdocoview-content")+'"><div class="'+T("docos-docoview-rootreply")+'"></div><div class="'+T("docos-streamdocoview-replycontainer")+" "+T("docos-docoview-replycontainer")+'"></div><div class="'+T("docos-streamdocoview-inputcontainer")+" "+T("hide-on-readonly")+'">'+R(Gth({size:a?32:24,De:"docos-streamreplyview-avatar"}))+'<div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div></div></div></div>');
return c(b)};function Jwh(a,b){Kn.call(this,a);this.Bj=b}u(Jwh,Kn);function B7(a){Jwh.call(this,"rd",a)}u(B7,Jwh);function C7(a,b,c,d,e){b7.call(this,a,d);this.R=a;this.Za=c;this.$a=[];this.O=null;this.Pa=new zwh(this.R,b,this.Qo());this.Uc(b);this.Oa=null;this.Vc=e;this.Cb=this.xa=null;this.xd=!0;this.tc=!1}u(C7,b7);p=C7.prototype;p.sz=ba();p.Uc=function(a){b7.prototype.Uc.call(this,a);this.Pa.D=a};p.getContext=g("R");p.ud=function(){return g7(this.R).ud(this.getId())||null};p.Tk=function(){var a=this.getId();return Kwh(this.Vc,a)};p.sQ=m(null);p.qua=m(!1);
p.Ca=function(){var a=this.ud(),b=a.Nv();a=e7(a);var c=Sx(Iwh,{author:b.getName(),uL:this.C.ma?b.getId():null,Qo:this.Qo(),rW:!!a,Kj:this.C.Kj(),En:"legacy"!=this.C.F});this.Qo()||bvh(this.C)||ex(c,"docos-streampanemargin-legacy");this.jb(c);this.ue(b,a||void 0)};
p.ue=function(a,b){b=b?Kth(b,this.C):void 0;a=a.getName();var c=Md(this.ud().D),d=this.ud().isResolved()?"Resolved":"Open";b=a&&b?(new uA("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new uA("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new uA("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.}other {Comments dialog. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});Sw(this.getElement(),b)};p.Ia=function(){b7.prototype.Ia.call(this);d7(d7(this,this.getElement(),["click","keypress","keyup"],this.PMb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.W2b);Fo(this.getElement(),!0)};p.vd=function(){b7.prototype.vd.call(this);Awh(this.Pa,!1)};p.A8=m(!1);
p.lxa=ba();p.dea=function(){if("legacy"==this.C.F&&this.Qo()&&(!this.xa||!this.Cb)){var a=this.qa(),b=this.getElement(),c=a.createElement("DIV");ex(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");ex(c,"docos-anchoreddocoview-arrow-outer");this.Cb=c;a.Sr(b,this.xa,0);a.Sr(b,this.Cb,0)}};p.Zc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.xd;a||this.setVisible(!0);this.O=new hm(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
p.getHeight=function(){this.O||this.Zc();return this.O.height};p.PMb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.nRa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};p.W2b=function(a){var b=this.Pa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||Awh(b,"mouseenter"==a.type);a.stopPropagation()};p.gX=function(a){this.resize();a.stopPropagation()};
p.resize=function(){this.O=null;this.dispatchEvent(new B7(this.getId()))};p.setVisible=function(a){this.xd=a;P(this.getElement(),a)};p.isVisible=g("xd");
function Lwh(a){var b=["docos-docoview-tesla-conflict"],c=[];Mwh(a,"docos-anchoreddocoview",a.Qo(),b,c);Mwh(a,"docos-streamdocoview",!a.Qo(),b,c);Mwh(a,"docos-docoview-active",a.Tk(),b,c);var d=a.ud();Mwh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)fx(a.getElement(),b),hx(a.getElement(),c),a.$a=Tw(a.getElement())}function Mwh(a,b,c,d,e){c&&!$c(a.$a,b)?d.push(b):!c&&$c(a.$a,b)&&e.push(b)}p.zR=da("Oa");function Nwh(a){return a.Oa?a.Oa:a.C.Fs}p.getDocoMaxHeight=g("Oa");
p.Ja=function(){b7.prototype.Ja.call(this);delete this.R};function Owh(a,b){this.C=a;this.cb=b}
function Pwh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+T("docos-contact-row")+'" title="';f+=Cw("Contact information.");f+='">'+R(Gth({size:32,De:"docos-contact-row-avatar"}))+'<div class="'+T("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+T("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=S(f);d=vw(d);Je(c,d);d=b.getEmail();d=Bd(cf(b.getName()))?d:b.getName()+" "+d;Sw(c,d);c=fW(a.cb,"IMG","docos-contact-row-avatar",c);h7(a.C,c);swh(a.C,c,b.C,a7(b));
return c};function Qwh(a,b,c,d){d=void 0===d?null:d;rz.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new Owh(f7(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.Qo());this.D=null}u(Qwh,rz);p=Qwh.prototype;p.Ia=function(){rz.prototype.Ia.call(this);this.D=io("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.lNb).listen(this.getElement(),"focus",this.ux).listen(this.getElement(),["mousedown","blur"],this.bXa)};
p.lNb=function(a){this.C&&this.C.ud()==g7(this.L).O||(this.Fd(!this.ef()),this.bXa());a.stopPropagation()};p.ux=function(){ex(this.D,"docos-assignee-select-focus")};p.bXa=function(){gx(this.D,"docos-assignee-select-focus")};p.Ze=function(a){return this.Ob()&&2>this.Ob().rc()?!1:rz.prototype.Ze.call(this,a)};p.eg=function(a){this.C&&this.C.ud()==g7(this.L).O&&(this.Ob()&&2>this.ih()||rz.prototype.eg.call(this,a))};function Rwh(a){return(a=a.cf())?a.jh():null}
p.ze=function(a){rz.prototype.ze.call(this,a);var b=a.getElement();b&&(ex(b,"docos-assignee-select-menu"),"legacy"!=this.H.F&&ex(b,"docs-gm"),this.O&&a.render(this.H.O))};p.El=function(){var a=this.Ob().getElement();Lv(a,"width",this.J.offsetWidth+"px");rz.prototype.El.call(this);var b=parseInt(Mv(a,"top"),10)||0,c=Sv(this.J).x;this.O?(c-=Sv(this.H.O).x,b+=-2):b+=-1;Pv(a,c,b)};function Swh(a){var b=new sl;if(!a.Ob())return b;a.Ob().Pe(function(c){b.add(c.jh())});return b}
p.update=function(a,b){if(!Swh(this).equals(new sl(a))||Rwh(this)!=b){for(var c=new Py(this.qa()),d,e=0;e<a.length;e++){var f=a[e],h=new Twh(f,this.R,this.qa());f==b&&(d=h);c.Ga(h,!0)}this.ze(c);tz(this,d);P(this.getElement(),1<this.ih())}};p.reset=function(){this.Ob().od();tz(this,null)};function Twh(a,b,c){var d=c.createElement("div");Ky.call(this,d,void 0,c);this.D=a;this.C=b;this.F=Pwh(this.C,this.D,d)}u(Twh,Ky);p=Twh.prototype;p.Ca=function(){Ky.prototype.Ca.call(this);ex(this.getElement(),"docos-assignee-select-item")};
p.Ia=function(){Ky.prototype.Ia.call(this);this.getHandler().listen(this.getElement(),"click",this.kNb)};p.jh=g("D");p.Hg=m("");p.kNb=function(a){a.stopPropagation()};p.Ja=function(){Ky.prototype.Ja.call(this);var a=this.F;a&&h7(this.C.C,a)};function Uwh(){Vwh(this)}u(Uwh,Ra);Uwh.prototype.sB=function(a){Dda(this.D.remove(a),a);this.C=null};Uwh.prototype.cleanup=function(){this.D.clear();this.C=null};Uwh.prototype.iterator=function(){if(!this.C){var a=new tsh,b=this.D;a.C=[];var c=b.Nf();b=c;var d=a.C;c=c.length;var e=0,f=0;Sa(b,d)&&(b=b.slice(f,f+c),f=0);var h=f;for(f+=c;h<f;){var k=Math.min(h+1E4,f);c=k-h;h=b.slice(h,k);h.splice(0,0,e,0);Array.prototype.splice.apply(d,h);h=k;e+=c}this.C=a}return this.C.tj()};Uwh.prototype.tj=function(){return this.iterator()};
function Vwh(a){var b=new eth,c=new rsh;ash(c);b.C=c;a.D=b;a.C=null};function Wwh(a){Vwh(this);this.F=a}u(Wwh,Uwh);Wwh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();Xwh(b,this.F)}};Wwh.prototype.get=g("F");function Ywh(a,b,c){return new Zwh(a,b,c)}function Zwh(a,b,c){this.C=$wh(a,b);this.Vd=c;this.F=!1;this.D=-1;axh(this,0)}Zwh.prototype.I3=g("F");Zwh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function $wh(a,b){for(var c=[],d={},e=0;e<b.length;d={uS:d.uS,u7:d.u7},e++){d.u7=b[e];var f=d;var h=new Wwh(null);f.uS=h;d.u7.H(a.token,a.G8,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.uS.set(new bxh(l,n,r,k.u7.getType(),w,q)):r&&k.uS.set(cxh())}}(d))||d.uS.set(cxh());c.push(d.uS)}return c}function axh(a,b){if(!a.F)if(b>=a.C.length)a.Vd(cxh()),a.close();else{a.D=b;var c=a.C[b];cc(a);Fda(c.D.add(a),a);c.C=null;b=a.C[b].get();null!==b&&Xwh(a,b)}}
function Xwh(a,b){b.isEmpty()?(a.C[a.D].sB(a),axh(a,a.D+1)):(a.Vd(b),b.complete&&a.close())}function dxh(a,b,c){this.token=a;this.G8=b;this.C=c}function bxh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}bxh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function cxh(){return new bxh([],new xwd(!1),!0,0,!1,void 0)};function exh(a){this.C=a};function fxh(){this.className="docos-ac-highlighted"}fxh.prototype.Vra=function(a,b,c){Bd(b)||c.C&&/^\W/.test(b)?c=null:(b=$e(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.$w(a,c)};
fxh.prototype.$w=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.$w(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=ao(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Oo(b,f)),f=h,h=Oo(b,""),b.Hv(f,a),b.Hv(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function gxh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function hxh(a){this.x5b=a}u(hxh,bcb);function ixh(a,b,c,d,e,f,h,k,l){l=void 0===l?5E3:l;this.gka=!0;a=new jxh("\n",null,!0);wsh(a);a.H0a=!1;a.V=null;a.R=null;f=new kxh(f,k,this);f.R=!0;f.pAa=!1;f.O=!0;f.className="docos-ac";h&&ddb(f,h,void 0,h);AA.call(this,this,f,a);this.L.Xg=this;this.Ha=c.map(function(n){return new lxh(n)});this.Oa=new fxh;this.Rpa(eo(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Pa=l;this.Ea=!1;this.Ba=null}y(ixh,AA);var mxh=/[\n]$/;p=ixh.prototype;
p.oH=function(a,b,c){var d=this,e=La(),f=this.L.D;this.R&&this.R.jo("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=nxh(this.L,a),l=oxh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,B){w=void 0===w?null:w;x=void 0===x?!0:x;B=void 0===B?!1:B;d.isDisposed()||(w=new hxh(new gxh(e,f,n.getType(),h,x,B,w)),w.Xwa=!h,w.lba=r.Hka,c(a,q,w),h=!1)})}else b=Ywh(new dxh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new hxh(new gxh(e,f,q.type,
h,q.complete,q.F,q.D));r.Xwa=!h;q.C&&(r.lba=q.C.Hka);c(a,q.rows,r);h=!1}}),this.C=new pxh(b,this.Pa)}else c(a,[])};function oxh(a,b,c){return a.Ha.filter(function(d){return d.F(b,c)})}
p.Xv=function(a,b){b||(b=new bcb);ixh.Ua.Xv.call(this,a,b);if(b instanceof hxh){this.Ba=b.x5b;var c=qxh(this,this.Ba,a.length,!1);b=this.Ba;var d=c,e=La()-b.startTime,f=La()-b.J;this.R&&(b.C&&(this.R.jo("dac",e,d.serialize()),this.R.jo("dact",f,d.serialize())),b.D&&(this.R.jo("dacfr",e,d.serialize()),this.R.jo("dacfrt",f,d.serialize())))}else this.Ba=null;if(this.ma){b=this.ma;d=a.length;a=0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=rxh[a])&&h.Iha;b.C=a}else b.C&&0==d&&(h=(h=rxh[b.C])&&
h.iia,b.C=null);h&&sxh(b,h,c)}};function qxh(a,b,c,d){var e=new C9d;e=M(e,1,c).setType(txh(b.H));e=M(e,3,b.F);c=M(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(M(c,5,BA(a,a.J)),M(c,6,b.L));return ush(c)}function txh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}}p.xs=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.WO()&&this.Oa.Vra(c,a.data.WO().D,new exh(a.data.WO().C)))};
p.mA=function(){var a=CA(this)?this.F[BA(this,this.J)]:null,b;this.Ba&&(b=qxh(this,this.Ba,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=rxh[a.getType()])&&sxh(c,a.bha,b);c.C=null}this.Ea=!0;return ixh.Ua.mA.call(this)};p.Ug=function(){if(!this.Ea&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&rxh[a.C];b&&sxh(a,b.q9);a.C=null}this.Ea=!1;ixh.Ua.Ug.call(this)};function uxh(a){return CA(a)?a.F[BA(a,a.J)].getId():null}
p.Ja=function(){ixh.Ua.Ja.call(this);If(this.Ha);this.C&&(this.C.cancel(),this.C=null)};function jxh(a,b,c,d){this.D=0;FA.call(this,a,b,c,d)}y(jxh,FA);jxh.prototype.eg=function(){this.Xg.ef()&&this.Xg.Ug()};jxh.prototype.Eg=function(a){this.D=La();return(37===a.keyCode||39===a.keyCode)&&this.Xg.ef()||38===a.keyCode&&this.Xg.ef()&&-1===this.Xg.J?(this.Xg.Ug(),!0):jxh.Ua.Eg.call(this,a)};
jxh.prototype.zB=function(a,b){var c=null;if(a){c=a.hV();var d=vxh(this,a.getToken());c={start:c.wk()+d,end:c.uv()+d}}b=jxh.Ua.zB.call(this,a,b);if(a){d=c.end;var e=this.$k;e&&(DA(e,c.start),EA(e,d));a.n5()}return b};function vxh(a,b){var c=a.Un();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function nxh(a,b){return a.Un()-vxh(a,b)}function lxh(a){this.D=a}
lxh.prototype.H=function(a,b,c,d){var e=a.replace(mxh,"");return this.D.H(e,b,c,function(f,h,k,l,n){d(f.map(function(q){return new wxh(q,a)}),h,k,l,n)})};lxh.prototype.getType=function(){return this.D.getType()};lxh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function wxh(a,b){this.C=a;this.D=b}p=wxh.prototype;p.getId=function(){return this.C.getId()};p.getType=function(){return this.C.getType()};p.WO=function(){return this.C.WO()};p.hV=function(){return this.C.hV()};p.render=function(a){this.C.render(a)};
p.n5=function(){this.C.n5()};p.getToken=g("D");p.toString=function(){var a=mxh.test(this.D)?"\n"[0]:"";return this.hV().C+a};function pxh(a,b){var c=this;this.D=a;this.C=ip(function(){c.C=null;c.D.close()},b)}pxh.prototype.cancel=function(){null!==this.C&&(jp(this.C),this.C=null);this.D.close()};function kxh(a,b,c){ZA.call(this,a,c);this.Ka=!!b}y(kxh,ZA);
kxh.prototype.$c=function(){kxh.Ua.$c.call(this);Sw(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=Qv(this.getElement()),b=this.Ka?-2:-1;Pv(this.getElement(),a.x,a.y+b)}};function xxh(a){this.C=null;this.D=a}function sxh(a,b,c){if(c){var d=new vj;cj(d,11,c)}a.D&&a.D(b,void 0,d)}var yxh={},rxh=(yxh[1]={Iha:43002,iia:43004,q9:43006,bha:43E3},yxh[2]={Iha:43003,iia:43005,q9:43007,bha:43001},yxh[3]={Iha:43068,iia:43069,q9:43066,bha:43067},yxh[4]={Iha:43072,iia:43073,q9:43070,bha:43071},yxh);function zxh(a,b,c,d){Wn.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new eB(a);Pn(this.F,"input",this.L,!1,this);Axh(this)}y(zxh,Wn);zxh.prototype.L=function(){Axh(this)};function Axh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&Eo(a.H,String(1==a.J?b:a.D-b))}zxh.prototype.Ja=function(){zxh.Ua.Ja.call(this);delete this.C;this.F.dispose();this.F=null};function Bxh(a,b){return Cxh(a,b,!1)}function Dxh(a,b){return Cxh(a,b,!0)}function Cxh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?yd(n,h):Ad(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function Exh(a,b,c,d,e,f,h){b.getEmail();this.Bc=a;this.D=b;this.bd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}y(Exh,A);p=Exh.prototype;p.jh=g("D");p.getId=g("bd");p.getType=g("L");p.WO=g("H");p.hV=g("J");p.render=function(a){this.C=Pwh(this.Bc,this.D,a)};p.n5=ba();p.Ja=function(){var a=this.C;a&&h7(this.Bc.C,a)};function Fxh(a,b){this.C=a;Gxh(this.C);this.D=b}function Hxh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Ixh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(Ixh.has(a[b])){d=b;break}return{text:a.slice(c,d),JH:c,nF:d}}function Jxh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Kxh.has(a[d])&&(0==d||Ixh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(Ixh.has(a[b])){d=b;break}return{text:a.slice(c,d),JH:c,nF:d}}
function Lxh(a,b,c,d,e,f,h,k,l){return a.C.Qn(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,WY(dth(r))?w=(new dZ(dth(r))).setSize(96).Sx():w=dth(r)||null,w=fuh(cuh(euh(new j7,r.getEmail()).ld(r.getName()),w).Uc(""))):w=null;return{q9a:r,TB:w}}).filter(function(r){return r.TB}).map(function(r,w){var x=r.TB;w=h+w;r=r.q9a.getType();var B=new rT(d,!0),L=c;x.getName()&&(L=Mxh(x.getName(),b,L));var X="+"+x.getEmail(),V=Ixh.has(b[L.nF]);return new Exh(a.D,x,w,k,B,new sT(b.slice(0,
L.JH)+X+(V?"":" ")+b.slice(L.nF),L.JH+X.length+1,L.JH+X.length+1),r)});l(n,!q.Pj(),a.C.C)},e)}
function Mxh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(Nxh).filter(function(l){return!!l}),e=b.slice(0,c.nF).split(Nxh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.nF-a,{text:b.slice(a,c.nF),JH:a,nF:c.nF};f++}return c}
var Ixh=new Set([" ","\t","\n"]),Kxh=new Set(["@","+"]),Nxh=/[ ]/;var Oxh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
Pxh=new sl(["everybody","nobody"]);function Qxh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}y(Qxh,A);Qxh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Hxh(a,b);var f=Rxh(this,b.text);a=Lxh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,Sxh,f.query.length,k,l)});this.C=a.Pj()?a:null;return!0};
Qxh.prototype.F=function(a,b){a=Hxh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||$c(Oxh,a.text.trim().toLowerCase())||Pxh.contains(a.text.trim().toLowerCase())?!1:!0};function Rxh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:fe}:null!=a[2]?{query:a[2],filter:Dxh}:null!=a[3]?{query:a[3],filter:Bxh}:null}Qxh.prototype.getType=m(2);Qxh.prototype.Ja=function(){delete this.C};var Sxh=new xwd(!1);function Txh(a){this.J=a;this.D=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null}y(Txh,A);Txh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Jxh(a,b);var f=Uxh(this,b.text);a=Lxh(this.J,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(h,k,l){k&&(e.C=null);d(h,Vxh,f.query.length,k,l)});this.C=a.Pj()?a:null;return!0};Txh.prototype.F=function(a,b){a=Jxh(a,b);return this.D.test(a.text)};
function Uxh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:fe}:null}Txh.prototype.getType=m(1);Txh.prototype.Ja=function(){delete this.C};var Vxh=new xwd(!0);var Wxh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,Xxh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function Yxh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Cd(a[b]).replace(/^\W+/,"").toLowerCase();return a};function Zxh(a){this.C=new wM(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");Gxh(this.J)}function $xh(a,b){var c=fuh(buh(euh(new j7,b).Uc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.Qn(b,1,v(a.L,a,b)))}Zxh.prototype.L=function(a,b){if(null!==b&&0<b.length&&OT(this.C,a)){b=b[0];var c=null;WY(dth(b))?c=(new dZ(dth(b))).setSize(96).Sx():c=dth(b)||null;b=fuh(cuh(euh(new j7,a).ld(b.getName()),c).Uc(""));this.C.set(a,b)}delete this.H[a]};
function ayh(a){return a.C.C.next.value||null}function byh(a){return a.F?a.D:null};function cyh(a,b,c){Kn.call(this,c)}y(cyh,Kn);function dyh(a){a=a.kJb;return S('<div class="'+T("docos-presenceindicator")+" "+T(a)+'">Someone is typing...</div>')};function eyh(a,b,c){b7.call(this,a,b);this.D=c}u(eyh,b7);eyh.prototype.Ca=function(){this.jb(Sx(dyh,{kJb:this.D}))};eyh.prototype.Ia=function(){b7.prototype.Ia.call(this);this.setVisible(!1)};eyh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function fyh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;b7.call(this,a,b);this.Oa=a;this.R=new Oz("",b);var e=this.C.Kj();this.R.QM=e;this.Ga(this.R);this.O=new Oz("",b);this.Ga(this.O);this.V=b.Yb().body;this.D=c;this.H=new Zxh(this.Oa);this.Ea=this.Wa=null;this.xa=new Qwh(b,this.C,this.Oa,this.D);this.J=(this.yd="legacy"!=this.C.F)?new kS(b):new lS(!1,b);this.Za=!1;this.Ka=!d;c=kw.getInstance();this.Dc=lw(c);this.fc=lw(c);this.tc=lw(c);this.Kb=null;Ic(z(),"docs-edp")&&(this.Kb=new eyh(a,b,"focused-presenceindicator"));
this.Pb=0;this.Ba=null;this.Cb="Comment draft";this.Ta=this.Lc=null;this.$a=!0;this.ma=!1;this.Bb=this.fb=this.L=this.Qa=this.Pa=null;this.Ha=!1}u(fyh,b7);p=fyh.prototype;p.Ca=function(){this.Ec(Sx(Hwh,{Kj:this.C.Kj(),LH:this.C.Ha},void 0,this.qa()))};
p.Ec=function(a){b7.prototype.Ec.call(this,a);a=this.getElement();var b=this.qa();this.setVisible(!0);this.F=b.bb("docos-input-textarea",a);this.Ka||P(this.F,this.Ka);var c=new fB;c.Va(this.F);this.va(c);this.Ta=b.bb("docos-input-at-reply-message",a);this.Ta.setAttribute("id",this.Dc);this.Pa=b.bb("docos-input-acl-fixer-message",a);this.Pa.setAttribute("id",this.fc);this.Qa=b.bb("docos-input-assignment-message",a);this.Qa.setAttribute("id",this.tc);this.Ea=b.bb("docos-input-assignment-panel",a);c=
this.xa;var d=this.Ea;c.J=d;Yy(c,new Ty(d,9));this.Wa=b.bb("docos-input-assignee-text",a);c=b.bb("docos-input-assignee-select",a);this.xa.Va(c);this.xa.Na(!0);if(c=b.bb("docos-input-assignment-box",a))this.J.Va(c),this.J.Nd(this.Wa);c=gyh(this);if(0<c.length){d=!this.D||!this.D.Qo();var e;d?e=this.C.O:this.D&&(e=this.D.getElement());this.L=new ixh(this.C,this.F,c,new xxh(this.C.$a),this.C.R||void 0,e||void 0,this.F||void 0,d);this.va(this.L)}if(e=b.bb("docos-input-cancel",a))this.O.Va(e),Sw(e,this.O.Qk());
(a=b.bb("docos-input-post",a))&&this.R.Va(a);this.Kb&&this.D.Qo()&&(a=this.qa().bb("docos-focusedpresenceindicator-container",this.getElement()),this.Kb.render(a))};function gyh(a){var b=[],c=new Owh(f7(a.Oa),a.qa());c=dvh(a.C)?new Fxh(a.Oa.get("contactStore"),c):null;if(dvh(a.C)){var d=new Txh(c);a.va(d);b.push(d)}d=evh(a.C).map(function(e){return e.F()});ld(b,d);dvh(a.C)&&(c=new Qxh(a.C.Kg,c),a.va(c),b.push(c));return b}
p.Ia=function(){b7.prototype.Ia.call(this);bIe(this.getElement(),!1);this.fb=new zxh(this.F,null,2048);this.va(this.fb);this.Bb=new eB(this.F);this.va(this.Bb);d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(this,this.Bb,"input",this.Rub),this.F,"keydown",this.JD),this.F,"keyup",this.pNb),this.F,"keypress",this.oNb),this.O,"action",this.nNb),this.R.getElement(),["click","keypress","keyup"],this.c_a),this.R,"action",this.sRa),this.Ea,"click",this.f1b),this.J,"change",this.h1b),this.J.wl(),"keypress",this.i1b),
this.Ea,["keyup","keypress"],this.g1b),this.xa,"action",this.e1b),this.F,"pointerdown",this.mNb);this.L&&(d7(this,this.L,"update",this.Klb),d7(this,this.L,"suggestionsupdate",this.Z_a));this.F[hyh]=v(this.blur,this);this.F[iyh]=v(this.p2b,this);this.O.getElement()&&(d7(this,this.O.getElement(),["click","keypress","keyup"],this.c_a),this.O.Na(!0));if(this.D&&e7(this.D.ud())&&Evh(this.D.ud())){var a=this.H,b=$6(e7(this.D.ud())).getEmail();b&&!OT(a.C,b)&&$xh(a,b);a.C.isEmpty();a=this.H;b=ayh(this.H);
$c(a.C.Gd(),b);a.D=b;a.F=!0;this.J.Zb(!0)}this.F.value=this.Ba||"";Pw(this.F,"label",this.Cb);this.Ha=!0;fvh(this.C)&&(Fo(this.getElement(),!0),Sw(this.getElement(),"This is the input pane."))};p.mNb=function(a){ri&&vf(73)&&a.target.setPointerCapture(a.pointerId)};p.isVisible=function(){return"none"!=this.getElement().style.display};p.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};p.getValue=function(){return this.F?this.F.value:""};
p.setValue=function(a){this.F.value=a};p.isEmpty=function(){return Bd(this.getValue())};function D7(a){return!Bd(a.getValue())&&!a.Ha}p.ue=da("Cb");p.reset=function(a){this.ma||this.isDisposed()||(this.F.value=this.Ba||"",Pw(this.F,"label",this.Cb),this.Ha=!0,mf?ip(this.zOa,0,this):this.zOa(),E7(this,a),this.F&&(this.F.style.height=""),a||jyh(this),kyh(this,"none"))};
function kyh(a,b){if(a.Ta&&a.Pa&&a.Qa){P(a.Ta,"atReplyMessage"==b);P(a.Pa,"aclFixerMessage"==b);P(a.Qa,"assignmentMessage"==b);var c=a.J.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.Dc;break;case "assignmentMessage":d=a.tc;break;case "aclFixerMessage":d=a.fc}null!=d?Pw(c,"describedby",d):Qw(c,"describedby")}}}p.ready=function(a,b,c){this.isDisposed()||(this.Ha&&(this.Lc=!b&&a||"",this.F.value=a||"",this.Ha=!1),ex(this.getElement(),"docos-input-typing"),c||this.focus(),E7(this))};
p.blur=function(){this.D&&this.dispatchEvent(new Kn("b",this.D))};p.focus=function(){mf||ip(this.rRa,0,this);this.rRa()};p.rRa=function(){this.isDisposed()||cw(this.F)&&this.F.focus()};p.zOa=function(){this.isDisposed()||gx(this.getElement(),"docos-input-typing")};
function E7(a,b){var c=Cd(a.getValue());c=!a.Ha&&c!=a.Lc;a.R.Na(!a.ma&&(!a.Ka||c&&!a.isEmpty()));a.Z_a();var d=lyh(a),e=a.H.D,f=a.H.C.Gd().length;if(a.Ka){var h=a.H;var k=a.getValue(),l=d?$6(d):void 0;d=Yxh(Xxh,k);k=h.C;h.C=new wM(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];OT(k,q)?h.C.set(q,k.get(q)):$xh(h,q)}l&&(l=cf(l.getEmail()),!Bd(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=ayh(h))?k.getEmail():null;(h.F||l==n)&&l&&OT(h.C,l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
myh(a,!1);e=0==f&&h;f=a.C;gZ(f.C)&&Ri(gZ(f.C),31)&&e&&!a.ma&&Ri(f.C,33)&&!f.V&&!f.xa&&(e=f.fk,f=ayh(a.H)?ayh(a.H).getEmail():null,e&&f&&e([f]));e=h&&!a.Za&&a.D&&!a.D.ud().isResolved()&&a.Ka&&(a.D.qua()||!!pvh(a.D.ud()));Ri(a.C.C,38)&&(e?(a.J.Na(!a.ma),a.xa.Na(!a.ma),a.xa.update(a.H.C.Gd(),d),e=Mth(d,a.C,!!lyh(a)),f=a.xa.getElement(),Eo(a.Wa,e),Sw(f,e+". Choose an assignee."),ix(a.Wa,"docos-input-assignee-text-no-chevron",!cw(f)),P(a.Ea,!0),nyh(a,!0)):(myh(a,!1),a.J.Na(!1),a.xa.reset(),P(a.Ea,!1),
nyh(a,!1)));a.ma&&dvh(a.C)&&!a.H.C.isEmpty()?kyh(a,"aclFixerMessage"):a.$a&&dvh(a.C)&&!a.H.C.isEmpty()?a.J.isChecked()?kyh(a,"assignmentMessage"):a.$a?kyh(a,"atReplyMessage"):kyh(a,"none"):kyh(a,"none");(e=byh(a.H))&&a.D?(f=!!lyh(a),e=Mth(e,a.C,f),f=f?"Reassign":"Assign"):a.Za?(e="Save changes",f="Save"):!a.D||a.D.ud().vA()?(e="Post Comment",f="Comment"):a.D.ud().DW()?(e="Assign suggested action item",f="Assign"):(e="Reply to comment",f="Reply");a.R.getElement()&&c7(a.Oa).D.C(a.R.La(),e);Eo(a.R.getElement(),
f);oyh(a);c?(pyh.contains(a)||(pyh.add(a),a.dispatchEvent(new cyh(a.D.getId(),1,"pr"))),ex(a.getElement(),"docos-input-nohide")):(qyh(a),gx(a.getElement(),"docos-input-nohide"));b||a.dispatchEvent("s")}function qyh(a){pyh.contains(a)&&(pyh.remove(a),a.dispatchEvent(new cyh(a.D.getId(),0,"pr")))}
p.Z_a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.L&&this.L.ef()&&(this.getElement().setAttribute("aria-autocomplete","list"),CA(this.L)&&this.getElement().setAttribute("aria-activedescendant",uxh(this.L)))};function nyh(a,b){if(b=b&&a.D)b=a.D,b=b.Qo()&&b.tc;b?(a.C.Fy||ee)("docosTodos",v(a.x3b,a)):(a.C.Mh||ee)("docosTodos")}p.x3b=function(){this.dispatchEvent("ph")};function myh(a,b){a.J.Zb(b);a.H.F=b}
function lyh(a){return a.D&&!a.D.ud().vA()&&pvh(a.D.ud())?e7(a.D.ud()):null}p.c_a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};p.nNb=function(){this.dispatchEvent("c");this.reset()};p.sRa=function(){if(this.R.isEnabled()){var a=this.H.C.Re(),b=this.C;if(Ri(b.C,33)&&!b.V&&!b.xa&&!ad(a)&&(b=this.C.Gl)){kyh(this,"aclFixerMessage");this.ma=!0;E7(this);this.O.getElement()&&this.O.Na(!1);b(a,v(this.ukb,this));return}ryh(this)}};
p.f1b=function(){this.ma||(myh(this,!this.J.isChecked()),E7(this))};p.h1b=function(){var a=this.J.isChecked();this.H.F=a;E7(this)};p.i1b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.J,a.Zb(a.FC?!1:!0),this.J.dispatchEvent("change"),this.R.focus())};p.g1b=function(a){a.stopPropagation()};p.e1b=function(){this.J.Zb(!0);var a=this.H,b=Rwh(this.xa);$c(a.C.Gd(),b);a.D=b;a.F=!0;E7(this)};
p.ukb=function(a){this.ma&&(this.ma=!1,"continue"==a?ryh(this):kyh(this,"atReplyMessage"),this.D.getContext()&&(E7(this),this.O.getElement()&&this.O.Na(!0)))};function ryh(a){mf&&a.D&&a.D.ud().vA()&&Hf(a.fb);a.dispatchEvent("p");a.reset()}p.p2b=function(){this.ready(void 0,void 0,!0);this.D&&this.dispatchEvent(new Kn("f",this.D))};function oyh(a){if(!a.F)return!1;var b=a.F.clientHeight,c=a.F.scrollHeight,d=$v(a.F).height;return b!=c&&0<d?(Zv(a.F,d+c-b),!0):!1}
p.JD=function(a){oyh(this)&&this.dispatchEvent("s");this.Pb=a.keyCode;if(13==a.keyCode)syh?a.metaKey&&sf&&ri&&tyh(this,a):tyh(this,a);else if(27==a.keyCode){pf&&a.preventDefault();if(this.L&&this.L.ef())return;this.isEmpty()&&this.reset();this.D&&this.dispatchEvent(new Kn("e",this.D));jyh(this)}a.stopPropagation()};
p.pNb=function(a){oyh(this)&&this.dispatchEvent("s");var b=this.Pb;this.Pb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Vc){xd(this.getValue(),"\n")?this.JD(a):a.preventDefault();return}this.Vc=!1}a.stopPropagation()};p.oNb=function(a){if(13==a.keyCode&&syh)tyh(this,a);else if(27==a.keyCode){if(this.L&&this.L.ef())return;this.blur();jyh(this)}a.stopPropagation()};function tyh(a,b){if(b.ctrlKey||b.metaKey)a.Vc=!0,a.R.getElement().focus(),a.sRa()}
function jyh(a){a.V&&(mf&&!vf("9")?a.V.focus():ip(function(){return a.V.focus()}))}p.Rub=function(){E7(this)};p.Klb=function(){E7(this)};p.Ja=function(){b7.prototype.Ja.call(this);qyh(this);this.F&&(this.F[hyh]=null,this.F[iyh]=null);delete this.F;delete this.fb;delete this.Bb};var pyh=new sl,hyh=mf?"onfocusout":"onblur",iyh=mf?"onfocusin":"onfocus",syh=sf||lf||pf;qf&&vf("530");function uyh(a,b,c,d,e,f,h){d=void 0===d?0:d;Jwh.call(this,a,b);this.Em=c||null;this.Zo=d;this.C=e||null;this.v_=h}u(uyh,Jwh);function vyh(a){this.C=c7(a)};function wyh(a,b){b.DW()?a.V+=1:b.vA()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.$j()?(b=Fvh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function xyh(a,b,c,d,e){this.Bj=a;this.C=b||null;this.Em=c||null;this.Zo=d||null;this.flags=e||null};function yyh(a,b,c,d){Kn.call(this,b,a);this.source=c;this.C=d}u(yyh,Kn);function zyh(a,b){this.F=a;this.D=b;this.C=[]}function Ayh(a){return new yyh(a.F,"bu",a.D,a.C)};function Byh(){this.D={};this.C={};this.F=0}function Cyh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function Dyh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new Eyh(c,d);a.C[c][d||"$"]=b}Byh.prototype.bind=function(a,b){if(null!==Cyh(this,a,b))return!1;this.F++;Dyh(this,this.F,a,b);return!0};function Fyh(a,b,c){var d=Cyh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function Gyh(a,b,c,d,e){var f=Cyh(a,b,c);if(null===f||null!==Cyh(a,d,e))return!1;Fyh(a,b,c||void 0);Dyh(a,f,d,e);return!0}
function Hyh(a,b,c){return Cyh(a,b,c)||0}Byh.prototype.getDocoHandles=function(){for(var a=Od(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function Eyh(a,b){this.C=a;this.D=b||null};function Iyh(){this.D={}}Iyh.prototype.C=function(a){Evh(a)||(this.H(a),a.eQ()&&(this.D[a.getId()]=!0))};Iyh.prototype.H=function(a){delete this.D[t7(a)];delete this.D[a.getId()]};Iyh.prototype.F=function(){return!Td(this.D)};function Jyh(a){this.J=a;this.D=new Iyh}Jyh.prototype.C=function(a){this.D.C(a);a=this.J.Nh;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};Jyh.prototype.H=function(a){this.D.H(a)};Jyh.prototype.F=function(){return this.D.F()};function Kyh(a){Wn.call(this);this.Ba=a;this.C={};this.O=null;this.F={};this.H=[];this.Ha=[];this.Ea={};this.L={};this.D=new Byh;this.Ka=[];this.V=!1;this.ma=this.J=null;this.Oa=!1;this.xa=new Jyh(this.Ba)}y(Kyh,Wn);function Lyh(a,b){a.$j();var c="<i>Made a suggestion</i>";(a=a.N1())&&(b=b.$u)&&(b=b(a).C())&&(c=b);return c}function Myh(a,b){return"n"!=b&&!Evh(a)&&a.eQ()}
function Nyh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new zyh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=u7(d);h.C.push(new xyh(b,c,d,e,f));k&&a.dispatchEvent(Ayh(h))}
function z7(a,b,c,d){c=c||"c";var e=Oyh(a),f=Pyh(a,b.getId(),K(S6(b.C),11)||"");if(f){var h=f.getId(),k=l7(f.C);b=b.C;var l=kj(f.F);S6(b);var n=S6(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!l7(f.C);for(var w=(void 0===K(n,13)||0==K(n,13))&&l7(f.C),x=R6(n),B=!1,L=0;L<x.length;L++){var X=x[L],V=f.D[X.getId()||""]||f.D[K(X,11)||""];B=!1;V||(V=f.J[X.getId()||""]||f.J[K(X,11)||""],B=!!V);if(V){var ca=V.getId();V.update(X);if(ca!=V.getId()&&(delete f.D[ca],f.D[V.getId()]=V,Hyh(f.O,
r,ca)&&!Gyh(f.O,r,ca,r,V.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+V.getId());l7(V)?(delete f.D[V.getId()],f.J[V.getId()]=V,Fyh(f.O,r,V.getId())):B&&!l7(V)&&(delete f.J[V.getId()],f.D[V.getId()]=V,f.O.bind(r,V.getId()))}else V=new Buh(X),l7(V)?(f.J[V.getId()]=V,Fyh(f.O,r,V.getId())):(f.D[V.getId()]=V,delete f.J[V.getId()],f.O.bind(r,V.getId())),V=R6(S6(f.F)),V.push(X),X=S6(f.F),ej(X,8,V)}r=0;void 0!==Ri(b,6)&&Ri(b,6)!=f.isResolved()&&(r=Ri(b,6)?r|2:r|4);q&&!B?r|=16:w&&
(r|=8);ej(n,8,[]);q&&(n.setContent(void 0),cj(n,4,void 0),cj(n,9,void 0));Xth(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.iQ=null;hj(f.F,l)||(r|=1);b=r;a.xa.C(f);Qyh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],l=Hyh(a.D,h),delete a.Ea[l],a.C[f.getId()]=f,l&&!Gyh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=Hyh(a.D,f.getId());l7(f.C)?(delete a.C[f.getId()],Fyh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ea[l]=f),Myh(f,c)&&(cd(a.H,f.getId()),cd(a.Ha,
f.getId())),d=Mvh(Lvh("dd"),c),k=f.getId(),d.D=k,k=u7(f),d.Iq=k,d.C=l,d=Nvh(d,b),h!=f.getId()&&(d.F=h),a.dispatchEvent(Pvh(d))):(k&&(delete a.F[f.getId()],delete a.Ea[l],a.C[f.getId()]=f,(a.Ba.Ka||u7(f))&&a.D.bind(f.getId()),l=Hyh(a.D,f.getId())),0!=b&&(Myh(f,c)&&cd(a.H,f.getId()),Nyh(a,c,h,f,l,b,d)))}else f=new Bvh(b.C,a.D,b.rs?b.rs:void 0),a.xa.C(f),l7(f.C)?a.F[f.getId()]=f:Ryh(a,f,c,d);Oyh(a)!=e&&(e=Oyh(a)?32:0,c=Pvh(Nvh(Mvh(Lvh("p"),c),e)),a.dispatchEvent(c))}
function bwh(a,b,c){for(var d=new zyh(a,c),e=0;e<b.length;e++)z7(a,b[e],c,d);a.dispatchEvent(Ayh(d))}function Tvh(a,b){b.getNewDocoType()||Ivh(b,"draft");b=new Bvh(b.C,a.D,b.rs?b.rs:void 0);a.xa.C(b);Ryh(a,b)}
function Ryh(a,b,c,d){if(Ri(a.Ba.C,38)||!b.isTodo()){c=c||"c";var e=null;b.Ty()&&(e=Syh(a,u7(b)));e&&Evh(e)?(Gyh(a.D,e.getId(),null,b.getId(),null),Xvh(a,e.getId(),c)):(a.Ba.Ka||b.Ty())&&a.D.bind(b.getId());a.C[b.getId()]=b;Qyh(a,b);e=8|(b.isResolved()?2:0);Myh(b,c)&&cd(a.H,b.getId());var f=Hyh(a.D,b.getId());Nyh(a,c,void 0,b,f,e,d)}}
function Xvh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.Ty()){var e=u7(d);delete a.L[u7(d)]}a.xa.H(d);d=Hyh(a.D,b);delete a.C[b];Fyh(a.D,b);c=Mvh(Lvh("dd"),c);c.D=b;c.C=d;b=Nvh(c,16);void 0!=e&&(b.Iq=e);a.dispatchEvent(Pvh(b))}}function F7(a,b){var c=null;b&&(c=a.ud(b));a.O=c}function fwh(a,b){b=b.getId();return $c(a.Ka,x7(a,b))}Kyh.prototype.R=function(a){return(this.Ba.Ka||a.Ty())&&(!a.isResolved()||this.V)};function Tyh(a){var b=Yd(a.C);$d(b,a.F);return b}
function Uyh(a){var b=new kth;a=Nd(Tyh(a));for(var c=0;c<a.length;c++)wyh(b,a[c]);return lth(b)}function Vyh(a){function b(d){return d.eQ()}var c=Sc(Nd(a.C),b);a=Sc(Nd(a.F),b);return c.concat(a)}function Oyh(a){return a.Oa?a.xa.F():!1}function Wyh(a){for(var b=0;b<a.H.length;b++){var c=a.H[b],d=a.ud(c);d||(d=a.F[c]);if(d&&d.eQ())return!0}return!1}Kyh.prototype.ud=function(a){return this.C[a]};function Pyh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}
function Qyh(a,b){u7(b)&&(l7(b.C)?delete a.L[u7(b)]:a.L[u7(b)]=b)}function Syh(a,b){var c=a.L[b]||null;return c&&u7(c)!=b?(delete a.L[b],null):c}function A7(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function awh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?p7(a,b):null:null}Kyh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function x7(a,b,c){return Hyh(a.D,b,c)}
Kyh.prototype.flush=function(a){this.dispatchEvent(Pvh(Ovh(Mvh(Lvh("f"),"c"),!!a)));this.dispatchEvent(Pvh(Mvh(Lvh("af"),"c")))};function Xyh(a,b){a=a.ma;if(!a)return null;b=b.Cc(a.getKey());if(!b)return null;a=b.bb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new om(b,b+a.height)}function Yyh(a,b){return(a=Zyh(a,b))?new hZ(a.getKey().getId(),a.getValue()):null}
function Zyh(a,b){var c=a.J;if(!c)return null;var d=a.ma;if(!d)return null;var e=d.getKey();e=Yd(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=Cvh(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+$yh(h,c,b);if(k>d)return new hZ(h,d-a);a=k}return null}function azh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Up('<span class="%s">%s</span>',d,h));c+=h}return c}
function $yh(a,b,c){a=bzh(a,c);if(!a)return 0;a=ro(a).textContent.toLowerCase();return Vga(a,b.toLowerCase())}function bzh(a,b){var c=a.qea();if(!c){var d=czh();a.$j()?c=QM(d,Lyh(a,b)):a.getContent()?c=QM(d,a.getContent()):c=null}return c}function czh(){var a=wgc();a.F=fe;return new qgc(a)};function dzh(a,b){this.C=a;this.D=b};function ezh(a,b,c){this.C=a;this.D=b;this.F=c};function fzh(a,b,c,d){b7.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new Oz(null);this.F=this.J=this.H=null;this.va(this.D)}u(fzh,b7);p=fzh.prototype;p.Ec=function(a){b7.prototype.Ec.call(this,a);this.H=this.qa().bb("like-button-text",a);this.J=this.qa().bb("docos-icon",a);this.F=this.qa().bb("docos-icon-img",a);this.D.Va(this.getElement())};p.Ia=function(){d7(this,this.D,"action",this.aNb);d7(this,this.getElement(),["click","keypress","keyup"],this.$Mb);this.update()};p.pRa=da("L");
p.$Mb=function(a){a.stopPropagation()};function gzh(a){var b=g7(a.R).ud(a.L);return null!=a.O?p7(b,a.O):b}p.aNb=function(a){a.stopPropagation();a=i7(this.R);var b=gzh(this).Sy();b=!b||1!=k7(b);null!=this.O?a.uf("docos-vote-reply").wb(new ezh(this.L,b,this.O)):a.uf("docos-vote-doco").wb(new dzh(this.L,b))};
p.update=function(){var a=gzh(this).Sy(),b=!a||0==luh(a,1).length&&1!=k7(a);gx(this.H,"no-votes");!b||ex(this.H,"no-votes");hx(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);hx(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?ex(this.F,"docos-icon-thumb-black"):1==k7(a)?(ex(this.J,"current-user-has-up-vote"),ex(this.F,"docos-icon-thumb-green")):0<luh(a,1).length&&(ex(this.J,"post-has-votes-no-current-user-vote"),ex(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=luh(a,1),b=k7(a),c=c.length,1==b&&c++);Eo(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==k7(a))&&(b="Unlike this"),a=luh(a,1),0<a.length))for(b=df(b,"\n"),c&&(b=df(b,"\n","You")),c=0;c<a.length;c++)b=df(b,"\n",a7(auh(N(a[c].C,eZ,1))));this.D.getElement()&&c7(this.R).D.C(this.D.La(),b)};function hzh(a,b,c){b=c||b;a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+T("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+T("docos-shadow-prompt")+'"><td class="'+T("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+T("docos-shadow-contents")+'">';
a+=R(Nz({id:"docos-shadow-confirm",content:Aw("Delete")},b));a+=R(Nz({id:"docos-shadow-cancel",content:Aw("Cancel")},b));return S(a+"</td></tr></table></td></tr></table></div></div></div>")};function izh(a,b){b7.call(this,a,b);this.D=this.J=this.L=this.V=this.Ba=this.R=this.Vd=null;this.H=new Oz(null,b);this.Ga(this.H);this.F=new Oz(null,b);this.Ga(this.F);this.Ag=this.O=null;this.ma=!1;this.xa=new Fz(this);this.va(this.xa);a=i7(a);this.xa.Nb(a.Ra("docos-highlight-doco"),zs,this.H_)}y(izh,b7);var jzh=null;function kzh(a,b){jzh||(jzh=new izh(a,b),jzh.render());return jzh}var lzh={"delete-discussion":"Delete this comment thread?","delete-reply":"Delete this comment?"};p=izh.prototype;
p.Ca=function(){this.jb(Sx(hzh,{},void 0,this.qa()))};
p.Ia=function(){izh.Ua.Ia.call(this);if(!this.ma){var a=this.qa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Va(a.getElement("docos-shadow-cancel"));this.H.Na(!0);this.F.Va(a.getElement("docos-shadow-confirm"));this.F.Na(!0);this.O=new tB(a.getElement("docos-shadow-contents-wrapper"),a);this.va(this.O);uB(this.O);this.Ag=new ox(a.Yb());this.va(this.Ag);this.ma=!0}d7(d7(d7(d7(this,this.H,"action",this.pab),this.F,"action",this.qab),this.getElement(),
["keyup","keydown"],this.rab),this.Ag,"focusin",this.ux)};p.prompt=function(a,b,c,d,e,f){this.Gb()&&this.vd();if(c!=this.V){var h=lzh[c];h&&this.qa().Ke(this.L,h);this.V=c}this.Vd=b;this.R=a;this.J=e||null;b=$v(a);Xv(this.D,b);b=Nv(a,"paddingLeft");c=Nv(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?mw(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ba=d.getId(),this.getHandler().listen(d,"rd",this.sab))};
p.vd=function(){izh.Ua.vd.call(this);this.J=this.R=this.Vd=null};p.H_=function(){Xv(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();vo(this.getElement());this.Gb()&&this.vd()};p.qab=function(){this.Vd&&this.Vd();this.H_()};p.rab=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.H_())};p.pab=function(){this.H_()};p.sab=function(a){a.target&&a.target.getId()==this.Ba&&this.R&&P(this.getElement(),!0)};
p.ux=function(a){a=a.target;Co(this.getElement(),a)||this.H_()};function mzh(a,b){return 1==b&&!a.F&&!a.getId()};function nzh(a,b,c,d){b7.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new Oz(null);this.F=null;this.va(this.D)}u(nzh,b7);p=nzh.prototype;p.Ec=function(a){b7.prototype.Ec.call(this,a);this.F=this.qa().bb("vote-button-text",a);this.D.Va(this.getElement())};p.Ia=function(){d7(this,this.D,"action",this.jNb);d7(this,this.getElement(),["click","keypress","keyup"],this.iNb);this.update()};p.pRa=da("H");p.iNb=function(a){a.stopPropagation()};
function ozh(a){var b=g7(a.L).ud(a.H);return null!=a.J?p7(b,a.J):b}p.jNb=function(a){a.stopPropagation();a=i7(this.L);var b=ozh(this).Sy();b=!b||1!=k7(b);null!=this.J?a.uf("docos-vote-reply").wb(new ezh(this.H,b,this.J)):a.uf("docos-vote-doco").wb(new dzh(this.H,b))};
p.update=function(){var a=ozh(this).Sy();hx(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==k7(a)?ex(this.F,"current-user-has-up-vote"):0<luh(a,1).length&&ex(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=luh(a,1);b=k7(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}Eo(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==k7(a))&&(b="Remove your +1"),a=luh(a,1),0<a.length))for(b=df(b,"\n"),c&&(b=df(b,"\n","You")),c=0;c<a.length;c++)b=
df(b,"\n",a7(auh(N(a[c].C,eZ,1))));this.D.getElement()&&c7(this.L).D.C(this.D.La(),b)};function pzh(a,b,c,d,e,f,h){b7.call(this,a,d);this.F=a;this.Bb=c7(this.F).R;this.Rf=new vyh(a);this.O=b;this.H=e;this.Kg=h||"";this.ke=v(this.bNb,this);this.D=null;this.Uc(f||"root");this.Pa=c;this.Kb=!0;this.Wa=2;this.Td=!1;this.Ie=this.F.get("relativeDateFormatter");this.Lc=this.Qa=this.Ea=this.Oa=this.Qd=this.Ta=this.Za=this.$a=this.yd=this.tc=this.Vc=this.fc=this.xa=this.Af=this.Pb=this.Cb=this.Ba=this.Ye=this.R=this.L=this.J=this.V=this.ma=this.Ka=this.Dc=this.Ha=null;this.fb=new qgc(vgc(["data-rawHref"]));
d7(this,this.Ie,"oj",v(this.ZQa,this,!0))}u(pzh,b7);p=pzh.prototype;p.ud=function(){return g7(this.F).ud(this.O)};function qzh(a){return p7(a.ud(),a.getId())}function G7(a){return H7(a)?a.ud():qzh(a)}
p.Ca=function(){var a=this.qa(),b=G7(this),c=b.Nv(),d=rzh(this),e=szh(this);if(H7(this)&&Duh(this.ud().C)){var f=Cd(Duh(this.ud().C));f=f.replace(tzh,"<br>").replace(uzh," ");f=QM(this.fb,f)}else f=null;var h=f;f="legacy"!=this.C.F;b=Sx(Dwh,{author:c.getName(),uL:this.C.ma?c.getId():null,Ska:e||"",De:this.Kg,Qo:this.Pa,hla:vzh(this),Ul:I7(this),cta:d,zA:H7(this),$j:b.$j(),q6b:h?h:"",twa:wzh(this),fI:xzh(this),rW:!!G7(this).JA(),Kj:this.C.Kj(),pda:this.C.pda(),Tsa:this.C.Tsa(),timestamp:yzh(this),
a$a:"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",En:f},void 0,a);this.jb(b);d=a.bb("docos-accept-suggestion",b);h=a.bb("docos-reject-suggestion",b);this.fc=a.bb("docos-body-action-text",b);this.tc=a.bb("docos-anchoredreplyview-buttonholder",b);this.Oa=a.bb("docos-author",b);if(d&&h){this.ma=new Oz(null,a);var k=this.C.Kj();this.ma.QM=k;this.va(this.ma);this.V=new Oz(null,a);this.va(this.V);this.ma.Va(d);this.V.Va(h)}if(k=a.bb("docos-replyview-resolve-button",b)){this.J=new Oz(null,a);var l=
this.C.Kj();this.J.QM=l;this.va(this.J);this.J.Va(k)}(k||d&&h)&&zzh(this);d=this.qa();h=d.bb("docos-vote-button",b);k=d.bb("docos-like-button",b);if(h||k)h?(this.R=new nzh(this.F,this.O,d,H7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Va(h)):k&&(this.R=new fzh(this.F,this.O,d,H7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Va(k));d=a.bb("docos-overflowmenu-outer",b);(I7(this)||vzh(this)||H7(this))&&d&&(f=Sx(Cwh,{oh:"docos-icon-overflow-three-dots",tA:"docos-icon-overflow-three-dots-size",
hQ:f}),a.appendChild(d,f),Lv(d,"visibility",""),f=[],I7(this)&&(f=f.concat(["edit"])),vzh(this)&&(f=f.concat(["delete"])),H7(this)&&(this.C.Lc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new gvh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ga(this.L),this.L.Va(d));this.Ha=a.bb("docos-replyview-body",b);this.Ye=a.bb("docos-streamreplyview-text",b)||this.Ha;this.Ba=a.bb("docos-collapsible-replyview",b);this.Cb=a.bb("docos-replyview-timestamp",b);H7(this)&&Duh(this.ud().C)&&
(this.xa=a.bb("docos-replyview-quote",b),this.$a=a.bb("docos-replyview-quote-expand",b),this.Ta=a.bb("docos-replyview-quote-collapse",b));(this.Pb=a.bb("docos-show-less",b))&&Azh(this);this.Af=a.bb("docos-show-more",b);this.Qd=a.Qh("docos-replyview-static",b);I7(this)&&this.D&&Bzh(this);(I7(this)||vzh(this))&&(this.Za=a.bb("docos-replyview-control",b))&&P(this.Za,!this.ud().isResolved());this.Ea=fW(a,"IMG","docos-replyview-avatar",b);if(f=a.bb("docos-user-presence",b))d=this.C,c=(h=d.zd)&&c.getId()?
h(c.getId()):(d=d.VD)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Qa=a.bb("docos-replyview-origin",b);Czh(this);e&&(this.Ka=e,Dzh(this,Be(e)),Ezh(this),Fzh(this));Gzh(this)};
function Gzh(a){if(fvh(a.C)){var b={AUTHOR_NAME:G7(a).Nv().getName(),CREATION_TIME:yzh(a)};if(a.Ha.textContent)if(xzh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ha.textContent;b.ACTION_TEXT=xzh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ha.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=xzh(a);c=(new uA(c)).format(b);Sw(a.getElement(),c)}}
function Hzh(a){var b=a.ud();if(b)if(b.isResolved()){if(a.H.jya(!1),b=a.ud())b.$j(),Izh(a,!1,Wth(a.H))}else a.dispatchEvent("br"),a.H.jya(!1),(b=a.ud())&&(b.$j()?Jzh(a):Izh(a,!0,Wth(a.H))),a.dispatchEvent("ar")}function Kzh(a){a.D||(a.D=new fyh(a.F,a.qa(),a.H),a.va(a.D),a.Ga(a.D),a.D.Ba="Edit your comment...",a.D.$a=!1,d7(d7(d7(a,a.D,"p",a.fac),a.D,"c",a.PDa),a.D,"s",a.cNb),a.getElement()&&Bzh(a))}
function Bzh(a){var b=a.qa(),c="docos-replyview-edit-pane",d="",e="",f="";a.Pa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):H7(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=xzh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");d=Sx(Hwh,{De:c,WGa:d,nla:e,fI:f,Kj:a.C.Kj(),LH:a.C.Ha});c=a.getElement();e=b.bb("docos-edit-pane-placeholder",c);b.uB(d,e);a.D.Va(d);a.D.setVisible(!1);d=a.H.getElement();a.D.V=d;a.Vc=b.bb("docos-edit-pane-action-text",c)}
p.N3b=function(a){a&&a.stopPropagation();Hzh(this)};
p.Ia=function(){b7.prototype.Ia.call(this);d7(this,this.getElement(),["click","keypress","keyup"],this.dNb);this.xa&&(d7(d7(this,this.Ta,"click",this.D_a),this.$a,"click",this.D_a),Lzh(this));this.J&&d7(this,this.J,"action",this.N3b);this.ma&&this.V&&d7(d7(d7(this,this.ma,"action",this.W0b),this.V,"action",this.M3b),this.C,"r",this.eNb);this.L&&d7(d7(d7(this,this.L,"d",this.K1b),this.L,"e",this.fNb),this.L,"ra",this.E3b);var a=G7(this).Nv();Mzh(this,a);this.Oa&&Nzh(this,a);Ozh(this,a);this.D&&(a=
this.H.getElement(),this.D.V=a);this.collapse();fvh(this.C)&&Fo(this.getElement(),!0)};p.eNb=function(){zzh(this)};
function zzh(a){var b=a.ud();if(b){var c=G7(a);if(c){var d=c.$j();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.xG())return;d=a.C.H;d=c.$j()&&"full"==d.C&&fwh(g7(a.F),b)&&!a.C.xa;var e=a.C.H;b=c.$j()&&(Ouh(e,c)||"full"==e.C)&&fwh(g7(a.F),b)&&!a.C.xa;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&c7(a.F).D.C(a.ma.getElement(),e);a.V.getElement()&&c7(a.F).D.C(a.V.getElement(),f);a.ma.Na(d);a.V.Na(b)}else pvh(b)?
(c=!0,a.J.Na(!1),P(a.J.getElement(),!1)):(c=rzh(a),a.J.Na(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":g7(a.F).V?"Mark as resolved":"Mark as resolved and hide discussion",a.C.pda()||Eo(a.J.getElement(),d),a.J&&a.J.getElement()&&c7(a.F).D.C(a.J.La(),b));!a.tc||null!==a.yd&&a.yd==c||(P(a.tc,c),a.yd=c)}}}}function Pzh(a){var b=X6(W6(V6(a.H.getId()),a.H.Za)),c=i7(a.F);c.uf("docos-before-highlight-doco").wb(b);F7(g7(a.F),a.H.getId());c.uf("docos-highlight-doco").wb(b)}
p.fNb=function(){Pzh(this);Qzh(this)};p.K1b=function(){Pzh(this);H7(this)?this.H.tZa():Rzh(this)};p.E3b=function(a){Pzh(this);this.dispatchEvent(new Jwh("ra",this.O));a.stopPropagation()};function Mzh(a,b){var c=b.C,d=f7(a.F);a.Ea&&mzh(b,G7(a).getOrigin())&&(c=rwh(d),ex(a.Ea,"docos-avatar-unverified"),a.C.D.C(a.Ea,"Author from imported document"));Tth(d,a.Ea,c,a7(b))}function Nzh(a,b){(b=b.getName())?(b=QM(a.fb,b),Je(a.Oa,b)):(b=QM(a.fb,""),Je(a.Oa,b))}
function Ozh(a,b){(b=b.getName())&&!a.C.ma&&(a.Oa&&a.C.D.C(a.Oa,b),a.Ea&&a.C.D.C(a.Ea,b))}function Szh(a,b){a.J&&a.qa().ai(a.J.getElement(),b);a.ma&&a.V&&(a.qa().ai(a.ma.getElement(),b),a.qa().ai(a.V.getElement(),b));a.L&&a.L.bh(b);a.R&&a.qa().ai(a.R.getElement(),b)}function Tzh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
p.update=function(){this.H.Tk()&&this.Kb&&Lzh(this);var a=this.D&&I7(this)&&D7(this.D),b=szh(this),c=Be(b),d=!this.Ka||Be(this.Ka)!=c;d&&(this.Ka=b,Je(this.Ha,b),Fzh(this));Ezh(this);Dzh(this,c);H7(this)||this.dispatchEvent(new B7(this.getId()));I7(this)&&this.Za&&!a&&P(this.Za,!this.ud().isResolved());b=G7(this).Nv();Mzh(this,b);this.Oa&&Nzh(this,b);Ozh(this,b);Czh(this);if(this.Pa&&!a){switch(this.Wa){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.Tk()?this.expand():this.collapse()}Azh(this)}this.ZQa();
d&&(this.D&&this.D.Gb()&&this.D.reset(!0),this.PDa());zzh(this);this.R&&this.R.update();this.L&&this.L.update();Gzh(this)};p.sz=function(){if(this.Dc){var a=Uzh(this,this.Dc);a.Wn()!=this.Ka.Wn()&&(this.Ka=a,Je(this.Ha,this.Ka),Fzh(this))}};function szh(a){var b=G7(a),c=b.qea();if(!c){c=b.getContent();var d=b.oua();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.$j()&&(c=Lyh(b,a.C));c=QM(a.fb,c)}a.Dc=c;return Uzh(a,c)}
function Uzh(a,b){var c=g7(a.F),d=c.J;if(!d)return b;a=(c=Yyh(c,a.C))&&c.getKey()==G7(a).getId()?c.getValue():void 0;c=czh();var e=po("DIV");e.appendChild(ro(QM(c,Xe(d))));d=e.innerHTML;e.replaceChild(ro(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new om(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new om(f,r)),f=r):k||((w=Ad(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new om(f,r+1)),h=azh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=azh(q,b,h);h+=b.slice(f,b.length);return QM(c,h)}p.ZQa=function(a){if(this.Cb){var b=yzh(this);b&&(a&&(this.Cb.textContent=b),a=G7(this),H7(this)||this.Pa||a.lx().equals(a.YO())||(this.Cb.textContent=b))}};function yzh(a){var b=a.Ie,c=G7(a),d=c.lx();return d?a.Pa||H7(a)||!(a=c.YO())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
p.setVisible=function(a){P(this.getElement(),a)};p.isVisible=function(){return cw(this.getElement())};p.cNb=function(a){this.dispatchEvent(new B7(this.O));a.stopPropagation()};function Rzh(a){var b=a.getElement();b&&(a.C.Kb?(b=a.C.Bb,b(function(){return a.ke()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):kzh(a.F,a.qa()).prompt(b,a.ke,"delete-reply",a,a.H.getElement(),!a.Pa))}
p.dNb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!H7(this)&&Vw(c,"docos-replyview-delete")&&b?(Rzh(this),a.stopPropagation(),a.preventDefault()):Vw(c,"docos-replyview-edit")&&b?(Qzh(this),a.stopPropagation(),a.preventDefault()):Vw(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new B7(this.O)),this.Pb.focus()):Vw(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new B7(this.O)),this.Af.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&Co(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function Vzh(a,b){var c=a.ud();if(!c||fwh(g7(a.F),c)){var d=G7(a);d&&d.xG()&&(c=a.C.J[b])&&(a=x7(g7(a.F),a.O))&&(d=d.Ty&&d.Ty()&&!d.isResolved()?u7(d):void 0,b=(new Z6(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function Jzh(a){var b=a.ud();b&&b.$j()&&Vzh(a,"before-suggestion-accepted")}p.W0b=function(){var a=Date.now();Jzh(this);this.Bb&&this.Bb.jo("dsabb",Date.now()-a)};function Izh(a,b,c){var d=a.ud(),e=a.H;e.D&&D7(e.D)&&e.D.setValue("");d&&!d.$j()&&d.isResolved()!=b&&i7(a.F).uf("docos-resolve-doco").wb(new Qth(a.O,b,c||null))}p.M3b=function(){var a=Date.now();Vzh(this,"before-suggestion-rejected");this.Bb&&this.Bb.jo("dsrbb",Date.now()-a)};
p.expand=function(){G7(this).$j()||(gx(this.Ba,"docos-collapsed-replyview"),this.Wa=150>=this.Ba.offsetHeight?2:1,Azh(this))};p.collapse=function(){!G7(this).$j()&&this.Pa&&(gx(this.Ba,"docos-collapsed-replyview"),150>=this.Ba.offsetHeight?this.Wa=2:(this.Wa=0,ex(this.Ba,"docos-collapsed-replyview")),Azh(this))};function Azh(a){if(!G7(a).$j()){var b=1==a.Wa;b!=a.Td&&(a.Pb.style.display=b?"block":"none",a.Td=b)}}function H7(a){return"root"==a.getId()}
function vzh(a){var b=G7(a);return b?Quh(a.C.H,b)&&!a.C.xa:!1}function I7(a){var b=G7(a);return b?Puh(a.C.H,b):!1}function rzh(a){var b=a.ud();return b?Ruh(a.C.H,b):!1}p.bNb=function(){if(this.isDisposed())return!1;i7(this.F).uf("docos-delete-reply").wb({Bj:this.O,Cxa:this.getId()});return!0};function Qzh(a){I7(a)&&(Kzh(a),Wzh(a,!1),a.Ba&&a.expand(),a.D.setVisible(!0),a.D.Za=!0,a.D.ready(G7(a).Wz()))}
p.PDa=function(){I7(this)&&(Wzh(this,!0),this.Ba&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.Za=!1))};p.fac=function(){if(I7(this)){Kzh(this);var a=i7(this.F),b=this.D.getValue();Bd(b)||(H7(this)?a.uf("docos-edit-doco").wb({id:this.O,text:b,qna:this.D}):(b={Bj:this.O,Cxa:this.getId(),text:b,qna:this.D},a.uf("docos-edit-reply").wb(b)))}};function Wzh(a,b){for(var c=0;c<a.Qd.length;++c)P(a.Qd[c],b)}
p.D_a=function(){var a=Vw(this.xa,"docos-replyview-quote-collapsed");P(this.$a,!a);P(this.Ta,a);this.Kb=!a;a?kx(this.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):kx(this.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function Lzh(a){!a.xa||0>=$v(a.xa).height||(kx(a.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<$v(a.xa).height?(P(a.$a,!0),P(a.Ta,!1),kx(a.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.$a,!1),P(a.Ta,!1)),a.Kb=!0)}p.vd=function(){b7.prototype.vd.call(this);h7(f7(this.F),this.Ea)};function Czh(a){var b=wzh(a);b?(b=QM(a.fb,b),Je(a.Qa,b),P(a.Qa,!0)):P(a.Qa,!1)}
function wzh(a){var b=G7(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=gZ(a.C)&&Ri(gZ(a.C),33)&&b.Msa()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function xzh(a){var b=a.Rf;var c=G7(a),d=a.ud();c&&d?(a=c.pea(),0==a&&e7(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.JA(),c=(d=pvh(d))&&d.getId()!=c.getId(),a=$6(a),b=Lth(a,b.C,!0),b=c?(new uA("Reassigned to {user}")).format({user:b}):(new uA("Assigned to {user}")).format({user:b})):b=""):b="";return b}function Dzh(a,b){b=-1==me(b,!0);if(null===a.Lc||b!=a.Lc)bIe(a.Ye,b),a.Lc=b}
function Ezh(a){var b=xzh(a);a.fc&&Eo(a.fc,b);a.Vc&&Eo(a.Vc,b)}function Fzh(a){if(a.C.fc)for(var b=fo("A",a.Ha),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Cf(d,Sn,a.r1b)}}p.r1b=function(a){PHe(this.C.fc,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var uzh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,tzh=/[\n-\x0B]/g;function Xzh(a,b){b7.call(this,a,b);this.D=!1}y(Xzh,b7);Xzh.prototype.Ca=function(){var a=this.qa();this.jb(Sx(Fwh,{},void 0,a));this.F=a.bb("docos-showrepliesbutton-collapsed",this.getElement())};Xzh.prototype.setVisible=function(a){a!=this.D&&this.Gb()&&(P(this.getElement(),a),this.D=a)};Xzh.prototype.isVisible=g("D");Xzh.prototype.Ja=function(){Xzh.Ua.Ja.call(this);delete this.F};function J7(a,b,c,d,e){C7.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new pzh(a,b,this.Qo(),d,this,void 0,"docos-replyview-first");this.Ga(this.F);this.H={};this.Dc=v(this.UMb,this);this.Qd=Rvh(a);this.Ha="docos-docoview-input-pane";this.fc="";this.Kb=this.Lc=null;this.Bb=!1;this.J=null;fvh(this.C)&&(a=new hA(this),this.va(a),a.Si("up",38),a.Si("down",40),this.getHandler().listen(a,"shortcut",this.tqb))}u(J7,C7);
function Yzh(a){a.D||(a.D=new fyh(a.getContext(),a.qa(),a),a.va(a.D),a.D.Ba="Reply...",a.D.ue("Reply"),a.Dya(),a.getElement()&&Zzh(a))}p=J7.prototype;p.tqb=function(a){switch(a.identifier){case "down":a=$zh(this);var b=aAh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=$zh(this),b=aAh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function $zh(a){var b=Cvh(a.ud(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ia(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function aAh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.qa(),f=Ro(e);if(d==f||e.contains(d,f))return c}return-1}
function Zzh(a){var b=a.qa(),c=Sx(Hwh,{De:a.Ha,WGa:"",nla:a.fc,fI:"",Kj:a.C.Kj(),LH:a.C.Ha}),d=a.getElement(),e=b.bb("docos-input-pane-placeholder",d);b.uB(c,e);a.D.Va(c);a.D.V=d}p.Dya=function(){this.D&&d7(d7(d7(d7(d7(this,this.D,"p",this.ZMb),this.D,"c",this.XMb),this.D,"b",this.WMb),this.D,"e",this.YMb),this.D,"s",this.gX)};
p.Ca=function(){C7.prototype.Ca.call(this);var a=this.getElement(),b=this.qa();this.D&&Zzh(this);Nw(a,"listitem");this.Kb=b.bb("docos-docoview-replycontainer",a);this.Lc=b.bb("docos-docoview-rootreply",a);this.F.render(this.Lc);bAh(this)};p.Ia=function(){C7.prototype.Ia.call(this);d7(this,this.getElement(),["keydown","keypress","keyup"],this.VMb);if(this.D){var a=this.getElement();this.D.V=a}Fo(this.getElement(),!0)};p.Hb=g("Kb");
p.Uc=function(a){C7.prototype.Uc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&ivh(b.L,a);b.R&&b.R.pRa(a)}};p.Qo=m(!1);p.nRa=function(a){if(!Vw(a.target,"docos-noclick")){var b=i7(this.getContext()),c=W6(V6(this.getId()),this.Za);b.uf("docos-before-highlight-doco").wb(X6(c));F7(g7(this.R),this.getId());b.uf("docos-highlight-doco").wb(X6(zth(c)));this.ma=!0;this.dVa(a)}};p.dVa=ba();
p.VMb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&f6a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&Suh(this.C.H)&&this.ma&&(Yzh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
p.tZa=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.ud().$j())this.Dc("suggestion");else if(b){var c=function(){return a.Dc("discussion")};this.C.Kb?(0,this.C.Bb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):kzh(this.getContext(),this.qa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function bAh(a){for(var b=Cvh(a.ud()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new pzh(a.getContext(),a.getId(),a.Qo(),a.qa(),a,e);a.wf(f,qw(a,c)+1,!0);c=a.H[e]=f}}}p.ZMb=function(){if(this.D){var a=this.D.getValue(),b=byh(this.D.H);b=b?iuh(b):void 0;if(!Bd(a)){var c=x7(g7(this.getContext()),this.getId());this.dispatchEvent(new uyh("sr",this.getId(),u7(this.ud()),c,a,void 0,b))}}};p.XMb=function(){Uvh(this.Qd,Avh(zvh(yvh(xvh(43012),this.ud().getId()),u7(this.ud()))))};
p.WMb=function(){this.Tk()&&(this.ma=!0)};p.YMb=function(){this.Tk()&&(this.ma=!0)};p.focus=function(){Yzh(this);var a=this.Tk();a&&cw(this.getElement())&&Suh(this.C.H)&&(this.ma=!0);if(a){var b=this.qa();a=Ro(b);(mf&&!a||!b.contains(this.getElement(),a))&&ip(function(){this.Gb()&&!b.contains(this.getElement(),Ro(b))&&this.getElement().focus()},0,this)}};
function cAh(a){var b=a.ud();if(b){var c=null,d;b:{for(d=qw(a,a.F);d<a.rc();d++){var e=a.xc(d);if((e=e==a.J?null:e)&&2==(qzh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.rc();d++)if(e=a.xc(d),e=e==a.J?null:e){if(2!=(qzh(e)||b).getOrigin())break;P(e.Qa,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Qa,!0)}}
p.update=function(){var a=this.ud();this.F.update();this.ue(a.Nv(),e7(a)||void 0);bAh(this);for(var b in this.H){var c=this.H[b];p7(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.Bb&&(this.Bb=a.isResolved(),Yzh(this),this.Bb?(this.D.Ba="Adding a comment will re-open this discussion...",this.D.ue("Adding a comment will re-open this discussion")):(this.D.Ba="Reply...",this.D.ue("Reply")),!a.isResolved()&&D7(this.D)||this.D.reset(!0));Lwh(this);!this.Tk()&&
this.D&&this.D.blur();cAh(this);a=this.Pa;b=this.getElement();a.C&&b&&a.F&&(aw(b).contains(new bm(a.H,a.J))||Awh(a,!1))};p.UMb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");i7(this.getContext()).uf("docos-delete-doco").wb({Em:u7(this.ud()),Bj:this.getId(),Zo:x7(g7(this.getContext()),this.getId()),dR:a});return!0};function dAh(a){i7(a.getContext()).uf("docos-resolve-doco").wb(new Qth(a.getId(),!1,null))}function Wth(a){return a.D&&D7(a.D)?a.D.getValue():null}
function eAh(a){var b=a.getContext(),c=a.ud();c&&y7(Rvh(b),s7(r7(q7(43045),c)));a=a.getId();i7(b).uf("docos-speak-doco").wb(a)}p.jya=ba();p.Ja=function(){C7.prototype.Ja.call(this);this.J&&delete this.J;delete this.Kb;delete this.H;delete this.D};function fAh(a,b,c,d,e){J7.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Ea=new Rth(a,d,b,this);this.Ka=this.fb=this.Qa=null;this.Ta=new hA(this);this.va(this.Ta);b=this.Ta;b.Si("backToDocument",85);b.Si("resolve",69);b.Si("blur",27);b.Si("next",74);b.Si("next",Qs(["N","C"]));b.Si("prev",75);b.Si("prev",Qs(["P","C"]));b.Si("speakComment",Qs(["A","C"]));b.Si("reply",82);this.getHandler().listen(this.Ta,"shortcut",this.QMb);this.getHandler().listen(this,"rd",this.RMb);this.Wa=!1;this.Ha+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Pb=null;Ic(z(),"docs-edp")&&(this.Pb=new eyh(a,d,"unfocused-presenceindicator"));this.yd="legacy"!=this.C.F;this.Ba=null}u(fAh,J7);p=fAh.prototype;p.setVisible=function(a){!this.isVisible()&&a&&g7(this.R).J&&this.sz();J7.prototype.setVisible.call(this,a)};p.sz=function(){this.F.sz();for(var a in this.H)this.H[a].sz()};p.Uc=function(a){J7.prototype.Uc.call(this,a);this.Ea&&this.Ea.Uc(a)};p.Qo=m(!0);p.sQ=function(){return this.ud()?u7(this.ud()):null};
p.Ca=function(){J7.prototype.Ca.call(this);var a=this.qa(),b=this.getElement();this.Qa=a.bb("docos-replyview-control",b);this.fb=a.bb("docos-anchoreddocoview-internal",b);this.Ka=a.bb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.ud(),d=!!c&&Ruh(c7(this.getContext()).H,c);ix(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=e7(c))a=a.bb("docos-anchoreddocoview-assigneecontainer",b),this.Ea.render(a),gAh(this,c);this.D&&(a=this.getElement(),
this.D.V=a);this.Pb&&(a=this.qa().bb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Pb.render(a))};p.Ia=function(){J7.prototype.Ia.call(this);var a=this.ud();a&&e7(a)&&this.wf(this.Ea,qw(this,this.F));Lwh(this);2<=Md(this.ud().D)&&(a=hAh(this))&&iAh(this,a);this.bZ(!0);cAh(this);jAh(this);d7(d7(this,this,"show",this.mVa),this,"hide",this.lVa)};
p.vd=function(){var a=this.ud();if(a)if(this.D&&D7(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().Gc(this,"show",this.mVa);this.getHandler().Gc(this,"hide",this.lVa);J7.prototype.vd.call(this)};p.bh=function(a){this.qa().ai(this.getElement(),a)};function kAh(a,b){Szh(a.F,b);for(var c in a.H)Szh(a.H[c],b)}p.SMb=function(){var a=new uth(this.getId(),this.Za),b=i7(this.getContext());b.uf("docos-before-highlight-doco").wb(a);F7(g7(this.R),this.getId());b.uf("docos-highlight-doco").wb(a)};
p.RMb=function(){this.O=null;if(Nwh(this)){var a=this.Ka.scrollHeight>this.Ka.offsetHeight,b=this.getElement();a&&!this.Ba&&b?(this.Ba=new vL(b),d7(this,this.Ba,"mousewheel",this.EHb)):!a&&this.Ba&&(this.Ba.dispose(),this.Ba=null);a=a?L4a():0;b=this.yd?282:240;Yv(this.getElement(),b+a);Yv(this.Ka,b+a)}};p.mVa=function(a){a.target instanceof Py&&(ex(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
p.lVa=function(a){a.target instanceof Py&&(gx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};p.jya=function(a){this.Qa&&P(this.Qa,a)};p.A8=m(!0);p.update=function(){J7.prototype.update.call(this);var a=this.Tk();this.Tk()?this.L||this.C.Pb||(this.L=new tB(this.getElement(),this.qa()),this.va(this.L),uB(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Wa&&lAh(this);this.Wa=a;jAh(this);if(a=e7(this.ud()))this.Ea.update(),gAh(this,a);this.V&&this.lxa()};
function jAh(a){var b=a.ud();null!=b.R&&(Yzh(a),a.D.ready(b.R,!0),b.R=null)}p.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.bZ(!0);cAh(this)};
p.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=hAh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.Hb().style.maxHeight="",iAh(this,a),this.bZ(!0),cAh(this)}};p.Dya=function(){J7.prototype.Dya.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],v(this.bZ,this,!0)),this.getHandler().listen(this.D,"e",this.RLa),this.getHandler().listen(this.D,"f",this.SMb))};
function hAh(a){var b=c7(a.getContext()).Ns;a=Nwh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function iAh(a,b){var c=a.getElement(),d=Md(a.ud().D);if(!(2>d||c.offsetHeight<b)){var e=qw(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new Xzh(a.getContext(),a.qa()),a.va(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.wf(a.J,f+e);var h=a.J;h.F&&Eo(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.xc(l+e).setVisible(!1)}}}
p.lxa=function(){var a=this.Zc();this.V&&this.expand();this.collapse();var b=this.Zc();im(a,b)||this.dispatchEvent(new B7(this.getId()))};p.bZ=function(a){var b=Nwh(this);b&&(Yzh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.Hb().style.maxHeight=b+"px":this.Hb().style.maxHeight="",a&&(this.fb.scrollTop=this.fb.scrollHeight))};
p.QMb=function(a){var b=i7(this.getContext());switch(a.identifier){case "backToDocument":b.uf("docos-back-to-document").wb({Bj:this.getId()});break;case "resolve":Hzh(this.F);break;case "blur":this.RLa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":eAh(this);break;case "reply":this.D.focus()}};p.RLa=function(){var a=i7(this.getContext());a.uf("docos-before-highlight-doco").wb(U6());F7(g7(this.R),null);a.uf("docos-highlight-doco").wb(U6())};
p.focus=function(){J7.prototype.focus.call(this);this.Wa=this.Tk();lAh(this)};function lAh(a){Yzh(a);D7(a.D)||a.Wa||a.D.reset(!0);a.Tk()&&(a.expand(),a.dea());a.bZ(!0);a.dispatchEvent(new B7(a.getId()))}p.zR=function(a){J7.prototype.zR.call(this,a);this.bZ(!1)};p.Ja=function(){J7.prototype.Ja.call(this);delete this.Ta;delete this.Qa};function gAh(a,b){var c=a.xa;c&&(a=Ith(b,a.C),hx(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),ex(c,a))}p.EHb=function(a){this.Tk()&&a.stopPropagation()};function mAh(a,b,c,d,e){this.rs=a;this.Ve=void 0===b?null:b;this.O6a=void 0===c?null:c;this.bga=void 0===d?null:d;this.scc=void 0===e?!1:e}p=mAh.prototype;p.getNewDocoType=g("rs");p.getText=g("Ve");p.getAssigneeEmail=g("O6a");p.getOriginatingDocoType=g("bga");p.getWasSmartTodo=g("scc");function nAh(a,b,c,d){return mAh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}u(nAh,mAh);function K7(a,b,c,d,e,f,h){C7.call(this,a,b,c,e,f);this.Iq=d;this.Ea=this.Ta=null;this.D=new fyh(a,this.qa(),this,h);this.Ga(this.D);this.Uc(b)}u(K7,C7);p=K7.prototype;p.Ca=function(){this.Ea=new hA(this.getElement());this.va(this.Ea);var a=this.Ea;a.Si("backToDocument",85);a.Si("blur",27);a.Si("next",74);a.Si("next",Qs(["N","C"]));a.Si("prev",75);a.Si("prev",Qs(["P","C"]));a.Si("reply",82)};
p.Ia=function(){C7.prototype.Ia.call(this);this.getHandler().listen(this.D,"p",this.CVa).listen(this.D,"c",this.Sva).listen(this.D,"s",this.gX).listen(this.D,"b",this.MMb).listen(this.D,"e",this.Tqa).listen(this.D,"f",this.OMb);this.getHandler().listen(this.Ea,"shortcut",this.NMb);var a=this.getElement();this.D.V=a;this.Ta=new tB(this.getElement(),this.qa());this.va(this.Ta);uB(this.Ta)};p.egb=function(a,b,c,d,e){i7(this.getContext()).uf("docos-convert-doco").wb({Bj:a,Em:b,Zo:c,LUa:d,dR:e})};
p.CVa=function(){var a=this.pua()?this.pua().getEmail():void 0,b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0,c=this.M$();var d=this.ud().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new nAh(c,a,b,1==d);c=x7(g7(this.getContext()),this.getId());ip(v(this.egb,this,this.getId(),this.sQ(),c,a,b))};p.dgb=function(a,b,c,d){i7(this.getContext()).uf("docos-delete-doco").wb({Bj:a,Em:b,Zo:c,dR:d})};
p.Sva=function(){var a=x7(g7(this.getContext()),this.getId()),b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0;ip(v(this.dgb,this,this.getId(),this.sQ(),a,b))};p.Qo=m(!0);p.sQ=g("Iq");p.qua=m(!0);p.nRa=function(a){oAh(this);a.stopPropagation()};function oAh(a){var b=i7(a.getContext()),c=zth(W6(V6(a.getId()),a.Za));b.uf("docos-before-highlight-doco").wb(X6(c));F7(g7(a.R),a.getId());b.uf("docos-highlight-doco").wb(X6(c))}
p.NMb=function(a){var b=i7(this.getContext());switch(a.identifier){case "backToDocument":b.uf("docos-back-to-document").wb({Bj:this.getId()});break;case "blur":b.uf("docos-before-highlight-doco").wb(U6());F7(g7(this.R),null);b.uf("docos-highlight-doco").wb(U6());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};p.update=function(){Lwh(this);this.dea()};p.MMb=function(a){this.gX(a)};
p.Tqa=function(){var a=i7(this.getContext());a.uf("docos-before-highlight-doco").wb(U6());F7(g7(this.R),null);a.uf("docos-highlight-doco").wb(U6())};p.OMb=function(){this.Tk()||oAh(this)};p.focus=function(){this.Tk()&&(mf?ip(this.PWa,0,this):this.PWa())};p.gX=function(a){var b=Nwh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}C7.prototype.gX.call(this,a)};
p.PWa=function(){this.D.ready();var a=this.qa(),b=Ro(a);(mf&&!b||!a.contains(this.getElement(),b))&&ip(function(){this.Gb()&&this.getElement().focus()},0,this)};function pAh(a,b,c,d,e,f){K7.call(this,a,b,c,d,e,f);this.D.Ba="Reply...";this.J=!1;this.F=this.H=null}u(pAh,K7);p=pAh.prototype;
p.Ca=function(){var a=this.qa(),b=this.C.jh(),c=Sx(Iwh,{author:b.getName(),uL:this.C.ma?b.getId():null,vA:!0,Qo:!0,Kj:this.C.Kj(),LH:this.C.Ha},void 0,a);this.jb(c);this.D.Va(a.bb("docos-docoview-input-pane",c));this.H=a.bb("docos-author",c);this.F=fW(a,"IMG","docos-replyview-avatar",c);var d=a.bb("docos-replyview-origin",c);P(d,!1);if(a=a.bb("docos-user-presence",c))if(c=this.C.zd)a.style.backgroundColor=c(b.getId());K7.prototype.Ca.call(this)};
p.Ia=function(){K7.prototype.Ia.call(this);Lwh(this);var a=this.ud().Wz();Bd(a)||this.D.ready(a,!0,!0);a=this.C.jh();swh(f7(this.getContext()),this.F,a.C,a7(a))};p.pua=function(){return byh(this.D.H)};p.M$=function(){return this.D.getValue()};p.Tqa=function(a){D7(this.D)?this.gX(a):K7.prototype.Tqa.call(this,a)};
p.update=function(){K7.prototype.update.call(this);var a=this.Tk();a!=this.J&&(this.Tk()||D7(this.D)?this.dispatchEvent(new B7(this.getId())):this.Sva());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.J=a};p.vd=function(){K7.prototype.vd.call(this);i7(this.getContext()).uf("docos-edit-draft").wb({Bj:this.getId(),text:this.M$(),jDa:this.F})};p.Ja=function(){K7.prototype.Ja.call(this);delete this.H;delete this.F};function qAh(a,b,c,d,e,f){pAh.call(this,a,b,c,d,e,f);this.ud()}u(qAh,pAh);function rAh(a,b,c,d,e,f){pAh.call(this,a,b,c,d,e,f);this.ud()}u(rAh,pAh);rAh.prototype.L=function(a,b,c,d,e,f){this.dispatchEvent(new uyh("sd",a,b,c,d,e,f))};rAh.prototype.CVa=function(){var a=x7(g7(this.getContext()),this.getId()),b=byh(this.D.H);if(null!=b){Ri(this.C.C,38);var c=iuh(b)}ip(v(this.L,this,this.getId(),this.sQ(),a,this.M$(),"instant-doco"==this.ud().rs,c))};rAh.prototype.V=function(a,b,c,d){i7(a).uf("docos-cancel-insert-discussion").wb({Bj:b,Em:c,Zo:d})};
rAh.prototype.Sva=function(){var a=x7(g7(this.getContext()),this.getId());ip(v(this.V,this,this.getContext(),this.getId(),this.sQ(),a))};function sAh(a,b,c,d,e,f){b=mAh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.cd=a||null;return b}u(sAh,mAh);sAh.prototype.getPosition=g("cd");function tAh(a){this.bga=a}tAh.prototype.getOriginatingDocoType=g("bga");function uAh(a,b,c){this.bga=a;this.iQ=b;this.IKb=c;return this}u(uAh,tAh);uAh.prototype.isTodo=g("iQ");uAh.prototype.isWrongAssignee=g("IKb");function vAh(a,b,c,d,e,f){K7.call(this,a,b,c,d,e,f,!0);this.Ka=this.Ha=this.H=this.L=this.ma=this.J=this.F=this.Qa=this.V=this.Ba=null;this.Wa=Rvh(a)}u(vAh,K7);p=vAh.prototype;
p.Ca=function(){var a=this.C,b=this.qa();a=Sx(Iwh,{Qo:!0,DW:!0,f8a:!!Ri(a.C,41),Kj:a.Kj(),En:"legacy"!=a.F},void 0,b);this.jb(a);this.D.$a=!1;this.D.Va(b.bb("docos-docoview-input-pane",a));this.Ba=b.bb("docos-input-assign-to-text",a);this.V=b.Fa("docos-smarttodoview-body",a);this.V.id=nw(this,"body");this.F=b.bb("docos-smarttodoview-feedback",a);this.Ha=b.bb("docos-smarttodoview-showfeedbackdialog-button",a);this.Ka=b.bb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.H=new gvh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ga(this.H);this.H.Va(b.Fa("docos-overflowmenu-outer",a));this.F&&(this.J=wAh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=wAh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Qa=xAh(this,"docos-smarttodoview-feedback-cancel"),(this.ma=xAh(this,"docos-smarttodoview-feedback-submit"))&&this.jAa());
b=b.Fa("docos-smarttodoview-headertext",a);b.id=nw(this,"headertext");Pw(a,"labelledby",b.id);Pw(a,"describedby",this.V.id);K7.prototype.Ca.call(this)};function wAh(a,b,c){var d=a.qa(),e=a.getElement();b=d.bb(b,e);c=d.bb(c,e);e=null;b&&(e=new lS(!1,d),c&&e.Nd(c),e.Va(b),a.va(e));return e}function xAh(a,b){var c=a.qa();b=c.bb(b,a.getElement());var d=null;b&&(d=new Oz(null,c),d.Va(b),Sw(b,d.Qk()),a.va(d));return d}
p.Ia=function(){K7.prototype.Ia.call(this);d7(d7(d7(this,this.H,"e",this.hNb),this.H,"i",this.fqb),this.H,"h",this.Ytb);this.F&&(this.Ha&&this.getHandler().Cf(this.Ha,Sn,this.tEb),this.Ka&&this.getHandler().Cf(this.Ka,Sn,this.PHb),this.J&&d7(this,this.J,"change",this.jAa),this.L&&d7(this,this.L,"change",this.jAa),this.Qa&&d7(this,this.Qa,"action",this.nsb),this.ma&&d7(this,this.ma,"action",this.gNb));this.D.ready(void 0,void 0,!0);this.update()};
p.dea=function(){K7.prototype.dea.call(this);this.xa&&ex(this.xa,"docos-smarttodoview-arrow-inner")};p.update=function(){K7.prototype.update.call(this);var a=e7(this.ud());a=$6(a);a=Lth(a,this.C,!0);a=(new uA("Assign to {user}?")).format({user:a});Eo(this.Ba,a);P(this.Ba,!0);a=QM(new qgc(new rgc),this.ud().getContent());Je(this.V,a);this.resize()};
p.hNb=function(){var a=$6(this.ud().JA()).getEmail();a=new sAh(void 0,"client-integrated-draft",this.ud().Wz(),a,"smart-todo",!0);var b=x7(g7(this.getContext()),this.getId());i7(this.getContext()).uf("docos-convert-doco").wb({Bj:this.getId(),Zo:b,LUa:a,dR:"smart-todo"})};p.fqb=function(){i7(this.getContext()).uf("docos-disable-smart-todo-feature").wb()};
p.Ytb=function(){rw("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});Uvh(this.Wa,Avh(zvh(yvh(xvh(43029),this.ud().getId()),u7(this.ud()))))};p.tEb=function(){this.F&&P(this.F,!0);Uvh(this.Wa,Avh(zvh(yvh(xvh(43025),this.ud().getId()),u7(this.ud()))))};p.PHb=function(){i7(this.getContext()).uf("docos-write-feedback").wb({source:"smart-todo"})};p.nsb=function(){this.F&&P(this.F,!1);this.focus()};
p.jAa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Na(a||b)};p.gNb=function(){i7(this.getContext()).uf("docos-reject-doco-with-feedback").wb({Bj:this.getId(),Em:this.sQ(),Zo:x7(g7(this.getContext()),this.getId()),dR:"smart-todo",Sfb:new uAh("smart-todo",!this.J.isChecked(),this.L.isChecked())})};p.pua=function(){return e7(this.ud())?$6(e7(this.ud())):null};p.M$=function(){return this.ud().Wz()};
p.Ja=function(){K7.prototype.Ja.call(this);delete this.Ba;delete this.V;delete this.F;delete this.H;delete this.Ha;delete this.Ka};function yAh(a,b,c,d){this.C=a;this.H=b;this.cb=c;this.D=d}yAh.prototype.F=function(a){a=g7(this.C).ud(a);var b=this.H.Mj().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new rAh(this.C,a.getId(),b,u7(a),this.cb,this.D);case "client-integrated-draft":return new qAh(this.C,a.getId(),b,u7(a),this.cb,this.D);case "smart-todo":return new vAh(this.C,a.getId(),b,u7(a),this.cb,this.D);default:return new fAh(this.C,a.getId(),b,this.cb,this.D)}};function zAh(a,b){this.C=a;this.D=b}zAh.prototype.clone=function(){return new zAh(this.C,this.D)};zAh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function L7(a,b){Wn.call(this);this.cb=b;this.L=a;this.D=null;if(a=M7(this).L)this.D=new zAh(a,!0);this.xa=!a;this.Ba=!a;this.Bb=this.H=null}y(L7,Wn);p=L7.prototype;p.fya=da("O");p.Mj=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};p.HO=function(){return[]};p.hq=function(){return this.H?this.H.getId():null};p.BU=function(){return this.H?t7(this.H):null};p.DU=function(){var a=this.hq();return a?this.O.Cc(a):null};
p.qa=g("cb");function M7(a){return c7(a.L)}p.getContext=g("L");p.jF=function(){return this.Mj().getId()};p.D$=g("D");p.xha=function(a,b){var c=this.hq();return a||c?b==this.jF()||this.D&&this.D.C==a?!0:!Kwh(this,a):!1};function Kwh(a,b){if(a.hq()==b)return!0;a=a.BU();return!!a&&a==b}
p.Zma=function(a,b,c){if(this.xha(a,b)){var d=Kwh(this,a)?null:this.H;this.H=g7(this.L).ud(a)||null;var e=d&&a!=d.getId()&&(!t7(d)||a!=t7(d));if(e){var f=this.O.Cc(d.getId());f&&!l7(d.C)&&f.update()}d=!d||e;b=b==this.jF()&&(void 0===c||c);a&&(d||b)&&(d&&this.rXa(),(c=this.O.Cc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new zAh(a,b),d&&this.Xva(a))}};p.rXa=ba();
p.JOa=function(a,b){var c=i7(this.L);c.uf("docos-before-highlight-doco").wb(a);F7(g7(this.L),b.getId());c.uf("docos-highlight-doco").wb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==M7(this).L&&(a=M7(this).J["highlight-initial-doco"]))&&(b=(new Z6("highlight-initial-doco")).addAnchorId(u7(b)).addDocoHandle(x7(g7(this.getContext()),c)).setNonAnchored(!(b.Ty()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};p.highlightNext=function(a,b,c){AAh(this,!0,void 0,a,b,c)};
p.highlightPrevious=function(a,b,c){AAh(this,!1,void 0,a,b,c)};p.Mfa=ba();p.Kfa=ba();function AAh(a,b,c,d,e,f){var h=g7(a.L),k=BAh(a,h,b,!!d,!!e);k||!c||e||(k=BAh(a,h,!b,!!d,!1));b=i7(a.L);k&&(a=X6(zth(yth(wth(W6(V6(k.getId()),a.jF())),void 0!==f?f:!0))),b.uf("docos-before-highlight-doco").wb(a),F7(h,k.getId()),b.uf("docos-highlight-doco").wb(a))}
function BAh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.Mj().rc();if(0==h)return null;a:{var k=a.hq();if(k){var l=a.Mj();if(k=l.Cc(k)){l=qw(l,k);break a}}l=-1}0>l&&(l=0,f=a.Mj().xc(l));for(k=l;!f||d&&!fwh(b,f.ud());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.Mj().xc(l)}return f}
p.Xva=function(a){if(a==M7(this).L){var b=this.O.Cc(a);b&&b.Tk()&&!this.Ba&&(this.Ba=!0,b=M7(this).J["linked-doco-highlighted"])&&(a=g7(this.L).ud(a),a=Ath("linked-doco-highlighted").addAnchorId(u7(a)).setUserInitiated(!0).build(),b(a))}};p.Z$=function(a){for(var b=this.Mj(),c=b.rc(),d=c,e=0;e<c;++e){var f=b.xc(e);if(f&&0>=this.KT(a,f)){d=e;break}}return d};
function CAh(a){if(a.Q1()){for(var b=a.Mj(),c=[],d=b.rc(),e=0;e<d;++e)c.push(b.xc(e));c.sort(v(a.KT,a));for(e=0;e<d;++e)b.xc(e)!=c[e]&&b.wf(c[e],e)}}p.qy=function(){vwh(f7(this.getContext()))};p.mI=ba();p.Yma=function(){for(var a=this.Mj().rc(),b=new kth,c,d=0;d<a;d++)c=this.Mj().xc(d),null!=c&&(c=c.ud(),null!=c&&wyh(b,c));return lth(b)};p.RI=qa;p.w9=ee;p.x0=ee;p.y0=ba();p.Ja=function(){L7.Ua.Ja.call(this);this.H=null};
p.Xma=function(a){a=a.fU()||a;a instanceof L7&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ba=this.Ba)};p.fU=m(null);p.eya=da("Bb");p.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof L7){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ba==a.Ba}else a=!1;return a};function DAh(a,b){Kn.call(this,a);this.CFa=b}y(DAh,Kn);function EAh(a){this.C=[];if(a)a:{if(a instanceof EAh){var b=a.Re();a=a.Gd();if(0>=this.ge()){for(var c=this.C,d=0;d<b.length;d++)c.push(new hZ(b[d],a[d]));break a}}else b=Od(a),a=Nd(a);for(d=0;d<b.length;d++)FAh(this,b[d],a[d])}}function FAh(a,b,c){var d=a.C;d.push(new hZ(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}p=EAh.prototype;
p.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)bd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function GAh(a){return a.C[0]&&a.C[0].getKey()}p.Gd=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
p.Re=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};p.Ut=function(a){return Wc(this.C,function(b){return b.getValue()==a})};p.clone=function(){return new EAh(this)};p.ge=function(){return this.C.length};p.isEmpty=function(){return ad(this.C)};p.clear=function(){bd(this.C)};function HAh(){EAh.call(this)}y(HAh,EAh);function IAh(a,b){L7.call(this,a,b);this.V=g7(this.getContext());this.C={};this.R={};this.$a=new HAh;this.J=new Cth}y(IAh,L7);p=IAh.prototype;p.HO=function(){var a=IAh.Ua.HO.call(this);a.push("docos-layout-anchored");M7(this).Dd&&a.push("docos-layout-anchored-shadows");return a};p.gma=function(a){return(new yAh(this.getContext(),this,this.qa(),this)).F(a.getId())};
p.oT=function(a){if(this.V.R(a)){var b=a.getId(),c=x7(this.V,b),d=this.zoa(c,!1);if(d){var e=this.gma(a);this.R[c]&&delete this.R[c];c=this.Z$(e);if(c<=this.Mj().rc()&&-1<c)for(JAh(this,e,d,c);!this.$a.isEmpty()&&GAh(this.$a)<=this.Mj().rc();)e=this.$a.remove(),JAh(this,e.view,e.position,e.index);else e=new KAh(e,d,c),FAh(this.$a,c,e)}else this.R[c]=a;b=yth(V6(b),!a.DW());a.$j()||W6(b,this.jF());d&&a.vA()&&Bd(a.Wz())&&(d=i7(this.getContext()),d.uf("docos-before-highlight-doco").wb(X6(b)),F7(this.V,
a.getId()),d.uf("docos-highlight-doco").wb(X6(b)));(d=this.D$())&&d.C==a.getId()&&(yth(b,d.D),ip(v(this.JOa,this,X6(b),a),0))}};function JAh(a,b,c,d){var e=La();a.Mj().wf(b,d,!0);a.vfa(c.x,c.y,b,!1);b=La()-e;(a=M7(a).J["doco-rendered"])&&a(new Bth("doco-rendered",b))}p.pR=function(a){var b=this.Mj().Cc(a);a==this.hq()&&(this.H=null);if(b){var c=this.V.ud(a);c&&c.isResolved()&&b.Qo()&&M7(this).yd?LAh(this,a,b):(this.Mj().removeChild(b,!0),Hf(b));this.EI(this.C)}};
function LAh(a,b,c){function d(){q||(q=!0,Hf(c),vo(e),ex(h,"docos-resolve-highlight"),ip(function(){gx(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Sv(e),h=M7(a).yd,k=$v(h),l=$v(e),n=Sv(h);n.x+=(k.width-l.width)/2;a.Mj().removeChild(c);ex(e,"docos-readonly");c.vd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;mf?MAh(a,e,f,n,d,b):NAh(a,e,c.getId(),f,n,d)}
function NAh(a,b,c,d,e,f){Eth(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";ip(function(){Qn(b,gAa,f);ip(f,570);ex(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function MAh(a,b,c,d,e,f){var h=new QA(b,[c.x,c.y],[d.x,d.y],270),k=new adb(b,270);k.play();Dth(a.J,f,h,270,function(){Hf(h);Hf(k);e()})}
function OAh(a){var b=[];a.Mj().Pe(function(c){var d=c.ud();null!=d&&null!=u7(d)?(d=x7(this.V,c.ud().getId()),this.zoa(d,!0)||this.R[d]||(this.R[d]=c.ud(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new DAh("rv",b))}p.v9=function(a){for(var b=Yd(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.EI(b)};p.eU=function(a){var b=Yd(this.C),c;for(c in a)b[c]=a[c];this.EI(b)};p.zoa=function(a){return this.C[a]||null};
p.w9=function(a){a=PAh(this,a);return a?(a=a?a.getElement():null)?new bm(a.offsetLeft,a.offsetTop):null:null};p.getDocoMaxHeight=function(a){return(a=PAh(this,a))?a.getDocoMaxHeight():null};p.Wma=function(a,b){(a=PAh(this,a))&&a.zR(b)};function PAh(a,b){return(b=A7(a.V,b))?a.Mj().Cc(b.getId()):null}p.Ja=function(){IAh.Ua.Ja.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function KAh(a,b,c){this.Bj=a.getId();this.view=a;this.position=b;this.index=c};function QAh(a,b){IAh.call(this,a,b)}y(QAh,IAh);p=QAh.prototype;p.Q1=m(!1);p.KT=m(0);p.aZ=qa;p.HI=function(){OAh(this)};p.qy=function(){QAh.Ua.qy.call(this);this.Mj().Pe(function(a){var b=a.ud();b&&null!=u7(b)&&(b=x7(g7(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.vfa(b.x,b.y,a,!1))},this)};p.EI=function(a){this.C=a;OAh(this);for(var b in this.C)(a=this.R[b])&&this.oT(a);this.qy()};p.vfa=function(a,b,c){(c=c.getElement())&&U5a(c,a,b,c7(this.getContext()).gj)};function N7(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Bd(f)?f:null}oa("docos.api.Assignee",N7,void 0);N7.prototype.getToken=g("L");N7.prototype.getToken=N7.prototype.getToken;N7.prototype.getEmail=g("F");N7.prototype.getEmail=N7.prototype.getEmail;N7.prototype.getAffinity=g("D");N7.prototype.getAffinity=N7.prototype.getAffinity;N7.prototype.getMatchingMethod=g("H");N7.prototype.getMatchingMethod=N7.prototype.getMatchingMethod;N7.prototype.O=g("C");
N7.prototype.isMatchedOnEmailUserName=N7.prototype.O;N7.prototype.getName=g("J");N7.prototype.getName=N7.prototype.getName;function RAh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function SAh(a,b,c,d){return new N7(a.C,b,d,a.L,a.D,c)}function TAh(a,b){return a.C.toLowerCase().replace(UAh,"")==b?a.D=!0:!1}RAh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&VAh(this,e)){var f=cf(e.getEmail());Bd(f)||c.push(SAh(this,f,e.getName(),0))}}a.resolve(c)};
function VAh(a,b){if(b.getEmail())var c=cf(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||Pxh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if($c(Oxh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&$c(f,d[h]))&&
1<d[h].length)return!0;return TAh(a,e)}function WAh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new RAh(a[d],"full-query",b));return c}function XAh(a,b){for(var c=[],d=0;d<a.length;d++)ld(c,YAh(a[d],b));return c}function YAh(a,b){return Yxh(Wxh,a).map(function(c){return new RAh(c,"email",b)})}var UAh=/^[@+]|[@+]$/g;function ZAh(a){this.C=a}oa("docos.api.AssigneeThenable",ZAh,void 0);ZAh.prototype.get=g("C");ZAh.prototype.get=ZAh.prototype.get;function $Ah(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new sl;this.J=d}function aBh(a,b){var c=Yo();a.C.C?bBh(a,b,c):Gxh(a.C).then(v(function(d,e,f){f?bBh(this,d,e):e.reject()},a,b,c));return new ZAh(c.C)}function bBh(a,b,c){var d=Ja(XAh,b,a.D);b=v(a.H,a,Ja(WAh,b,a.D),c,function(){return c.resolve(null)});a.H(d,c,b)}
$Ah.prototype.H=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var h=this.C,k=Yo();Bd(f.C)?k.resolve([]):TAh(f,f.J)||f.C.toLowerCase()==f.F?k.resolve([SAh(f,f.F,null,Number.MAX_VALUE)]):h.Qn(f.C,5,v(f.O,f,k));f=k.C;ld(d,f)}cBh(this,d,b,c)};function cBh(a,b,c,d){Xo(b).then(function(e){for(var f=[],h=0;h<e.length;h++){var k=e[h];k.EO&&k.value&&ld(f,k.value)}ad(f)?d():dBh(a,f,c)})}
function dBh(a,b,c){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f];h.C?e.push(h):d.push(h.getEmail())}ad(e)?(eBh(a,d),a.J(d).then(function(k){return fBh(a,b,c,k)})):gBh(a,e,c)}else gBh(a,b,c)}function gBh(a,b,c){b.sort(Ja(hBh,a.D));c.resolve(b[0])}function eBh(a,b){var c=a.F;vva(b,c.contains,c)||(tl(a.F,b),Uvh(a.L,Avh(xvh(43026))))}
function fBh(a,b,c,d){for(var e=[],f={rZ:0};f.rZ<d.length;f={rZ:f.rZ},f.rZ++){var h=Yc(b,function(k){return function(l){return l.getEmail()==d[k.rZ]}}(f));h&&e.push(h)}ad(e)?c.resolve(null):gBh(a,e,c)}function hBh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function iBh(a){this.h8a=a;return this}u(iBh,n5);iBh.prototype.getCancelAnchorId=g("h8a");iBh.prototype.getCancelAnchorId=iBh.prototype.getCancelAnchorId;function jBh(a,b,c,d,e,f){a=Y6.call(this,a,b,c,d,e,f||new n5)||this;a.C=!1;return a}u(jBh,Y6);jBh.prototype.canPreventDefault=m(!0);jBh.prototype.preventDefault=function(){this.C=!0};function kBh(a){return Z6.call(this,a)||this}u(kBh,Z6);kBh.prototype.build=function(){return new jBh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new n5)};function lBh(){this.D=!1}lBh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};lBh.prototype.Pj=function(){return!this.D&&(null==this.C||this.C.Pj())};function mBh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Yo();this.L=c}y(mBh,A);function Gxh(a){if(!lJe())return Uo(!1);if(a.C)return Uo(!0);if(!a.F){var b=Yd(k$e);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.Qn(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.R)){var k=new C9d;h=M(k,1,h);h=ush(h);c.jo("dacpc",La()-a.L,h.serialize())}})}return a.H.C}
mBh.prototype.Qn=function(a,b,c,d){var e=this;if(!lJe())return new f$e;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(Te(a)&&this.F&&this.F.Pj()){var k=new lBh,l=La();this.H.C.then(function(){var n=e.J.R;if(k.Pj()){var q=e.D.Qn(h,c);n&&n.jo("dcrdtdr",La()-l);k.D||(k.C=q)}else n&&n.jo("dcrdc",La()-l)});return k}return this.D.Qn(h,c)};mBh.prototype.Ja=function(){delete this.D};function nBh(a){this.C=a}y(nBh,n5);oa("docos.api.OriginatingDocoTypeArgs",nBh,void 0);nBh.prototype.getOriginatingDocoTypeArgs=g("C");nBh.prototype.getOriginatingDocoTypeArgs=nBh.prototype.getOriginatingDocoTypeArgs;function O7(a,b,c){this.C=c;this.Iq=a;this.D=b}y(O7,nBh);oa("docos.api.ConvertDocoArgs",O7,void 0);O7.prototype.getAnchorId=g("Iq");O7.prototype.getAnchorId=O7.prototype.getAnchorId;O7.prototype.getNewDocoArgs=g("D");O7.prototype.getNewDocoArgs=O7.prototype.getNewDocoArgs;function P7(a,b,c){this.D=a;this.cd=void 0!==b?b:null;this.C=void 0==c?-1:c}y(P7,n5);P7.prototype.isInstantDoco=g("D");P7.prototype.getPosition=g("cd");P7.prototype.getInstantDocoSpacerIndex=g("C");P7.prototype.isInstantDoco=P7.prototype.isInstantDoco;P7.prototype.getInstantDocoSpacerIndex=P7.prototype.getInstantDocoSpacerIndex;function oBh(a){this.F=a}oBh.prototype.C=function(a,b){return b?(a=this.F.ud(b.Bj))?e7(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};oBh.prototype.D=m(0);function pBh(a,b){this.cd=a;this.Iq=b;return this}u(pBh,n5);pBh.prototype.getPosition=g("cd");pBh.prototype.getAnchorId=g("Iq");pBh.prototype.getPosition=pBh.prototype.getPosition;pBh.prototype.getAnchorId=pBh.prototype.getAnchorId;function qBh(a){A.call(this);this.C=a}u(qBh,A);function Uvh(a,b){var c=c7(a.C).$a;if(c){var d=new vj,e=b.C;null!=b.L?M(d,1,2):null!=e?M(d,1,3):M(d,1,1);rBh(a,d,b.D);b.J&&(a=Uyh(g7(a.C)).C.clone(),cj(d,10,a));a=new Tuh;b.Iq&&M(a,1,b.Iq);c(b.H,b.F||void 0,d,a)}}
function y7(a,b){var c=c7(a.C).$a;if(c){var d=b.ud();var e=new vj;var f=d.Isa();e=M(e,2,f);null!=d.Sy()&&(f=luh(d.Sy()).length,M(e,8,f));null!=b.yx&&(f=b.yx.Isa(),M(e,3,f));if(null!=b.C){var h=b.C;switch(h.getOriginatingDocoType()){case "discussion":M(e,4,1);break;case "draft":M(e,4,2);break;case "instant-doco":M(e,4,3);break;case "smart-todo":M(e,4,4);f=new K5d;var k=new G5d;var l=!h.isTodo();k=M(k,1,l);h=h.isWrongAssignee();h=M(k,2,h);cj(f,2,h);cj(e,5,f);break;case "suggestion":M(e,4,5);break;default:M(e,
4,0)}}null!=b.D&&M(e,7,b.D);null!=c7(a.C).Qa&&(f=c7(a.C).Qa,cj(e,12,f));null!=c7(a.C).L&&(f=c7(a.C).L==d.getId(),M(e,13,f));f=d.xG();h=e7(d);null!=f?M(e,1,2):null!=h?M(e,1,3):M(e,1,1);rBh(a,e,d.getId());b.L&&(a=Uyh(g7(a.C)).C.clone(),cj(e,10,a));a=new Tuh;d=u7(b.ud());a=M(a,1,d);c(b.J,b.H||void 0,e,a)}}function rBh(a,b,c){a=g7(a.C).O;null!=c&&b.Cg(null!=a&&c==a.getId())}qBh.prototype.Ja=function(){A.prototype.Ja.call(this)};function sBh(){}sBh.prototype.C=function(){return["Comment changed"]};sBh.prototype.D=m(0);function tBh(a,b,c){b=ia(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Zo&&a.addDocoHandle(d.Zo),d.Em&&a.addAnchorId(d.Em));return a};function uBh(a,b){this.C=a;this.D=b}y(uBh,nBh);oa("docos.api.FeedbackArgs",uBh,void 0);uBh.prototype.getFeedback=g("D");uBh.prototype.getFeedback=uBh.prototype.getFeedback;function vBh(a){this.C=a}y(vBh,n5);oa("docos.api.HighlightDocoArgs",vBh,void 0);vBh.prototype.isOriginInStreamOrGutter=g("C");vBh.prototype.isOriginInStreamOrGutter=vBh.prototype.isOriginInStreamOrGutter;function wBh(a){var b=a.$Ib,c=a.jc,d=a.LJb;a=a.aJb;return S('<div id="docs-instant-button-bubble" class="'+T("docs-material")+" "+(c?T("docs-instant-button-bubble-transformation-rtl"):T("docs-instant-button-bubble-transformation-ltr"))+(d?" "+T(d):"")+'" role="button" tabindex="-1"><div class="'+T("docs-instant-button-bubble-icon-container")+(a?" "+T(a):"")+'"><span class="'+T("docs-instant-button-bubble-icon")+(b?" "+T(b):"")+'"></span></div></div>')};function xBh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=ey(dy,0<c.length?c[0]:"docs-instant-button");gy.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;ly(this,2,!0)}u(xBh,gy);p=xBh.prototype;p.Ca=function(){var a=this.qa(),b={jc:!1};b.$Ib=this.R.join(" ");ad(this.J)||(b.LJb=this.J.join(" "));ad(this.L)||(b.aJb=this.L.join(" "));this.jb(Sx(wBh,b,void 0,a))};
function yBh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.Gb()){var h=0>=c;a.isVisible()||h?(zBh(a),ABh(a,b,d,f),e&&e()):(a.D=new BBh(b,d,f,e),b=!a.C,h||b||zBh(a),a.C||(a.C=ip(function(){ABh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.Vd;k&&k();a.D=null;a.C=null},c,a)))}}
p.qf=function(a){if(this.Gb()){if(void 0===a?0:a)Lv(this.getElement(),"top","0px"),ex(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(gx(this.getElement(),"docs-instant-button-visible"),bw(this.La(),0),this.F=!1);zBh(this)}};p.eg=function(a){this.isVisible()&&(gy.prototype.eg.call(this,a),a.stopPropagation())};p.im=function(a){this.isVisible()&&(gy.prototype.im.call(this,a),a.stopPropagation())};p.FP=function(a){this.isVisible()&&a.stopPropagation()};
function ABh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;gx(a.getElement(),"docs-instant-quick-hide");ex(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function zBh(a){a.C&&(jp(a.C),a.C=null)}p.isVisible=function(){Vw(this.getElement(),"docs-instant-button-visible");return this.F};function BBh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.Vd=d}BBh.prototype.getOpacity=g("C");function CBh(a,b){b7.call(this,a,b);this.D=null;this.F=a}u(CBh,b7);CBh.prototype.Ca=function(){b7.prototype.Ca.call(this);this.D=new xBh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.qa());this.D.render();this.Va(this.D.getElement())};
CBh.prototype.Ia=function(){b7.prototype.Ia.call(this);c7(this.F).D.C(this.getElement(),"Add a comment");this.D.isVisible()||c7(this.F).D.D(this.getElement(),!0);this.D.Ia();d7(this,this.D,"action",this.H)};function DBh(a,b,c,d){fz(a.D.getElement(),"docos");c7(a.F).D.D(a.getElement(),!1);var e=a.D.H;yBh(a.D,b,c,d,function(){e!=b&&c7(a.F).D.qf(a.getElement())})}CBh.prototype.qf=function(a){this.D.isVisible()&&c7(this.F).D.D(this.getElement(),!0);this.D.qf(a)};CBh.prototype.H=function(){this.qf();this.dispatchEvent("create-draft")};function EBh(a,b){A.call(this);this.D=a;this.F=c7(a);this.C=b;this.H=new Fz(this);a=i7(this.D);this.H.Nb(a.Ra("docos-edit-reply"),zs,this.c2b).Nb(a.Ra("docos-delete-reply"),zs,this.M1b).Nb(a.Ra("docos-edit-doco"),zs,this.Z1b).Nb(a.Ra("docos-edit-draft"),zs,this.b2b)}u(EBh,A);function FBh(a,b,c,d,e,f){return Q7(a,v(a.HJb,a,b,c,d,e,void 0===f?!1:f))}p=EBh.prototype;p.HJb=function(a,b,c,d,e,f,h){if(GBh(h))return a=Svh(this.C,a,b,c,d,e),f.Aj.callback(a),a;f.Aj.callback(0);return 0};
p.JJb=function(a,b,c,d,e,f){if(GBh(f))return a=Vvh(this.C,a,b,c,d),e.Aj.callback(a),a;e.Aj.callback(0);return 0};p.GJb=function(a,b,c,d,e,f){if(GBh(f))return a=Wvh(this.C,a,b,c,d),e.Aj.callback(a),a;e.Aj.callback(0);return 0};function HBh(a,b){return Q7(a,v(a.I6b,a,b))}p.b2b=function(a){var b=this,c=a.data;xp(Q7(this,v(this.a2b,this,c.Bj,c.text)),function(d){d&&c.jDa&&h7(f7(b.D),c.jDa);return d})};p.a2b=function(a,b,c,d){R7(v(this.C.$1b,this.C,a,b),c,d)};
p.I6b=function(a,b,c){R7(v(this.C.$$a,this.C,a),b,c)};function IBh(a,b,c,d,e,f,h){return Q7(a,v(a.N5a,a,b,c,d,e,f,h))}
p.N5a=function(a,b,c,d,e,f,h,k){if(GBh(k)){k=this.C;var l,n;a&&(n=Syh(g7(k.C),a))&&"instant-doco"==n.rs&&(l=31);var q=xvh(43009);null!=n&&yvh(q,n.getId());null!=l&&(q.F=l);n&&n.vA()&&a!=b&&Xvh(g7(k.C),n.getId());a=ef();l=La();n=Luh(Huh(n7(new m7(a)),l),k.F.jh());c&&o7(n,c,l);d&&(c=(new Ksh).setType("text/plain").setValue(d),cj(n.C,9,c));e&&(Guh(n,e),q.J=e);f&&(Kuh(n,f),q.C=f);e=w7(v7(n),!0);M(e.C,3,l);b&&(Hvh(e,b),zvh(q,b));z7(g7(k.C),e);g7(k.C).flush();Uvh(k.D,Avh(q));b=x7(g7(k.C),a);h.Aj.callback(b);
return b}h.Aj.callback(0);return 0};p.Z1b=function(a){var b=a.data;xp(Q7(this,v(this.Jeb,this,b.id,b.text)),function(c){c||b.qna.dispatchEvent("c")})};p.Jeb=function(a,b,c,d){R7(v(this.C.Ieb,this.C,a,b),c,d)};p.M1b=function(a){a=a.data;xp(Q7(this,v(this.L1b,this,a.Bj,a.Cxa)),ba())};p.L1b=function(a,b,c,d){R7(v(this.C.l$a,this.C,a,b),c,d)};p.c2b=function(a){var b=a.data;xp(Q7(this,v(this.Leb,this,b.Bj,b.Cxa,b.text)),function(c){c||b.qna.dispatchEvent("c")})};
p.Leb=function(a,b,c,d,e){R7(v(this.C.Keb,this.C,a,b,c),d,e)};p.O5a=function(a,b,c,d,e,f){R7(v(this.C.W$a,this.C,a,b,c,d),e,f)};p.mcc=function(a,b,c,d){R7(v(this.C.bab,this.C,a,b),c,d)};p.ncc=function(a,b,c,d,e){R7(v(this.C.cab,this.C,a,b,c),d,e)};p.o7b=function(a,b,c,d,e){R7(v(this.C.aab,this.C,a,b,c),d,e)};function R7(a,b,c){GBh(c)?(a(),b.Aj.callback(!0)):b.Aj.callback(!1)}p.h$a=function(a,b,c,d){R7(v(this.C.X$a,this.C,a,b),c,d)};
p.ubc=function(a,b,c){if(GBh(c))return a=Yvh(this.C,a),b.Aj.callback(a),a;b.Aj.callback(0);return 0};p.X8b=function(a,b,c,d){R7(v(this.C.HFa,this.C,a,b),c,d)};p.k$a=function(a,b,c){R7(v(this.C.Z$a,this.C,a),b,c)};p.j$a=function(a,b,c){R7(v(this.C.Y$a,this.C,a),b,c)};function JBh(a,b,c,d){return Q7(a,v(a.u5a,a,b,c,d))}p.u5a=function(a,b,c,d,e){if(GBh(e))return a=cwh(this.C,a,b,c),d.Aj.callback(a),a;d.Aj.callback(0);return 0};
p.lCa=function(a,b,c,d){if(GBh(d))return a=gwh(this.C,a,b),c.Aj.callback(a),a;a=[];c.Aj.callback(a);return a};function Q7(a,b){var c=new vp,d={Aj:c};(a=a.F.Ie)?a(d,b):b(d,"edit-not-intercepted");return c}function GBh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function KBh(a,b){A.call(this);this.C=[];this.F=new hth(a);this.D=ith(this.F,"user");this.J=ith(this.F,"control");this.Ed=new hp(b||50);this.Ed.start();Pn(this.Ed,"tick",this.YXa,!1,this);this.J.tf("setPeerReady_",v(this.a9b,this))}y(KBh,A);p=KBh.prototype;p.connect=function(a){a&&a()};p.isConnected=m(!0);p.YXa=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Ed.stop(),a;}};p.tf=function(a,b,c){this.D.tf(a,b,c)};p.FL=function(a){this.D.FL(a)};
p.send=function(a,b){this.H?this.D.send(a,b):this.C.push({wY:a,Ql:b})};p.a9b=function(a){a?this.Ed.stop():this.Ed.start();if(!this.H){this.H=!0;this.YXa();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.wY,b.Ql)}this.C=null}};p.Ja=function(){Hf(this.F);Hf(this.Ed);KBh.Ua.Ja.call(this)};function LBh(a){Wn.call(this);this.C=a;this.Ma=new Xn(this);this.va(this.Ma);this.Ma.listen(this.C,"u",this.D);this.C.Ud(this)}y(LBh,hwh);LBh.prototype.D=function(a){var b=Xuh(a.Ql.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new iwh("u",new bth(b))));a.stopPropagation()};function kwh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&wa(n[0])&&d(n[0])});a.C.JFa(b,c?c.Nf():void 0,l,e,f,h,k)};function MBh(a,b,c){cJe.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.va(this.C);this.C.FL(v(this.D,this));this.F=b}y(MBh,cJe);MBh.prototype.send=function(a,b){Aa(b)&&(b=Zl(b));this.C.send(a,{t:this.F,p:b})};MBh.prototype.D=function(a,b){dJe(this,a,b)};MBh.prototype.f9=function(a,b,c){b=MBh.Ua.f9.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?MBh.Ua.f9.call(this,a,b.p,c):null};function NBh(){Wn.call(this)}y(NBh,Wn);function OBh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Wn.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new zn;this.va(this.J);An(this.J,this.H.getStatus().C,function(l){l.D.Yj()&&Rk(l.C)?k.dispatchEvent(new iwh("r")):Sk(l.C)&&k.dispatchEvent(new iwh("e"))});this.F=function(l){l&&k.dispatchEvent(new iwh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}u(OBh,NBh);
OBh.prototype.IFa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.s9)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new uIa;var b=this.D.jh().getId();a.R=b;HHa(a,this.D.t9,this.O,this.D.Vma);this.C=a;this.C.subscribe("9",this.F)}};
OBh.prototype.JFa=function(a,b,c,d,e,f,h){b=b?["p",Zl(b)]:[];PBh(this,b,"/docos/p/"+a,c,d,e,f,h)};function PBh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?Pva(b):void 0;c=hq(a.H.Ue(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.aq();h?Uk(c,h):Uk(c,3);d&&Wk(c,function(n){d(n.Ee())});e&&Vk(c,e,f);k&&jq(c,k);null!=a.L&&(c.Qa=a.L);c.Se()}OBh.prototype.Ja=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());NBh.prototype.Ja.call(this)};function QBh(a,b,c){this.seq=RBh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var RBh=1;function SBh(a){Wn.call(this);this.C=a;this.C.tf("recv",v(this.L3b,this),!0);this.C.tf("recvEvt",v(this.K3b,this),!0);this.D={}}y(SBh,NBh);p=SBh.prototype;p.L3b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};p.K3b=function(a){this.dispatchEvent(new iwh(a.type,a.payload))};p.IFa=function(a){this.C.send("connectBrowserChannel",a.toString())};p.JFa=function(a,b,c,d,e,f,h){a=new QBh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};p.Ja=function(){SBh.Ua.Ja.call(this);delete this.C};function TBh(a){A.call(this);this.F=a;this.D=this.C=null}u(TBh,A);
function UBh(a){if(a.C)return a.C;var b=c7(a.F),c=b.Uma;if(void 0!==c)return c&&(a.C=new LBh(c),a.va(a.C)),a.C;if(b.EFa){var d=Qad();c=new tHa(new d4b,void 0,void 0,void 0,new hFa,void 0,void 0,gHa(cHa(d)));var e=b.Vma;e&&c.C4(e);var f=b.GFa;f&&CHa(c,f);b.AHa&&nFa(c.D,"anon","true");(f=b.CPa)&&nFa(c.D,"invite",f);f=null;if(b.s9){f=new uIa;var h=b.jh().getId();f.R=h;pFa(c.H,f);HHa(f,b.t9,d,e)}b=new OBh(c,!0,["id",b.t9],f,null!=b.w0?b.w0:6E4,b,d);b.va(c);a.C=new LBh(b);a.va(a.C);a.va(b);return a.C}b=
b.ZVa;if(!b)throw Error("Peer missing.");c={};d=new Ll(window.location.href);(e=Ul(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Ll(b)).toString());d=Qad();b=(new Ll(b)).zc("ctoken",d).toString();c.pu=b;a.D=po("div");a.D.style.display="none";document.body.appendChild(a.D);b=new nX(c);nMe(b,a.D);b.connect();b=new KBh(b);c=Nth(a.F);b=new MBh(b,d,c);c=new SBh(b);a.C=new LBh(c);a.va(a.C);a.va(c);a.va(b);return a.C}
TBh.prototype.Ja=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ja.call(this)};function VBh(a,b){this.C=a;this.F=b}VBh.prototype[Rqa]=!0;function S7(a,b,c){var d=La();b();b=La()-d;a.F.jo(c,b)}p=VBh.prototype;p.Zma=function(a,b,c){a=v(this.C.Zma,this.C,a,b,c);S7(this,a,"dvmhd")};p.highlightNext=function(a,b,c){a=v(this.C.highlightNext,this.C,a,b,c);S7(this,a,"dvmhn")};p.highlightPrevious=function(a,b,c){a=v(this.C.highlightPrevious,this.C,a,b,c);S7(this,a,"dvmhp")};p.HI=function(){var a=v(this.C.HI,this.C);S7(this,a,"dvmla")};
p.qy=function(){var a=v(this.C.qy,this.C);S7(this,a,"dvmfl")};p.oT=function(a){a=v(this.C.oT,this.C,a);S7(this,a,"dvmadv")};p.aZ=function(a){a=v(this.C.aZ,this.C,a);S7(this,a,"dvmudv")};p.pR=function(a){a=v(this.C.pR,this.C,a);S7(this,a,"dvmrdv")};p.Mj=function(){return this.C.Mj()};p.fya=function(a){this.C.fya(a)};p.HO=function(){return this.C.HO()};p.hq=function(){return this.C.hq()};p.BU=function(){return this.C.BU()};p.DU=function(){return this.C.DU()};p.qa=function(){return this.C.qa()};
p.jF=function(){return this.C.jF()};p.D$=function(){return this.C.D$()};p.xha=function(a,b){return this.C.xha(a,b)};p.Mfa=function(){this.C.Mfa()};p.Kfa=function(){this.C.Kfa()};p.KT=function(a,b){return this.C.KT(a,b)};p.mI=function(a,b){this.C.mI(a,b)};p.Yma=function(){return this.C.Yma()};p.RI=function(a){this.C.RI(a)};p.w9=function(a){return this.C.w9(a)};p.x0=function(){return this.C.x0()};p.y0=function(a){this.C.y0(a)};p.dispose=function(){this.C.dispose()};p.isDisposed=function(){return this.C.isDisposed()};
p.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};p.Rc=function(a,b,c,d){return this.C.Rc(a,b,c,d)};p.Gc=function(a,b,c,d){return this.C.Gc(a,b,c,d)};p.kS=function(a){return this.C.kS(a)};p.dispatchEvent=function(a){return this.C.dispatchEvent(a)};p.qB=function(a){return this.C.qB(a)};p.Io=function(){return this.C.Io()};p.wO=function(a,b,c){return this.C.wO(a,b,c)};p.vJ=function(a,b){return this.C.vJ(a,b)};p.tC=function(a,b,c,d){return this.C.tC(a,b,c,d)};
p.hasListener=function(a,b){return this.C.hasListener(a,b)};p.fU=function(){return this.C.fU()||this.C};p.Xma=function(a){this.fU().Xma(a)};p.equals=function(a){return this===a};p.eya=function(a){this.fU().eya(a)};function WBh(a,b){VBh.call(this,a,b);this.D=a}u(WBh,VBh);p=WBh.prototype;p.v9=function(a){a=v(this.D.v9,this.D,a);S7(this,a,"davmddp")};p.eU=function(a){a=v(this.D.eU,this.D,a);S7(this,a,"davmudp")};p.EI=function(a){a=v(this.D.EI,this.D,a);S7(this,a,"davmfdp")};p.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};p.Wma=function(a,b){this.D.Wma(a,b)};function XBh(a,b,c){Wn.call(this);this.C=a;this.xa=b;this.V=c||null;this.Ma=new Xn(this);this.va(this.Ma);this.J=a.get("netIo");this.O=!0;this.F="not-in-progress";this.H=!1;this.L=this.D=this.R=null;this.ma=new Fz(this);this.va(this.ma);this.Ma.listen(this.J,"r",this.J3b).listen(this.J,"u",this.E4b).listen(this.J,"e",this.LMb);this.Ma.listen(g7(a),["dd"],this.KMb).listen(g7(a),"bu",this.JMb)}u(XBh,Wn);
function YBh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return ZBh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new vp),a.F="in-progress",ZBh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function ZBh(a,b){a.H?a.F="blocked":(a.F="in-progress",a.mRa(b))}function $Bh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Kd(null):d.callback(c)}p=XBh.prototype;
p.mRa=function(a){for(var b=g7(this.C),c=Vyh(b),d=[],e=0;e<c.length;e++){d.push(kj(c[e].F));var f=c[e].getId();fd(b.H,f)}b=new pth;d=ej(b,1,d);this.L&&M(d,2,this.L);c7(this.C).Cb&&(b=c7(this.C).Cb,M(d,5,b));kwh(this.J,"sync",d,v(this.H2b,this),v(this.G2b,this),!1,a?a:void 0)};p.G2b=function(){this.O=!1;$Bh(this,!0)};p.LMb=function(){this.dispatchEvent("net-error")};
p.H2b=function(a){a=new Zsh(a);var b=this.O;this.O=!1;var c=La();if(b){var d=T7(this.xa,"model-loaded");if(d){var e=(new Z6("model-loaded")).build();d(e)}}d=g7(this.C);try{if(aCh(this,a,b),this.L=K(a,2),Wyh(d))ip(v(this.mRa,this));else{var f=La()-c;$Bh(this,!1,b?f:void 0);this.V&&this.V.jo("dscat",f)}}catch(h){throw ip(function(){throw h;}),h;}};
function aCh(a,b,c){var d=g7(a.C),e=Tyh(d),f=bj(b,T6,1);b=0<f.length;var h=g7(a.C),k=[];f=ia(f);for(var l=f.next();!l.done;l=f.next()){l=kj(l.value);var n=S6(l),q=Pyh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=g7(r.C);n=S6(l);delete e[q.getId()];var x=q.getId();if($c(w.H,x))n=!1;else{x=q.getId();if(x=$c(w.Ha,x)){if(l7(q.C)){bCh(r,q);n=!1;break a}r=q.getId();fd(w.Ha,r)}M(l,9,!1);M(n,12,!1);void 0===K(n,13)&&M(n,13,0);q=Yd(q.D);w=ia(R6(n));for(r=w.next();!r.done;r=w.next())r=r.value,M(r,12,!1),void 0===
K(r,13)&&M(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ia(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(cCh(kj(q[x.value].C)));q=R6(n);ej(n,8,id(q,w));n=!0}}n&&k.push(new Gvh(l))}bwh(h,k,"n");h=ia(Vyh(d));for(k=h.next();!k.done;k=h.next())k=k.value,l7(k.C)&&void 0===k.C.C.getId()&&bCh(a,k);if(c)for(a=ia(Object.keys(e)),h=a.next();!h.done;h=a.next())h=e[h.value],Evh(h)||void 0===h.C.C.getId()&&!l7(h.C)||(b=!0,h=kj(h.F),S6(h),k=S6(h),ej(k,8,[]),f=La(),M(k,13,f),M(k,12,!1),
M(h,9,!1),z7(d,new Gvh(h),"n"));b&&d.flush(c)}function bCh(a,b){a=g7(a.C);var c=kj(b.F),d=S6(c);M(c,9,!1);M(d,12,!1);b=b.getId();fd(a.H,b);z7(a,new Gvh(c),"n")}function cCh(a){var b=La();M(a,13,b);M(a,12,!1);return a}p.J3b=function(){var a=12E4*Math.random();null!==this.R&&jp(this.R);this.R=ip(function(){YBh(this,c7(this.C).Hca?1:void 0)},a,this)};
p.E4b=function(a){if(a.Ql){var b=a.Ql;a=g7(this.C);var c=0;b=bj(b,T6,1);b=ia(b);for(var d=b.next();!d.done;d=b.next()){d=kj(d.value);var e=S6(d);e=Pyh(a,e.getId(),K(e,11));e&&e.eQ()||(z7(a,new Gvh(d),"n"),c++)}0<c&&g7(this.C).flush()}};p.KMb=function(a){"n"!=a.O&&Oyh(g7(this.C))&&YBh(this)};p.JMb=function(a){"n"!=a.source&&Oyh(g7(this.C))&&YBh(this)};p.Ja=function(){Wn.prototype.Ja.call(this);delete this.C;delete this.Ma;delete this.ma};function dCh(a,b,c){A.call(this);this.H=a;this.C=b;this.F=c;this.Ma=new Xn(this);this.va(this.Ma);this.D=null;this.O=!1;this.J=null}u(dCh,A);function eCh(a){if(!xsh(a.H,"netIo"))return!1;a.D=new XBh(a.H,a.F,a.C.R||void 0);a.va(a.D);a.Ma.listen(a.D,"net-error",a.R);return!0}dCh.prototype.R=function(){fCh(this.F,"fe")};function gCh(a){a.O=!0;a.J=La();zp(xp(YBh(a.D,a.C.eD?1:void 0),a.L,a),a.V,a)}function hCh(a){if(avh(a.C)){var b=a.D.D;b?xp(b,function(){return iCh(a)}):iCh(a)}}
dCh.prototype.L=function(a){var b=this.C.R;b&&b.Bya(Uyh(g7(this.H)).C.clone().serialize());if(b=T7(this.F,"sync-success")){var c=(new Z6("sync-success")).build();b(c)}(b=T7(this.F,"initial-anchored-render-done"))&&null!==a&&b(new Bth("initial-anchored-render-done",a));(a=T7(this.F,"initial-sync-and-render-complete"))&&a(new Bth("initial-sync-and-render-complete",La()-this.J));fCh(this.F,"s");fCh(this.F,"r")};
dCh.prototype.V=function(){var a=T7(this.F,"sync-error");if(a){var b=(new Z6("sync-error")).build();a(b)}fCh(this.F,"e")};function iCh(a){a.D.L=null;YBh(a.D,a.C.Hca?1:void 0)};function jCh(){}jCh.prototype.C=function(a,b){return b?b.v_?["Action item created"]:["Comment created"]:[]};jCh.prototype.D=m(0);function kCh(){}kCh.prototype.C=function(){return["Reply added"]};kCh.prototype.D=m(0);function lCh(a){var b=a.e6a,c=a.gJb,d=a.D0b;a=S;var e='<div class="'+T("docos-notificationdialog-content")+'">',f='<div class="'+T("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(T(b)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(b)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(T(c)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(c)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(T(d)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(d)+'" class="'+T("docos-notificationdialog-label")+'">');b=S(f+"Nothing</label></div>");b=e+b;c='<a class="'+T("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=S(c+"Help</a>");return a(b+c+"</div>")};function mCh(a){eX.call(this);this.V=a;this.Ha=c7(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}u(mCh,eX);p=mCh.prototype;
p.Ca=function(){eX.prototype.Ca.call(this);ex(xx(this),"docos");var a=Da(xx(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;Qx(this.Hb(),lCh,{e6a:this.O,gJb:this.R,D0b:this.ma});Ox(this,"ok");a=this.Ha.Za;null!==a&&(Lv(this.oq(),"z-index",a),Lv(xx(this),"z-index",a+1))};
p.Ia=function(){eX.prototype.Ia.call(this);var a=this.qa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=Ex(this.D,"ok");Pn(this.F,"click",v(this.dAa,this));Pn(this.H,"click",v(this.dAa,this));Pn(this.L,"click",v(this.dAa,this))};
p.update=function(){this.xa.disabled=!0;nCh(xwh(this.V)).then(function(a){for(var b=ia(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};p.Lxa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}oCh(xwh(this.V),a)};p.dAa=function(){var a=this;nCh(xwh(this.V)).then(function(b){for(var c=!0,d=ia(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
p.vd=function(){Vn(this.F);Vn(this.H);Vn(this.L)};p.Ja=function(){eX.prototype.Ja.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function pCh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}oa("docos.api.StorageUpdate",pCh,void 0);function qCh(a,b){if(a){b||a.unshift(void 0);rCh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),sCh(c[2],b),qCh(c[3],b),b&&c.shift());b&&a.shift()}}function sCh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function rCh(a,b){if(a){b||a.unshift(void 0);sCh(a[3],b);sCh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)rCh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function tCh(a){A.call(this);this.D=a;this.C=c7(a).tc;this.H=[];this.F=[];c7(a).Vc||(this.Ma=new Xn(this),this.va(this.Ma),this.Ma.listen(g7(a),["f","dd"],this.eab).listen(g7(a),"bu",this.dab))}y(tCh,A);p=tCh.prototype;p.eab=function(a){if("o"!=a.O&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=kd(this.H);var b=kd(this.F);this.C.I0a(a,b,v(this.QHb,this,a),v(this.OHb,this,b));this.H=[];this.F=[]}}else uCh(this,a.type,a.C,a.R)};
p.dab=function(a){if("o"!=a.source&&this.C)for(var b=ia(a.C),c=b.next();!c.done;c=b.next())c=c.value,uCh(this,a.type,c.Bj,c.C)};function uCh(a,b,c,d){if(c){var e;"bu"==b?e=g7(a.D).ud(c):e=g7(a.D).F[c];(b=e)&&l7(b.C)&&void 0===b.C.C.getId()?a.F.push(c):b&&!Evh(b)&&(e=kj(b.F).Nf(),e=Zd(e),qCh(e,!1),b=new pCh(c,e,b.eQ()),a.H.push(b),d&&d!=c&&a.F.push(d))}}p.QHb=function(a){for(var b=0;b<a.length;b++);};
p.OHb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);vCh(this,d,c)};p.Eub=function(a,b){if(0<b.length){for(var c=g7(this.D),d=0;d<b.length;d++){wa(b[d]);var e=Zd(b[d]);qCh(e,!0);e=new T6(e);z7(c,new Gvh(e),"o")}c.flush(!0)}a()};p.Dub=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);vCh(this,d,c);a()};
function vCh(a,b,c){if(a=Nth(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}p.Ja=function(){tCh.Ua.Ja.call(this);delete this.D;delete this.Ma;delete this.C};function wCh(a,b){var c=new A$e(new p$e([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));C$e(c,b);b=c.D;a=null!=K(a.C,50)?K(a.C,50):4;M(b,5,xCh(a));return Tcf(c)}function xCh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function yCh(a,b){this.F=a;this.D=b;this.H=c7(this.D);this.C=null};function zCh(a){this.F=a}zCh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.ud(b.C))?e7(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};zCh.prototype.D=m(0);function ACh(a,b){this.F=a;this.H=g7(this.F);this.J=b}ACh.prototype.C=function(a,b){var c=this.H.ud(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.vA())return["Draft comment"];b=[];c=Cvh(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.$j()){var h=this.J;var k=f.N1();null==k?h="":(h=h(k).C(),h=null==h?"":ntd(h,ctd.getInstance()))}else h=f.Wz();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(a7(f.Nv())+(" on "+a.format(Cuh(f)))));b.push(h+f)}return b};
ACh.prototype.D=m(0);function BCh(a){this.w9b=a;return this}u(BCh,n5);BCh.prototype.shouldOverrideHide=g("w9b");BCh.prototype.shouldOverrideHide=BCh.prototype.shouldOverrideHide;function CCh(a){this.C=a}y(CCh,n5);oa("docos.api.ToggleShowStreamPaneArgs",CCh,void 0);CCh.prototype.getDisplay=g("C");CCh.prototype.getDisplay=CCh.prototype.getDisplay;function DCh(a){hA.call(this,a);this.Si("back-to-document",[85]);this.Si("next-doco",[74]);this.Si("prev-doco",[75]);this.Si("prev-anch",[75,1]);this.Si("next-anch",[74,1]);this.Si("resolve",[69]);this.Si("reopen",[69,1]);this.Si("reply",[82]);this.Si("speak-comment",Qs(["A","C"]));this.addEventListener("shortcut",this.Ea)}u(DCh,hA);DCh.prototype.Ea=function(a){this.dispatchEvent(a.identifier)};function ECh(a,b,c){b=c||b;var d=a.DI,e=a.r0b;c=a.e7a;var f=a.d7a,h=a.En,k='<div class="'+T("docos")+" "+T("docos-streampane-container")+'" role="dialog" aria-label="';k+=Cw("Comment history box.");var l='"><div class="'+T("docos-streampane-content")+'">';e?(a='<div class="'+T("docos-streampane-header")+'"><div class="'+T("docos-new-comment-button")+'">',b=b={En:h},e="",b.En?(e+='<div class="'+T("docos-ns-caption")+'">'+S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+T("docos-ns-caption-text")+'">',e+="Comment</div></div>"):(e+='<div class="'+T("docs-material")+'">'+R(Fth({oh:"docos-icon-add-comment",tA:"docos-icon-add-comment-size",De:"docos-new-comment-icon",hQ:!0})),e+="Comment</div>"),b=S(e),a=a+R(b)+"</div>",d?(d='<div class="'+T("docos-notification-settings")+'">',h=h={En:h},h=h.En,h=S('<div class="'+T("docos-ns-caption")+'">'+(h?S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(Fth({oh:"docos-icon-bell",tA:"docos-icon-bell-size",De:"docos-ns-caption-icon"})))+'<div class="'+T("docos-ns-caption-text")+'"><div class="'+T("docos-ns-caption-text-value")+'"></div></div></div>'),h=d+R(h)+"</div>"):h="",h=a+h+"</div>"):(d=b,b=a.TB,h=a.DI,a=a.LH,d='<div class="'+T("docos-streampane-entryarea")+" "+T("hide-on-readonly")+'">'+R(Gth({size:48,De:"docos-streampane-avatar"}))+'<div class="'+T("docos-streampane-entryarea-content")+'"><div class="'+T("docos-streampane-username")+" "+
T("goog-inline-block")+'">'+R(b)+"</div>"+R(Hwh({De:"docos-streampane-input-pane",G$b:!0,LH:a},d)),h&&(d+='<div class="'+T("docos-streampane-notificationslink")+'">',d+="Notification settings</div>"),h=S(d+"</div></div>"));k+=l+h;c&&(k+='<div class="'+T("docos-streampane-bannertext")+'">'+R(c),f&&(k+='<a target="_blank" rel="noreferrer" href="'+T(Dw(f))+'" class="'+T("docos-streampane-bannerlink")+'">',k+="Learn more</a>"),k+="</div>");k+='<div class="'+T("docos-streampane-readonlytext")+" "+T("show-on-readonly")+
" "+T("goog-inline-block")+'">';return S(k+"You do not have permission to add comments.</div></div></div>")}function FCh(){var a='<div class="'+T("docos-streampane-error")+'">';return S(a+"Commenting disabled due to a network error. Please reload the page.</div>")};function GCh(){return S('<div class="'+T("docos-spinner")+'" dir="ltr"><div class="'+T("docos-quantum-spinner")+" "+T("active")+'">'+HCh({bq:"spinner-blue"})+HCh({bq:"spinner-red"})+HCh({bq:"spinner-yellow"})+HCh({bq:"spinner-green"})+"</div></div>")}
function HCh(a){a=a.bq;return S('<div class="'+T("spinner-layer")+" "+T(a)+'"><div class="'+T("spinner-circle-clipper")+" "+T("spinner-left")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-gap-patch")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-circle-clipper")+" "+T("spinner-right")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div></div>')};function ICh(a,b){b7.call(this,a,b);this.D=null}y(ICh,b7);ICh.prototype.Ca=function(){var a=this.qa();this.D=Sx(GCh,{},void 0,a);this.jb(this.D)};ICh.prototype.qf=function(){this.D.parentElement.removeChild(this.D)};ICh.prototype.Ja=function(){delete this.D};function JCh(a,b){Xn.call(this);this.R=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=i7(this.R);this.Ag=null;this.V=new hA(this.C.qa().Yb());this.V.Si("blur",27);this.ma=new Fz(this);this.va(this.ma);this.ma.Nb(this.J.Ra("docos-new-doco"),zs,this.DMb).Nb(this.J.Ra("docos-highlight-doco"),zs,this.CMb);this.listen(this.C,"bd",this.BMb).listen(this.C,"br",this.EMb)}u(JCh,Xn);
function KCh(a){0==a.D&&0<a.C.rc()&&(a.D=LCh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.rc();c++)LCh(a,c)==a.D&&(b=c);MCh(a);U7(a.C,!1);b=a.C.xc(b).getId();b=new uth(b,a.C.getId());a.J.uf("docos-before-highlight-doco").wb(b);a.J.uf("docos-highlight-doco").wb(b)}}function MCh(a){a.Ag||(a.Ag=new ox(a.C.qa().Yb()),a.va(a.Ag));a.listen(a.Ag,"focusin",a.sVa).listen(a.V,"shortcut",a.QLa)}p=JCh.prototype;
p.sVa=function(a){this.C.qa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,NCh(this,!0),U7(this.C,!0),this.Gc(this.Ag,"focusin",this.sVa).Gc(this.V,"shortcut",this.QLa),a=U6(),this.J.uf("docos-before-highlight-doco").wb(a),this.J.uf("docos-highlight-doco").wb(a))};p.QLa=function(){U7(this.C,!1);NCh(this,!1)};
p.CMb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Cc(a)){if(this.D=x7(g7(this.R),b.C),b.D==this.C.getId()){MCh(this);NCh(this,!1);a instanceof fAh&&(a.bh(!0),kAh(a,!0));U7(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof fAh)a:if(Yzh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.O.focus();else{b=Cvh(a.ud(),!1);for(var c=b.length-1;0<=c;c--)if(Tzh(a.H[b[c].getId()]))break a;Tzh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,U7(this.C,!0),NCh(this,!0)};
p.DMb=function(a){a=a.data;var b=A7(g7(this.R),a.Zo);if(b){for(var c=0;c<this.C.rc();c++)if(b.getId()==this.C.xc(c).getId()){this.D=a.Zo;break}this.F=!0;U7(this.C,!1,!0);NCh(this,!1)}};p.BMb=function(){OCh(this)};p.EMb=function(){g7(this.R).V||OCh(this)};function OCh(a){if(1==a.C.rc())a.D=0,U7(a.C,!1);else{for(var b=0,c=0;c<a.C.rc();c++)if(LCh(a,c)==a.D){b=c;break}b==a.C.rc()-1?b--:b++;a.D=LCh(a,b);a.F=!0;U7(a.C,!1,!0);NCh(a,!1)}}
function NCh(a,b){for(var c=O4a(a.C),d=0;d<c.length;d++){var e=a.C.Cc(c[d]);e instanceof fAh&&(e.bh(b),kAh(e,b))}}function LCh(a,b){return x7(g7(a.R),a.C.xc(b).getId())};function PCh(a,b,c){this.D=a;this.F=b;this.C=c||null};function QCh(a,b,c,d){b7.call(this,a,d);this.Ha=c;this.context=a;this.D=b;this.D.fya(this);this.O={};this.J=[];this.H=[];this.Ba=!1;this.ma=this.F=this.R=null;this.xa=new Fz(this);this.va(this.xa);a=g7(this.context);this.getHandler().listen(a,"bu",this.m1b).listen(a,"dd",this.N1b).listen(a,"f",this.n2b).listen(b,"rv",this.N6b).listen(this,"ra",this.D3b).listen(this,"sd",this.h4b).listen(this,"sr",this.i4b).listen(this,"sn",this.S3b).listen(this,"sp",this.T3b).listen(this,"bd",this.n1b).listen(this,
"ar",this.$0b).listen(this,"ph",this.F2b);Pth(this)}y(QCh,b7);p=QCh.prototype;
p.Ia=function(){QCh.Ua.Ia.call(this);fz(this.getElement(),"docos");fx(this.getElement(),["docos","docos-stream-view"]);Nw(this.getElement(),"list");bvh(this.C)?ex(this.getElement(),"docos-stream-view-height"):(ex(this.getElement(),"docos-stream-view-legacy"),ex(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&ex(this.getElement(),"docs-gm");"material_blue"==this.C.F?ex(this.getElement(),"docos-gm-blue"):"material_green"==this.C.F?ex(this.getElement(),"docos-gm-green"):"material_yellow"==
this.C.F&&ex(this.getElement(),"docos-gm-yellow");fx(this.Hb(),this.D.HO());this.getHandler().listen(this,"rd",this.lab);var a=i7(this.context);this.xa.Nb(a.Ra("docos-highlight-doco"),zs,this.Pfa);c7(this.context).Pb&&Vw(this.getElement(),"docos-layout-vertical")&&(this.R=new JCh(this.context,this),this.F=this.gb.createElement("DIV"),ex(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.ux).listen(this.F,"focus",this.V3b),RCh(this).appendChild(this.F),this.ma=new gB);
this.rCa()};p.KFa=m(!0);p.P8=function(){this.D.HI();SCh(this);this.D.RI(!0);this.dispatchEvent("ail")};p.ux=function(){KCh(this.R)};p.V3b=function(){var a=this.R;a.H=!0;KCh(a)};p.rCa=function(){var a=g7(this.context);if(Md(a.C)){this.D.RI(!1);a=Yd(a.C);for(var b in a)TCh(this,b);this.D.mI();this.P8()}};p.sz=function(a,b){for(var c=this.rc()-1;0<=c;--c){var d=this.xc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.sz()}};
p.Pfa=function(a){var b=a.data;a=b.C;var c=b.D;b=b.J;if(!this.context.V&&this.D.xha(a,c)){if(this.ma&&a&&this.D.hq()!=a){var d=this.rc();d="Comment "+(qw(this,this.Cc(a))+1+(" of "+(d+" ")));hB(this.ma,d)}this.dispatchEvent("us");this.D.Zma(a,c,b);SCh(this);this.dispatchEvent("ud")}};p.m1b=function(a){a=ia(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.Bj;c=c.C;b&&(g7(this.context).ud(b),(c=this.Cc(b)||c&&this.Cc(c))?(c.getId()!=b&&c.Uc(b),this.J.push(b)):this.O[b]=!0)}};p.N1b=function(a){this.H.push(a.C)};
function SCh(a){a.Ba||a.D.qy()}p.n2b=function(a){this.D.RI(!a.F);this.Ba=!0;for(var b=0;b<this.H.length;++b)UCh(this,this.H[b]);for(var c in this.O)TCh(this,c);Td(this.O)||this.D.mI();for(b=0;b<this.J.length;++b)VCh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.HI();this.D.qy();this.Ba=!1;this.D.RI(!0)};p.lab=function(a){this.Cc(a.Bj)&&(this.D.aZ(a.Bj),SCh(this))};
p.D3b=function(a){var b=g7(this.context).ud(a.Bj);if(a=c7(this.context).J.reanchor)b=u7(b),b=Ath("reanchor").addAnchorId(b).build(),a(b),this.context.V=!0};p.h4b=function(a){var b={text:a.C,Em:a.Em,Zo:a.Zo,Dab:a.Em,v_:a.v_};a.Em&&c7(this.context).Qc&&(b.quote=(0,c7(this.context).Qc)(a.Em));a.Em&&c7(this.context).Pa&&(b.Em=(0,c7(this.context).Pa)(a.Em));i7(this.context).uf("docos-new-doco").wb(b)};
p.i4b=function(a){var b=g7(this.context).ud(a.Bj);if(!b)throw Error(a.Bj+" not contained within appropriate stream.");var c=i7(this.context);b.isResolved()?c.uf("docos-resolve-doco").wb(new Qth(a.Bj,!1,a.C)):c.uf("docos-new-reply").wb(new PCh(a.Bj,a.C,a.v_))};p.S3b=function(){this.D.highlightNext()};p.T3b=function(){this.D.highlightPrevious()};p.n1b=function(){this.D.Mfa()};p.$0b=function(){this.D.Kfa()};
function TCh(a,b){var c=g7(a.context).ud(b);c&&a.Ha(c)&&!a.Cc(b)&&(a.dispatchEvent("us"),a.D.oT(c),a.dispatchEvent("ud"),a.R&&U7(a,!0))}function VCh(a,b){a.dispatchEvent("us");var c=a.Cc(b);if(c){var d=g7(a.context).ud(b);d&&a.Ha(d)?(c.update(),a.D.aZ(b)):UCh(a,b)}a.dispatchEvent("ud")}function UCh(a,b){b&&(a.dispatchEvent("us"),a.D.pR(b),a.dispatchEvent("ud"))}p.N6b=function(a){for(var b=a.CFa.length,c=0;c<b;++c)UCh(this,a.CFa[c])};p.v5=function(){for(var a=this.rc(),b=0;b<a;++b)this.xc(b).v5()};
function RCh(a){return(a=a.getElement())?a.parentElement:null}function U7(a,b,c){if(!b&&!c||0!=a.rc())a.qa().ai(a.getElement(),b),a.F&&(b=null!=c?c:b,a.qa().ai(a.F,b))}p.Ja=function(){QCh.Ua.Ja.call(this);delete this.xa};p.F2b=function(){var a=this.D.DU();null==a||a.isDisposed()||(a.update(),a.focus())};function WCh(a){A.call(this);this.C=[];this.D=!1;this.F=new Hp;this.H=a?!1:!0}u(WCh,A);WCh.prototype.start=function(){this.H=!0;XCh(this)};function XCh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.gk(v(a.J,a)))}WCh.prototype.J=function(){this.C.shift()();this.D=!1;XCh(this)};WCh.prototype.Ja=function(){this.F.dispose();A.prototype.Ja.call(this)};function YCh(a,b,c,d){QCh.call(this,a,b,c,d);this.Oa=new WCh;this.L=[];this.Ka=new ICh(a,d);this.Ea=!1;this.V=null}y(YCh,QCh);p=YCh.prototype;p.KFa=g("Ea");p.P8=function(){YCh.Ua.P8.call(this);this.Ka.qf();this.Ea=!0;this.V&&this.Pfa(this.V)};p.uCa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Cc(b)||(TCh(this,b),a++)}0==this.L.length?this.P8():(a=this.Oa,b=v(this.uCa,this),a.C.push(b),XCh(a))};
p.rCa=function(){var a=g7(this.context);if(Md(a.C)){this.Ka.render(RCh(this));this.D.RI(!1);a=Yd(a.C);for(var b in a)this.L.push(b);b=this.Oa;a=v(this.uCa,this);b.C.push(a);XCh(b)}};p.Pfa=function(a){this.Ea?YCh.Ua.Pfa.call(this,a):this.V=a};function ZCh(a,b,c,d,e){J7.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];c7(a).Lc&&(c=c.concat(["link"]));this.L=new gvh(a,b,d,"docos-actionmenu",c);this.Ga(this.L);this.Ga(this.F);Yzh(this);this.Ha+=" docos-streamdocoview-input-pane";this.fc="Discard reply";this.Ba=this.V=this.Ka=this.Ta=this.Qa=this.Ea=null}u(ZCh,J7);p=ZCh.prototype;
p.Ca=function(){J7.prototype.Ca.call(this);var a=this.qa(),b=this.getElement();this.Ea=a.bb("docos-streamdocoview-inputcontainer",b);this.Qa=a.bb("docos-streamdocoview-reopen-control",b);this.Ta=a.bb("docos-streamdocoview-resolve-control",b);this.L.Va(a.bb("docos-actionmenu-outer",b));Sw(this.L.F.La(),"More options");this.Ka=a.bb("docos-author",b);this.V=fW(a,"IMG","docos-streamdocoview-avatar",b);this.Ba=fW(a,"IMG","docos-streamreplyview-avatar",this.Ea);a=this.qa();b=this.getElement();var c=a.bb("docos-docoview-comment",
b);c&&(c7(this.getContext()).D.C(c,"Reply to this comment"),Sw(c,"Reply to this comment"));if(c=a.bb("docos-docoview-resolve",b))c7(this.getContext()).D.C(c,"Mark as resolved and hide discussion"),Sw(c,"Mark as resolved and hide discussion");if(a=a.bb("docos-docoview-reopen",b))c7(this.getContext()).D.C(a,"Mark as open and return discussion to the document view"),Sw(a,"Mark as open and return discussion to the document view")};
p.Ia=function(){J7.prototype.Ia.call(this);$Ch(this);var a=this.getElement();this.D.V=a;d7(d7(d7(d7(this,this.L,"d",this.tZa),this.L,"e",this.X1b),this.L,"r",this.O3b),this.L,"ra",this.F3b);a=this.ud().Nv();aDh(this,a);bDh(this,a);a=c7(this.getContext()).jh();Tth(f7(this.getContext()),this.Ba,a.C,a7(a));this.C.ma||(a=a.getName())&&this.Ba&&this.C.D.C(this.Ba,a)};p.Uc=function(a){J7.prototype.Uc.call(this,a);this.L&&ivh(this.L,a)};
p.update=function(){J7.prototype.update.call(this);var a=this.ud().Nv();aDh(this,a);bDh(this,a);this.L.update();$Ch(this);this.Ea&&(a=!Td(this.H)||D7(this.D)||this.Tk(),P(this.Ea,a))};function aDh(a,b){var c=f7(a.getContext()),d=b.C;a.V&&mzh(b,a.ud().getOrigin())&&(d=rwh(c),a.V.classList.add("docos-avatar-unverified"),a.C.D.C(a.V,"Author from imported document"));Tth(c,a.V,d,a7(b))}function bDh(a,b){(b=b.getName())&&!a.C.ma&&(a.Ka&&a.C.D.C(a.Ka,b),a.V&&a.C.D.C(a.V,b))}
function $Ch(a){var b=a.ud();a.Qa&&P(a.Qa,b.isResolved());a.Ta&&P(a.Ta,!b.isResolved())}p.dVa=function(a){var b=this.getElement();a=a.target;Vw(a,"docos-docoview-comment")&&b?this.D.ready():Vw(a,"docos-docoview-resolve")&&b?cDh(this):Vw(a,"docos-docoview-reopen")&&b&&dAh(this)};p.X1b=function(){Qzh(this.F)};p.O3b=function(){this.ud().isResolved()?dAh(this):cDh(this)};p.F3b=function(a){this.dispatchEvent(new Jwh("ra",this.ud().getId()));a.stopPropagation()};
function cDh(a){var b=i7(a.getContext());a.dispatchEvent("br");var c=new Qth(a.getId(),!0,D7(a.D)?a.D.getValue():null);b.uf("docos-resolve-doco").wb(c);a.dispatchEvent("ar")}p.v5=function(){var a=this.F;a.Kb&&!a.H.Tk()||Lzh(a)};p.vd=function(){J7.prototype.vd.call(this);var a=f7(this.getContext());h7(a,this.V);h7(a,this.Ba)};p.Ja=function(){J7.prototype.Ja.call(this);delete this.L;delete this.Ka;delete this.V;delete this.Ba;delete this.Ea;delete this.Qa;delete this.Ta};function dDh(a,b,c,d){this.C=a;this.D=b;this.cb=c;this.H=d}dDh.prototype.F=function(a){a=g7(this.C).ud(a);var b=this.D.Mj().getId();return new ZCh(this.C,a.getId(),b,this.cb,this.H)};function eDh(a,b){L7.call(this,a,b)}y(eDh,L7);p=eDh.prototype;p.Q1=function(){return"none"!=c7(this.getContext()).fb};p.gma=function(a){return(new dDh(this.getContext(),this,this.qa(),this)).F(a.getId())};p.KT=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");return("creation"==M7(this).fb?b.lx().getTime()-a.lx().getTime():b.YO().getTime()-a.YO().getTime())||(a.getId()<b.getId()?-1:b.getId()<a.getId()?1:0)};
p.oT=function(a){var b=this.Mj(),c=this.gma(a),d=0;this.Q1()&&(d=this.Z$(c));b.wf(c,d,!0);c.update();if(c=b=this.D$())b.C!=a.getId()?c=!1:(c=a.Ty()?u7(a):void 0,d=c7(this.getContext()).Pi,d=null!=c&&d(c),c=null==c||a.isResolved()||!!Fvh(a)||d);c&&(b=X6(yth(W6(V6(a.getId()),this.jF()),b.D)),this.JOa(b,a))};p.pR=function(a){this.Mj().Cc(a)&&(a=this.Mj().removeChild(a),Hf(a))};p.aZ=function(a){if(this.Q1()){var b=this.Mj();if(a=b.Cc(a)){var c=qw(b,a),d=this.Z$(a);c!=d&&b.wf(a,d)}}};
p.Mfa=function(){AAh(this,!0,!0)};p.Kfa=function(){if(this.H&&this.hq()){var a=this.hq();F7(g7(this.getContext()),a);this.jF()&&i7(this.getContext()).uf("docos-highlight-doco").wb(X6(wth(W6(V6(a),this.jF()))))}};p.HI=function(){CAh(this)};function fDh(a){a=a||{};var b=a.E7b,c=a.F7b,d=a.T7a,e=a.S7a;a=a.$9a;if(zw(d)||zw(c)){var f;zw(a)&&zw(c)?f='<a href="'+T(Dw(c))+'" title="'+T(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+T("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+T(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return S(b)};function gDh(a,b){Q.call(this,b);this.C=a}u(gDh,Q);gDh.prototype.Ca=function(){this.jb(Sx(fDh,{S7a:K(this.C,4),T7a:this.C.Zm(),$9a:K(this.C,5),E7b:K(this.C,2),F7b:K(this.C,1)},void 0,this.qa()))};function hDh(a,b){b7.call(this,a,b);i7(a);this.Nc=new Py(b);this.F=a;for(var c in jth){a=jth[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new wQ(d,a,b);this.Nc.Ga(a,!0)}this.D=new Xy("",this.Nc,IP.getInstance(),b);Yy(this.D,new Ty(null,9));this.D.nH=!0;this.Ga(this.D)}y(hDh,b7);p=hDh.prototype;
p.Ia=function(){hDh.Ua.Ia.call(this);var a=this.qa(),b=a.bb("docos-ns-caption",this.getElement());a=a.bb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.qa().Ke(a,"Notifications");b=c7(this.F).D;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Nc.rc();a++){var c=this.Nc.xc(a),d=c.getElement();a:{switch(c.Sa()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}d7(this,this.D,"action",this.oab);d7(this,this.C,"r",this.$ma);d7(this,this.getElement(),"keyup",this.$fb);d7(this,this.Nc,"show",this.nab);d7(this,this.Nc,"hide",this.mab);this.$ma()};p.nab=function(){0<this.Nc.rc()&&this.Nc.Hh(0)};p.mab=function(a){a.stopPropagation()};p.$fb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
p.oab=function(a){var b=a.target.Sa(),c=xwh(this.F);b!=nCh(c)&&oCh(c,b);this.$ma();a.stopPropagation()};p.$ma=function(){var a=this;!this.C.V&&this.C.DI()?nCh(xwh(this.F)).then(function(b){for(var c=0;c<a.Nc.rc();++c){var d=a.Nc.xc(c);d.Zb(d.Sa()==b)}b=!a.C.V&&a.C.DI();a.D.Na(b)},void 0,this):this.D.Na(!1)};function iDh(a,b,c,d){b7.call(this,a,b);this.H=new eDh(a,b);this.va(this.H);this.D=c?new YCh(a,this.H,yfa(Dvh),b):new QCh(a,this.H,yfa(Dvh),b);this.Ga(this.D);this.J=a;this.ma=null;this.Ea=!!d;Ri(this.C.C,30)||(this.F=new fyh(a,b),this.va(this.F),this.Ga(this.F),this.F.Ba="Add a comment");this.O=null;Ri(this.C.C,30)&&this.C.DI()&&!this.C.xa&&(this.O=new hDh(a,b),this.Ga(this.O));this.L=null;Ri(this.C.C,30)&&(this.L=new Oz("",b,"legacy"!=this.C.F?4:void 0),this.Ga(this.L));this.xa=new Fz(this);this.va(this.xa);
this.V=new gDh(N(this.C.C,u4e,2)||new u4e,b);this.Ga(this.V);this.Ba=!1;this.R=null;Pth(this)}y(iDh,b7);p=iDh.prototype;p.zWa=0;p.sy=null;p.u9=null;p.dU=null;p.eC=null;p.iO=null;
p.Ca=function(){var a="legacy"!=this.C.F,b=this.qa(),c=Sx(ECh,{TB:this.C.jh().getName(),DI:this.C.DI(),r0b:!!Ri(this.C.C,30),LH:this.C.Ha,e7a:this.C.Py,d7a:this.C.Oy,En:a},void 0,b);Ri(this.C.C,30)&&ex(c,"docos-enable-docs-header");a&&ex(c,"docs-gm");"material_blue"==this.C.F?ex(c,"docos-gm-blue"):"material_green"==this.C.F?ex(c,"docos-gm-green"):"material_yellow"==this.C.F&&ex(c,"docos-gm-yellow");this.jb(c);a=b.bb("docos-streampane-content",c);this.D.render(a);this.iO=Ri(this.C.C,30)?this.D.Hb():
this.C.O;this.V.render(c);this.u9=b.bb("docos-streampane-username",c);this.dU=fW(b,"IMG","docos-streampane-avatar",c)};
p.Ia=function(){iDh.Ua.Ia.call(this);var a=this.qa(),b=this.getElement();this.F&&this.F.Va(a.bb("docos-streampane-input-pane",b));if(this.O){var c=a.bb("docos-notification-settings",b);this.O.Va(c)}c=c7(this.J).D;this.L&&(a=a.bb("docos-new-comment-button",b),this.L.Va(a),c.C(a,this.C.Oa?"Add comment not available":"Add a comment"),d7(this,this.L,"action",this.fab),this.l0a(),this.getHandler().listen(this.C,"r",this.l0a));this.C.Ba&&(b=this.C.Ba,this.F&&(this.F.V=b));Fo(b,!0);this.eC=new DCh(b);Pn(this.eC,
"next-doco",this.b3b,!0,this);this.eC.addEventListener("prev-doco",this.u3b,!0,this);Pn(this.eC,"resolve",v(this.t5a,this),!0);Pn(this.eC,"reopen",v(this.jab,this),!0);Pn(this.eC,"back-to-document",this.Z6a,!0,this);Pn(this.eC,"speak-comment",this.Q$b,!0,this);b=i7(this.J);a=this.C.Oa?this.y2b:this.iab;this.xa.Nb(b.Ra("docos-highlight-doco"),zs,a);this.F&&d7(this,this.F,"p",this.Y0b);d7(d7(d7(d7(d7(d7(d7(d7(this,this.getElement(),"click",this.gab),this.D,"f",this.o2b),this.D,"b",this.q1b),this.D,
"e",this.e2b),this.D,"us",this.g4b),this.D,"ud",this.f4b),this.D,"ail",this.e4b),this,["aftershow","afterhide"],this.hab);b=this.C.jh();swh(f7(this.J),this.dU,b.C,a7(b));this.u9&&(a=b.getName())&&this.C.D.C(this.u9,a);this.dU&&(a=b.getName())&&this.C.D.C(this.dU,a);this.Ea||(this.ma=new tB(this.getElement(),this.qa()),this.va(this.ma),uB(this.ma));jDh(this)};
p.hab=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.J[b];if(c){a=a.target instanceof U9e;var d=(new Z6(b)).setNonAnchored(!0).setApiEventArgs(new BCh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.Ba&&this.C.Ba.focus()}};p.v5=function(){this.D.v5()};p.gab=function(a){Vw(a.target,"docos-streampane-notificationslink")&&!this.C.V&&this.dispatchEvent("dnd")};
p.Y0b=function(){var a=this.F.getValue();Bd(a)||(i7(this.J).uf("docos-new-doco").wb({text:a,Em:null,Zo:0,quote:null}),this.sy=null)};p.o2b=function(a){if(a=a.target)this.sy=a.getElement()};p.q1b=function(a){kDh(this,a)};p.e2b=function(a){kDh(this,a)};function kDh(a,b){(b=b.target)&&b.getElement()==a.sy&&(a.sy=null)}p.g4b=function(){null!=this.sy&&(this.zWa=this.sy.offsetTop)};p.f4b=function(){null!=this.sy&&this.iO&&(this.iO.scrollTop+=this.sy.offsetTop-this.zWa)};p.e4b=function(){this.dispatchEvent("initial-load-complete")};
p.iab=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.O)&&lDh(this,a.C||null);if(a=a.C?this.D.Cc(a.C):null)this.sy=a.getElement()};p.y2b=function(a){a=a.data;var b=a.C||null,c=this.C.J["toggle-show-stream-pane"];c&&(b=b?g7(this.J).ud(b):null)&&(b=(new Z6("toggle-show-stream-pane")).addAnchorId(u7(b)).addDocoHandle(x7(g7(this.J),b.getId())).setNonAnchored(!(b.Ty()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new CCh(!0)).build(),c(b));lDh(this,a.C||null)};
function lDh(a,b){(b=b?a.D.Cc(b):null)?(a.sy=b.getElement(),a.iO&&(a.iO.scrollTop=b.getElement().offsetTop)):a.sy=null}p.b3b=function(){this.H.highlightNext()};p.u3b=function(){this.H.highlightPrevious()};p.t5a=function(){var a=this.H.DU(),b=this.H.hq();b=b?g7(this.J).ud(b):null;a&&b&&(a=a.F,b.$j()?Jzh(a):Izh(a,!0))};p.jab=function(){var a=this.H.DU();a&&Izh(a.F,!1)};p.Z6a=function(){var a=i7(this.J),b=this.H.hq();a.uf("docos-back-to-document").wb({Bj:b})};p.Q$b=function(){var a=this.H.DU();a&&eAh(a)};
function jDh(a){if(a.Ba&&!a.R&&a.Gb()){var b=Sx(FCh);a.R=new Q;a.R.Va(b);a.wf(a.R,0)}}p.l0a=function(){this.L.Na(this.C.Rf)};p.fab=function(){this.dispatchEvent("create-draft")};p.vd=function(){iDh.Ua.vd.call(this);h7(f7(this.J),this.dU)};p.Ja=function(){iDh.Ua.Ja.call(this);delete this.u9;delete this.dU;delete this.sy;delete this.iO;delete this.V;delete this.F;delete this.H;delete this.D;delete this.xa;this.eC&&(delete this.eC,this.eC=null)};function mDh(a){A.call(this);this.H=a;a=c7(a);null!=K(a.C,44)&&null!=K(gZ(a.C),39)&&Ri(gZ(a.C),39)?a=null:a=(a=N(a.C,fZ,7))?a:new fZ;this.C=a;this.D=null;this.F=Yo();xsh(this.H,"netIo")&&this.F.resolve()}y(mDh,A);function nCh(a){if(a.C)return Uo(nDh(a.C));a.D||(a.D=a.F.C.then(function(){return new To(function(b,c){kwh(a.H.get("netIo"),"uc",void 0,function(d){return b(new Wsh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.Ko();a.D=null;return nDh(a.C)},void 0,a)}
function oCh(a,b){var c="all"==b;b="none"==b;var d=(new fZ).Na(!0);c=M(d,3,c);c=M(c,4,!b);b=M(c,5,!b);b=M(b,6,!0);a.C=b;b=new nth;b=cj(b,1,a.C);kwh(a.H.get("netIo"),"uc",b)}function nDh(a){return Ui(a,2,!0)?Ri(a,3)?"all":Ui(a,4,!0)||Ui(a,5,!0)?"important":"none":"none"};function oDh(a,b){var c=a.ud(),d=b.ud();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.lx();a=d.lx();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function pDh(a,b){this.C=a;this.cd=b}pDh.prototype.ud=g("C");pDh.prototype.getPosition=g("cd");function qDh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function rDh(a,b){return a.C().xc(b).getId()}function sDh(a,b){for(var c=a.C().rc(),d=0;d<c;++d)a.H(rDh(a,d),Infinity);a.layout(b||[])}p=qDh.prototype;p.layout=function(a){do{var b=a;tDh(this,0,this.C().rc(),1,-Infinity,this.Bgb,this.Cgb,b);b=a;tDh(this,this.C().rc()-1,-1,-1,Infinity,this.a7a,this.b7a,b);a.pop()}while(0<a.length)};function uDh(a,b){0==a.D&&(a.D=1);a.F=id(b,a.F);nd(a.F)}
function vDh(a){0!=a.D&&(2==a.D?sDh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function tDh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=rDh(a,b);var n=b;n=a.C().xc(n).getHeight();var q=a;var r=b;r=q.C().xc(r).ud().getId();q=q.J(r);r=a.L(l);e=$c(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}p.Bgb=function(a,b){return b+a+10};p.a7a=function(a,b){return b-10};p.Cgb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};p.b7a=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function wDh(a,b){var c=this;IAh.call(this,a,b);this.F={};this.ma={};this.Ea=new qDh(v(this.Mj,this),v(this.qRa,this),v(this.moa,this),v(this.D8b,this));this.Ta=c7(a).Tn;this.Ha=new wM;this.fb=!0;this.Pb=new Qp(this.Vbc,500,this);this.Oa=this.Pa=null;this.Ka=ywh(a);this.Kb=new zn;this.va(this.Kb);An(this.Kb,this.Ka.D,function(){c.Qa=!0;c.Za&&xDh(c,c.Za);vDh(c.Ea);c.Cb&&c.qy();c.Qa=!1});this.Cb=!1;this.Za=null;this.Wa=this.Qa=!1}y(wDh,IAh);var yDh=null;p=wDh.prototype;
p.HO=function(){var a=wDh.Ua.HO.call(this);a.push("docos-layout-vertical");return a};p.Q1=m(!0);p.RI=da("fb");p.KT=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=x7(g7(this.getContext()),a.getId()),d=x7(g7(this.getContext()),b.getId());return oDh(new pDh(a,this.C[c]||new bm(Number.MAX_VALUE,Number.MAX_VALUE)),new pDh(b,this.C[d]||new bm(Number.MAX_VALUE,Number.MAX_VALUE)))};p.aZ=function(a){this.mI(a,!1)};p.Xva=function(a){wDh.Ua.Xva.call(this,a);this.qy()};
p.rXa=function(){for(var a=this.Mj(),b=a.rc(),c=0;c<b;c++){var d=a.xc(c);d.getId()!=this.hq()&&d.getId()!=this.BU()&&d.A8()&&d.collapse()}};p.HI=function(){OAh(this);CAh(this);for(var a=this.Mj(),b=a.rc(),c=0;c<b;++c){var d=a.xc(c);d.A8()&&!d.Tk()&&d.lxa()}a=[];(b=this.hq())&&a.push(b);this.Ka.C||this.Qa?(b=this.Ea,b.D=2,uDh(b,a||[])):sDh(this.Ea,a);zDh(this)};p.y0=function(a){this.Pa=a.clone();this.Oa&&this.Oa.contains(a)?this.Pb.start():(a=this.Pb,a.stop(),a.xpa())};
p.Vbc=function(){if(this.O){this.Oa=this.Pa.clone();var a=this.Mj();this.Oa.expand(500,0,500,0);var b=a.rc(),c="";0<b&&(c=a.xc(b-1).getId());for(var d=0;d<b;d++){var e=a.xc(d),f=this.ma[e.getId()];f=ADh(e,this.Oa,f.y,c);e.setVisible(f)}}};
p.qy=function(){wDh.Ua.qy.call(this);if(this.Ka.C)this.Cb=!0;else{vDh(this.Ea);var a=this.Mj(),b;for(b in this.F){var c=a.Cc(b);if(c){var d=b==this.hq()||b==this.BU()?-10:this.Ta,e=!c.qua();b!=this.hq()&&b!=this.BU()&&this.Bb&&(e=e&&this.Bb.Wa);this.vfa(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}zDh(this);this.Cb=!1}};function ADh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.Tk()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function zDh(a){var b=M7(a).J.bounds;b&&(a=a.x0(),!yDh&&!a||td(yDh,a)||(yDh=a,a=(new Z6("bounds")).setUserInitiated(!0).build(),b(a)))}p.moa=function(a){if(a&&!(a in this.F))if(M7(this).Ta){var b=this.qRa(a);null!==b&&(this.F[a]=b)}else if(b=this.Mj().Cc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};p.D8b=function(a,b){this.F[a]=b};p.mI=function(a){OAh(this);if(M7(this).Ta)BDh(this);else{var b=[];this.hq()&&b.push(this.hq());a&&b.push(a);CDh(this,b)}};
function BDh(a){M7(a).Ta&&(a.F={});var b=a.hq();CDh(a,b?[b]:[])}function CDh(a,b){a.Ka.C||a.Qa?uDh(a.Ea,b):a.Ea.layout(b)}p.EI=function(a){var b=Od(a),c=Md(this.C),d=b.length!=c;this.Wa=b.length>c;b=ia(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Wa=!0;break}}d&&(this.Ka.C?this.Za=a:xDh(this,a))};
function xDh(a,b){a.C=b;DDh(a);OAh(a);a.Wa&&(CAh(a),a.Wa=!1);BDh(a);b=a.Ha.Re();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.oT(d)}a.mI();a.qy();a.Za=null}function DDh(a){var b=Object.keys(a.C);b.sort(v(a.H5b,a));a.Ha.clear();for(var c=g7(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=A7(c,parseInt(e,10));f&&c.R(f)&&a.Ha.set(e,a.Ha.ge())}}
p.H5b=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=A7(g7(this.getContext()),c);d=A7(g7(this.getContext()),d);return oDh(new pDh(c,b),new pDh(d,a))};p.pR=function(a){wDh.Ua.pR.call(this,a);DDh(this)};p.Z$=function(a){a=x7(g7(this.getContext()),a.getId()).toString();var b=this.Ha.get(a);null==b&&(DDh(this),b=this.Ha.get(a));return b};
p.vfa=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Pa){var h=this.Mj();f=h.rc();h=h.xc(f-1).getId();f=ADh(c,this.Pa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.fb&&l&&this.Mj().rc()<EDh(this);k=this.fb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));Eth(this.J,h);var n=new fth(e,[a,b],f,XN);Dth(this.J,h,n,f,function(){return Hf(n)})}else Pv(e,
a,b),f||c.setVisible(!1);c.tc=-10==a;this.ma[h]=new bm(a,b);this.F[h]=b}};function FDh(a,b){return(a=a.C[b])?a.y:null}p.qRa=function(a){a=x7(g7(this.getContext()),a);return FDh(this,a)};p.zoa=function(a,b){a=FDh(this,a);return null===a?null:new bm(b?-10:this.Ta,a)};
p.x0=function(){var a=this.Mj();if(!a||!a.Gb())return null;var b=a.rc();if(!b)return null;var c=a.xc(0);b=a.xc(b-1);a=b.getElement();c=this.moa(c.getId());b=this.moa(b.getId());return null!=c&&null!=b?[c,210+this.Ta,b+a.offsetHeight,this.Ta]:null};function EDh(a){a=M7(a);return(a=null!=K(a.C,47)?K(a.C,47):null)?a:100};function GDh(a){this.C=a}y(GDh,n5);oa("docos.api.WriteFeedbackArgs",GDh,void 0);GDh.prototype.getSource=g("C");GDh.prototype.getSource=GDh.prototype.getSource;if(!HDh)var HDh=m("");if(!IDh)var IDh=m("");function V7(a,b){var c=this;A.call(this);this.yd=La();this.J={};this.F=new wwh;var d=V7.__default_config;d&&$d(this.J,d);a&&$d(this.J,a);this.D=new $uh(this.J,b);this.F.tf("config",this.D);this.ma={};Ri(this.D.C,17)&&(this.Ya=new jwh,this.F.tf("errorReporter",this.Ya),this.nua=this.Ya.F.C(this.nua));this.xa=null;this.V={};this.Ha=null;this.Wa=!1;this.Za=!0;this.R=new dCh(this.F,this.D,this);JDh(this,"s",function(){c.C.Oa=!0;if(0<Md(c.C.C)){KDh(c);var e=c.D.Zk;e&&e(43082,3E4)}});JDh(this,"fe",v(this.Jia,
this));this.fc=new yCh(this,this.F);vsh();this.nua()}y(V7,A);oa("Docos",V7,void 0);oa("docos.api.connect",function(a){return new V7(a)},void 0);p=V7.prototype;p.M_a=!1;p.jR=null;p.Ya=null;p.i5=null;p.Qt=null;p.Fm=null;p.Bs=null;p.$Ua=!1;p.rza=null;p.jt=null;p.rQ=null;
p.nua=function(){if(this.Ya)for(var a in V7.prototype)Ba(this[a])&&(this[a]=this.Ya.F.C(this[a]));this.$a=new pwh(this.D);this.F.tf("imageManager",this.$a);a=new mDh(this.F);this.F.tf("subscriptionManager",a);this.Ba=new qBh(this.F);this.F.tf("impressionRecorder",this.Ba);this.fb=Sfd(ao());this.va(this.fb);this.zd=new lwh(this.fb);this.F.tf("relativeDateFormatter",this.zd);this.C=new Kyh(this.D);this.F.tf("stream",this.C);this.Pa=new TBh(this.F);this.va(this.Pa);this.Ma=new Xn(this);this.va(this.Ma);
this.Ea=null;this.L=new Qvh(this.F);this.F.tf("controller",this.L);this.H=new EBh(this.F,this.L);if(Ri(this.D.C,19)){this.Ea=new tCh(this.F);this.va(this.Ea);a=this.Ea;var b=v(this.Vc,this),c=v(this.Oa,this);a.C?a.C.DFa(v(a.Eub,a,b),v(a.Dub,a,c)):c()}else this.Oa();this.rQ=LDh(this);this.F.tf("contactStore",this.rQ);this.Ta=this.D.jh().getEmail()?new $Ah(this.rQ,this.D.jh(),this.Ba,this.D.Fl):null;a=i7(this.F);this.O=this.tc=null;eo("docs-aria-speakable")&&(this.tc=new Zcf(void 0,!0),this.O=new e$e(this.tc,
a),this.O.bind("docos-new-doco",new jCh),this.O.bind("docos-new-reply",new kCh),this.O.bind("docos-delete-doco",new oBh(this.C)),this.O.bind("docos-resolve-doco",new zCh(this.C)),this.O.bind("docos-speak-doco",new ACh(this.F,this.J.quoterenderfn)),this.O.bind("docos-edit-doco",new sBh));this.Qa=new Fz(this);this.va(this.Qa);this.Qa.Nb(a.Ra("docos-cancel-insert-discussion"),zs,this.u1b).Nb(a.Ra("docos-delete-doco"),zs,this.GMb).Nb(a.Ra("docos-reject-doco-with-feedback"),zs,this.J1b).Nb(a.Ra("docos-convert-doco"),
zs,this.G1b).Nb(a.Ra("docos-before-highlight-doco"),zs,this.Qva).Nb(a.Ra("docos-highlight-doco"),zs,this.kua).Nb(a.Ra("docos-new-doco"),zs,this.HMb).Nb(a.Ra("docos-resolve-doco"),zs,this.IMb).Nb(a.Ra("docos-back-to-document"),zs,this.k1b).Nb(a.Ra("docos-new-reply"),zs,this.a3b).Nb(a.Ra("docos-write-feedback"),zs,this.R4b).Nb(a.Ra("docos-disable-smart-todo-feature"),zs,this.O1b).Nb(a.Ra("docos-vote-doco"),zs,this.N4b).Nb(a.Ra("docos-vote-reply"),zs,this.O4b).Nb(a.Ra("mouse-hover-doco-view"),zs,this.X2b);
this.Ma.listen(this.C,"dd",this.U2b).listen(this.C,"af",this.Z0b).listen(this.C,"bu",this.T2b).listen(this.C,"p",this.j3b).listen(this.D,"r",this.Bja)};function LDh(a){var b=zid("client").then(function(){var c=pa("gapi.config.update");a.D.Tma&&c("googleapis.config/sessionIndex",a.D.Tma);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return pa("gapi.client")});return new mBh(a.D,wCh(a.D,b),a.yd)}
function KDh(a){a.rQ&&!a.rQ.C&&Suh(a.D.H)&&dvh(a.D)&&Gxh(a.rQ)}function MDh(a){a.Bs||(NDh(a),a.Bs=new iDh(a.F,ao(a.D.O),a.D.Cm,a.D.ke),a.Ma.listen(a.Bs,"dnd",a.lqb),a.Ma.listen(a.Bs,"initial-load-complete",a.eFb),a.Ma.listen(a.Bs,"create-draft",a.Ie));return a.Bs}p.lqb=function(){this.Bb()};p.eFb=function(){var a=T7(this,"initial-pane-render-done");if(a&&this.rza){var b=La()-this.rza;a(new Bth("initial-pane-render-done",b))}};
p.find=function(a){var b=this.C.J;this.C.J=a;var c=this.C,d=this.D,e={},f=c.J;c=Yd(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.Ty()&&!Evh(k)){var l=$yh(k,f,d);k=Yd(k.D);for(var n in k)l+=$yh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,$d(a,e),this.Qt.sz(a));this.V=e;e={};for(var q in this.V)e[x7(this.C,q)]=this.V[q];return e};V7.prototype.find=V7.prototype.find;V7.prototype.Td=function(){this.C.J&&(this.C.J=null,this.Qt.sz(this.V,!0),this.V={})};V7.prototype.clearFind=V7.prototype.Td;
V7.prototype.Fy=function(){var a=this.D;var b=Zyh(this.C,a);b?(b=b.getKey(),a=(a=bzh(b,a))?ro(a).textContent:null):a=null;return a};V7.prototype.getSelectedMatchA11yContext=V7.prototype.Fy;V7.prototype.highlightNext=function(a,b,c){this.Fm&&this.Fm.highlightNext(!!a,b,c)};V7.prototype.highlightNext=V7.prototype.highlightNext;V7.prototype.highlightPrevious=function(a,b,c){this.Fm&&this.Fm.highlightPrevious(!!a,b,c)};V7.prototype.highlightPrevious=V7.prototype.highlightPrevious;
V7.prototype.select=function(a,b){var c=A7(this.C,a);a=c?c.getId():"";b=c?new hZ(a,b):null;c=this.C.ma;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.ma=b;b=c?this.Qt.Cc(c.getKey()):null;c=this.Qt.Cc(a);b&&b!=c&&b.sz();if(c){c.A8()&&(b=Yyh(g7(this.F),this.D),c.expand(b?b.getKey():void 0));c.sz();b=Xyh(this.C,this.Qt);d=i7(this.F);var e=xth(V6(a));e.C=b?b.start:0;e=X6(e);d.uf("docos-before-highlight-doco").wb(e);F7(g7(this.F),a);
d.uf("docos-highlight-doco").wb(e);if(b&&Nwh(c)&&(a=c.Hb())){c=$v(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};V7.prototype.select=V7.prototype.select;V7.prototype.F1a=function(){var a=this.C.ma;if(a){this.C.ma=null;(a=this.Qt.Cc(a.getKey()))&&a.sz();a=i7(this.F);var b=xth(V6(""));b.C=0;b=X6(b);a.uf("docos-before-highlight-doco").wb(b);F7(g7(this.F),null);a.uf("docos-highlight-doco").wb(b)}};
V7.prototype.unselect=V7.prototype.F1a;V7.prototype.e2a=function(){var a=this.C,b=new zyh(a,"c"),c;for(c in a.C)b.C.push(new xyh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(Ayh(b));a.flush(!0)};V7.prototype.updateAll=V7.prototype.e2a;V7.prototype.VZ=function(){return!!Ri(this.D.C,19)&&!!this.D.tc&&!this.D.Vc};V7.prototype.isSavingToOfflineStorage=V7.prototype.VZ;V7.prototype.YM=function(){return 0<pyh.ge()};V7.prototype.hasUnpostedDocos=V7.prototype.YM;
V7.prototype.$M=function(){for(var a=Od(this.C.L),b=0,c;c=a[b];b++){var d=this.C;if((c=Syh(d,c))&&(c.$j()?fwh(d,c):d.R(c)))return!0}return!1};V7.prototype.hasVisibleAnchoredDocos=V7.prototype.$M;V7.prototype.qbc=function(a){var b=this.C,c=b.V;b.V=a;if(c!=b.V&&this.Qt&&(a=this.Qt,b=g7(a.context),Md(b.C))){for(c=a.rc()-1;0<=c;--c){var d=a.xc(c).getId();VCh(a,d)}b=Yd(b.C);for(d in b)TCh(a,d);a.D.HI();SCh(a);a.D.mI()}};
V7.prototype.Bja=function(){ODh(this);0<Md(this.C.C)&&KDh(this);if(this.Bs)if("none"!=this.D.fb){var a=this.Bs.D;a.D.HI();SCh(a)}else this.Bs.v5()};V7.prototype.setResolvedAnchoredDocosVisible=V7.prototype.qbc;V7.prototype.WZ=function(a,b,c){return PDh(this,a,b?b:void 0,c)};V7.prototype.newDoco=V7.prototype.WZ;
V7.prototype.zS=function(a,b,c){if(null==a||Bd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;a=QDh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo());xp(a,c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.Rgb();a=Q7(f,v(f.JJb,f,a,d,e,b));
xp(a,c);break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();a=Q7(f,v(f.GJb,f,a,d,e,b));xp(a,c);break;default:throw Error("Unknown NewDocoArgs type.");}};V7.prototype.interceptingNewDoco=V7.prototype.zS;function PDh(a,b,c,d,e,f,h){RDh(a,b,c);b=Svh(a.L,b,d||"draft",e,f,h);c&&0<b&&(d={},d[b]=c,W7(a).eU(d));return b}
function QDh(a,b,c,d,e,f,h){RDh(a,b,c);return xp(FBh(a.H,b,d||"draft",e,f,h),function(k){if(c&&0<k){var l={};l[k]=c;W7(a).eU(l)}return k})}function RDh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.Cb();c&&(a.xa=c)}
V7.prototype.XZ=function(a,b){if(null==a||Bd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return PDh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),Vvh(this.L,a,c,d,b.Rgb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,Wvh(this.L,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};V7.prototype.newDoco2=V7.prototype.XZ;V7.prototype.CS=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");xp(xp(IBh(this.H,void 0,a,void 0,void 0,b,void 0),function(e){0<e&&d.Kb(e);return e}),c)};V7.prototype.interceptingNewSuggestion=V7.prototype.CS;
V7.prototype.bN=function(a,b,c){var d=this;xp(xp(JBh(this.H,a,!0,b),function(e){SDh(d,a);return e}),c)};V7.prototype.interceptingAcceptSuggestion=V7.prototype.bN;V7.prototype.Dd=function(a){return gwh(this.L,a,!0)};V7.prototype.acceptSuggestions=V7.prototype.Dd;V7.prototype.DS=function(a,b,c){var d=this;xp(xp(JBh(this.H,a,!1,b),function(e){SDh(d,a);return e}),c)};V7.prototype.interceptingRejectSuggestion=V7.prototype.DS;V7.prototype.cI=function(a,b){var c=this.H;a=Q7(c,v(c.lCa,c,a,!0));xp(a,b)};
V7.prototype.interceptingAcceptSuggestions=V7.prototype.cI;V7.prototype.Qja=function(a,b){b=cwh(this.L,a,!1,b);SDh(this,a);return b};V7.prototype.rejectSuggestion=V7.prototype.Qja;function SDh(a,b){(b=A7(a.C,b))&&a.Fm&&a.Fm.pR(b.getId())}V7.prototype.Kka=function(a){return gwh(this.L,a,!1)};V7.prototype.rejectSuggestions=V7.prototype.Kka;V7.prototype.HS=function(a,b){var c=this.H;a=Q7(c,v(c.lCa,c,a,!1));xp(a,b)};V7.prototype.interceptingRejectSuggestions=V7.prototype.HS;
V7.prototype.yS=function(a,b){var c=this.H;a=Q7(c,v(c.k$a,c,a));xp(a,b)};V7.prototype.interceptingDeleteReply=V7.prototype.yS;V7.prototype.wS=function(a,b){var c=this.H;a=Q7(c,v(c.j$a,c,a));xp(a,b)};V7.prototype.interceptingDeleteReplies=V7.prototype.wS;V7.prototype.Qi=function(a){return(a=A7(this.C,a))?u7(a):null};V7.prototype.getAnchorData=V7.prototype.Qi;V7.prototype.Oy=function(a){return(a=A7(this.C,a))?a.xG():null};V7.prototype.getSuggestionId=V7.prototype.Oy;V7.prototype.Gl=function(){return this.D.jh().getId()};
V7.prototype.getCurrentAuthor=V7.prototype.Gl;V7.prototype.Zk=function(a){return(a=A7(this.C,a))?a.Nv().getId():null};V7.prototype.getAuthor=V7.prototype.Zk;V7.prototype.Fl=function(a){return(a=A7(this.C,a))?a.Nv().getName():null};V7.prototype.getAuthorName=V7.prototype.Fl;V7.prototype.An=function(a){"string"===typeof a&&(a=this.Ka(a));return TDh(this).D.w9(a)};V7.prototype.getDocoPosition=V7.prototype.An;V7.prototype.getDocoMaxHeight=function(a){return W7(this).getDocoMaxHeight(a)};
V7.prototype.getDocoMaxHeight=V7.prototype.getDocoMaxHeight;V7.prototype.WKb=function(a,b){W7(this).Wma(a,b)};V7.prototype.setDocoMaxHeight=V7.prototype.WKb;V7.prototype.Mh=function(a){a=UDh(this,a);W7(this).EI(a)};V7.prototype.flushAnchors=V7.prototype.Mh;V7.prototype.Nh=function(a){W7(this).EI(a)};V7.prototype.flushDocoPositions=V7.prototype.Nh;V7.prototype.n2a=function(a){a=UDh(this,a);W7(this).eU(a)};V7.prototype.updateAnchors=V7.prototype.n2a;V7.prototype.u2a=function(a){W7(this).eU(a)};
V7.prototype.updateDocoPositions=V7.prototype.u2a;V7.prototype.Ye=function(a){W7(this).v9(Tc(a,this.Ka,this))};V7.prototype.deleteAnchors=V7.prototype.Ye;V7.prototype.Af=function(a){W7(this).v9(a)};V7.prototype.deleteDocoPositions=V7.prototype.Af;V7.prototype.x2a=function(a){this.Fm?this.Fm.y0(a):this.Ha=a};V7.prototype.updateViewport=V7.prototype.x2a;V7.prototype.Rf=da("Wa");V7.prototype.enableAnchoredDocoAnimations=V7.prototype.Rf;
V7.prototype.Fs=function(){var a=this.D.L;return(a=a?this.C.ud(a):void 0)?u7(a):""};V7.prototype.getLinkedAnchor=V7.prototype.Fs;V7.prototype.Ns=function(){var a=this.D.L;return null===a?0:x7(this.C,a)};V7.prototype.getLinkedDoco=V7.prototype.Ns;V7.prototype.aT=function(){var a=this.D.L;return null===a?!1:!!this.C.F[a]};V7.prototype.isLinkedDocoDeleted=V7.prototype.aT;function UDh(a,b){var c={};Hd(b,function(d,e){(e=this.Ka(e))&&(c[e]=d)},a);return c}V7.prototype.LKb=function(a){this.C.Ka=a};
V7.prototype.setActiveSuggestions=V7.prototype.LKb;V7.prototype.Tn=function(){var a=this.C.O;return a&&a.$j()?a.getId():null};V7.prototype.getHighlightedSuggestionDocoId=V7.prototype.Tn;V7.prototype.Ka=function(a){return(a=Syh(this.C,a))?x7(this.C,a.getId()):0};V7.prototype.Ofb=function(){if(!this.D.O)throw Error("Pane div not specificed in config.");this.rza=La();MDh(this).Gb()&&(Hf(this.Bs),this.Bs=null);bIe(this.D.O,!1);MDh(this).render(this.D.O)};V7.prototype.renderPaneSurface=V7.prototype.Ofb;
V7.prototype.cT=function(){return MDh(this).D.KFa()};V7.prototype.isPaneSurfaceRendered=V7.prototype.cT;function W7(a){a.Fm||(a.Fm=VDh(a),a.Ha&&(a.Fm.y0(a.Ha),a.Ha=null));return a.Fm}function TDh(a){if(!a.Qt){NDh(a);var b=W7(a);a.Qt=new QCh(a.F,b,v(a.C.R,a.C),b.qa())}return a.Qt}function NDh(a){if(!a.M_a){a.M_a=!0;var b=a.D.O,c=a.D.Ea;b&&(a.D.Dc||dw(bJd(""),b),a.D.D.install(b));!c||b&&co(b)==co(c)||(a.D.Dc||dw(bJd(""),c),a.D.D.install(c))}}
V7.prototype.ola=function(){if(!this.D.Ea)throw Error("Anchor surface div not specified in config.");TDh(this).Gb()&&(Hf(this.Qt),this.Qt=null,VDh(this));bIe(this.D.Ea,!1);TDh(this).render(this.D.Ea)};V7.prototype.renderAnchorSurface=V7.prototype.ola;
function VDh(a){var b=a.D.yj,c=wDh;"absolute"==b&&(c=QAh);if(a.Fm&&(a.Fm instanceof c||a.Fm.fU()instanceof c))return a.Fm;var d=ao(a.D.Ea);c=new c(a.F,d);d=a.D.R;!d||b&&"vertical"!=b||(c=new WBh(c,d));a.Fm&&(a.Fm.Xma(c),Hf(a.Fm));a.Fm=c;a.Fm.eya(a);a.va(a.Fm);return a.Fm}
V7.prototype.uma=function(){if(!this.D.Wa)throw Error("Instant docos div not specified in config.");this.jt&&this.jt.Gb()&&(Hf(this.jt),this.jt=null);this.jt||this.J["enable-gsuite-embedding"]||(this.jt=new CBh(this.F,ao(this.D.Wa)),this.Ma.listen(this.jt,"create-draft",this.Dc),this.jt.render(this.D.Wa))};V7.prototype.renderInstantDocosButton=V7.prototype.uma;V7.prototype.Pcc=function(a,b,c){this.jt&&DBh(this.jt,a,b,c)};V7.prototype.showInstantDocosButtonAt=V7.prototype.Pcc;
V7.prototype.Cb=function(a){this.jt&&this.jt.qf(a)};V7.prototype.hideInstantDocosButton=V7.prototype.Cb;V7.prototype.gj=function(){return this.Fm?this.Fm.x0():null};V7.prototype.getAnchorSurfaceBounds=V7.prototype.gj;V7.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.v0(this.J))};V7.prototype.setOption=V7.prototype.setOption;V7.prototype.eD=function(){if(this.Bs){var a=this.Bs;a.C.Ba&&a.C.Ba.focus()}};V7.prototype.grabFocus=V7.prototype.eD;
V7.prototype.p6b=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?v(b,c):b;this.D.v0(this.J)};V7.prototype.setListener=V7.prototype.p6b;function WDh(a,b){return b&&a.C.R(b)?b.getId():null}V7.prototype.Vm=function(a){return(a=A7(this.C,a))?a.lx()?a.lx().getTime():null:null};V7.prototype.getDocoCreationTime=V7.prototype.Vm;
V7.prototype.aN=function(a,b){var c=i7(this.F);a=Syh(this.C,a);a=WDh(this,a);var d=xth(V6(a||""));b&&(b=this.D.Oa?this.Bs.D.getId():TDh(this).getId(),W6(d,b));c.uf("docos-before-highlight-doco").wb(X6(d));F7(g7(this.F),a);c.uf("docos-highlight-doco").wb(X6(d))};V7.prototype.highlightAnchor=V7.prototype.aN;
V7.prototype.Kb=function(a,b){var c=i7(this.F);a=A7(this.C,a);a=WDh(this,a);var d=xth(V6(a||""));b&&(b=this.D.Oa?this.Bs.D.getId():TDh(this).getId(),d=W6(d,b));c.uf("docos-before-highlight-doco").wb(X6(d));F7(g7(this.F),a);c.uf("docos-highlight-doco").wb(X6(d))};V7.prototype.highlightDoco=V7.prototype.Kb;V7.prototype.D2a=function(a){var b=i7(this.F);a=A7(this.C,a);a=WDh(this,a);if(null!=a){var c=this.C.ud(a);c&&y7(this.Ba,s7(r7(q7(43045),c)));b.uf("docos-speak-doco").wb(a)}};
V7.prototype.verbalizeDoco=V7.prototype.D2a;V7.prototype.zL=function(a){return!!Syh(this.C,a)};V7.prototype.hasDocoForAnchorId=V7.prototype.zL;V7.prototype.VD=function(a){return!!A7(this.C,a)};V7.prototype.hasDoco=V7.prototype.VD;V7.prototype.$u=function(a){return(a=Syh(this.C,a))?a.$j()?!fwh(this.C,a):a.isResolved():!1};V7.prototype.getResolvedForAnchorId=V7.prototype.$u;V7.prototype.QS=function(a){return(a=A7(this.C,a))?a.isResolved():!1};V7.prototype.isDocoResolved=V7.prototype.QS;
V7.prototype.Tl=function(){var a=Uyh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};V7.prototype.getDocoCounts=V7.prototype.Tl;V7.prototype.Cm=function(){return Uyh(this.C).C.clone().serialize()};
V7.prototype.getDocoCounts2=V7.prototype.Cm;V7.prototype.yj=function(){return W7(this).Yma().C.clone().serialize()};V7.prototype.getAnchoredDocoCounts=V7.prototype.yj;V7.prototype.fk=function(){return Od(this.C.L)};V7.prototype.getAnchors=V7.prototype.fk;V7.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};V7.prototype.getDocoHandles=V7.prototype.getDocoHandles;V7.prototype.Bb=function(){this.D.DI()&&(this.i5||(this.i5=new mCh(this.F),this.va(this.i5)),this.i5.setVisible(!0))};
V7.prototype.displayNotificationControlDialog=V7.prototype.Bb;V7.prototype.Lc=function(a){return a.x};V7.prototype.Qc=function(a){return a.y};function ODh(a){if(a.$Ua&&!xsh(a.F,"netIo")){var b=UBh(a.Pa);b&&(a.F.tf("netIo",b),a.Ya&&(a.Ya.H=b),b=a.R,avh(b.C)?b.C.Qd?fCh(b.F,"r"):eCh(b)&&gCh(b):b.L(null),xsh(a.F,"subscriptionManager")&&xwh(a.F).F.resolve())}}V7.prototype.ke=function(a){this.R.H.get("netIo").C.IFa(a)};V7.prototype.connectBrowserChannel=V7.prototype.ke;
V7.prototype.Jia=function(){var a=T7(this,"net-error");a&&a((new Z6("net-error")).build());this.D.uy&&(this.setOption("accessLevel","readonly"),a=MDh(this),a.Ba||(a.Ba=!0,jDh(a)))};V7.prototype.Vc=function(){fCh(this,"r");this.Oa()};V7.prototype.Oa=function(){this.$Ua=!0;ODh(this)};V7.prototype.Hja=function(a){JDh(this,"r",a)};V7.prototype.onReady=V7.prototype.Hja;V7.prototype.Eja=function(a){JDh(this,"s",a)};V7.prototype.onInitialSyncSuccess=V7.prototype.Eja;
V7.prototype.Cja=function(a){JDh(this,"e",a)};V7.prototype.onInitialSyncError=V7.prototype.Cja;V7.prototype.Ie=function(){var a=this.D.J["create-draft"];if(a){var b=(new Z6("create-draft")).setApiEventArgs(new P7(!1)).build();a(b)}else throw Error("Can not create a discussion because the editor did not provide a handler.");};V7.prototype.Dc=function(){var a=this.D.J["create-draft"];if(a){var b=(new Z6("create-draft")).setApiEventArgs(new P7(!0,new bm(0,this.jt.D.H),this.jt.D.O)).build();a(b)}};
function JDh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=he(d,c)}else a.ma[b]=c}function fCh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}V7.prototype.Tcc=function(){this.Pb()};V7.prototype.tickle=V7.prototype.Tcc;V7.prototype.Pb=function(){a:{var a=this.R;if(avh(a.C)){if(!a.O){if(!a.D&&!eCh(a))break a;gCh(a)}YBh(a.D,a.C.Hca?1:void 0)}}};V7.prototype.sync=V7.prototype.Pb;V7.prototype.Pi=function(){hCh(this.R)};V7.prototype.fullSync=V7.prototype.Pi;
V7.prototype.Qd=function(){var a=this.R;avh(a.C)&&(a.D.H=!0)};V7.prototype.blockFutureSync=V7.prototype.Qd;V7.prototype.V0a=function(){var a=this.R;avh(a.C)&&(a.D.H=!1)};V7.prototype.unblockFutureSync=V7.prototype.V0a;V7.prototype.$S=function(){var a=this.R;return avh(a.C)?a.D.H:!1};V7.prototype.isFutureSyncBlocked=V7.prototype.$S;V7.prototype.uy=function(){var a=this.D;return null!=a.w0?a.w0:6E4};V7.prototype.getRetryBackoffThreshold=V7.prototype.uy;V7.prototype.NS=function(){return this.D.s9};
V7.prototype.isBrowserChannelEnabled=V7.prototype.NS;V7.prototype.ZS=function(){return!!Ri(this.D.C,30)};V7.prototype.isDocsStreamHeaderEnabled=V7.prototype.ZS;V7.prototype.bT=function(){return bvh(this.D)};V7.prototype.isNewDocosStreamPaneUiEnabled=V7.prototype.bT;V7.prototype.pM=function(){return Oyh(this.C)};V7.prototype.hasPendingContent=V7.prototype.pM;p=V7.prototype;
p.u1b=function(a){var b=this,c=a.data;a=yvh(xvh(43011),c.Bj);var d=null!=c.Em;d&&zvh(a,c.Em);Uvh(Rvh(this.F),Avh(a));xp(HBh(this.H,c.Bj),function(e){if(e){e=(e=b.C.O)&&e.getId()!==c.Bj;e||(b.Qva(new As(d?new uth("",void 0,void 0,void 0,c.Em):U6())),b.kua(new As(d?new uth("",void 0,void 0,void 0,c.Em):U6())));var f=T7(b,"deleted");if(f&&c.Em&&c.Zo){var h=(new Z6("deleted")).addAnchorId(c.Em).addDocoHandle(c.Zo).setUserInitiated(!0).build();f(h);b.jR=null}e&&(b.jR=b.C.O)}})};
p.GMb=function(a){a=a.data;XDh(this,a.Zo,a.Bj,a.dR)};p.J1b=function(a){a=a.data;XDh(this,a.Zo,a.Bj,a.dR,a.Sfb)};function XDh(a,b,c,d,e){var f=T7(a,"before-doco-deleted");if(f&&b){var h=u7(A7(a.C,b));d=e?new uBh(d,e):new nBh(d);b=(new kBh("before-doco-deleted")).addAnchorId(h).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();f(b);if(b.C)return}YDh(a,c,!0,e)}
p.G1b=function(a){var b=a.data;if((a=T7(this,"converted"))&&b){var c=u7(A7(this.C,b.Zo)),d=new O7(c,b.LUa,b.dR);b=(new kBh("converted")).addAnchorId(c).addDocoHandle(b.Zo).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};p.FMb=function(a){(a=A7(this.C,a))&&YDh(this,a.getId(),!1)};V7.prototype.deleteDoco=V7.prototype.FMb;function YDh(a,b,c,d){var e=a.C.ud(b),f=x7(a.C,b);e=u7(e);var h=a.H;b=Q7(h,v(h.h$a,h,b,d));xp(b,v(a.J2a,a,e,f,c))}
V7.prototype.J2a=function(a,b,c,d){if(d){d=T7(this,"before-selected");var e=T7(this,"selected"),f=T7(this,"deleted");if(a&&b){if(d){var h=(new Z6("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new Z6("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new Z6("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.jR=null}}};V7.prototype.c1a=function(a){return Yvh(this.L,a)};V7.prototype.undoDeleteDoco=V7.prototype.c1a;
V7.prototype.S0b=function(a){this.Za=a;P(TDh(this).getElement(),a)};V7.prototype.setDocosGutterVisibility=V7.prototype.S0b;V7.prototype.XS=g("Za");V7.prototype.isDocosGutterVisible=V7.prototype.XS;V7.prototype.Wg=function(){var a=this.fc;a.C=a.H.H.C;a.F.setOption("accessLevel","readonly")};V7.prototype.enterReanchorMode=V7.prototype.Wg;V7.prototype.kIb=function(){var a=this.fc;a.D.V=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};V7.prototype.resetReanchorMode=V7.prototype.kIb;
V7.prototype.KS=function(a,b){var c=this.H;a=Q7(c,v(c.ubc,c,a));xp(a,b)};V7.prototype.interceptingUndoDeleteDoco=V7.prototype.KS;V7.prototype.fcc=function(a,b){this.L.HFa(a,new O6(b))};V7.prototype.setSuggestionQuote=V7.prototype.fcc;V7.prototype.JS=function(a,b){var c=this.H;b=new O6(b);Q7(c,v(c.X8b,c,a,b))};V7.prototype.interceptingSetSuggestionQuote=V7.prototype.JS;
V7.prototype.Py=function(a){a=A7(this.C,a);if(!a)return null;if(!a.$j())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.N1()};V7.prototype.getSuggestionQuote=V7.prototype.Py;V7.prototype.qh=function(a){return this.Ta?aBh(this.Ta,a):new ZAh(Uo())};V7.prototype.findAssignee=V7.prototype.qh;V7.prototype.Rcc=function(){ywh(this.F).C=!0};V7.prototype.startBatchEvent=V7.prototype.Rcc;V7.prototype.Kg=function(){var a=ywh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};
V7.prototype.endBatchEvent=V7.prototype.Kg;p=V7.prototype;p.IMb=function(a){a=a.data;var b=this.H;b=Q7(b,v(b.o7b,b,a.C,a.D,a.F));xp(b,v(this.K5b,this,a))};
p.K5b=function(a,b){if(b){b=T7(this,"before-selected");var c=T7(this,"selected");if(c){var d=this.C.ud(a.C),e=x7(this.C,a.C);d&&d.Ty()&&e&&(a.D?(b&&(a=(new Z6("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new Z6("selected")).setUserInitiated(!0).build(),c(a),this.jR=null):(b&&(a=(new Z6("before-selected")).addAnchorId(u7(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new Z6("selected")).addAnchorId(u7(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.jR=d))}}};
p.N4b=function(a){a=a.data;var b=this.H;Q7(b,v(b.mcc,b,a.C,a.D))};p.O4b=function(a){a=a.data;var b=this.H;Q7(b,v(b.ncc,b,a.C,a.D,a.F))};p.k1b=function(a){var b=this.D.Af;b&&(a=this.C.ud(a.data.Bj))&&b(u7(a),!0)};
function ZDh(a,b,c){var d=T7(a,c);if(d){var e=a.C.ud(b.C)||null,f=b.F;if(e!=a.jR||"number"===typeof f){var h=new Z6(c),k=x7(a.C,b.C);e&&e.Ty()&&k&&h.addAnchorId(u7(e)).addDocoHandle(k);k=new n5;var l=b.R;null!=l?k=new iBh(l):"number"===typeof f?k=new bLg(f):void 0!==b.H&&(k=new vBh(b.H));f=!!e&&!a.C.R(e);h.setNonAnchored(f).setUserInitiated(b.L).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.jR=e)}}p.Qva=function(a){ZDh(this,a.data,"before-selected")};
p.kua=function(a){var b=a.data;ZDh(this,b,"selected");if(a=this.C.ud(b.C)){b="number"===typeof b.F?4:b.D==TDh(this).getId()?1:b.D==MDh(this).D.getId()?2:3;var c=this.Ba;a=r7(q7(43044),a);a.H=b;y7(c,s7(a))}};p.a3b=function(a){a=a.data;var b=a.C,c=this.H;Q7(c,v(c.O5a,c,a.D,a.F,null,b?b:void 0))};p.R4b=function(a){var b=a.data;if(a=T7(this,"write-feedback"))b=(new Z6("write-feedback")).setUserInitiated(!0).setApiEventArgs(new GDh(b.source)).build(),a(b)};
p.O1b=function(){var a=T7(this,"disable-smart-todo-feature");if(a){var b=(new Z6("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};p.HMb=function(a){var b=this,c=a.data;xp(IBh(this.H,c.Dab,c.Em,c.text,c.quote,c.Oha,c.v_),function(d){if(0<d){var e=c.Em,f=c.Zo,h=T7(b,"posted");h&&e&&f&&(e=(new Z6("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.Qva(new As(U6()));b.kua(new As(U6()))}return d})};
p.X2b=function(a){var b=T7(this,"hover");if(b){a=a.data;var c=Ath("hover").setNonAnchored(!a.VJb).setUserInitiated(!0);if(a.dKb){var d=this.C.ud(a.Bj);c.addAnchorId(d?u7(d):"");c.addDocoHandle(x7(this.C,a.Bj))}b(c.build())}};p.U2b=function(a){if("dd"==a.type){var b=T7(this,"deleted");if(b&&a.C&&a.D&&(a.Iq||this.D.Ka)&&a.V&16){var c=(new Z6("deleted")).addDocoHandle(a.D);a.Iq&&c.addAnchorId(a.Iq);a=c.build();b(a)}}};
p.T2b=function(a){if("bu"==a.type){var b=Ath("created");this.xa&&(b.setApiEventArgs(new pBh(this.xa,a.C[0].Em)),this.xa=null);var c=Ath("resolved"),d=Ath("unresolved");b=tBh(b,a.C,8);c=tBh(c,a.C,2);d=tBh(d,a.C,4);$Dh(this,"created",b);$Dh(this,"resolved",c);$Dh(this,"unresolved",d)}};p.j3b=function(a){if("p"==a.type&&(a=T7(this,"pending"))){var b=(new Z6("pending")).setUserInitiated(!0).build();a(b)}};
p.Z0b=function(){var a=T7(this,"view-updated");if(a){var b=(new Z6("view-updated")).setUserInitiated(!0).build();a(b)}};function $Dh(a,b,c){a=T7(a,b);!c.isEmpty()&&a&&a(c.build())}function T7(a,b){return a.isDisposed()?null:a.D.J[b]||null}
p.Ja=function(){delete this.Fm;delete this.D;delete this.rQ;delete this.L;delete this.Ya;delete this.Ma;delete this.$a;delete this.Pa;delete this.i5;delete this.Ea;delete this.C;delete this.Qa;Hf(this.jt);delete this.jt;Hf(this.Qt);delete this.Qt;Hf(this.Bs);delete this.Bs;V7.Ua.Ja.call(this);Hf(this.F);delete this.F};oa("Docos",V7,void 0);oa("Docos.Point",bm,void 0);oa("Docos.Point.getX",V7.prototype.Lc,void 0);oa("Docos.Point.getY",V7.prototype.Qc,void 0);
oa("Docos.AbstractAlteredDocoArgs",mAh,void 0);oa("Docos.NewDraftArgs",sAh,void 0);oa("Docos.LayoutType.ABSOLUTE","absolute",void 0);oa("Docos.LayoutType.VERTICAL","vertical",void 0);oa("Docos.UiVersion.LEGACY","legacy",void 0);oa("Docos.UiVersion.MATERIAL_BLUE","material_blue",void 0);oa("Docos.UiVersion.MATERIAL_GREEN","material_green",void 0);oa("Docos.UiVersion.MATERIAL_YELLOW","material_yellow",void 0);oa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);
oa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);oa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);oa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);oa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);oa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);oa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);oa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);
oa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);oa("Docos.OptionName.DRIVE_ID","drive-id",void 0);oa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);oa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);oa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);oa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);oa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
oa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);oa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);oa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);oa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);oa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);oa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);oa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
oa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);oa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);oa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);oa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);oa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
oa("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);oa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);oa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);oa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);oa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);oa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);oa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
oa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);oa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);oa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);oa("Docos.OptionName.IO","i",void 0);oa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);oa("Docos.OptionName.KEY_DATA","kd",void 0);oa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
oa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);oa("Docos.OptionName.LAYOUT","layout",void 0);oa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);oa("Docos.OptionName.LINK_OPENER","link-opener",void 0);oa("Docos.OptionName.LISTENERS","listeners",void 0);oa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);oa("Docos.OptionName.LOCAL","l",void 0);oa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
oa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);oa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);oa("Docos.OptionName.OFFLINE","offline",void 0);oa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);oa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);oa("Docos.OptionName.PANE_DIV","panediv",void 0);oa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);oa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
oa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);oa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);oa("Docos.OptionName.QUOTE_FN","quotefn",void 0);oa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);oa("Docos.OptionName.READONLY","readonly",void 0);oa("Docos.OptionName.RESOLVE","resolve",void 0);oa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);oa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
oa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);oa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);oa("Docos.OptionName.SORT_PANE","sortpane",void 0);oa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);oa("Docos.OptionName.STORAGE","storage",void 0);oa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);oa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
oa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);oa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);oa("Docos.OptionName.SYNC_ONCE","so",void 0);oa("Docos.OptionName.UI_VERSION","ui-version",void 0);oa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);oa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
oa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);oa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);oa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);oa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);oa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);oa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);oa("Docos.EventType.CONVERTED","converted",void 0);
oa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);oa("Docos.EventType.CREATED","created",void 0);oa("Docos.EventType.DELETED","deleted",void 0);oa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);oa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);oa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);oa("Docos.EventType.HOVER","hover",void 0);oa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
oa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);oa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);oa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);oa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);oa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);oa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);oa("Docos.EventType.NETWORK_ERROR","net-error",void 0);
oa("Docos.EventType.PENDING","pending",void 0);oa("Docos.EventType.POSTED","posted",void 0);oa("Docos.EventType.REANCHOR","reanchor",void 0);oa("Docos.EventType.RESOLVED","resolved",void 0);oa("Docos.EventType.SELECTED","selected",void 0);oa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);oa("Docos.EventType.UNRESOLVED","unresolved",void 0);oa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);oa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);
oa("Docos.AccessLevel.READONLY","readonly",void 0);oa("Docos.AccessLevel.SUGGEST","suggest",void 0);oa("Docos.AccessLevel.FULL","full",void 0);oa("Docos.NewDocoType",eod,void 0);oa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);oa("Docos.NewDocoType.DISCUSSION","discussion",void 0);oa("Docos.NewDocoType.DRAFT","draft",void 0);oa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);oa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);
oa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);oa("Docos.prototype.dispose",V7.prototype.dispose,void 0);oa("Docos.CountField.ACCEPTED","accepted",void 0);oa("Docos.CountField.DRAFT","draft",void 0);oa("Docos.CountField.OPEN","open",void 0);oa("Docos.CountField.REJECTED","rejected",void 0);oa("Docos.CountField.RESOLVED","resolved",void 0);oa("Docos.CountField.TOTAL","total",void 0);oa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);
window.closure_verification&&(window.closure_verification.dcs_main_js={});function aEh(){TLg.apply(this,arguments)}u(aEh,TLg);NK("docosbundled",aEh);
