/*! For license information please see Grammarly.js.LICENSE */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=770)}([function(e,t,n){"use strict";e.exports=n(464)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t,n){"use strict";var i;function r(e,t){return Object.assign(Object.assign({},e),{application:t.application,version:t.version,env:t.env,sessionId:t.context&&t.sessionId,userId:t.context&&t.context.userId,containerId:t.context&&t.context.containerId})}function o(e){return`${e}/logv2`}function s(e){return`${e}/crashv2`}function a(e,t){return`${t}/log?json=${encodeURIComponent(JSON.stringify(e))}`}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a})),function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(i||(i={}))},function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"map",(function(){return a})),n.d(i,"filter",(function(){return c})),n.d(i,"values",(function(){return l})),n.d(i,"pairs",(function(){return u})),n.d(i,"create",(function(){return d})),n.d(i,"pluck",(function(){return h}));var r={};n.r(r),n.d(r,"find",(function(){return p}));var o=n(72),s=n(264);function a(e,t){const n={};return Object.keys(t).forEach(i=>n[i]=e(i,t[i])),n}function c(e,t){const n={};return Object.keys(t).forEach(i=>{e(i,t[i])&&(n[i]=t[i])}),n}function l(e){return Object.keys(e).map(t=>e[t])}function u(e){return Object.keys(e).map(t=>[t,e[t]])}function d(e){const t={};for(const[n,i]of e)t[n]=i;return t}function h(e,t){return t.map(t=>e[t])}function p(e,t){for(const n of e.values())if(t(n))return n;return null}var f=n(210);n.d(t,"b",(function(){return b})),n.d(t,"n",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"m",(function(){return w})),n.d(t,"p",(function(){return E})),n.d(t,"l",(function(){return x})),n.d(t,"h",(function(){return O})),n.d(t,"o",(function(){return S})),n.d(t,"i",(function(){return C})),n.d(t,"k",(function(){return k})),n.d(t,"c",(function(){return m})),n.d(t,"r",(function(){return T})),n.d(t,"q",(function(){return N})),n.d(t,"j",(function(){return P})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return f}));var m,g=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class b{constructor(e){this._getFallbackValue=e}init(e){if(void 0!==this._value)throw new Error("Global value already initialized.");this._value=e}get(){if(void 0===this._value){if(void 0===this._getFallbackValue)throw new Error("Global value not initialized and no fallback value provided.");this._value=this._getFallbackValue()}return this._value}}function v(e,t){return e.some(e=>e===t)?t:void 0}class _ extends Error{constructor(e){super(`Matching not exhaustive${e?`: unexpected value ${e}`:""}`)}}function y(e){throw new _(e)}function w(e){const t=parseInt(e,10);return isNaN(t)?void 0:t}function E(e,t){try{return e()}catch(e){return t(e)}}function x(){}function O(e){let t,n=!1;return(...i)=>(n||(n=!0,t=e(...i)),t)}function S(e,t){let n,i,r=!0;function s(e){return r&&(r=!1,i=o.a.createCompletionSource(),setTimeout(()=>{try{i.resolve(t())}catch(e){i.reject(e)}finally{r=!0}},e)),i.promise}return()=>{const t=n;return n=Date.now(),s(void 0===t||n-t>=e?0:e-(n-t))}}function C(e,t,n=0,i=(e=>!0)){return g(this,void 0,void 0,(function*(){let r=t;const s=[];for(;r>0;){let t;try{r--,t={val:yield e(),hasError:!1}}catch(e){t={hasError:!0,message:e&&e.message||e||""}}if(t.hasError)s.push(t.message);else if(i(t.val))return t.val;r>0&&(yield o.a.delay(n))}throw new Error(`Condition was not met after ${t} retries. Errors: '${s.join(";")}'`)}))}class j{constructor(e){this._factory=e,this._hasValue=!1}get hasValue(){return this._hasValue}get(){return this._hasValue||(this._value=this._factory(),this._hasValue=!0),this._value}}function k(e){return new j(e)}function T(e,t){const n=Object.assign({},e);for(const e in t){const i=t[e];void 0!==i&&(n[e]=i)}return n}function N(...e){return e}function P(e){return e.replace(/[.*+?()\[\]{}^$\\]/g,"\\$&")}!function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.create=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(m||(m={})),void 0!==window.requestIdleCallback&&window.requestIdleCallback},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(379);t.Lens=i.Lens,t.Prism=i.Prism,t.Optic=i.Optic;var r=n(469);t.Atom=r.Atom;var o=n(250);t.bind=o.bind,t.lift=o.lift,t.reactiveList=o.reactiveList,t.classes=o.classes,t.bindElementProps=o.bindElementProps,t.F=o.F},,,function(e,t,n){"use strict";var i=n(73),r=(n(58),n(178)),o=n(254),s=n(447),a=n(52),c=n(27),l=n(46),u=function(e){return"string"==typeof e||!Object(c.a)(e)&&Object(l.a)(e)&&"[object String]"==Object(a.a)(e)},d=n(31),h=(n(703),n(180));function p(e,t){const n=(t||document).createElement("div");return n.innerHTML=r.sanitize(e.trim()),n.firstElementChild}function f(e,t,n,r="div"){const o=t,s=o[n]=o[n]||{},a=e=>{e.stopPropagation(),e.stopImmediatePropagation()};s.el||(s.el=o.ownerDocument.createElement(r),s.el.classList.add(h.gr_no_print),s.el.addEventListener("click",a),o.appendChild(s.el));const c=i.render(e,s.el);return null==s.remove&&(s.remove=()=>{delete o[n],s.el.removeEventListener("click",a),o.removeChild(s.el),i.unmountComponentAtNode(s.el)}),{component:c,remove:s.remove.bind(s),el:s.el}}function m(e,t,n=1e3){let i=e;for(;i.parentNode&&0<n;){if("string"!=typeof t&&t===i)return!0;if(i.id===t||i===t)return!0;i=i.parentNode}return!1}function g(e,t){return!(!e||void 0===e.className)&&e.classList.contains(t)}function b(e,t){if(e&&e.classList)return e.classList.remove(t)}function v(e,t){if(e){if(-1===t.indexOf(" "))return e.classList.add(t);{const n=t.split(" ");for(let t=0;t<n.length;t++)e.classList.add(n[t])}}}function _(e,t,n){t?v(e,n):b(e,n)}function y(e,t){let n=e.parentNode;for(;null!==n;){if(x(n,t))return n;n=n.parentNode}return!1}function w(e){let t=e.parentNode;for(;null!==t;){if(E(t))return t;t=t.parentNode}return!1}function E(e){return"true"===e.contentEditable||"plaintext-only"===e.contentEditable}function x(e,t){if(!e)return!1;const n=e.matches||e.msMatchesSelector||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector;return!!n&&n.apply(e,[t])}function O(e,t=null,n){return this.addEventListener(e,t,n),{off:()=>S.apply(this,[e,t,n])}}function S(e,t,n){this.removeEventListener(e,t||null,n)}function C(e,t){const n=i=>{t(i),S.call(this,e,n)};O.call(this,e,n)}function j(...e){return e.reduce((e,t)=>e.concat(Object(d.a)(t)?Object.keys(t).filter(e=>t[e]):t),[]).filter(e=>Boolean(e)).join(" ")}n.d(t,"c",(function(){return p})),n.d(t,"q",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"p",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"r",(function(){return _})),n.d(t,"g",(function(){return y})),n.d(t,"o",(function(){return w})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return x})),n.d(t,"l",(function(){return O})),n.d(t,"m",(function(){return C})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return P})),n.d(t,"e",(function(){return I})),n.d(t,"n",(function(){return F})),n.d(t,"s",(function(){return M})),n.d(t,"t",(function(){return R})),n.d(t,"f",(function(){return D}));const k={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1};function T(e,t){return"number"!=typeof t||k[A(e)]?t:t+"px"}function N(e){return e.replace(/-+(.)?/g,(e,t)=>t?t.toUpperCase():"")}function P(e){return Object(o.a)(e,(e,t,n)=>e[N(n)]=t)}function A(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function I(e,t,n){if(arguments.length<3){const n=e;if(!n)return;const i=getComputedStyle(n,"");if("string"==typeof t)return n.style[N(t)]||i.getPropertyValue(t);if(Object(c.a)(t)){const e={};return Object(s.a)(t,(t,r)=>{e[N(t)]=n.style[N(t)]||i.getPropertyValue(t)}),e}}let i="";if(u(t))n||0===n?i=A(t)+":"+T(t,n):e.style.removeProperty(A(t));else{t=t;for(const n in t)t[n]||0===t[n]?i+=A(n)+":"+T(n,t[n])+";":e.style.removeProperty(A(n))}return e.style.cssText+=i}function F(e,t){if(!e)return!1;let n=e;for(;n.parentNode;){if(g(n,t))return n;n=n.parentNode}return!1}function M(e=document){if(void 0===e.body.style.transform){if(void 0!==e.body.style.WebkitTransform)return"WebkitTransform";if(void 0!==e.body.style.MozTransform)return"MozTransform"}return"transform"}function R(){const e=document.createElement("fakeelement"),t={animation:"animationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(const n in t)if(void 0!==e.style[n])return t[n]}function D(e,t={}){const n=document.createEvent("CustomEvent");n.initCustomEvent(e+"-gr",!0,!0,t),document.dispatchEvent(n)}},function(e,t,n){"use strict";n.d(t,"n",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"l",(function(){return s})),n.d(t,"j",(function(){return a})),n.d(t,"m",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"o",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return v}));var i=n(17);function r(){return!!window.__extensionTestsMode}function o(){return i.a().appConfig.extensionId}function s(){return"firefox"===i.a().bundleInfo.browser}function a(){return"chrome"===i.a().bundleInfo.browser}function c(){return"safari"===i.a().bundleInfo.browser}function l(){return"edge"===i.a().bundleInfo.browser}function u(){return i.a().systemInfo.os.isWindows}function d(){return"bg"===i.a().bundleInfo.context}function h(){return i.a().bundleInfo.browser}function p(){return i.a().buildInfo.version}function f(){return i.a().bundleInfo.env}function m(){return i.a().appConfig.url}function g(){return i.a().appConfig.felog.appName}function b(){return i.a().appConfig.gnar.appName}function v(){return i.a().appConfig.url.grammarlyDomain}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(2),r=n(94),o=n(146),s=n(28),a=n(137),c=n(53),l=n(103),u=function(e){function t(n,i,r){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.a;break;case 1:if(!n){s.destination=o.a;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,i,r)}return s}return i.a(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,n,i){var r=new t(e,n,i);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.a),d=function(e){function t(t,n,i,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return Object(r.a)(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==o.a&&(l=Object.create(n),Object(r.a)(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=a,c._error=i,c._complete=s,c}return i.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw e;Object(l.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(l.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(167),o=n(144);!function(e){e.create=function(e){return new r.a(e,()=>Object(o.b)().logger.create(e))}}(i||(i={}))},,function(e,t,n){"use strict";var i=n(175),r=n(11),o=n(137),s=n(146),a=n(97),c=n(160),l=n(53);n.d(t,"a",(function(){return u}));var u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new r.a(e,t,n):new r.a(s.a)}(e,t,n);if(i?a.add(i.call(a,this.source)):a.add(this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(i.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(e){i(e),r&&r.unsubscribe()}}),i,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[a.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(c.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){e.exports={container:"Bd3O7",flip:"_2qOlI",syn:"_14kdZ",flipSyn:"_3zyyh",emogenieCard:"_2p7Ig",card:"_1ldqx",vox:"_1Ghhr",expandableDescription:"_3NVlr",button:"_3k9OB",more:"_2EKST",expanded:"_3ixBe",moreIcon:"_1rPzn",explanation:"_1W33f",gdocsFooter:"_3o-AJ",bigTitle:"qL681",unknownWordTitle:"_92o6Y",btnDictLabelWithIcon:"TaALz",capitalized:"_1E4BD",maxWidthReached:"_1EIWW",replacement:"_20QvS",item:"_1QK5F",unifiedFunnelBtn:"_1W6JX",unifiedFunnelBtnText:"_1T9j9",logoIcon:"_27ZX9",btnUpgrade:"_2a1-q",ignoreIcon:"_2MNmS",diamondIcon:"L7mDL",undoIcon:"_3kHt8",dictionaryIcon:"_28rr1",wikiIcon:"_2P5xR",header:"_3dWSj",headerIcon:"_2GX1J",headerWrapper:"_3TvZ_",footer:"_2tBk1",footerButton:"_2AND6",greyedTitle:"TTrQB",lockedTransformList:"oMcnh",lockedTransform:"yE1se",lockedButton:"_3_YnP",shimmer:"_3at03",lockIcon:"HfOZ0",btnIgnore:"_2R2Yx",icon:"e8Kgu",btnLogo:"_29ub7",btnPersonalize:"_1gXu7",btnNewBadge:"F2KvH",newTitle:"_26COV",clickable:"c37fV",newLabel:"_3bv_t",newInfo:"_28CRg",personalizeMessage:"_15PdD",attn:"_2b49j",cardAddedToDict:"nzrwt",addedToDictTitle:"_2dVbC",dictionaryDescription:"_1SCpn",undo:"_3QSuW",dictLink:"_2xvI7",dictionaryAddedIcon:"_3a-Ri",synTitle:"_2iJwH",synList:"_3lZd5",synListSingle:"_3kvum",synListTitle:"_3wPe7",synListNumber:"_3oEju",synSubitems:"_3OzY6",synItem:"_1pgm_",dict:"_3O6yG",dictContent:"_2t5w4",dictItemCounter:"nT1dC",dictItem:"UgQK0",qualifier:"_2mFeq",dictFooterItem:"_35Gdy",wikiLink:"_1cG3j",wiki:"_3mXOl",advancedMessage:"_3-WDb",advancedTitle:"_1FfiW",advancedItem:"_2A7EX",lockedPremiumPreviewTitle:"_2H2mn",outcomeCorrectness:"_3u3ZB",outcomeClarity:"p9RJw",outcomeDelivery:"_3tMky",outcomeEngagement:"_2iWLl",freePremium:"_3_ckg",enjoyFreePremium:"_2fzdn",freePremiumUpgrade:"mt04J"}},function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"r",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"s",(function(){return h})),n.d(t,"m",(function(){return p})),n.d(t,"u",(function(){return f})),n.d(t,"q",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"p",(function(){return v})),n.d(t,"l",(function(){return _})),n.d(t,"w",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"k",(function(){return E})),n.d(t,"v",(function(){return x})),n.d(t,"t",(function(){return O})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return k})),n.d(t,"o",(function(){return T})),n(254),n(10);var i=n(195);function r(){return window.chrome&&window.chrome.runtime&&window.chrome.runtime.lastError}function o(e,t){const n=o.items=o.items||{},i=n[e];if(i||t){if(i&&!t)return clearTimeout(i),void delete n[e];!function(){function i(){r(),e()}function r(){const r=setTimeout(i,t);n[e]=r}r()}()}}function s(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function a(){return s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s()}function c(e){let t=0;const n=e.length;let i,r;for(let o=0;o<n;o++)i=e.charCodeAt(o),i>=55296&&i<57344&&i<56320&&o+1<n&&(r=e.charCodeAt(o+1),r>=56320&&r<57344)?(t+=4,o++):t+=i<128?1:i<2048?2:3;return t}function l(e,t){let n=t,i=0;const r=[];for(;e[n];)if(" "===e[n++])r.push(e.substring(i,n)),i=n,n+=t;else{let o=n;do{if(" "===e.substring(o-1,o)){r.push(e.substring(i,o)),i=o,n=o+t;break}o--}while(o>i)}return r.push(e.substr(i)),r}function u(){}function d(){return!0}function h(e){return/^[-!#$%&\'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&\'*+\\/0-9=?A-Z^_`a-z{|}~]+\.[-!#$%&\'*+\\./0-9=?A-Z^_`a-z{|}~]+$/.test(e)}function p(e,t){return t[1==e?0:1]}function f(e,t,n){const i={};return function(){const r="_memoize_"+(t?t.apply(this,arguments):arguments[0]);return window.hasOwnProperty.call(i,r)?i[r]:(n&&setTimeout(()=>{delete i[r]},n),i[r]=e.apply(this,arguments))}}function m(e,t){return Math.floor(Math.random()*(t-e+1))+e}function g(e){return new Promise(t=>setTimeout(t,e))}!function(e){e.items={}}(o||(o={}));const b=["January","February","March","April","May","June","July","August","September","October","November","December"];function v(e){if(!e)return;const t=new Date(e);return"Invalid Date"!==t.toString()?b[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear():void 0}function _(e){const t=function(){};return t.prototype=e(),t}function y(e="",t=""){function n(e){return e.split(".").map(e=>Number(e)||0)}const i=n(e),r=n(t),o=Array(Math.abs(i.length-r.length)).fill(0);if(i.length>r.length?r.push(...o):i.push(...o),i.every((e,t)=>e===r[t]))return 0;for(let e=0,t=i.length;e<t;e++){if(i[e]>r[e])return 1;if(i[e]<r[e])return-1}return-1}function w(e,t=10){setTimeout(e,t)}function E({buffered:e=!0}={}){const t=[],n=[];return{take:function(){return t.length?Promise.resolve(t.shift()):new Promise(e=>n.push(e))},put:function(i){n.length>0?n.shift()(i):e?t.push(i):t[0]=i}}}function x(e,t=100){if(!e)return NaN;const n=i.createHash("superfasthash");return parseInt(n.hash(e),16)%t}function O(e){return e.which||e.charCode||e.keyCode||0}new RegExp(String.fromCharCode(160),"g"),String.fromCharCode(160),new RegExp("\n"+String.fromCharCode(32),"g");const S=1e3,C=60*S,j=27,k=13;function T(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a}));var i=n(145);const r=new(n(4).b)(()=>{throw new Error("Global config not initialized")});function o(){return r.get()}function s(e,t,n,o){const s=i.a.create(e,t,n,o);return r.init(s),window.GR_CFG=r.get(),s}function a(e,t,n){throw new Error("Never use it")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(81),r=n(192),o=n(14);function s(e,t,n,s,a){if(void 0===a&&(a=new i.a(e,n,s)),!a.closed)return t instanceof o.a?t.subscribe(a):Object(r.a)(t)(a)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(2),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(11).a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n(0),r=n(411);function o(e,t){return{dangerouslySetInnerHTML:{__html:Object(r.a)(e,t)}}}class s extends i.Component{constructor(){super(...arguments),this.handleClick=e=>{e&&(e.stopPropagation(),e.stopImmediatePropagation(),this.props.clickHandler(e))}}componentDidMount(){this.wrapperRef&&this.wrapperRef.addEventListener("click",this.handleClick)}componentWillUnmount(){this.wrapperRef&&this.wrapperRef.removeEventListener("click",this.handleClick)}render(){return i.createElement("div",{ref:e=>this.wrapperRef=e,style:{display:"initial"},className:this.props.className},this.props.children)}}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"initMessage",(function(){return d})),n.d(t,"onBackgroundPortReconnect",(function(){return m})),n.d(t,"emitError",(function(){return g})),n.d(t,"init",(function(){return b})),n.d(t,"one",(function(){return v})),n.d(t,"on",(function(){return _})),n.d(t,"off",(function(){return y})),n.d(t,"emitTabs",(function(){return w})),n.d(t,"emitTo",(function(){return E})),n.d(t,"emitFocusedTab",(function(){return x})),n.d(t,"emitBackground",(function(){return O})),n.d(t,"promiseBackground",(function(){return S}));var i=n(80),r=n(120),o=n(10),s=n(16),a=n(4),c=n(74),l=n(347);let u;function d(t){if(u)return u;const n=(e&&e.env,t);return u=n,n}function h(){return u||d((Object(o.i)()?Object(c.a)():Object(c.b)()).message)}const p=Object(i.emitter)({}),f={};function m(e){const t=h();"content-script-message-api"===t.kind&&t.onBackgroundPortReconnect&&t.onBackgroundPortReconnect(e)}const g=Object(l.a)(e=>p.emit("__bgerror",e),1e3);function b(e){d(e),Object(r.a)(document,"grammarly:offline",()=>g("proxy dead"),void 0)}function v(e,t){_(e,(function n(...i){y(e,n),t.apply(this,i)}))}function _(e,t){if("__bgerror"===e)return void p.on("__bgerror",t);const n=f[e]=f[e]||[];if(n.push(t),1===n.length)try{h().listen(e,(...e)=>{for(const t of n)t(...e)})}catch(e){g(e)}}function y(e,t){if("__bgerror"===e)return void p.off("__bgerror",t);const n=f[e];if(!n)return;const i=n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&delete f[e]}function w(e){try{const t=h();switch(t.kind){case"background-message-api":t.broadcast(e,{});break;default:throw new Error("emitTabs can be used only on background")}}catch(e){g(e)}}function E(e,t,n={},i=a.l,r=a.l,o){try{if(!e)throw TypeError("emitTo can't be used without destination point");const s=h();switch(s.kind){case"background-message-api":s.sendTo(e,t,n,i,r,o);break;default:throw new Error("emitTo can be used only on background")}}catch(e){g(e)}}function x(e,t){try{h().toFocused(e,t)}catch(e){g(e)}}function O(e,t,n,i){try{const r=h();switch(r.kind){case"content-script-message-api":r.broadcastBackground(e,t,n,i);break;default:throw new Error("emitBackground can be used only in content script")}}catch(e){g(e)}}function S(e,t={},n=1e4){const i=new Promise((n,i)=>{try{const r=h();switch(r.kind){case"content-script-message-api":r.broadcastBackground(e,t,n,i);break;default:throw new Error("promiseBackground can be used only on client scripts")}}catch(e){i(e),g(e)}});return Promise.race([i,Object(s.n)(n).then(()=>{throw new Error(`Request to bg page (${u}) rejected by timeout`)})])}}.call(this,n(217))},,,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),function(e){e.TRACE="TRACE",e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.FATAL="FATAL"}(i||(i={}));const r={[i.TRACE]:1,[i.DEBUG]:2,[i.INFO]:3,[i.WARN]:4,[i.ERROR]:5,[i.FATAL]:6};function o(e){return r[e]||0}},function(e,t,n){e.exports={gButtonPopup:"_2-TI7",newDataControl:"_1yv0e",title:"_1mEVH",icon:"tC4-3",button:"_1SqFv",buttonText:"_1quki",popupFooter:"_3DhS4",isFlipped:"_3lTcr",settings:"_35HVC",text:"MzVoW",bold:"_1rfbp",link:"_10Xs5",secondary:"_1etxB",firstTime:"_13pER",close:"_3wtAE",grammarlyIcon:"qSSkS",disable:"_36hcm",gdocs:"_1n5ib",gdocsBeta:"_2yinY",header:"_3tDci",headerUnavailable:"YZ2rP",cardsIcon:"moxcA",bubbleArrow:"_DY5Y",unavailablePopup:"jb6Nf",feedbackPopup:"_1oDAw",subHeader:"_3EOfE",feedbackSentViewHeader:"_1aboZ",feedbackField:"_3qJbU",scoreList:"_2AdqP",scoreListCell:"_1CgDl",score:"_2vzSZ",scoreBad:"DJccr",scoreGood:"_1G724",scoreOk:"_21AAx",active:"_2Fipp",disabled:"_CpPA",loginReminder:"_3OCCi",premium:"_1HTY_",subtitle:"_2AKj1",list:"_2W9px",listItem:"ewED8",onboarding:"_5Ep0Z",managedSSOControl:"_25QBP",illustration:"_2gnb-",signInWithSSO:"_24806",signInWithSSO2:"_3LOHu"}},function(e,t,n){"use strict";var i=Array.isArray;t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(42),r=n(174),o=n(94),s=n(138),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u)n[u].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(e){t=e instanceof s.a?c(e.errors):[e]}if(Object(i.a)(l)){u=-1;for(var d=l.length;++u<d;){var h=l[u];if(Object(r.a)(h))try{h.unsubscribe()}catch(e){t=t||[],e instanceof s.a?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new s.a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof s.a?t.errors:t)}),[])}},,function(e,t,n){"use strict";n.r(t);var i=n(14);n.d(t,"Observable",(function(){return i.a}));var r=n(284);n.d(t,"ConnectableObservable",(function(){return r.a}));var o=n(282);n.d(t,"GroupedObservable",(function(){return o.a}));var s=n(97);n.d(t,"observable",(function(){return s.a}));var a=n(33);n.d(t,"Subject",(function(){return a.a}));var c=n(237);n.d(t,"BehaviorSubject",(function(){return c.a}));var l=n(219);n.d(t,"ReplaySubject",(function(){return l.a}));var u=n(135);n.d(t,"AsyncSubject",(function(){return u.a}));var d=n(179);n.d(t,"asapScheduler",(function(){return d.a}));var h=n(44);n.d(t,"asyncScheduler",(function(){return h.a}));var p=n(290);n.d(t,"queueScheduler",(function(){return p.a}));var f=n(409);n.d(t,"animationFrameScheduler",(function(){return f.a}));var m=n(328);n.d(t,"VirtualTimeScheduler",(function(){return m.b})),n.d(t,"VirtualAction",(function(){return m.a}));var g=n(253);n.d(t,"Scheduler",(function(){return g.a}));var b=n(28);n.d(t,"Subscription",(function(){return b.a}));var v=n(11);n.d(t,"Subscriber",(function(){return v.a}));var _=n(95);n.d(t,"Notification",(function(){return _.a})),n.d(t,"NotificationKind",(function(){return _.b}));var y=n(160);n.d(t,"pipe",(function(){return y.a}));var w=n(75);n.d(t,"noop",(function(){return w.a}));var E=n(101);n.d(t,"identity",(function(){return E.a}));var x=n(381);n.d(t,"isObservable",(function(){return x.a}));var O=n(123);n.d(t,"ArgumentOutOfRangeError",(function(){return O.a}));var S=n(131);n.d(t,"EmptyError",(function(){return S.a}));var C=n(110);n.d(t,"ObjectUnsubscribedError",(function(){return C.a}));var j=n(138);n.d(t,"UnsubscriptionError",(function(){return j.a}));var k=n(285);n.d(t,"TimeoutError",(function(){return k.a}));var T=n(382);n.d(t,"bindCallback",(function(){return T.a}));var N=n(383);n.d(t,"bindNodeCallback",(function(){return N.a}));var P=n(151);n.d(t,"combineLatest",(function(){return P.b}));var A=n(129);n.d(t,"concat",(function(){return A.a}));var I=n(184);n.d(t,"defer",(function(){return I.a}));var F=n(48);n.d(t,"empty",(function(){return F.b}));var M=n(384);n.d(t,"forkJoin",(function(){return M.a}));var R=n(62);n.d(t,"from",(function(){return R.a}));var D=n(93);n.d(t,"fromEvent",(function(){return D.a}));var L=n(385);n.d(t,"fromEventPattern",(function(){return L.a}));var B=n(386);n.d(t,"generate",(function(){return B.a}));var U=n(387);n.d(t,"iif",(function(){return U.a}));var z=n(343);n.d(t,"interval",(function(){return z.a}));var H=n(148);n.d(t,"merge",(function(){return H.a}));var V=n(283);n.d(t,"never",(function(){return V.b}));var G=n(118);n.d(t,"of",(function(){return G.a}));var W=n(388);n.d(t,"onErrorResumeNext",(function(){return W.a}));var $=n(389);n.d(t,"pairs",(function(){return $.a}));var q=n(390);n.d(t,"partition",(function(){return q.a}));var Y=n(287);n.d(t,"race",(function(){return Y.a}));var K=n(391);n.d(t,"range",(function(){return K.a}));var Q=n(220);n.d(t,"throwError",(function(){return Q.a}));var X=n(238);n.d(t,"timer",(function(){return X.a}));var J=n(357);n.d(t,"using",(function(){return J.a}));var Z=n(222);n.d(t,"zip",(function(){return Z.b}));var ee=n(289);n.d(t,"scheduled",(function(){return ee.a})),n.d(t,"EMPTY",(function(){return F.a})),n.d(t,"NEVER",(function(){return V.a}));var te=n(53);n.d(t,"config",(function(){return te.a}))},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){e.exports={wrapper:"ltSxj",wrapperHide:"_2L5dv",hideWrapper:"_2QtxY",wrapperShow:"_2ubUk",showWrapper:"_1sGwQ",popup:"VaXUP",popupHideNotification:"_1-jlu",popupShowNotification:"_38KbI",topIconsPannel:"_1rnxx",popupWrapper:"_15Vu8",popupEmotions:"_2Y_Lo",popupContent:"_1Eo96",popupReportCheckbox:"_3FAWg",checkboxWrapper:"_23gs5",popupText:"f9D8j",popupTitle:"_3y6l-",popupSubTitle:"_34vN0",popupRecommendation:"_2hOX8",popupNotification:"_1R116",priority:"_1JBIl",emoji:"j30Wa",cardEmoji:"_2UidN",mouthless:"shyw6",emojiButtonWrapper:"_2okjE",emojiTop:"_1RKhv",emojiPointer:"_3r4Mt",emotion:"_3G0ji",emotionWrapper:"anZjf",emotionName:"s2Vus",emotionEmoji:"_3fJY-",emotionIntensity:"_2pZYf",emotionPoll:"_13O1b",emotionIntensityItem:"sKj8o",emotionIntensityActive:"_277zg",emotionIntensityWrapper:"_2HvtI",label:"cOwYE",labelBetaWrapper:"_2oHmO",labelBeta:"_3fBWB",close:"_2dCZQ",checkbox:"_2RY5X",checkboxActive:"_2C_8R",thumbs:"_2R7Ze",thumbsActive:"zSs2V",thumbsWrapper:"_1q6wE",thumbsHovered:"_3maYL",thumbsIsDown:"_1MUYU",tooltip:"yQft8",tooltipFade:"_2DPGZ",emojiButtonShow:"_1-uTj",emojiButtonHide:"_3cj3L",emogenieWrapper:"_2U_c5",emogenieDot:"_2s3VV",emogenieDotHide:"_3N1jW",emogenieDotAnimation:"_2gZyL",dotAnimation:"_1wwI0",emogenieEmoji:"_1Bok_",emogenieEmojiAnimation:"PMkt0",emojiAnimation:"_24xXB",emogenieGButton:"t6761",emogenieGButtonAnimation:"_1JZ3K",gbuttonAnimation:"_1QU_3",emogenieWrapperShow:"_1-04u",emogenieWrapperHide:"_2oT-N",welcomeEmotionAnimation:"GCWdj",emotionAnimation:"_18C0J"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(2),r=n(14),o=n(11),s=n(28),a=n(110),c=n(293),l=n(137),u=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return i.a(t,e),t}(o.a),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i.a(t,e),t.prototype[l.a]=function(){return new u(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new c.a(this,e))},t.prototype.asObservable=function(){var e=new r.a;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(r.a),h=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return i.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.a.EMPTY},t}(d)},,function(e,t,n){e.exports={start:"_2aMvB",info:"f2DLz",finish:"I4WND",startVideo:"_1AzDb",infoVideo:"_2nKB1",finishVideo:"d5i1E",step:"xyJ3x",content:"_1fSeZ",title:"_3q_ep",text:"_1kl-M",button:"aGC-Y",inactive:"_3BC6F",link:"M7KBh",personalize:"uWd9M",registration:"_3rqBp",fbSignin:"_1q5Ax",googleSignin:"_1URxb",progress:"AA0DS",bar:"W5Pcc",progressValue:"cI_Y5",barValue:"_2zxVl",grid:"Cmp32",item:"_3hzzZ",name:"_1u1ZY",description:"_1niEm",footer:"_2eB-t",skipSettings:"_39TeU",gdprSignupEnabled:"ay5xM",slider:"_22FZo",sliderItem:"_3oCBk",sliderActive:"p8AUn",unifiedFunnel:"_2yC7l",sub:"_3gLJP",login:"_1ScDO",skip:"_1HCs4",bottom:"_2xSZl",terms:"_3uCd0",fb:"_3aRWF",google:"_3zvo5",email:"_1WkcM",placeholder:"gbTSb"}},function(e,t,n){"use strict";var i=n(168),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(11);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.project=n,r.count=0,r.thisArg=i||r,r}return i.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"q",(function(){return l})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"k",(function(){return _})),n.d(t,"n",(function(){return y})),n.d(t,"j",(function(){return w})),n.d(t,"p",(function(){return E})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return O})),n.d(t,"o",(function(){return S})),n.d(t,"i",(function(){return C}));var i=n(10);function r(e,t){return{key:e,value:t}}function o(e,t){return r(e,t)}function s(e){return e.map(e=>[e.key,e.value].map(encodeURIComponent).join("=")).join("&")}function a(e,t){if(0===t.length)return e;const n=e.includes("?");return[e,s(t)].join(n?"&":"?")}function c(e){const t=[];return void 0!==e.medium&&t.push(o("utm_medium",e.medium)),void 0!==e.source&&t.push(o("utm_source",e.source)),void 0!==e.campaign&&t.push(o("utm_campaign",e.campaign)),t}function l(e){return c(e)}function u(e){return c({medium:"internal",source:e})}const d=r("fromExtension",""+!0);function h(e,t){return a(Object(i.f)().signup,[...l({medium:"internal",source:e,campaign:t}),d])}function p(){return a(Object(i.f)().signin,[...u("signinHook"),d])}function f(){return a(Object(i.f)().fbSignin,u("signinHook"))}function m(){return a(Object(i.f)().googleSignin,u("signinHook"))}function g(e){return a(Object(i.f)().fbSignup,u(e))}function b(e){return a(Object(i.f)().googleSignup,u(e))}const v=c({medium:"internal"})[0];function _(){return a(Object(i.f)().resetPassword,[v])}function y(){return a(Object(i.f)().terms,[v])}function w(){return a(Object(i.f)().policy,[v])}function E(e,t){return a(Object(i.f)().upgrade,l({medium:"internal",source:e,campaign:t}))}function x(e){return a(Object(i.f)().welcomeC,c({medium:e?"navigation":"store",source:Object(i.b)()}))}function O(e){return a(Object(i.f)().afterInstall+"/",[r("extension_install",""+!0),...c({medium:e?"navigation":"store",source:e?void 0:Object(i.b)()})])}function S(e){return a(Object(i.f)().uninstall,[...void 0===e?[]:[r("domain",e)],...c({medium:"internal",campaign:"extensionUninstall"})])}function C(e){return a(Object(i.f)().plansEnterprise,[r("app_type","extension"),r("browser",Object(i.b)()),...l({medium:"internal",source:"upHook",campaign:e})])}},,function(e,t,n){"use strict";n.r(t);var i=n(265),r=n(393),o=n(344),s=n(2),a=n(11);function c(e,t){return void 0===t&&(t=null),function(n){return n.lift(new l(e,t))}}var l=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?d:u}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),u=function(e){function t(t,n){var i=e.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return s.a(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(a.a),d=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.bufferSize=n,r.startBufferEvery=i,r.buffers=[],r.count=0,r}return s.a(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,i=this.buffers,r=this.count;this.count++,r%n==0&&i.push([]);for(var o=i.length;o--;){var s=i[o];s.push(e),s.length===t&&(i.splice(o,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var i=t.shift();i.length>0&&n.next(i)}e.prototype._complete.call(this)},t}(a.a),h=n(345),p=n(28),f=n(18),m=n(20);function g(e,t){return function(n){return n.lift(new b(e,t))}}var b=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new v(e,this.openings,this.closingSelector))},e}(),v=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.openings=n,r.closingSelector=i,r.contexts=[],r.add(Object(f.a)(r,n)),r}return s.a(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,i=0;i<n;i++)t[i].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,i,r){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,i=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(i),i.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new p.a,i={buffer:[],subscription:n};t.push(i);var r=Object(f.a)(this,e,i);!r||r.closed?this.closeBuffer(i):(r.context=i,this.add(r),n.add(r))},t}(m.a);function _(e){return function(t){return t.lift(new y(e))}}var y=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new w(e,this.closingSelector))},e}(),w=function(e){function t(t,n){var i=e.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return s.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,i,r){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new p.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(f.a)(this,t)),this.subscribing=!1},t}(m.a),E=n(394),x=n(151);function O(e){return function(t){return t.lift(new x.a(e))}}var S=n(331),C=n(395),j=n(286),k=n(266);function T(e,t){return Object(k.a)((function(){return e}),t)}function N(e){return function(t){return t.lift(new P(e,t))}}var P=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new A(e,this.predicate,this.source))},e}(),A=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.count=0,r.index=0,r}return s.a(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(a.a),I=n(358),F=n(396),M=n(132),R=n(332),D=n(14);function L(e,t){return t?function(n){return new z(n,t).lift(new B(e))}:function(t){return t.lift(new B(e))}}var B=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new U(e,this.delayDurationSelector))},e}(),U=function(e){function t(t,n){var i=e.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return s.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(e),this.removeSubscription(r),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(f.a)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(m.a),z=function(e){function t(t,n){var i=e.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return s.a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new H(e,this.source))},t}(D.a),H=function(e){function t(t,n){var i=e.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return s.a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(a.a);function V(){return function(e){return e.lift(new G)}}var G=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new W(e))},e}(),W=function(e){function t(t){return e.call(this,t)||this}return s.a(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(a.a);function $(e,t){return function(n){return n.lift(new q(e,t))}}var q=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new Y(e,this.keySelector,this.flushes))},e}(),Y=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.keySelector=n,r.values=new Set,i&&r.add(Object(f.a)(r,i)),r}return s.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(m.a),K=n(130);function Q(e,t){return Object(K.a)((function(n,i){return t?t(n[e],i[e]):n[e]===i[e]}))}var X=n(123),J=n(78),Z=n(165),ee=n(166);function te(e,t){if(e<0)throw new X.a;var n=arguments.length>=2;return function(i){return i.pipe(Object(J.a)((function(t,n){return n===e})),Object(ee.a)(1),n?Object(M.a)(t):Object(Z.a)((function(){return new X.a})))}}var ne=n(129),ie=n(118);function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(ne.a)(t,ie.a.apply(void 0,e))}}function oe(e,t){return function(n){return n.lift(new se(e,t,n))}}var se=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new ae(e,this.predicate,this.thisArg,this.source))},e}(),ae=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.source=r,o.index=0,o.thisArg=i||o,o}return s.a(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(a.a);function ce(){return function(e){return e.lift(new le)}}var le=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new ue(e))},e}(),ue=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return s.a(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(f.a)(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(m.a),de=n(81),he=n(37),pe=n(62);function fe(e,t){return t?function(n){return n.pipe(fe((function(n,i){return Object(pe.a)(e(n,i)).pipe(Object(he.a)((function(e,r){return t(n,e,i,r)})))})))}:function(t){return t.lift(new me(e))}}var me=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new ge(e,this.project))},e}(),ge=function(e){function t(t,n){var i=e.call(this,t)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return s.a(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=new de.a(this,void 0,void 0);this.destination.add(i),Object(f.a)(this,e,t,n,i)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(m.a);function be(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(i){return i.lift(new ve(e,t,n))}}var ve=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new _e(e,this.project,this.concurrent,this.scheduler))},e}(),_e=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.project=n,o.concurrent=i,o.scheduler=r,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return s.a(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,i=e.value,r=e.index;t.subscribeToProjection(n,i,r)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){n.next(e);try{var r=(0,this.project)(e,i);if(this.scheduler){var o={subscriber:this,result:r,value:e,index:i};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(r,e,i)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add(Object(f.a)(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,r){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(m.a),ye=n(397);function we(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new Ee(e,n,!1,t))}}var Ee=function(){function e(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return e.prototype.call=function(e,t){return t.subscribe(new xe(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),xe=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.predicate=n,s.source=i,s.yieldIndex=r,s.thisArg=o,s.index=0,s}return s.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,i=this.index++;try{t.call(n||this,e,i,this.source)&&this.notifyComplete(this.yieldIndex?i:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(a.a);function Oe(e,t){return function(n){return n.lift(new Ee(e,n,!0,t))}}var Se=n(333),Ce=n(282);function je(){return function(e){return e.lift(new ke)}}var ke=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Te(e))},e}(),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.a(t,e),t.prototype._next=function(e){},t}(a.a);function Ne(){return function(e){return e.lift(new Pe)}}var Pe=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ae(e))},e}(),Ae=function(e){function t(t){return e.call(this,t)||this}return s.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(a.a),Ie=n(131),Fe=n(48);function Me(e){return function(t){return 0===e?Object(Fe.b)():t.lift(new Re(e))}}var Re=function(){function e(e){if(this.total=e,this.total<0)throw new X.a}return e.prototype.call=function(e,t){return t.subscribe(new De(e,this.total))},e}(),De=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return s.a(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=t++%n;e.next(i[o])}e.complete()},t}(a.a),Le=n(101);function Be(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?Object(J.a)((function(t,n){return e(t,n,i)})):Le.a,Me(1),n?Object(M.a)(t):Object(Z.a)((function(){return new Ie.a})))}}var Ue=n(215),ze=n(95);function He(){return function(e){return e.lift(new Ve)}}var Ve=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ge(e))},e}(),Ge=function(e){function t(t){return e.call(this,t)||this}return s.a(t,e),t.prototype._next=function(e){this.destination.next(ze.a.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(ze.a.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(ze.a.createComplete()),e.complete()},t}(a.a),We=n(170),$e=n(160);function qe(e,t){return arguments.length>=2?function(n){return Object($e.a)(Object(We.a)(e,t),Me(1),Object(M.a)(t))(n)}:function(t){return Object($e.a)(Object(We.a)((function(t,n,i){return e(t,n,i+1)})),Me(1))(t)}}function Ye(e){return qe("function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var Ke=n(359),Qe=n(221),Xe=n(122);function Je(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?Object(Xe.a)((function(){return e}),t,n):("number"==typeof t&&(n=t),Object(Xe.a)((function(){return e}),n))}function Ze(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(i){return i.lift(new et(e,t,n))}}var et=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new tt(e,this.accumulator,this.seed,this.concurrent))},e}(),tt=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=i,o.concurrent=r,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return s.a(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(i,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){var i=new de.a(this,void 0,void 0);this.destination.add(i),Object(f.a)(this,e,t,n,i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,r){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(m.a);function nt(e){return qe("function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var it=n(92),rt=n(244),ot=n(42);function st(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(ot.a)(e[0])&&(e=e[0]),function(t){return t.lift(new at(e))}}var at=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new ct(e,this.nextSources))},e}(),ct=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return s.a(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new de.a(this,void 0,void 0);this.destination.add(t),Object(f.a)(this,e,void 0,void 0,t)}else this.destination.complete()},t}(m.a),lt=n(398),ut=n(297);function dt(e,t){return function(n){return[Object(J.a)(e,t)(n),Object(J.a)(Object(ut.a)(e,t))(n)]}}function ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(he.a)(function(e,t){return function(n){for(var i=n,r=0;r<t;r++){var o=i[e[r]];if(void 0===o)return;i=o}return i}}(e,n))(t)}}var pt=n(33);function ft(e){return e?Object(it.a)((function(){return new pt.a}),e):Object(it.a)(new pt.a)}var mt=n(237);function gt(e){return function(t){return Object(it.a)(new mt.a(e))(t)}}var bt=n(135);function vt(){return function(e){return Object(it.a)(new bt.a)(e)}}var _t=n(219);function yt(e,t,n,i){n&&"function"!=typeof n&&(i=n);var r="function"==typeof n?n:void 0,o=new _t.a(e,t,i);return function(e){return Object(it.a)((function(){return o}),r)(e)}}var wt=n(287);function Et(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(ot.a)(e[0])&&(e=e[0]),t.lift.call(wt.a.apply(void 0,[t].concat(e)))}}function xt(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(Fe.b)():e<0?t.lift(new Ot(-1,t)):t.lift(new Ot(e-1,t))}}var Ot=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new St(e,this.count,this.source))},e}(),St=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return s.a(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(a.a);function Ct(e){return function(t){return t.lift(new jt(e))}}var jt=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new kt(e,this.notifier,t))},e}(),kt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r.sourceIsBeingSubscribedTo=!0,r}return s.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new pt.a;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(f.a)(this,t)},t}(m.a);function Tt(e){return void 0===e&&(e=-1),function(t){return t.lift(new Nt(e,t))}}var Nt=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Pt(e,this.count,this.source))},e}(),Pt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return s.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,i=this.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(a.a);function At(e){return function(t){return t.lift(new It(e,t))}}var It=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Ft(e,this.notifier,this.source))},e}(),Ft=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r}return s.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,r=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{n=new pt.a;try{i=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}r=Object(f.a)(this,i)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=r,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,i,r){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},t}(m.a),Mt=n(183),Rt=n(204),Dt=n(44);function Lt(e,t){return void 0===t&&(t=Dt.a),function(n){return n.lift(new Bt(e,t))}}var Bt=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Ut(e,this.period,this.scheduler))},e}(),Ut=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.period=n,r.scheduler=i,r.hasValue=!1,r.add(i.schedule(zt,n,{subscriber:r,period:n})),r}return s.a(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(a.a);function zt(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function Ht(e,t){return function(n){return n.lift(new Vt(e,t))}}var Vt=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Gt(e,this.compareTo,this.comparator))},e}(),Gt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.compareTo=n,r.comparator=i,r._a=[],r._b=[],r._oneComplete=!1,r.destination.add(n.subscribe(new Wt(t,r))),r}return s.a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var i=e.shift(),r=t.shift(),o=!1;try{o=n?n(i,r):i===r}catch(e){this.destination.error(e)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(a.a),Wt=function(e){function t(t,n){var i=e.call(this,t)||this;return i.parent=n,i}return s.a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(a.a),$t=n(172),qt=n(399);function Yt(e){return function(t){return t.lift(new Kt(e,t))}}var Kt=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Qt(e,this.predicate,this.source))},e}(),Qt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.seenValue=!1,r.index=0,r}return s.a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Ie.a)},t}(a.a),Xt=n(346);function Jt(e){return function(t){return t.lift(new Zt(e))}}var Zt=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new X.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new a.a(e)):t.subscribe(new en(e,this._skipCount))},e}(),en=function(e){function t(t,n){var i=e.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return s.a(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var i=n%t,r=this._ring,o=r[i];r[i]=e,this.destination.next(o)}},t}(a.a);function tn(e){return function(t){return t.lift(new nn(e))}}var nn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new rn(e,this.notifier))},e}(),rn=function(e){function t(t,n){var i=e.call(this,t)||this;i.hasValue=!1;var r=new de.a(i,void 0,void 0);return i.add(r),i.innerSubscription=r,Object(f.a)(i,n,void 0,void 0,r),i}return s.a(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,n,i,r){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(m.a);function on(e){return function(t){return t.lift(new sn(e))}}var sn=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new an(e,this.predicate))},e}(),an=function(e){function t(t,n){var i=e.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return s.a(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(a.a),cn=n(299),ln=n(179),un=n(139),dn=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=ln.a);var r=e.call(this)||this;return r.source=t,r.delayTime=n,r.scheduler=i,(!Object(un.a)(n)||n<0)&&(r.delayTime=0),i&&"function"==typeof i.schedule||(r.scheduler=ln.a),r}return s.a(t,e),t.create=function(e,n,i){return void 0===n&&(n=0),void 0===i&&(i=ln.a),new t(e,n,i)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,i=this.source;return this.scheduler.schedule(t.dispatch,n,{source:i,subscriber:e})},t}(D.a);function hn(e,t){return void 0===t&&(t=0),function(n){return n.lift(new pn(e,t))}}var pn=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new dn(t,this.delay,this.scheduler).subscribe(e)},e}(),fn=n(400),mn=n(147);function gn(e,t){return t?Object(mn.a)((function(){return e}),t):Object(mn.a)((function(){return e}))}var bn=n(401),vn=n(402),_n=n(403),yn=n(267);function wn(e,t,n){return void 0===t&&(t=Dt.a),void 0===n&&(n=yn.a),function(i){return i.lift(new En(e,t,n.leading,n.trailing))}}var En=function(){function e(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return e.prototype.call=function(e,t){return t.subscribe(new xn(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),xn=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=i,s.leading=r,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return s.a(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(On,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(a.a);function On(e){e.subscriber.clearThrottle()}var Sn=n(184);function Cn(e){return void 0===e&&(e=Dt.a),function(t){return Object(Sn.a)((function(){return t.pipe(Object(We.a)((function(t,n){var i=t.current;return{value:n,current:e.now(),last:i}}),{current:e.now(),value:void 0,last:void 0}),Object(he.a)((function(e){var t=e.current,n=e.last,i=e.value;return new jn(i,t-n)})))}))}}var jn=function(e,t){this.value=e,this.interval=t},kn=n(404),Tn=n(288);function Nn(e){return void 0===e&&(e=Dt.a),Object(he.a)((function(t){return new Pn(t,e.now())}))}var Pn=function(e,t){this.value=e,this.timestamp=t};function An(e,t,n){return 0===n?[t]:(e.push(t),e)}function In(){return qe(An,[])}function Fn(e){return function(t){return t.lift(new Mn(e))}}var Mn=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new Rn(e),i=t.subscribe(n);return i.closed||n.add(Object(f.a)(n,this.windowBoundaries)),i},e}(),Rn=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new pt.a,t.next(n.window),n}return s.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new pt.a;t.next(n)},t}(m.a);function Dn(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Ln(e,t))}}var Ln=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new Bn(e,this.windowSize,this.startWindowEvery))},e}(),Bn=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.destination=t,r.windowSize=n,r.startWindowEvery=i,r.windows=[new pt.a],r.count=0,t.next(r.windows[0]),r}return s.a(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,i=this.windowSize,r=this.windows,o=r.length,s=0;s<o&&!this.closed;s++)r[s].next(e);var a=this.count-i+1;if(a>=0&&a%t==0&&!this.closed&&r.shift().complete(),++this.count%t==0&&!this.closed){var c=new pt.a;r.push(c),n.next(c)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(a.a),Un=n(55);function zn(e){var t=Dt.a,n=null,i=Number.POSITIVE_INFINITY;return Object(Un.a)(arguments[3])&&(t=arguments[3]),Object(Un.a)(arguments[2])?t=arguments[2]:Object(un.a)(arguments[2])&&(i=arguments[2]),Object(Un.a)(arguments[1])?t=arguments[1]:Object(un.a)(arguments[1])&&(n=arguments[1]),function(r){return r.lift(new Hn(e,n,i,t))}}var Hn=function(){function e(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new Gn(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),Vn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return s.a(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(pt.a),Gn=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=n,s.windowCreationInterval=i,s.maxWindowSize=r,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==i&&i>=0){var c={subscriber:s,window:a,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:s,scheduler:o};s.add(o.schedule(qn,n,c)),s.add(o.schedule($n,i,l))}else{var u={subscriber:s,window:a,windowTimeSpan:n};s.add(o.schedule(Wn,n,u))}return s}return s.a(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,i=0;i<n;i++){var r=t[i];r.closed||(r.next(e),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new Vn;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(a.a);function Wn(e){var t=e.subscriber,n=e.windowTimeSpan,i=e.window;i&&t.closeWindow(i),e.window=t.openWindow(),this.schedule(e,n)}function $n(e){var t=e.windowTimeSpan,n=e.subscriber,i=e.scheduler,r=e.windowCreationInterval,o=n.openWindow(),s={action:this,subscription:null},a={subscriber:n,window:o,context:s};s.subscription=i.schedule(qn,t,a),this.add(s.subscription),this.schedule(e,r)}function qn(e){var t=e.subscriber,n=e.window,i=e.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),t.closeWindow(n)}function Yn(e,t){return function(n){return n.lift(new Kn(e,t))}}var Kn=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Qn(e,this.openings,this.closingSelector))},e}(),Qn=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.openings=n,r.closingSelector=i,r.contexts=[],r.add(r.openSubscription=Object(f.a)(r,n,n)),r}return s.a(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,i=0;i<n;i++)t[i].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,r=-1;++r<i;){var o=n[r];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var r=t[i];r.window.complete(),r.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var i=e[n];i.window.unsubscribe(),i.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,i,r){if(e===this.openings){var o=void 0;try{o=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var s=new pt.a,a=new p.a,c={window:s,subscription:a};this.contexts.push(c);var l=Object(f.a)(this,o,c);l.closed?this.closeWindow(this.contexts.length-1):(l.context=c,a.add(l)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],i=n.window,r=n.subscription;t.splice(e,1),i.complete(),r.unsubscribe()}},t}(m.a);function Xn(e){return function(t){return t.lift(new Jn(e))}}var Jn=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Zn(e,this.closingSelector))},e}(),Zn=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return s.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.openWindow(r)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,i=this.window=new pt.a;this.destination.next(i);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=Object(f.a)(this,n))},t}(m.a),ei=n(360),ti=n(222);function ni(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(ti.b.apply(void 0,[t].concat(e)))}}function ii(e){return function(t){return t.lift(new ti.a(e))}}n.d(t,"audit",(function(){return i.a})),n.d(t,"auditTime",(function(){return r.a})),n.d(t,"buffer",(function(){return o.a})),n.d(t,"bufferCount",(function(){return c})),n.d(t,"bufferTime",(function(){return h.a})),n.d(t,"bufferToggle",(function(){return g})),n.d(t,"bufferWhen",(function(){return _})),n.d(t,"catchError",(function(){return E.a})),n.d(t,"combineAll",(function(){return O})),n.d(t,"combineLatest",(function(){return S.a})),n.d(t,"concat",(function(){return C.a})),n.d(t,"concatAll",(function(){return j.a})),n.d(t,"concatMap",(function(){return k.a})),n.d(t,"concatMapTo",(function(){return T})),n.d(t,"count",(function(){return N})),n.d(t,"debounce",(function(){return I.a})),n.d(t,"debounceTime",(function(){return F.a})),n.d(t,"defaultIfEmpty",(function(){return M.a})),n.d(t,"delay",(function(){return R.a})),n.d(t,"delayWhen",(function(){return L})),n.d(t,"dematerialize",(function(){return V})),n.d(t,"distinct",(function(){return $})),n.d(t,"distinctUntilChanged",(function(){return K.a})),n.d(t,"distinctUntilKeyChanged",(function(){return Q})),n.d(t,"elementAt",(function(){return te})),n.d(t,"endWith",(function(){return re})),n.d(t,"every",(function(){return oe})),n.d(t,"exhaust",(function(){return ce})),n.d(t,"exhaustMap",(function(){return fe})),n.d(t,"expand",(function(){return be})),n.d(t,"filter",(function(){return J.a})),n.d(t,"finalize",(function(){return ye.a})),n.d(t,"find",(function(){return we})),n.d(t,"findIndex",(function(){return Oe})),n.d(t,"first",(function(){return Se.a})),n.d(t,"groupBy",(function(){return Ce.b})),n.d(t,"ignoreElements",(function(){return je})),n.d(t,"isEmpty",(function(){return Ne})),n.d(t,"last",(function(){return Be})),n.d(t,"map",(function(){return he.a})),n.d(t,"mapTo",(function(){return Ue.a})),n.d(t,"materialize",(function(){return He})),n.d(t,"max",(function(){return Ye})),n.d(t,"merge",(function(){return Ke.a})),n.d(t,"mergeAll",(function(){return Qe.a})),n.d(t,"mergeMap",(function(){return Xe.a})),n.d(t,"flatMap",(function(){return Xe.a})),n.d(t,"mergeMapTo",(function(){return Je})),n.d(t,"mergeScan",(function(){return Ze})),n.d(t,"min",(function(){return nt})),n.d(t,"multicast",(function(){return it.a})),n.d(t,"observeOn",(function(){return rt.b})),n.d(t,"onErrorResumeNext",(function(){return st})),n.d(t,"pairwise",(function(){return lt.a})),n.d(t,"partition",(function(){return dt})),n.d(t,"pluck",(function(){return ht})),n.d(t,"publish",(function(){return ft})),n.d(t,"publishBehavior",(function(){return gt})),n.d(t,"publishLast",(function(){return vt})),n.d(t,"publishReplay",(function(){return yt})),n.d(t,"race",(function(){return Et})),n.d(t,"reduce",(function(){return qe})),n.d(t,"repeat",(function(){return xt})),n.d(t,"repeatWhen",(function(){return Ct})),n.d(t,"retry",(function(){return Tt})),n.d(t,"retryWhen",(function(){return At})),n.d(t,"refCount",(function(){return Mt.a})),n.d(t,"sample",(function(){return Rt.a})),n.d(t,"sampleTime",(function(){return Lt})),n.d(t,"scan",(function(){return We.a})),n.d(t,"sequenceEqual",(function(){return Ht})),n.d(t,"share",(function(){return $t.a})),n.d(t,"shareReplay",(function(){return qt.a})),n.d(t,"single",(function(){return Yt})),n.d(t,"skip",(function(){return Xt.a})),n.d(t,"skipLast",(function(){return Jt})),n.d(t,"skipUntil",(function(){return tn})),n.d(t,"skipWhile",(function(){return on})),n.d(t,"startWith",(function(){return cn.a})),n.d(t,"subscribeOn",(function(){return hn})),n.d(t,"switchAll",(function(){return fn.a})),n.d(t,"switchMap",(function(){return mn.a})),n.d(t,"switchMapTo",(function(){return gn})),n.d(t,"take",(function(){return ee.a})),n.d(t,"takeLast",(function(){return Me})),n.d(t,"takeUntil",(function(){return bn.a})),n.d(t,"takeWhile",(function(){return vn.a})),n.d(t,"tap",(function(){return _n.a})),n.d(t,"throttle",(function(){return yn.b})),n.d(t,"throttleTime",(function(){return wn})),n.d(t,"throwIfEmpty",(function(){return Z.a})),n.d(t,"timeInterval",(function(){return Cn})),n.d(t,"timeout",(function(){return kn.a})),n.d(t,"timeoutWith",(function(){return Tn.a})),n.d(t,"timestamp",(function(){return Nn})),n.d(t,"toArray",(function(){return In})),n.d(t,"window",(function(){return Fn})),n.d(t,"windowCount",(function(){return Dn})),n.d(t,"windowTime",(function(){return zn})),n.d(t,"windowToggle",(function(){return Yn})),n.d(t,"windowWhen",(function(){return Xn})),n.d(t,"withLatestFrom",(function(){return ei.a})),n.d(t,"zip",(function(){return ni})),n.d(t,"zipAll",(function(){return ii}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d}));var i,r,o,s,a,c,l,u,d,h=n(12),p=n(64),f=n(79);!function(e){e.synonym="Synonym",e.plagiarism="Plagiarism",e.grammar="Grammar",e.contextualSpelling="ContextualSpelling",e.sentenceStructure="SentenceStructure",e.punctuation="Punctuation",e.style="Style",e.enhancement="Enhancement",e.spelling="Spelling",e.voxStyle="VoxStyle",e.other="Other"}(i||(i={})),function(e){e.critical="critical",e.advanced="advanced"}(r||(r={})),function(e){const t=h.a.create("LegacySynonyms");e.create=function(e,n,i){const r=i.synonyms;return r?{id:e,kind:"synonym",token:r.token||"",position:n||0,meanings:r.meanings||[],url:r.url||"",replacements:i.replacements||[]}:(t.warn("no synonym data in RawMatch",i),{id:e,kind:"synonym",token:"",position:n,meanings:[],url:"",replacements:[]})},e.toRawData=function(e){return{id:e.id,action:"synonyms",group:void 0,synonyms:{pos:e.position.toString(),token:e.token,url:e.url,meanings:e.meanings},replacements:e.replacements,begin:e.position,end:e.position+e.token.length,text:e.token}}}(o||(o={})),function(e){e.correctness="correctness",e.clarity="clarity",e.engagement="engagement",e.tone="tone",e.vox="vox",e.other="other"}(s||(s={})),function(e){e.critical="critical",e.advanced="advanced",e.clarity="clarity",e.engagement="engagement",e.tone="tone",e.vox="vox"}(a||(a={})),function(e){e.create=(e,t,a)=>{const c="critical"===e.impact?r.critical:r.advanced,u=function(e){return e&&o[e]||s.other}(e.cardLayout.outcome);return{_tag:p.b.capi,id:String(e.id),highlightRange:{start:e.highlightBegin,end:e.highlightEnd},cardLayout:{group:e.cardLayout.group,outcome:u},highlightText:e.highlightText,transformRange:{start:e.begin,end:e.end},transformText:e.text,hasTransforms:e.replacements.length>0,revision:`${t}-${e.rev}`,priority:parseInt(e.extra_properties&&e.extra_properties.priority||"0",10)||0,isFree:!!e.free,isHidden:!!e.hidden,isMuted:!!e.muted,isFreePremium:e.extra_properties&&!!e.extra_properties.free_occasional_premium_alert,isLockedPremium:e.extra_properties&&!!e.extra_properties.is_locked_premium_alert,isVox:u===s.vox,group:e.group||"synonyms"!==e.action?n(e.group):i.synonym,outcome:u,category:e.category,categoryHuman:e.categoryHuman,patternName:e.pname,point:e.point,sentenceNo:e.sentence_no,impact:c,displayType:l(c,u),isEmogenie:!!e.extra_properties.emoji,_legacyAlert:e,_denaliAlert:a}};const t={Spelling:i.contextualSpelling,ContextualSpelling:i.contextualSpelling,Grammar:i.grammar,Style:i.style,SentenceStructure:i.sentenceStructure,Punctuation:i.punctuation,Enhancement:i.enhancement,VoxStyle:i.voxStyle};function n(e){return t[e]||i.other}e.createAlertGroup=n;const o={Correctness:s.correctness,Clarity:s.clarity,Engagement:s.engagement,Tone:s.tone,"Style guide":s.vox};e.toRawCapiAlert=function(e){return Object.assign(Object.assign({},e._legacyAlert),{begin:e.transformRange.start,end:e.transformRange.end,highlightBegin:e.highlightRange.start,highlightEnd:e.highlightRange.end})};const c={[s.correctness]:a.critical,[s.clarity]:a.clarity,[s.engagement]:a.engagement,[s.tone]:a.tone,[s.vox]:a.vox,[s.other]:a.advanced};function l(e,t){return e===r.critical?a.critical:c[t]}e.ordering={greaterThan:(e,t)=>!e.isFree&&t.isFree||e.isFree&&!t.isFree?e.isVox||t.isVox?e.isVox:e.isFree:e.group===i.spelling&&t.group===i.spelling||e.group===i.contextualSpelling&&t.group===i.contextualSpelling?e.priority>=t.priority:e.isVox&&t.isVox?e.priority>=t.priority:e.group===i.spelling||t.group!==i.spelling&&e.priority<t.priority,areConflicting:(e,t)=>(!e.isFree&&!t.isFree||e.isFree&&t.isFree||e.isVox||t.isVox)&&(f.b.equals(e.transformRange,t.transformRange)||f.b.equals(e.highlightRange,t.highlightRange))}}(c||(c={})),function(e){let t;!function(e){e.start="start",e.add="add",e.remove="remove",e.finished="finished",e.emogenie="emogenie"}(t=e.Type||(e.Type={})),e.start=function(e){return{_tag:t.start,isEnterprise:e.isEnterprise,domainName:e.domainName}},e.add=function(e){return{_tag:t.add,alert:e}},e.remove=function(e){return{_tag:t.remove,removedId:e}},e.finished=function(e){return{_tag:t.finished,finished:e}},e.emogenie=function(e){return{_tag:t.emogenie,emogenieReport:{emotions:e.emotions,hidden:e.hidden,recommendation:e.recommendation}}}}(l||(l={})),function(e){e.british="british",e.american="american",e.australian="australian",e.canadian="canadian"}(u||(u={})),function(e){e.idle="idle",e.inProgress="inProgress"}(d||(d={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));const i={bridge:"bridge",background:"message:to-priv",broadcast:"message:to-non-priv"};var r;!function(e){e[e.success=0]="success",e[e.successWithEmpty=1]="successWithEmpty",e[e.alreadyMigrated=2]="alreadyMigrated"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(136),r=new(n(134).a)(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(22);const r=new Proxy({},{get:(e,t)=>(...e)=>i.emitBackground("gnar-track",{method:t,props:e})})},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var i,r,o,s;n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),function(e){e.zero={top:0,left:0},e.minus=function(e,t){return{top:e.top-t.top,left:e.left-t.left}},e.plus=function(e,t){return{top:e.top+t.top,left:e.left+t.left}},e.create=function(e){return{top:e.top,left:e.left}}}(i||(i={})),function(e){function t(e){return{top:e.top,left:e.left}}e.create=t,e.fromClientPoint=function(e,n,i){return t({top:e.top-n.top+i.top,left:e.left-n.left+i.left})},e.zero={top:0,left:0}}(r||(r={})),function(e){function t(e){return{top:e.top,left:e.left}}e.create=t,e.fromOffsetPoint=function(e,n,i){return t({top:e.top+n.top-i.top,left:e.left+n.left-i.left})},e.fromPage=function(e,n){return t({top:e.top-n.top,left:e.left-n.left})}}(o||(o={})),function(e){function t(e){return{top:e.top,left:e.left}}e.create=t,e.getHighlightsPosition=function(e,n,i,r={top:0,left:0}){return t({top:e.top+n.top+i.top+r.top,left:e.left+n.left+i.left+r.left})},e.fromClient=function(e,n){return t({top:e.top+n.top,left:e.left+n.left})},e.fromOffset=function(e,t,n,i={top:0,left:0}){return{top:e.top+t.top-n.top+i.top,left:e.left+t.left-n.left+i.left}}}(s||(s={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(14),r=new i.a((function(e){return e.complete()}));function o(e){return e?function(e){return new i.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):r}},,function(e,t,n){e.exports={container:"_1e6ep",footer:"_2dejd",link:"_34AaF",successState:"_3FM6s",info:"tQLSA",signin:"_209_z",title:"_32UD5",errors:"_3MIeQ",subTitle:"_2xuBT",listItem:"_1k17M",totalErrors:"_1TEwy",listIcon:"_1hrDx",form:"rk-8t",login:"_2SeqS",register:"_Z0DH",content:"_2Zm5V",fb:"_3cIum",google:"_3Dyn0",email:"_2rPJU",or:"_1l0mA",button:"_3AlTs",gdprSignupEnabled:"Eu7CF",loader:"_3L83n",gr__spin:"YXrjG",gdprSignupLabel:"_32ARo",formFooter:"_27_2H",formLink:"-ZFrD",validationError:"_3yT7e",btnClose:"_3dp4C",errorImg:"_242XX",signupImg:"_2glXn",loginImg:"_2V7ZM"}},function(e,t,n){e.exports={title:"_1hgd_",titleVox:"_2E-bR",titleIcon:"_8E84J",replacement:"_3qVl5",singleReplacement:"_31RDm",listItemReplacement:"_39wr-",sideCommas:"_1z-hz",orReplacement:"qaIZN",insertReplacement:"_2vDhI",longReplacement:"_6h7yo",didYouMean:"_1ZTEV",wordPart:"_3B9tn",wordBeforeInsert:"_2q0Qr",insertPart:"_33x6N",insertPunctuation:"_3hA_y",deleteReplacement:"_2X5uZ",deletePart:"_3kd46",wordBeforeDelete:"_3Y--k",deletePunctuation:"gP7oE",deleteColonOrSemicolon:"_1TRjy",deleteParenthesis:"_2Gk1U",deleteQuestion:"_1RVl3",deleteExclamation:"_30Tga",deletePeriod:"_3hZ-4",deleteQuote:"_1NDaw",deleteDash:"_3dzHS",deleteEllipsis:"_3gTT6",deleteQuoteWithPunctuation:"eqX81",deleteApostrophe:"_3qPbk",deletePunctuationBeforeLetter:"_1BHT1",deleteLetter:"dneXE",deleteDoubleComma:"_9jaEM",insertQuestion:"_3HfQI",listReplacement:"zWhnG",nextIsWord:"K0PjN",arrowPart:"_2s4vw",bold:"_36c58",orSeparator:"_1zttk",didYouMeanLabel:"_22Xa1",listItemReplacementNoHeader:"_1F5HS",listItemReplacementWrapper:"_3mOJO",flattenListItemReplacementWrapper:"_2bHdN"}},function(e,t,n){"use strict";var i=n(59),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i.a?i.a.toStringTag:void 0,c=Object.prototype.toString,l=i.a?i.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[a]=n:delete e[a]),r}(e):function(e){return c.call(e)}(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},,function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c}));var i,r,o=n(0),s=n(73);!function(e){const t="grammarly-extension";e.fromDocument=function(e,n=t){return()=>e.createElement(n)},e.fromElement=function(e,n=t){return()=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.createElement(n))||null}}}(i||(i={})),function(e){e.appendChild=function(e){return t=>e.appendChild(t)},e.insertAfter=function(e){return t=>e.insertAdjacentElement("afterend",t)}}(r||(r={}));class a{constructor(e,t,n,i){this._elementCreator=e,this._injector=t,this._afterLoad=n,this._beforeUnload=i,this._root=null,this._init()}_init(){this._root=this._elementCreator(),this._root&&(this._injector(this._root),this._afterLoad(this._root))}dispose(){this._root&&(this._beforeUnload&&this._beforeUnload(this._root),this._root.parentNode?this._root.parentNode.removeChild(this._root):this._root.remove(),this._root=null)}}class c extends a{constructor(e,t,n,i,r){super(e,t,e=>{s.render(o.createElement(n,{}),e),i&&i(e)},e=>{r&&r(e),s.unmountComponentAtNode(e)})}}},function(e,t,n){"use strict";var i,r=n(86),o=n(36).a["__core-js_shared__"],s=(i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",a=n(31),c=n(87),l=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,h=u.toString,p=d.hasOwnProperty,f=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=function(e){return!(!Object(a.a)(e)||function(e){return!!s&&s in e}(e))&&(Object(r.a)(e)?f:l).test(Object(c.a)(e))};t.a=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return m(n)?n:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));class i extends Error{constructor(e){super(`Assertion failed: ${e?"string"==typeof e?e:e():"(unnamed)"}`)}}function r(e,t){if(!e)throw new i(t)}function o(e,t){if(null==e)throw new i(()=>t?`Expected ${t} to be non-null`:"Expected non-null");return e}},function(e,t,n){"use strict";var i=n(36).a.Symbol;t.a=i},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return b}));var i=n(10),r=n(227),o=n(195);const s=e=>e.replace("www.","");function a(e){const t=e&&e.ownerDocument||document,n=t.location||t.defaultView.location;return n?s(n.hostname):""}function c(e){if(Object(i.l)()&&/^about:/.test(e))return e;const t=document.createElement("a");return t.href=e,s(t.hostname)}const l=()=>r.b.includes(a()),u=()=>/\/document\//.test(m())&&"docs.google.com"===a(),d=()=>/\.atlassian\.net/.test(a()),h=()=>/\.blackboard\.com/.test(a()),p=/d\/(.*?)\//,f=()=>{if(!document||!document.location)return null;if(p.test(document.location.href)){const e=document.location.href.match(p)[1];return o.createHash("superfasthash").hash(e)}return null};function m(e){const t=e&&e.ownerDocument||document,n=t.location||t.defaultView.location;return n?n.pathname+n.search:""}function g(){const e=new RegExp("^(?:[a-z]+:)?//","i");let t="";const n=document.getElementsByTagName("link");for(let e=0;e<n.length;e++){const i=n[e],r=/(\"icon )|( icon\")|(\"icon\")|( icon )/i;-1!==('"'+i.getAttribute("rel")+'"').search(r)&&(t=i.getAttribute("href"))}return t||(t="favicon.ico"),e.test(t)?t:"/"!==t[0]?"//"+document.location.host+document.location.pathname+t:"//"+document.location.host+t}function b(){const e=a();return"Back to "+(e&&{"mail.google.com":"Gmail","facebook.com":"Facebook","twitter.com":"Twitter"}[e]||document.title)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i,r,o=n(206),s=n(4);!function(e){let t;function n(e){return e._tag===t.ins}function i(e){return e._tag===t.del}!function(e){e.ins="ins",e.del="del"}(t=e.Type||(e.Type={})),e.isIns=n,e.ins=function(e,n){return{_tag:t.ins,pos:e,text:n}},e.isDel=i,e.del=function(e,n){return{_tag:t.del,pos:e,length:n}},e.applyChanges=function(e,t){return t.reduce((e,t)=>n(t)?e.slice(0,t.pos)+t.text+e.slice(t.pos):i(t)?e.slice(0,t.pos)+e.slice(t.pos+t.length):Object(s.g)(t),e)},e.getTransformOffset=function(e){return n(e)?e.text.length:i(e)?-e.length:Object(s.g)(e)},e.getRange=function(e){return{start:e.pos,end:e.pos+(n(e)?e.text.length:e.length)}}}(i||(i={})),function(e){const t=new o.diff_match_patch;e.fromDiff=function(e,n){const r=t.diff_main(e,n,void 0,.05);t.diff_cleanupEfficiency(r);let s=0;const a=[];for(const e of r)e[0]===o.DIFF_EQUAL?s+=e[1].length:e[0]===o.DIFF_INSERT?(a.push(i.ins(s,e[1])),s+=e[1].length):a.push(i.del(s,e[1].length));return a}}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(14),r=n(192),o=n(289);function s(e,t){return t?Object(o.a)(e,t):e instanceof i.a?e:new i.a(Object(r.a)(e))}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i,r,o=n(4),s=n(164),a=n(79),c=n(41);!function(e){e.capi="capiAlert",e.autocorrect="autocorrectAlert"}(i||(i={})),function(e){function t(e){return e._tag===i.capi}e.isCapiAlert=t,e.isAutocorrectAlert=function(e){return e._tag===i.autocorrect},e.ordering={greaterThan:(e,n)=>t(e)?t(n)?c.a.ordering.greaterThan(e,n):n.state===s.a.applied:t(n)?e.state===s.a.initial:e.state===s.a.applied,areConflicting:(e,n)=>t(e)&&t(n)?c.a.ordering.areConflicting(e,n):e._tag===n._tag&&(a.b.equals(e.transformRange,n.transformRange)||a.b.equals(e.highlightRange,n.highlightRange))},e.alertMapToCapiAlerts=t=>o.f.values(t).filter(t=>!!t&&e.isCapiAlert(t))}(r||(r={}))},function(e,t,n){"use strict";var i=n(22),r=n(10),o=n(3),s=n(16);class a{constructor(e,t,n,i,r){this._baseUrl=e,this._appName=t,this._appVersion=n,this._env=i,this._fetch=r,this._context={userId:void 0,containerId:void 0},this._sessionId=Object(s.r)(),this._logEndpoint=Object(o.d)(this._baseUrl),this._crashEndpoint=Object(o.c)(this._baseUrl)}setUserId(e){this._context=Object.assign({},this._context,{userId:e})}setContainerId(e){this._context=Object.assign({},this._context,{containerId:e})}getContext(){return this._context}_sendRaw(e,t){return this._fetch(e,{mode:"cors",headers:{"Content-Type":"application/json"},method:"post",cache:"no-cache",body:JSON.stringify(t)}).then(e=>void 0,e=>{})}sendEvent(e){const t=Object(o.b)(e,{application:this._appName,version:this._appVersion,env:this._env,context:this.getContext()});return this._sendRaw(this._logEndpoint,t)}sendCrashLog(e){const t=e.map(e=>Object(o.b)(e,{application:this._appName,version:this._appVersion,sessionId:this._sessionId,env:this._env,context:this.getContext()}));return this._sendRaw(this._crashEndpoint,t)}sendUsageEvent(e,t,n,i){const r=Object(o.b)({logger:e,message:t,level:n,extra_usage:i},{application:this._appName,version:this._appVersion,env:this._env});return this._sendRaw(this._logEndpoint,r)}}var c=n(240);class l{constructor(e,t,n,i,r){this._baseUrl=e,this._appName=t,this._appVersion=n,this._env=i,this._fetch=r,this._context={userId:void 0,containerId:void 0}}setUserId(e){this._context=Object.assign({},this._context,{userId:e})}setContainerId(e){this._context=Object.assign({},this._context,{containerId:e})}getContext(){return this._context}send(e){const t=Object(o.b)(e,{application:this._appName,version:this._appVersion,env:this._env,context:this.getContext()});return this._fetch(this._baseUrl,{mode:"no-cors",method:"post",headers:{"Content-Type":"application/json"},cache:"no-cache",body:JSON.stringify(t)})}}var u=n(150),d=n(12),h=n(121);n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return _}));const p=d.a.create("lib.tracking.call");let f,m;var g;!function(e){function t(){return f||(f=Object(r.i)()?new a(Object(r.f)().newFelog,Object(r.a)(),Object(r.h)(),Object(r.c)(),window.fetch.bind(window)):void 0),f}function n(){return m||(m=Object(r.i)()?new l(Object(r.f)().sumoLogic,Object(r.a)(),Object(r.h)(),Object(r.c)(),window.fetch.bind(window)):void 0),m}let i;!function(e){e.sendFelog=function(e,n,i,r){const o=t();if(!o)throw Error("sendFelog unavailable");o.sendEvent({logger:e,message:n,level:i,extra:r}).catch(t=>Object(c.a)(e,n,i,r,o.getContext()))},e.sendFelogEvent=function(e){const n=t();if(!n)throw Error("felog unavailable");n.sendEvent(e).catch(t=>Object(c.b)(e,n.getContext()))},e.sendSumoLogic=function(e,t,i,r){const o=n();if(!o)throw Error("sumoLogicClient unavailable");o.send({logger:e,message:t,level:i,extra:r}).catch(n=>Object(c.a)(e,t,i,r,o.getContext()))},e.sendFelogCrashLogs=function(e){const n=t();n&&n.sendCrashLog(e)},e.sendFelogUsageEvent=function(e,n,i,r){const o=t();if(!o)throw Error("felogClient unavailable");o.sendUsageEvent(e,n,i,r).catch(t=>Object(c.a)(e,n,i))},e.setUserId=function(e){const i=t();i&&i.setUserId(e);const r=n();r&&r.setUserId(e)},e.setContainerId=function(e){const i=t();i&&i.setContainerId(e);const r=n();r&&r.setContainerId(e)}}(i=e.methods||(e.methods={})),e.CALL_HANDLER_ID="tracking/RPC"}(g||(g={}));const b=Object.keys(g.methods).reduce((e,t)=>(e[t]=(...e)=>v(g.CALL_HANDLER_ID,t,...e),e),{});function v(e,...t){const n=t=>{p.warn(`tracking call ${e} failed, reason: `,t)};if(Object(r.i)())Object(s.g)(()=>{try{switch(_(e,t),e){case g.CALL_HANDLER_ID:const n=t[0],i=t.slice(1);g.methods[n](...i);break;default:!function(e,t){const[n,i]=e.split(".");if("gnar"===n)if(u.a.gnar)if("track"===i){const[e,n]=t;u.a.gnar.track(Object.assign({eventName:Object(r.d)()+"/"+e},n))}else if("pingMaybe"===i)u.a.gnar.pingMaybe();else if("setUser"===i)try{u.a.gnar.setUser(t[0],t[1])}catch(e){Object(h.a)().gnar.errorSetUser(JSON.stringify(e))}else p.error(`gnar client does not have method '${i}' for '${e}' in runMessage`);else p.error(`gnar client not available for '${e}' in runMessage`);else p.error(`unrecognized '${e}' in runMessage`)}(e,t)}}catch(e){n(e)}},20);else{const r=1e4;let o;const s=()=>clearInterval(o),a=e=>{s(),n(e)};o=window.setTimeout(()=>a("timeout call through bg page"),r),i.emitBackground("tracking-call",{msg:e,data:t},s)}}function _(e,t){p.info(e,t)}},function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"j",(function(){return E}));var i=n(93),r=n(148),o=n(83),s=n(69),a=n(70),c=n(47),l=n(187),u=n(162);function d(e){return[Object(i.a)(e,"scroll"),Object(i.a)(e,"mousewheel"),Object(i.a)(e,"touchmove")]}function h(e){return Object(r.a)(...d(e),o.a.create(e,{attributes:!1,childList:!0,subtree:!0,characterData:!0}),Object(i.a)(e,"keydown"),Object(i.a)(e,"keyup"))}function p(e){return{left:parseFloat(e.paddingLeft)||0,top:parseFloat(e.paddingTop)||0,right:parseFloat(e.paddingRight)||0,bottom:parseFloat(e.paddingBottom)||0}}const f=s.a.hz4,m=s.a.sec2,g=s.a.hz30,b=4;function v(e,t=b,n=e.container,i={top:0,left:0}){return{zIndex:e.zIndex.map(e=>e+1,a.a),position:e.textFieldRect.map(e=>{const n=Math.max(e.padding.right,t),r=Math.max(e.padding.bottom,t);return Object.assign(Object.assign({},c.c.create({top:e.position.top+e.height-r+i.top,left:e.position.left+e.width-n+i.left})),{effectivePadding:{right:n,bottom:r,left:e.padding.left,top:e.padding.top},textFieldHeight:e.height,textFieldWidth:e.width,_tag:u.a.absolute})},a.a),container:n,getShouldFlipMenu:(e,t)=>e<t}}function _(e){return l.a.create(()=>(function e(t){const n=getComputedStyle(t).zIndex,i="auto"!==n&&parseInt(n||"0",10)||null;return null!==i?i:t.parentNode&&t.parentNode.nodeType===Node.ELEMENT_NODE?e(t.parentNode):null}(e)||0)+1,m,a.a)}function y(e,t){const n=[];let i=0,r=e;for(;r.parentElement&&i<t;)n.push(r.parentElement),r=r.parentElement,i++;return n}function w(e,t){let n=0,i=e;for(;n<t&&i.parentElement;)i=i.parentElement,n++;return n<t?null:i}function E(e,t){return Object(r.a)(...y(e,t).map(e=>Object(i.a)(e,"scroll")))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(343),o=(n(148),n(172)),s=(n(267),n(265),n(4));!function(e){const t=e=>Object(r.a)(e).pipe(Object(o.a)());e.sec2=t(s.e.seconds(2)),e.sec1=t(s.e.seconds(1)),e.hz4=t(s.e.hertz(4)),e.hz10=t(s.e.hertz(10)),e.hz30=t(s.e.hertz(30));const n=new Map;e.create=function(e){const i=n.get(e);if(i)return i;{const i=t(e);return n.set(e,i),i}}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=n(313).equals},function(e,t,n){e.exports={enhancementsPopup:"_13F1U",popupHeader:"Nnbn4",grammarlyLogo:"_8iWhi",checkingIcon:"_5rAHM",gr__spin:"_2i864",popupControls:"_3Pu3i",closeBtn:"cgmmC",feedbackBtn:"_3bmms",feedbackTooltip:"_3EE5o",disableBtn:"zU1WU",disableTooltip:"_1ASRS",alertRow:"_2GODu",alertsText:"_3H4Q7",criticalAlertsText:"_5B3M-",enhancementsAlerts:"_2frgV",toggleEnhancements:"_1ioJr",premiumAlerts:"c-M1V",goPremium:"_16Q33",alertCountWrapper:"_1srFX",alertCount:"_2C1Ph",criticalAlert:"_1kXeR",premiumAlert:"_3SFkf",clarityAlert:"ZV7Uj",engagementAlert:"_6Y94s",deliveryAlert:"FjRNK",plusSign:"_3kk17",noAlerts:"_27vwZ"}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){function t(e){return new Promise(e)}e.create=t,e.createCompletionSource=function(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve(t){e(t)},reject(e){t(e)}}},e.sync=function(e){return t((t,n)=>t(e()))},e.delay=function(t){return e.create(e=>{setTimeout(()=>{e()},t)})}}(i||(i={}))},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(465)},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n(58);const r=n(12).a.create("extension-api");function o(e){window.extensionBackgroundPageApi&&r.warn("Background Page Extension Api init called more than once"),window.extensionBackgroundPageApi=window.extensionBackgroundPageApi||e}function s(e){window.extensionContentScriptApi&&r.warn("Content Script Extension Api init called more than once"),window.extensionContentScriptApi=window.extensionContentScriptApi||e}function a(e){window.extensionPopupApi&&r.warn("Popup Extension Api init called more than once"),window.extensionPopupApi=window.extensionPopupApi||e}function c(){return Object(i.c)(window.extensionPopupApi,"popup extension api was not initialized")}function l(){return Object(i.c)(window.extensionContentScriptApi,"content script extension api was not initialized")}function u(){return Object(i.c)(window.extensionBackgroundPageApi,"backgound page extension api was not initialized")}},function(e,t,n){"use strict";function i(){}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports={expanded:"xfXSY",minimized:"_1DuW9",btn:"zHbW1",line:"_2RF2p",panel:"_1A9b_",premium:"_2Gxc3",btn_premium:"_1g-AA",anonymous:"_3erZ7",btn_grammarly:"_3iHqO",panelText:"_38zdu",critical:"_15AfV",btn_nopopup:"_2f1pV",btn_gdocsInfo:"_1253e",checking:"_1qP2A",gr__spin:"_2Mtmx",padLeft:"ZlHZ1",counter:"Okai4",counter100:"T87hd",btn_feedback:"hzl9_",btn_clarity:"_3VZ6V",itemArea:"_2EErW",clarity_text:"C8xhZ",clarityNotification:"y9FhH",gr__notification_fade_in:"_1tzBn",notificationNew:"_3rvGZ",notificationText:"_2nG3t",btn_disable:"_1pmw0",btn_showAll:"_1OVHY",btn_showAllPremium:"_3tVO2",feedback:"_1Jc8w",tooltip:"LzS0V",tooltip_grammarly:"_1M8Vf",tooltip_premium:"_4N7BZ",tooltip_clarity:"_1_KfE",tooltip_disable:"_3QL21",plus:"_13Emw",tooltip_visible:"_2OdDM",gr__fade_in:"_1FmS7",tooltip_hidden:"_1kFTh",counterExperiment:"_20jYi",title:"iXtR6",shadowWrap:"_2GslU",errorCategories:"_1pEDN",listSharow:"_3Ky4k",category:"_1-C2m",categoryName:"meRmD",count:"_3rMBS",enterprise:"_2qS6L",enterpriseWrapper:"_3WRxT",enterpriseText:"yhzEh",enterpriseClarityCircle:"_1rago",enterpriseEmogenieCircle:"yExc3",enterpriseArrow:"nfNNX"}},function(e,t,n){"use strict";var i=n(86),r=n(125);t.a=function(e){return null!=e&&Object(r.a)(e.length)&&!Object(i.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(11);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.thisArg=i,r.count=0,r}return i.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i,r,o,s=n(61);!function(e){e.isNoop=function(e){return 0===e.startOffset&&0===e.endOffset}}(i||(i={})),function(e){e.translate=function(e,t){return 0===t?e:{start:e.start+t,end:e.end+t}},e.transform=function(e,t){return i.isNoop(t)?e:{start:e.start+t.startOffset,end:e.end+t.endOffset}},e.rebase=function(e,t){return t.reduce((e,t)=>{const n=s.a.getTransformOffset(t);return{start:t.pos<=e.start?Math.max(t.pos,e.start+n):e.start,end:t.pos<e.end?Math.max(t.pos,e.end+n):e.end}},e)},e.contains=function(e,t){return t.start>=e.start&&t.start<e.end&&t.end>=e.start&&t.end<=e.end},e.intersects=function(e,t){return e.start>=t.start&&e.start<t.end||t.start>=e.start&&t.start<e.end},e.equals=function(e,t){return e.start===t.start&&e.end===t.end},e.toString=function(e){return`[${e.start}, ${e.end}]`}}(r||(r={})),function(e){e.isConsistentWithText=function(e,t){return t.slice(e.transformRange.start,e.transformRange.end)===e.transformText&&t.slice(e.highlightRange.start,e.highlightRange.end)===e.highlightText},e.translate=function(e,t){return Object.assign(Object.assign({},e),{highlightRange:r.translate(e.highlightRange,t),transformRange:r.translate(e.transformRange,t)})},e.transform=function(e,t,n){return Object.assign(Object.assign({},e),{highlightRange:r.transform(e.highlightRange,n),transformRange:r.transform(e.transformRange,t)})}}(o||(o={}))},function(e,t,n){"use strict";function i(e){const t={},n=e||{};return n.emit=function(e,n){e=i(e);const r=t[e];if(!r)return;const o=r.concat();for(let e=0;e<o.length;e++)o[e](n)},n.emitArgs=function(e){e=i(e);const n=t[e],r=[].slice.call(arguments,1);if(!n)return;const o=n.concat();for(let e=0;e<o.length;e++)o[e].apply(null,r)},n.on=function(e,r){return e=i(e),t[e]=t[e]||[],t[e].push(r),{un:function(){n.un(e,r)}}},n.off=n.un=function(e,n){e=i(e);const r=t[e];if(!r)return;const o=r.indexOf(n);o>-1&&(r.splice(o,1),r.length>0||delete t[e])},n.one=function(e,t){const i=n.on(e,(function(){i.un(),t.apply(null,arguments)}))},n.delegate=function(e,t,r){t=i(t),n.on(t,(function(n){e.emit(r||t,n)}))},n;function i(e){return"string"!=typeof e?e.join(" "):e}}n.r(t),n.d(t,"emitter",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(2),r=function(e){function t(t,n,i){var r=e.call(this)||this;return r.parent=t,r.outerValue=n,r.outerIndex=i,r.index=0,r}return i.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(11).a)},function(e,t,n){"use strict";(function(e){var i=n(36),r=n(277),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?i.a.Buffer:void 0,c=(a?a.isBuffer:void 0)||r.a;t.a=c}).call(this,n(198)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(179),o=n(14),s=n(172),a=n(244),c=n(266),l=n(37);!function(e){function t(e,t){return n(e,t).pipe(Object(s.a)(),Object(a.b)(r.a))}function n(e,t){return new o.a(n=>{const i=new MutationObserver(e=>n.next(e));return i.observe(e,t),()=>i.disconnect()})}e.create=t,e.createUnsafe=n,e.createFlattenHot=function(e,t){return n(e,t).pipe(Object(c.a)(e=>e),Object(s.a)())},e.observeAttribute=function(e,n){return t(e,{attributes:!0,attributeFilter:[n],subtree:!1,childList:!1}).pipe(Object(l.a)(t=>e.getAttribute(n)))},e.observeStyle=function(e){return t(e,{attributes:!0,attributeFilter:["style"],subtree:!1,childList:!1}).pipe(Object(l.a)(t=>e.style))},e.observeChildList=function(e){return t(e,{attributes:!1,subtree:!1,childList:!0}).pipe(Object(l.a)(t=>e.childNodes))}}(i||(i={}))},function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";var i=n(84),r=function(e,t){for(var n=e.length;n--;)if(Object(i.a)(e[n][0],t))return n;return-1},o=Array.prototype.splice;function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=function(){this.__data__=[],this.size=0},s.prototype.delete=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))},s.prototype.get=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]},s.prototype.has=function(e){return r(this.__data__,e)>-1},s.prototype.set=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},t.a=s},function(e,t,n){"use strict";var i=n(52),r=n(31);t.a=function(e){if(!Object(r.a)(e))return!1;var t=Object(i.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){"use strict";var i=Function.prototype.toString;t.a=function(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},,function(e,t,n){"use strict";n.r(t),n.d(t,"t",(function(){return i})),n.d(t,"DAPI_ACTIONS",(function(){return r})),n.d(t,"CACHED_ACTIONS",(function(){return o})),n.d(t,"setDapiProp",(function(){return s})),n.d(t,"changeWeakDialect",(function(){return a})),n.d(t,"changeStrongDialect",(function(){return c})),n.d(t,"initialSettings",(function(){return l})),n.d(t,"toggleDefs",(function(){return u})),n.d(t,"toggleAutocorrect",(function(){return d})),n.d(t,"toggleSite",(function(){return h})),n.d(t,"toggleField",(function(){return p})),n.d(t,"seenNews",(function(){return f})),n.d(t,"gdocsOptedIn",(function(){return m})),n.d(t,"gdocsOptedOut",(function(){return g})),n.d(t,"seenGdocsOptIn",(function(){return b})),n.d(t,"seenGdocsLargeDocumentWarning",(function(){return v})),n.d(t,"hideGdocsSigninPopup",(function(){return _})),n.d(t,"clickGdocsAuthentication",(function(){return y})),n.d(t,"setGdocsEnabledSetting",(function(){return w})),n.d(t,"showOnboarding",(function(){return E})),n.d(t,"seenOnboarding",(function(){return x})),n.d(t,"seenDelightfulMessage",(function(){return O})),n.d(t,"showNews",(function(){return S})),n.d(t,"saveAnonymousProps",(function(){return C})),n.d(t,"disableOnTab",(function(){return j})),n.d(t,"showDisableReminder",(function(){return k})),n.d(t,"disableReminder",(function(){return T})),n.d(t,"showEdgePopupFromGButton",(function(){return N})),n.d(t,"showLoginReminder",(function(){return P})),n.d(t,"hideLoginReminder",(function(){return A})),n.d(t,"disableLoginReminder",(function(){return I})),n.d(t,"disableEmailSummarization",(function(){return F})),n.d(t,"saveEmailConnectednessData",(function(){return M})),n.d(t,"setEmogenieEmojiState",(function(){return R})),n.d(t,"seenClarityNotification",(function(){return D})),n.d(t,"showGmailSendEmailPremiumPopup",(function(){return L})),n.d(t,"setHideWelcomeEmogenieNotification",(function(){return B}));const i={SETTINGS_INITIAL:"settings/SETTINGS_INITIAL",TOGGLE_DEFS:"settings/TOGGLE_DEFS",TOGGLE_AUTOCORRECT:"settings/TOGGLE_AUTOCORRECT",TOGGLE_SITE:"settings/TOGGLE_SITE",TOGGLE_FIELD:"settings/TOGGLE_FIELD",DISABLE_ON_TAB:"settings/DISABLE_ON_TAB",DISABLE_REMINDER_NOTIFICATION:"settings/DISABLE_REMINDER_NOTIFICATION",SHOW_DISABLE_REMINDER:"settings/SHOW_DISABLE_REMINDER",DISABLE_EMAIL_SUMMARIZATION:"settings/DISABLE_EMAIL_SUMMARIZATION",SHOW_NEWS:"settings/SHOW_NEWS",SEEN_NEWS:"settings/SEEN_NEWS",SEEN_GDOCS_OPT_IN:"settings/SEEN_GDOCS_OPT_IN",SEEN_GDOCS_LARGE_DOCUMENT_WARNING:"settings/SEEN_GDOCS_LARGE_DOCUMENT_WARNING",SET_GDOCS_OPT_IN:"setting/SET_GDOCS_OPT_IN",SET_GDOCS_OPT_OUT:"setting/SET_GDOCS_OPT_OUT",HIDE_GDOCS_SIGNIN_POPUP:"settings/HIDE_GDOCS_SIGNIN_POPUP",CLICK_GDOCS_AUTHENTICATION:"settings/CLICK_GDOCS_AUTHENTICATION",SET_GDOCS_ENABLED_SETTING:"settings/SET_GDOCS_ENABLED_SETTING",SHOW_ONBOARDING:"settings/SHOW_ONBOARDING",SEEN_ONBOARDING:"settings/SEEN_ONBOARDING",SEEN_DELIGHTFUL_MESSAGE:"settings/SEEN_DELIGHTFUL_MESSAGE",SHOW_LOGIN_REMINDER:"settings/SHOW_LOGIN_REMINDER",HIDE_LOGIN_REMINDER:"settings/HIDE_LOGIN_REMINDER",DISABLE_LOGIN_REMINDER:"settings/DISABLE_LOGIN_REMINDER",SET_DAPI_PROP:"settings/SET_DAPI_PROP",CHANGE_WEAK_DIALECT:"settings/CHANGE_WEAK_DIALECT",CHANGE_STRONG_DIALECT:"settings/CHANGE_STRONG_DIALECT",SAVE_ANONYMOUS_PROPERTIES:"settings/SAVE_ANONYMOUS_PROPERTIES",EDGE_POPUP_FROM_GBUTTON:"settings/EDGE_POPUP_FROM_GBUTTON",SAVE_EMAIL_CONNECTEDNESS_DATA:"settings/SAVE_EMAIL_CONNECTEDNESS_DATA",SHOW_DATA_CONTROL_POPUP:"settings/SHOW_DATA_CONTROL_POPUP",SET_EMOGENIE_EMOJI_STATE:"settings/SET_EMOGENIE_EMOJI_STATE",SET_HIDE_WELCOME_EMOGENIE_NOTIFICATION:"settings/SET_HIDE_WELCOME_EMOGENIE_NOTIFICATION",SEEN_CLARITY_NOTIFICATION:"settings/SEEN_CLARITY_NOTIFICATION",SHOW_GMAIL_SEND_EMAIL_PREMIUM_POPUP:"setting/SHOW_GMAIL_SEND_EMAIL_PREMIUM_POPUP"},r=[i.CHANGE_WEAK_DIALECT,i.CHANGE_STRONG_DIALECT,i.SET_EMOGENIE_EMOJI_STATE],o=[i.TOGGLE_DEFS,i.TOGGLE_AUTOCORRECT,i.TOGGLE_SITE,i.TOGGLE_FIELD,i.SEEN_NEWS,i.SEEN_GDOCS_OPT_IN,i.SEEN_GDOCS_LARGE_DOCUMENT_WARNING,i.HIDE_GDOCS_SIGNIN_POPUP,i.CLICK_GDOCS_AUTHENTICATION,i.SET_GDOCS_ENABLED_SETTING,i.SET_GDOCS_OPT_IN,i.SET_GDOCS_OPT_OUT,i.SHOW_ONBOARDING,i.SEEN_ONBOARDING,i.SEEN_DELIGHTFUL_MESSAGE,i.SHOW_LOGIN_REMINDER,i.HIDE_LOGIN_REMINDER,i.DISABLE_LOGIN_REMINDER,i.SHOW_DISABLE_REMINDER,i.DISABLE_REMINDER_NOTIFICATION,i.DISABLE_EMAIL_SUMMARIZATION,i.EDGE_POPUP_FROM_GBUTTON,i.SHOW_DATA_CONTROL_POPUP,i.SEEN_CLARITY_NOTIFICATION,i.SHOW_GMAIL_SEND_EMAIL_PREMIUM_POPUP,i.SET_HIDE_WELCOME_EMOGENIE_NOTIFICATION];function s(e,t){return{type:i.SET_DAPI_PROP,propKey:e,data:t}}function a(e){return{type:i.CHANGE_WEAK_DIALECT,data:e}}function c(e){return{type:i.CHANGE_STRONG_DIALECT,data:e}}function l(e){return{type:i.SETTINGS_INITIAL,data:e}}function u(e){return{type:i.TOGGLE_DEFS,enabledDefs:e}}function d(e){return{type:i.TOGGLE_AUTOCORRECT,enabled:e}}function h(e,t){return{type:i.TOGGLE_SITE,domain:t,enabled:e}}function p(e,t){return{type:i.TOGGLE_FIELD,domain:t,data:e}}function f(){return{type:i.SEEN_NEWS}}function m(){return{type:i.SET_GDOCS_OPT_IN}}function g(){return{type:i.SET_GDOCS_OPT_OUT}}function b(){return{type:i.SEEN_GDOCS_OPT_IN}}function v(){return{type:i.SEEN_GDOCS_LARGE_DOCUMENT_WARNING}}function _(){return{type:i.HIDE_GDOCS_SIGNIN_POPUP}}function y(){return{type:i.CLICK_GDOCS_AUTHENTICATION}}function w(){return{type:i.SET_GDOCS_ENABLED_SETTING}}function E(){return{type:i.SHOW_ONBOARDING}}function x(){return{type:i.SEEN_ONBOARDING}}function O(e){return{type:i.SEEN_DELIGHTFUL_MESSAGE,delightfulMessageId:e}}function S(e){return{type:i.SHOW_NEWS,showNews:e}}function C(e){return{type:i.SAVE_ANONYMOUS_PROPERTIES,props:e}}function j(){return{type:i.DISABLE_ON_TAB}}function k(e){return{type:i.SHOW_DISABLE_REMINDER,domain:e}}function T(e){return{type:i.DISABLE_REMINDER_NOTIFICATION,domain:e}}function N(){return{type:i.EDGE_POPUP_FROM_GBUTTON}}function P(e){return{type:i.SHOW_LOGIN_REMINDER,loginReminderType:e}}function A(){return{type:i.HIDE_LOGIN_REMINDER}}function I(){return{type:i.DISABLE_LOGIN_REMINDER}}function F(){return{type:i.DISABLE_EMAIL_SUMMARIZATION}}function M(e){return{type:i.SAVE_EMAIL_CONNECTEDNESS_DATA,emailConnectednessData:e}}function R(e){return{type:i.SET_EMOGENIE_EMOJI_STATE,data:e}}function D(){return{type:i.SEEN_CLARITY_NOTIFICATION}}function L(){return{type:i.SHOW_GMAIL_SEND_EMAIL_PREMIUM_POPUP}}function B(){return{type:i.SET_HIDE_WELCOME_EMOGENIE_NOTIFICATION}}},function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f}));class i{constructor(e){this.expectedType=e}}class r extends i{constructor(e,t){super(e),this.value=t}}class o{constructor(e,t){this.fieldName=e,this.error=t}}class s extends i{constructor(e,t){super(e),this.fieldErrors=t}}function a(e){return"string"==typeof e?{result:e}:{error:new r("string",e)}}function c(e){return"boolean"==typeof e?{result:e}:{error:new r("boolean",e)}}function l(e){if("string"==typeof e){let t;try{t=new Date(e)}catch(t){return{error:new r("ISO date",e)}}return{result:t}}return{error:new r("ISO date",e)}}function u(e){return t=>void 0===t?{result:void 0}:e(t)}function d(e,t){return n=>{if("object"!=typeof n||null==n)return{error:new r(e,n)};const i={},a=[];return Object.keys(t).forEach(e=>{const r=t[e](n[e],n,e);"error"in r?a.push(new o(e,r.error)):i[e]=r.result}),a.length>0?{error:new s(e,a)}:{result:i}}}function h(e,t){return n=>{const i=e(n);return"error"in i?i:{result:t(i.result)}}}function p(e){return t=>{const n=e(t);if("error"in n)throw new Error(`Parse error: ${JSON.stringify(n.error)}`);return n.result}}function f(e,t){return(n,i)=>t(i[e])}},function(e,t,n){"use strict";var i=n(52),r=n(125),o=n(46),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var a=n(268),c=n(226),l=c.a&&c.a.isTypedArray,u=l?Object(a.a)(l):function(e){return Object(o.a)(e)&&Object(r.a)(e.length)&&!!s[Object(i.a)(e)]};t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(284);function r(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new o(r,t));var s=Object.create(n,i.b);return s.source=n,s.subjectFactory=r,s}}var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(e);return r.add(t.subscribe(i)),r},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(14),r=n(42),o=n(94),s=n(37);function a(e,t,n,c){return Object(o.a)(n)&&(c=n,n=void 0),c?a(e,t,n).pipe(Object(s.a)((function(e){return Object(r.a)(e)?c.apply(void 0,e):c(e)}))):new i.a((function(i){!function e(t,n,i,r,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,i,o),s=function(){return a.removeEventListener(n,i,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var c=t;t.on(n,i),s=function(){return c.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var l=t;t.addListener(n,i),s=function(){return l.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,d=t.length;u<d;u++)e(t[u],n,i,r,o)}r.add(s)}(e,t,(function(e){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(e)}),i,n)}))}},function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var i,r=n(48),o=n(118),s=n(220);i||(i={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){"use strict";var i=n(57),r=n(36),o=Object(i.a)(r.a,"Map");t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(e,t,n){"use strict";var i=n(109);t.a=function(e){if("string"==typeof e||Object(i.a)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";var i=n(52),r=n(46),o=function(e){return Object(r.a)(e)&&"[object Arguments]"==Object(i.a)(e)},s=Object.prototype,a=s.hasOwnProperty,c=s.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return Object(r.a)(e)&&a.call(e,"callee")&&!c.call(e,"callee")};t.a=l},function(e,t,n){"use strict";var i,r,o,s,a,c,l,u,d;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),function(e){e.popupEditorIFrame="popupEditorIFrame",e.bgPopupEditorIFrameToPopupEditor="bg-PopupEditorIFrame-toPopupEditor",e.bgPopupEditorIFrameFromPopupEditor="bg-PopupEditorIFrame-fromPopupEditor"}(i||(i={})),function(e){e.openPopup="open-popup",e.closePopup="close-popup",e.loaded="iframe-cs-loaded",e.popupClosing="iframe-cs-popup-closing-state",e.changeUser="change-user-popup",e.fullyLoaded="denali-editor-loaded"}(r||(r={})),function(e){e.signInIFrame="signInIFrame",e.bgSignInIFrame="bg-bgSignInIFrame"}(o||(o={})),function(e){e.iframeReady="iframeReady",e.showSigninDialog="showSigninDialog",e.showSigninOnboarding="showSigninOnboarding",e.signinOnboardingResult="signinOnboardingResult",e.close="close"}(s||(s={})),function(e){e.create=function(){return{_tag:s.iframeReady}}}(a||(a={})),function(e){e.create=function(){return{_tag:s.close}}}(c||(c={})),function(e){e.create=function(e,t,n,i){return{_tag:s.showSigninDialog,user:e,placement:t,totalErrors:n,shouldOpenLoginView:i}}}(l||(l={})),function(e){e.create=function(e){return{_tag:s.showSigninOnboarding,experiments:e}}}(u||(u={})),function(e){e.create=function(e){return{_tag:s.signinOnboardingResult,result:e}}}(d||(d={}))},function(e,t,n){"use strict";function i(e){return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},function(e,t,n){"use strict";function i(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i,r=n(180),o=n(0),s=n(151),a=n(118),c=n(93),l=n(37),u=n(147),d=n(130),h=n(299),p=n(70),f=n(309),m=n(325),g=n(301),b=n(47),v=n(116);!function(e){e[e.positioned=0]="positioned",e[e.nonPositioned=1]="nonPositioned"}(i||(i={}));var _=n(105),y=n(148),w=n(215),E=n(83),x=n(69),O=n(373),S=n(187),C=n(66);function j(e,t,n){const i=Object(_.d)(e),r=n&&e.contentWindow||null,o=n&&e.contentDocument||null,s=e=>[Object(c.a)(e,"resize"),Object(c.a)(e,"keydown"),Object(c.a)(e,"mousedown")],a=Object(y.a)(x.a.sec1,...s(i),...r?s(r):[],E.a.create(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0})).pipe(Object(w.a)(null)),l=S.a.create(()=>(function(e,t){const n=e.getBoundingClientRect(),i=t&&t.getBoundingClientRect(),r=t===Object(_.b)(e).body,o=i&&t?{top:n.top-i.top+(r?0:t.scrollTop),left:n.left-i.left+(r?0:t.scrollLeft)}:{top:0,left:0};return{client:b.a.create(n),offset:b.b.create(o),size:{width:n.width,height:n.height}}})(e,t),a,p.a),u=Object(y.a)(Object(C.g)(e),...r?Object(C.h)(r):[]);return{borderRect:l,scroll:S.a.create(()=>b.d.plus({left:e.scrollLeft,top:e.scrollTop},{left:r&&r.scrollX||0,top:r&&r.scrollY||0}),u,p.a),scrollSize:S.a.create(()=>{const t=o&&o.documentElement&&o.documentElement.scrollWidth||0,n=o&&o.documentElement&&o.documentElement.scrollHeight||0,r=i.outerWidth,s=i.outerHeight;return{width:e.scrollWidth+t+r,height:e.scrollHeight+n+s}},a,p.a)}}function k(e,t,n){const i=Object(_.d)(e),r=j(e,t,n);return Object.assign(Object.assign({},r),{paddingRect:r.borderRect.map(t=>{const n=i.getComputedStyle(e),r=Object(O.a)(e,n,Object.assign(Object.assign({},t.client),t.size)),o=b.d.minus(t.client,r);return{client:b.a.create(r),size:{width:r.width,height:r.height},offset:b.b.create(b.d.minus(t.offset,o)),padding:Object(C.f)(n)}},p.a)})}var T=n(372),N=n(56),P=n(6),A=n(250);function I(e){return{boxSizing:"content-box",top:e.top,left:e.left,width:e.width,height:e.height,position:"relative",pointerEvents:"none",overflow:"hidden",border:0,borderRadius:0,padding:0,margin:0}}n.d(t,"a",(function(){return D}));const F=({layout:e,children:t,skipFieldScroll:n})=>e.scrollables.reduce((e,t)=>o.createElement(P.F.div,{style:t.borderRect.behavior.pipe(Object(l.a)(e=>Object.assign({},I(Object.assign(Object.assign({},e.offset),e.size))))),mount:Object(A.setElementProps)({scrollTop:t.scroll.behavior.pipe(Object(l.a)(e=>e.top)),scrollLeft:t.scroll.behavior.pipe(Object(l.a)(e=>e.left))})},e,o.createElement(P.F.div,{style:t.scrollSize.behavior.pipe(Object(l.a)(e=>({boxSizing:"content-box",width:e.width,height:e.height,pointerEvents:"none",visibility:"hidden"})))})),o.createElement(M,{layout:e,skipFieldScroll:n},t)),M=({layout:e,children:t,skipFieldScroll:n})=>o.createElement(P.F.div,{style:e.textField.paddingRect.behavior.pipe(Object(l.a)(e=>Object.assign({},I(Object.assign(Object.assign({},e.offset),e.size))))),mount:t=>{n||Object(A.setElementProps)({scrollTop:Object(s.b)(e.textField.scroll.behavior,e.textField.scrollSize.behavior,e=>e.top),scrollLeft:Object(s.b)(e.textField.scroll.behavior,e.textField.scrollSize.behavior,e=>e.left)})(t)}},t);function R(e,t,n,i,r){t?(i.style.zIndex=n.zIndex,e.insertAdjacentElement("afterend",i)):r.insertAdjacentElement("afterbegin",i)}class D{constructor(e,t={}){if(this._highlightsField=e,this._opts=t,this._resetClass=void 0!==this._opts.resetClass?this._opts.resetClass:T.layout,this._prepareField=e=>{const t=Object(_.a)(e),n=this._opts.positionedAncestor||Object(_.c)(e),o=function(e,t,n,r){const o=function(e,t){const n=[];let i=e.parentElement;for(;i!==t&&i;)Object(_.f)(i)&&n.push(i),i=i.parentElement;return n}(e,r);return{fieldPaintingPositioning:Object(_.e)(e,n)?i.positioned:i.nonPositioned,positionedAncestor:r,textField:k(e,o[0]||r,t),scrollables:o.map((e,t,n)=>j(e,n[t+1]||r,!1))}}(e,!!this._opts.iframe,t,n);return{layout:o,rootInjector:function(e,t,n,o,s){const a=Object(_.b)(e).body,c=Object(_.d)(e);let l={left:"0px",top:"0px"};if(t.fieldPaintingPositioning===i.nonPositioned&&t.positionedAncestor===a){const e=c.getComputedStyle(a);l={left:e.marginLeft||"0px",top:e.marginRight||"0px"}}else if(t.positionedAncestor!==a){const e=c.getComputedStyle(t.positionedAncestor);l={left:e.borderLeftWidth&&`-${e.borderLeftWidth}`||"0px",top:e.borderTopWidth&&`-${e.borderTopWidth}`||"0px"}}return a=>{a.style.position="absolute",a.style.top=l.top,a.style.left=l.left,a.style.pointerEvents="none",a.className=r.gr_no_print,s(e,t.fieldPaintingPositioning===i.positioned||o,n,a,t.positionedAncestor)}}(e,o,t,!!this._opts.pretendFieldPositioned,this._opts.injectIntegrationRoot||R)}},this._highlights=this._prepareField(this._highlightsField),this._innerElements=this._opts.innerElementsField?this._prepareField(this._opts.innerElementsField):this._highlights,this._win=Object(_.d)(this._highlightsField),this._createTextFieldRect=e=>({page:b.c.fromClient(e.client,{top:this._win.scrollY,left:this._win.scrollX}),offset:e.offset,client:e.client,size:e.size}),this.textField={rect:this._highlights.layout.textField.paddingRect.map(this._createTextFieldRect),scroll:this._highlights.layout.textField.scroll,scrollSize:this._highlights.layout.textField.scrollSize},this._gbuttonMinPadding=void 0!==this._opts.gbuttonMinPadding?this._opts.gbuttonMinPadding:C.b,this._gbuttonShift=this._opts.createGbuttonShiftBehavior&&this._opts.createGbuttonShiftBehavior(this.textField)||Object(a.a)({top:0,left:0}),this._gbuttonPosition=Object(s.b)(this._innerElements.layout.textField.paddingRect.behavior,this._gbuttonShift,(e,t)=>{const n=Math.max(e.padding.right,this._gbuttonMinPadding),i=Math.max(e.padding.bottom,this._gbuttonMinPadding),r=b.b.create({top:e.size.height-i+t.top,left:e.size.width-n+t.left});return{offset:r,page:b.c.fromOffset(r,b.c.fromClient(e.client,{top:this._win.scrollY,left:this._win.scrollX}),{top:0,left:0}),effectivePadding:{top:e.padding.top,left:e.padding.left,right:n,bottom:i}}}),this.gbutton={positionBehavior:this._gbuttonPosition.pipe(Object(l.a)(e=>({top:e.page.top,left:e.page.left,effectivePadding:e.effectivePadding}))),minimizeEnabled:void 0===this._opts.minimizeEnabled||this._opts.minimizeEnabled,getShouldFlipPopup:(e,t)=>e<t,zIndexBehavior:null},this.highlightHeightOffset=this._opts.highlightHeightOffset||0,this.mouse=Object(s.b)(this._highlights.layout.textField.paddingRect.behavior,this._highlights.layout.textField.scroll.behavior,(e,t)=>({rect:this._textFieldClientRectangle(e),scroll:t})).pipe(Object(u.a)(({rect:e,scroll:t})=>this._opts.iframe?Object(g.a)(this._highlightsField,e,t):Object(g.b)(this._win,e,t)),Object(d.a)(p.a)),this.getTranslationToCards=()=>b.d.zero,this._outerViewContainer=(e,t)=>o.createElement(P.F.div,null,t.pipe(Object(l.a)(t=>t?o.createElement(P.F.div,{style:Object(s.b)(this._innerElements.layout.textField.paddingRect.behavior,this._gbuttonPosition,this._gbuttonShift,Object(c.a)(this._win,"resize").pipe(Object(h.a)(null)),(e,t,n)=>{const i=e.client.top+e.size.height-t.effectivePadding.bottom+n.top,r=e.client.left+e.size.width-t.effectivePadding.right+n.left,o=this._win.document.documentElement;return{position:"fixed",zIndex:f.b-1,bottom:o.clientHeight-i,right:o.clientWidth-r}})},o.createElement(e,null)):null))),this._opts.iframe&&"IFRAME"!==this._highlightsField.tagName)throw new Error("expected text field element to be an iframe")}_textFieldClientRectangle(e){return this._opts.iframe?v.a.create(Object.assign({top:-e.padding.top,left:-e.padding.left},e.size)):v.a.create(Object.assign(Object.assign({},e.client),e.size))}createGeometryLayout(){return new m.a(()=>this._textFieldClientRectangle(this._highlights.layout.textField.paddingRect.getCurrent()),()=>this._highlights.layout.textField.scroll.getCurrent(),()=>this._textFieldClientRectangle(this._highlights.layout.textField.paddingRect.getApproximate()),()=>this._highlights.layout.textField.scroll.getApproximate())}render(e,t,n,i){const s={position:"absolute",top:0,left:0},a=!!this._opts.innerElementsField&&this._highlightsField!==this._opts.innerElementsField,c=()=>t&&o.createElement("div",{"data-grammarly-part":"button",className:this._resetClass||void 0,style:s},o.createElement(F,{layout:this._innerElements.layout,skipFieldScroll:!0},o.createElement(P.F.div,{style:this._gbuttonPosition.pipe(Object(l.a)(e=>({position:"absolute",transform:"translate(-100%, -100%)",top:e.offset.top,left:e.offset.left,width:"auto",height:"auto",pointerEvents:"all"})))},o.createElement(t,null)))),u=Object(_.b)(this._highlightsField),d=new N.b(N.a.fromDocument(u,"grammarly-extension"),this._highlights.rootInjector,()=>o.createElement(o.Fragment,null,e&&o.createElement("div",{"data-grammarly-part":"highlights",className:this._resetClass||void 0,style:s},o.createElement(F,{layout:this._highlights.layout},o.createElement("div",{style:s},o.createElement(e,null)))),!a&&o.createElement(c,null))),h=a&&new N.b(N.a.fromDocument(u,"grammarly-extension"),this._innerElements.rootInjector,c),p=n&&new N.b(N.a.fromDocument(u,"grammarly-popups"),N.c.insertAfter(u.body),()=>this._outerViewContainer(n.component,n.shouldRender),e=>e.className=r.gr_no_print),f=i&&new N.b(N.a.fromDocument(u,"grammarly-inline-cards"),N.c.insertAfter(u.body),i,e=>e.className=r.gr_no_print);return{dispose:()=>{d&&d.dispose(),h&&h.dispose(),p&&p.dispose(),f&&f.dispose()}}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return u}));const i=new Set(["absolute","relative","fixed","sticky"]),r=new Set(["flex","inline-flex"]);function o(e){const t=e.ownerDocument;if(t)return t;throw new Error("target does not have ownerDocument")}function s(e){const t=o(e).defaultView;if(t)return t;throw new Error("active document is detached from a window")}function a(e){return s(e).getComputedStyle(e)}function c(e,t){const n=i.has(t.position);return!n&&null!==t.zIndex&&"auto"!==t.zIndex&&e.parentElement?r.has(a(e.parentElement).display):n}function l(e){const t=o(e).body;if(e===t)throw new Error("target is body");let n=e;do{if(n=n.parentElement,n&&(r=n,i.has(a(r).position)))return n}while(null!==n&&n!==t);var r;return n||t}function u(e){const t=a(e);return"auto"===t.overflow||"scroll"===t.overflow||"auto"===t.overflowY||"scroll"===t.overflowY||"auto"===t.overflowX||"scroll"===t.overflowX}},function(e,t,n){e.exports={btnContainer:"kTiO8",container:"_3YMri",header:"_1FYmR",optInVideo:"_3uNsn",bold:"_1fnlS",button:"_2o8Lb",large:"_80wvm",optIn:"grYdT",note:"_3LTPz",offlineDialogHeader:"XAQhO",largeDocumentDialogHeader:"_3nE8t",dialogMessage:"_2VyIL",offlineDialogButton:"_fS1O"}},,function(e,t,n){"use strict";var i=n(85),r=n(96),o=n(114);function s(e){var t=this.__data__=new i.a(e);this.size=t.size}s.prototype.clear=function(){this.__data__=new i.a,this.size=0},s.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},s.prototype.get=function(e){return this.__data__.get(e)},s.prototype.has=function(e){return this.__data__.has(e)},s.prototype.set=function(e,t){var n=this.__data__;if(n instanceof i.a){var s=n.__data__;if(!r.a||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o.a(s)}return n.set(e,t),this.size=n.size,this},t.a=s},function(e,t,n){"use strict";var i=n(52),r=n(46);t.a=function(e){return"symbol"==typeof e||Object(r.a)(e)&&"[object Symbol]"==Object(i.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var i=n(205);function r(e,t=i.defaults){return t.every(t=>t(e))}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports={wrapper:"_3Nuxa",wrapperHide:"_1P7q8",hideWrapper:"_1SoVj",wrapperShow:"o_JTN",showWrapper:"_1WWqs",popup:"TMAyi",popupWrapper:"_3u3By",popupContent:"_1HX0K",popupTitle:"ZZ4y3",popupText:"_29-QH",popupSubTitle:"_3vvAG",popupTitleHighlight:"_1LFO_",comparison:"_3MX47",comparisonColumn:"_16nEP",comparisonContent:"_3iX8b",comparisonTitle:"_3MmmA",comparisonSubtitle:"_37CQ8",comparisonSubtitleUnderline:"_1LfKG",tooltip:"_3RfXp",button:"_3gR42",buttonText:"_1D5d1",label:"_1EivI",topIconsPannel:"Eq8WK"}},function(e,t,n){"use strict";var i=n(57),r=Object(i.a)(Object,"create"),o=Object.prototype.hasOwnProperty,s=Object.prototype.hasOwnProperty;function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}a.prototype.clear=function(){this.__data__=r?r(null):{},this.size=0},a.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},a.prototype.get=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0},a.prototype.has=function(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)},a.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this};var c=a,l=n(85),u=n(96),d=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function h(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}h.prototype.clear=function(){this.size=0,this.__data__={hash:new c,map:new(u.a||l.a),string:new c}},h.prototype.delete=function(e){var t=d(this,e).delete(e);return this.size-=t?1:0,t},h.prototype.get=function(e){return d(this,e).get(e)},h.prototype.has=function(e){return d(this,e).has(e)},h.prototype.set=function(e,t){var n=d(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},t.a=h},,function(e,t,n){"use strict";var i,r,o,s,a;n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),function(e){e.create=function(e){return{width:e.width,height:e.height}}}(i||(i={})),function(e){e.contains=function(e,t){return e.left>=t.left&&e.left<=t.left+t.width&&e.top>=t.top&&e.top<=t.top+t.height},e.intersects=function(e,t){const n=e.left<=t.left?e:t,i=n===e?t:e,r=e.top<=t.top?e:t,o=r===e?t:e;return n.left+n.width>=i.left&&r.top+r.height>=o.top},e.setPosition=function(e,t){return Object.assign({},e,i.create(t))}}(r||(r={})),function(e){e.create=function(e){return e}}(o||(o={})),function(e){e.create=function(e){return e}}(s||(s={})),function(e){e.create=function(e){return e}}(a||(a={}))},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(55),r=n(133),o=n(225);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(i.a)(n)?(e.pop(),Object(o.a)(e,n)):Object(r.a)(e)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n(447),r=n(16);const o=Object(r.r)();function s(e,t,n,r,a=!1){if(null==e)return;const c=e;if("string"!=typeof t)return Object(i.a)(t,(e,t)=>{s(c,t,e,r)});{if(!n)return;const e=c[o]||[];return c[o]=e,r?(c[o]=e.filter(e=>!(e.event===t&&e.cb===n)),c.removeEventListener(t,n,a)):(e.push({event:t,cb:n}),c.addEventListener(t,n,a)),{el:c,event:t,cb:n,bubble:a}}}function a(e,t,n,i){const r=e;t||null==r[o]?s(r,t,n,!0,i):r[o].forEach(e=>a(r,e.event,e.cb,e.bubble))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var i=n(17),r=n(65),o=n(349),s=n(156),a=n(10);const c=n(12).a.create("lib.tracking.logger");let l;function u(){return l||(l=new o.a(r.b.sendFelog.bind(r.b),r.b.sendFelogUsageEvent.bind(r.b),r.b.setUserId.bind(r.b),r.b.setContainerId.bind(r.b),i.a().appConfig.felog.sendUsageMetrics,s.a.create(window.performance),i.a().appConfig.felog.sendPerfMetrics,r.b.sendFelogEvent.bind(r.b),r.b.sendFelogCrashLogs.bind(r.b))),l}function d(){Object(a.i)()&&(c.info("Installing unhandled error loggers..."),function(){const e=u();window.addEventListener("error",t=>e.unhandledBgPageException(t)),window.addEventListener("unhandledrejection",t=>e.unhandledBgPageRejection(t))}())}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(2),r=n(18),o=n(20),s=n(81),a=n(37),c=n(62);function l(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(i){return i.pipe(l((function(n,i){return Object(c.a)(e(n,i)).pipe(Object(a.a)((function(e,r){return t(n,e,i,r)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project,this.concurrent))},e}(),d=function(e){function t(t,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var r=e.call(this,t)||this;return r.project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return i.a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=new s.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,e,t,n,i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(180),r=n(0),o=n(151),s=n(93),a=n(37),c=n(130),l=n(332),u=n(331),d=n(299),h=n(325),p=n(47),f=n(116),m=n(105),g=n(162),b=n(502),v=n(504),_=n(372),y=n(56),w=n(6),E=n(250);function x(e){return{page:e.position,offset:p.b.create(e.position),client:e.clientPosition,size:f.d.create(e)}}class O{constructor(e,t={}){this._target=e,this._opts=t,this._innerLayout=this._opts.overrideInternalLayoutImpl||Object(b.a)(this._target,this._opts.getTextFieldRect,this._opts.highlightHeightOffset,this._opts.extraRectChangeEvents,this._opts.onScrollMaxAncestors,this._opts.gbuttonMinPadding,this._opts.createHighlightAreaRect,this._opts.highlightsContainer,this._opts.gbuttonContainer,this._opts.zIndex,this._opts.createGButtonLayout,this._opts.getTranslationToCards,this._opts.extendGButtonLayout),this.textField={rect:this._innerLayout.highlights.textFieldRect.map(x),scroll:this._innerLayout.highlights.scroll.map(p.d.create),scrollSize:this._innerLayout.highlights.scroll.map(f.d.create)},this.gbutton={positionBehavior:this._innerLayout.gbutton.position.map(e=>e._tag===g.a.absolute?{top:e.top,left:e.left,effectivePadding:e.effectivePadding}:{top:e.top,left:e.left,effectivePadding:{top:0,left:0,bottom:0,right:0}}).behavior,minimizeEnabled:this._innerLayout.gbutton.position.getApproximate()._tag===g.a.absolute,getShouldFlipPopup:this._innerLayout.gbutton.getShouldFlipMenu,zIndexBehavior:this._innerLayout.gbutton.zIndex.behavior},this._resetClass=void 0!==this._opts.resetClass?this._opts.resetClass:_.layout,this.highlightHeightOffset=this._innerLayout.highlights.highlightHeightOffset,this.mouse=this._innerLayout.mouse,this.getTranslationToCards=this._innerLayout.highlights.getTranslationToCards,this._highlightsViewContainer=e=>r.createElement(w.F.div,{style:Object(o.b)(this._innerLayout.highlights.highlightsRect.behavior,this._innerLayout.highlights.zIndex.behavior,(e,t)=>({boxSizing:"content-box",top:e.position.top,left:e.position.left,width:e.width,height:e.height,overflow:"hidden",position:"absolute",pointerEvents:"none",zIndex:t,border:0,borderRadius:0,padding:0,margin:0,transition:"top .2s ease-in-out -0.2s"})),mount:Object(E.setElementProps)({scrollTop:this._innerLayout.highlights.scroll.behavior.pipe(Object(a.a)(e=>e.top),Object(c.a)(),Object(l.a)(0)),scrollLeft:this._innerLayout.highlights.scroll.behavior.pipe(Object(a.a)(e=>e.left),Object(c.a)(),Object(l.a)(0))})},r.createElement(e,null)),this._outerViewContainer=e=>{const t=Object(m.d)(this._target),n=t.document.documentElement,i=e=>this._innerLayout.gbutton.position.behavior.pipe(Object(u.a)(Object(s.a)(t,"resize").pipe(Object(d.a)(null)),t=>{const i=e(t);return i?Object.assign({position:"fixed",zIndex:Number.MAX_SAFE_INTEGER},(e=>({bottom:n.clientHeight-e.top,right:n.clientWidth-e.left}))(i)):{}})),o=this._opts.getGbuttonPositionStyleBehavior?i(e=>{const t=this._innerLayout.gbutton.container.querySelector(`.${v.gr_gbutton_container}`);if(t){const e=t.getBoundingClientRect();return p.a.create({top:e.bottom,left:e.right})}return null}):i(e=>e._tag===g.a.fixed?e:p.a.fromPage(e,{top:t.scrollY,left:t.scrollX}));return r.createElement(w.F.div,{style:o},r.createElement(e,null))}}createGeometryLayout(){return new h.a(()=>this._innerLayout.highlights.textFieldRect.getCurrent().clientPosition,()=>this._innerLayout.highlights.scroll.getCurrent(),()=>this._innerLayout.highlights.textFieldRect.getApproximate().clientPosition,()=>this._innerLayout.highlights.scroll.getApproximate())}render(e,t,n,o){const s=e&&new y.b(y.a.fromElement(this._innerLayout.highlights.container,"grammarly-highlights"),y.c.appendChild(this._innerLayout.highlights.container),()=>this._highlightsViewContainer(e),e=>{e.className=Object(w.classes)(i.gr_no_print,this._resetClass).className||""}),c=this._opts.getGbuttonPositionStyleBehavior||(e=>this._innerLayout.gbutton.position.behavior.pipe(Object(u.a)(e,(e,t)=>({position:e._tag===g.a.fixed?"fixed":"absolute",top:e.top,left:e.left,zIndex:t,transform:"translate(-100%, -100%)"})))),l=t&&new y.b(y.a.fromElement(this._innerLayout.gbutton.container,"grammarly-button"),y.c.appendChild(this._innerLayout.gbutton.container),()=>r.createElement(r.Fragment,null,t&&r.createElement(w.F.div,{style:c(this._innerLayout.gbutton.zIndex.behavior),className:v.gr_gbutton_container},r.createElement(t,null))),e=>{e.className=Object(w.classes)(i.gr_no_print,this._resetClass).className||""}),d=Object(m.b)(this._target),h=d.body.parentElement||d.body,p=n&&new y.b(y.a.fromDocument(d,"grammarly-popups"),y.c.appendChild(h),()=>r.createElement(w.F.div,null,n.shouldRender.pipe(Object(a.a)(e=>e?this._outerViewContainer(n.component):null))),e=>e.className=i.gr_no_print),f=o&&new y.b(y.a.fromDocument(d,"grammarly-inline-cards"),y.c.appendChild(h),o,e=>e.className=i.gr_no_print);return{dispose(){s&&s.dispose(),l&&l.dispose(),p&&p.dispose(),f&&f.dispose()}}}}},function(e,t,n){"use strict";t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){"use strict";var i=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}},,function(e,t,n){"use strict";var i=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(118),r=n(286);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.a)()(i.a.apply(void 0,e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(11);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.keySelector=i,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return i.a(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(11);function o(e){return void 0===e&&(e=null),function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.defaultValue))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return i.a(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(14),r=n(294),o=n(225);function s(e,t){return t?Object(o.a)(e,t):new i.a(Object(r.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(253),o=function(e){function t(n,i){void 0===i&&(i=r.a.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():i()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return i.a(t,e),t.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,i,r):e.prototype.schedule.call(this,n,i,r)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(33),o=n(28),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return i.a(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(r.a)},function(e,t,n){"use strict";var i=n(2),r=function(e){function t(t,n){return e.call(this)||this}return i.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(28).a);n.d(t,"a",(function(){return o}));var o=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return i.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(42);function r(e){return!Object(i.a)(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){e.exports={wrapperMinimized:"_2-FBw",wrapperMinimizedNewLayout:"_3-ITD",gbutton:"_5WizN",status:"_3QdKe",disabled:"_2iFE3",errors_100:"_5laW6",errors:"_1y8ub",checking:"_37oOc",gr__spin:"_2UPLX",has_errors:"_34Jb6",offline:"_1PNYf",plus_only:"_1Nifw",clarity:"_34o4X",emogenie:"_1HeSh",minimized:"aN9_b",minimize_transition:"_3IbZ2",login_reminder:"Vxw1H",transform_wrap:"_3YmQx",errors_checking:"_2IBj6",enableTransition:"_1QzSN",disableTransition:"_3GltC",gbtn_to_checking:"_1PhWF",gbtn_to_checking_animation:"_13_3E",checking_to_gbtn:"_1euJQ",checking_to_gbtn_animation:"_5oHQe",checking_to_err:"BYjA-",checking_to_err_animation:"LTjmb",err_to_checking:"_1_1Ws",err_to_checking_animation:"_9j4kj",checking_1:"_3GEct",checking_1_animation:"_1JXsP",checking_2:"_1sj3a",checking_2_animation:"_1jnzo",checking_3:"_2ogpO",checking_3_animation:"_3cByL"}},function(e,t,n){"use strict";var i=n(27),r=n(109),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.a=function(e,t){if(Object(i.a)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(r.a)(e))||s.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){"use strict";var i=n(212),r=n(256),o=n(77);t.a=function(e){return Object(o.a)(e)?Object(i.a)(e):Object(r.a)(e)}},function(e,t,n){"use strict";var i=n(108),r=n(292),o=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},s=n(278),a=function(e,t,n,i,a,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var h=c.get(e);if(h&&c.get(t))return h==t;var p=-1,f=!0,m=2&n?new r.a:void 0;for(c.set(e,t),c.set(t,e);++p<u;){var g=e[p],b=t[p];if(i)var v=l?i(b,g,p,t,e,c):i(g,b,p,e,t,c);if(void 0!==v){if(v)continue;f=!1;break}if(m){if(!o(t,(function(e,t){if(!Object(s.a)(m,t)&&(g===e||a(g,e,n,i,c)))return m.push(t)}))){f=!1;break}}else if(g!==b&&!a(g,b,n,i,c)){f=!1;break}}return c.delete(e),c.delete(t),f},c=n(59),l=n(152),u=n(84),d=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},h=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},p=c.a?c.a.prototype:void 0,f=p?p.valueOf:void 0,m=function(e,t,n,i,r,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new l.a(e),new l.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(u.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=d;case"[object Set]":var p=1&i;if(c||(c=h),e.size!=t.size&&!p)return!1;var m=s.get(e);if(m)return m==t;i|=2,s.set(e,t);var g=a(c(e),c(t),i,r,o,s);return s.delete(e),g;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1},g=n(271),b=n(27),v=Object.prototype.propertyIsEnumerable,_=Object.getOwnPropertySymbols,y=_?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}(_(e),(function(t){return v.call(e,t)})))}:function(){return[]},w=n(142),E=function(e){return function(e,t,n){var i=t(e);return Object(b.a)(e)?i:Object(g.a)(i,n(e))}(e,w.a,y)},x=Object.prototype.hasOwnProperty,O=n(202),S=n(82),C=n(91),j="[object Arguments]",k="[object Array]",T="[object Object]",N=Object.prototype.hasOwnProperty,P=function(e,t,n,r,o,s){var c=Object(b.a)(e),l=Object(b.a)(t),u=c?k:Object(O.a)(e),d=l?k:Object(O.a)(t),h=(u=u==j?T:u)==T,p=(d=d==j?T:d)==T,f=u==d;if(f&&Object(S.a)(e)){if(!Object(S.a)(t))return!1;c=!0,h=!1}if(f&&!h)return s||(s=new i.a),c||Object(C.a)(e)?a(e,t,n,r,o,s):m(e,t,u,n,r,o,s);if(!(1&n)){var g=h&&N.call(e,"__wrapped__"),v=p&&N.call(t,"__wrapped__");if(g||v){var _=g?e.value():e,y=v?t.value():t;return s||(s=new i.a),o(_,y,n,r,s)}}return!!f&&(s||(s=new i.a),function(e,t,n,i,r,o){var s=1&n,a=E(e),c=a.length;if(c!=E(t).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in t:x.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var p=s;++l<c;){var f=e[u=a[l]],m=t[u];if(i)var g=s?i(m,f,u,t,e,o):i(f,m,u,e,t,o);if(!(void 0===g?f===m||r(f,m,n,i,o):g)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,o,s))},A=n(46);t.a=function e(t,n,i,r,o){return t===n||(null==t||null==n||!Object(A.a)(t)&&!Object(A.a)(n)?t!=t&&n!=n:P(t,n,i,r,e,o))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n(167),r=n(194),o=n(25),s=n(177),a=n(17),c=n(145);class l{constructor(e){const t=e.testArgs,n=t&&t.processEnv?t.processEnv:c.b.fromBrowserify(),l=c.a.getTargetEnv(n),u="edge"===e.browser||t&&t.forceEdgeCompatLoggingMode,d="prod"!==l||"cs"!==e.context,h={create:e=>new i.b(e,{writer:new s.a(u),filterFn:d?e=>!0:Object(r.a)(o.a.ERROR)})},p=Object(a.b)(e.browser,e.context,n,l);this.config=p,this.logger=h}static getInstance(){if(void 0===this._instanceShared)throw new Error("Env not inited yet");return this._instanceShared}static initShared(e){if(void 0!==this._instanceShared)throw new Error("Env already inited");this._instanceShared=e}}function u(){return l.getInstance()}},function(e,t,n){"use strict";var i,r=n(4);!function(e){e.create=function(e,t,n,i,r){const o=`https://www.${e}`,s=`https://data.${e}`,a=`https://app.${e}`,c=`https://auth.${e}/v3`;return{app:a,appPersonalDictionary:`https://account.${e}/customize`,capi:`wss://capi.${e}/freews`,capiGDocs:`wss://capi.${e}/gdocs`,dapiMimic:`${s}/api/mimic`,dapiProps:`${s}/api/props/v2`,dapiFindProps:`${s}/api/props/v2/find`,editorDictionary:`${a}/profile/dictionary`,dictionary:`https://capi.${e}/api/defs`,docs:`${a}/docs`,docsApi:`https://dox.${e}/documents`,newDoc:`${a}/docs/new`,userOrAnonymous:`${c}/user/oranonymous`,authSignin:`${c}/api/login`,authSignup:`${c}/api/signup`,authExchange:`${c}/api/unified-login/code/exchange`,authLogout:`${c}/logout`,signin:`${o}/signin`,signup:`${o}/signup`,fbSignin:`${o}/signin?fromExtensionFb=true`,fbSignup:`${o}/signup?fromExtensionFb=true`,googleSignin:`${o}/signin?fromExtensionGoogle=true`,googleSignup:`${o}/signup?fromExtensionGoogle=true`,resetPassword:`${o}/resetpassword`,newFelog:t,sumoLogic:n,welcomeC:`${o}/extension-success`,afterInstall:`${o}/after_install_page`,upgrade:`${o}/upgrade`,premium:`${o}/business/plans/i`,planComparison:`${o}/plans/t`,plansEnterprise:`${o}/plans/n`,uninstall:`${o}/extension-uninstall`,terms:`${o}/terms`,policy:`${o}/privacy-policy`,extensionSuccess:`${o}/extension-success`,firefoxPrivatePolicy:"https://addons.mozilla.org/en-US/firefox/addon/grammarly-1/privacy/",dynamicConfigUrl:"https://d3cv4a9a9wh0bt.cloudfront.net/dynamicConfig.json",pageConfigUrl:"https://d3cv4a9a9wh0bt.cloudfront.net/browserplugin/config.json",edgePopupUrl:i,emptyScriptUrl:r,grammarlyDomain:e,grammarlyProtocol:"https:"}}}(i||(i={}));var o,s,a,c,l,u,d=n(58);!function(e){const t={chrome:"chromeExt",firefox:"firefoxExt",safari:"safariExt",edge:"edgeExt"};e.create=function(e,n){return{appName:Object(d.c)(t[e],"gnar app name"),url:`https://gnar.${n}`,domain:`.${n}`,sendEmailInfoTracking:!0,sendFluidExperimentData:!1}}}(o||(o={})),function(e){const t={chrome:"extensionChrome",firefox:"extensionFirefox",safari:"extensionSafari",edge:"extensionEdge"};e.create=function(e,n){return{appName:Object(d.c)(t[e],"felog app name"),sendUsageMetrics:!0,sendPerfMetrics:"dev"===n||Math.random()<=.01}}}(s||(s={})),function(e){const t={chrome:"extensionChrome",firefox:"extensionFirefox",safari:"extensionSafari",edge:"extensionEdge"};e.create=function(e){return{appName:Object(d.c)(t[e],"sumologic app name")}}}(a||(a={})),function(e){e.create=function(){return{}}}(c||(c={})),function(e){e.create=function(e){return{gdocsSupported:"chrome"===e||"firefox"===e||"safari"===e}}}(l||(l={})),function(e){const t="grammarly.com";e.create=function(e,n,a,u){const d="prod"===n?"https://f-log-extension.grammarly.io":"qa"===n||"dev"===n?"https://127.0.0.1:8000":Object(r.g)(n),h="prod"===n?"https://endpoint2.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV1OF-4ic11yqpre0casnyvs_ZoaCHciEYdRyBkrfwP6DMlsWt8tSVU76RPqgGvAGjXGQk_UNuxPx-pYbToJapM_Fr0CUcgKaA8_IVl-lhSr5Q==":"qa"===n||"dev"===n?"https://127.0.0.1:8000":Object(r.g)(n),p="prod"===n?t:"qa"===n||"dev"===n?"qagr.io":Object(r.g)(n);return{url:i.create(t,d,h,a,u),gnar:o.create(e,p),felog:s.create(e,n),capi:c.create(),extensionId:"87677a2c52b84ad3a151a4a72f5bd3c4",newsVersion:0,features:l.create(e)}}}(u||(u={}));var h,p,f,m,g,b,v,_,y,w,E,x,O,S,C=n(236);(p=h||(h={})).create=function(e,t,n,i,r,o,s){const a=void 0!==o&&void 0!==s?o:"UNVERSIONED",c=`${e}.${t}.${n}`;return{version:c,fullVersion:`${c}-${[i,["prod"!==r?r:null,a!==i?a:null].filter(e=>!!e).join(".")].filter(e=>""!==e).join("/")}`,commitHash:s,gitBranch:o}},p.getManifestVersion=function(e,t,n){switch(e){case"safari":switch(t){case"bg":case"popup":return n.safari.extension.displayVersion;default:return}case"chrome":return n.chrome.runtime.getManifest().version;case"firefox":return C.a.runtime.getManifest().version;case"edge":return n.edge.runtime.getManifest().version;default:return Object(r.g)(e)}},(m=f||(f={})).create=function(e){return Object(r.n)(["chrome","safari","firefox","edge"],e)},m.detect=function(e){return e.chrome&&/google/i.test(e.navigator.vendor)?"chrome":-1!==e.navigator.userAgent.indexOf("Firefox")?"firefox":/^((?!chrome).)*safari/i.test(e.navigator.userAgent)?"safari":"Netscape"===e.navigator.appName&&e.navigator.appVersion.indexOf("Edge")>-1?"edge":void 0},(g||(g={})).create=function(e){return Object(r.n)(["dev","prod","qa"],e)},(v=b||(b={})).create=function(e){return Object(r.n)(["bg","cs","popup"],e)},v.detect=function(e,t){const n=!!e.IS_BG,i="safari"===t?function(){try{return e.safari.extension.globalPage.contentWindow!==e}catch(e){return!1}}():!!e.IS_POPUP;return n?"bg":i?"popup":"cs"},function(e){e.create=function(e,t,n){return{browser:e,env:t,context:n}}}(_||(_={})),(y||(y={})).create=function(e){return{type:f.detect(e)||"other"}},function(e){e.create=function(e){return{isWindows:-1!==e.navigator.appVersion.indexOf("Win"),isMac:-1!==e.navigator.appVersion.indexOf("Mac"),isChromeOS:-1!==e.navigator.appVersion.indexOf("CrOS")}}}(w||(w={})),function(e){e.create=function(e){return{browser:y.create(e),os:w.create(e)}}}(E||(E={})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return O})),function(e){function t(e,t,n,i,r,o,s,a){return{env:e,major_number:t,build_number:n,release_number:i,git_branch:r,git_commit:o,edge_popup_url:s,empty_script_url:a}}e.create=t,e.fromBrowserify=function(){return t("prod","14","945","0","UNVERSIONED","UNVERSIONED","","")}}(x||(x={})),(S=O||(O={})).getTargetEnv=function(e){if(!e.env)throw new Error("processEnv.env is null or undefined");const t=g.create(e.env);if(!t)throw new Error(`Invalid processEnv.env: ${e.env}`);return t},S.create=function(e,t,n,i){const o=[n.major_number,n.build_number,n.release_number].map(r.m);let s;if(3===o.length&&o.every(e=>void 0!==e))s=o;else{let n;try{n=h.getManifestVersion(e,t,window)}catch(e){}const i=(n||"").split(".").map(r.m);s=3===i.length&&i.every(e=>void 0!==e)?i:[0,0,0]}const[a,c,l]=s;return{buildInfo:h.create(a,c,l,e,i,n.git_branch,n.git_commit),bundleInfo:_.create(e,i,t),appConfig:u.create(e,i,n.edge_popup_url,n.empty_script_url),systemInfo:E.create(window)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(53),r=n(103),o={closed:!0,next:function(e){},error:function(e){if(i.a.useDeprecatedSynchronousErrorHandling)throw e;Object(r.a)(e)},complete:function(){}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(2),r=n(20),o=n(81),s=n(18),a=n(37),c=n(62);function l(e,t){return"function"==typeof t?function(n){return n.pipe(l((function(n,i){return Object(c.a)(e(n,i)).pipe(Object(a.a)((function(e,r){return t(n,e,i,r)})))})))}:function(t){return t.lift(new u(e))}}var u=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project))},e}(),d=function(e){function t(t,n){var i=e.call(this,t)||this;return i.project=n,i.index=0,i}return i.a(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new o.a(this,void 0,void 0);this.destination.add(r),this.innerSubscription=Object(s.a)(this,e,t,n,r)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(14),r=n(55),o=n(221),s=n(133);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return Object(r.a)(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof c&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof i.a?e[0]:Object(o.a)(n)(Object(s.a)(e,a))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i={},r={start(e){i[e]=Date.now()},stop(e){const t=this.passed(e);return delete i[e],t},passed:e=>e&&i[e]?Date.now()-i[e]:0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(2),r=n(55),o=n(42),s=n(20),a=n(18),c=n(133),l={};function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,i=null;return Object(r.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),Object(c.a)(e,i).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n){var i=e.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return i.a(t,e),t.prototype._next=function(e){this.values.push(l),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(Object(a.a)(this,i,i,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,i,r){var o=this.values,s=o[n],a=this.toRespond?s===l?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.a)},function(e,t,n){"use strict";var i=n(36).a.Uint8Array;t.a=i},,function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d}));var i=n(0);const r=({className:e})=>i.createElement("svg",{className:e,width:"18",height:"18",viewBox:"0 0 18 18"},i.createElement("g",{transform:"translate(-7 -7)",fill:"none",fillRule:"evenodd"},i.createElement("circle",{fill:"#15C39A",cx:"16",cy:"16",r:"9.008"}),i.createElement("path",{d:"M17.318 17.843c.052.297.335.504.64.504h.963l.56-.074c-.895 1.297-2.438 1.897-4.13 1.638-1.38-.214-2.566-1.14-3.065-2.437-1.134-2.942 1.03-5.75 3.84-5.75 1.468 0 2.75.852 3.49 1.882.193.304.58.385.864.185.267-.185.342-.533.178-.815-1.014-1.578-2.84-2.593-4.906-2.46-2.677.193-4.854 2.37-5.003 5.04-.18 3.103 2.295 5.637 5.382 5.637 1.618 0 3.065-.703 4.056-1.837l-.12.652v.585c0 .304.21.586.508.637.395.074.738-.23.738-.608v-3.52H17.93c-.38.008-.687.35-.612.74z",fill:"#FFF"}))),o=({className:e})=>i.createElement("span",{className:e,dangerouslySetInnerHTML:{__html:'\n            <svg width="32" height="32" viewBox="0 0 32 32">\n              <defs>\n                <path d="M21,12.5 L21,20.1308289 C21,21.7154283 19.6513555,23 17.9996703,23 L14.0003297,23 C12.3432934,23 11,21.7124939 11,20.1308289 L11,12.5 L11,12.5" id="d70af4_ignoreIconUse"></path>\n                <mask data-mask-color="d70af4_ignoreIcon" id="d70af4_ignoreIconMask" x="-1" y="0" width="9.5" height="10.5">\n                  <use data-fix="d70af4_ignoreIcon" xlink:href="#d70af4_ignoreIconUse"/>\n                </mask>\n              </defs>\n              <g stroke="#D2D4DD" fill="none" fill-rule="evenodd">\n                <path d="M9 10.6h14" stroke-width="1.2"/>\n                <g stroke-width="1.2">\n                  <path d="M14.6 14v6M17.4 14v6"/>\n                </g>\n                <use mask="url(#d70af4_ignoreIconMask)" stroke-width="2.4" xlink:href="#d70af4_ignoreIconUse"/>\n                <path d="M18.5 11V9c0-1.1045695-.8982606-2-1.9979131-2h-1.0041738C14.3944962 7 13.5 7.8877296 13.5 9v2" stroke-width="1.2"/>\n              </g>\n            </svg>\n      '}}),s=({className:e})=>i.createElement("span",{className:e,dangerouslySetInnerHTML:{__html:'\n      <svg width="9" height="12" viewBox="0 0 9 12" fill="none">\n      <path d="M0.5 5.85714C0.5 5.38376 0.897969 5 1.38889 5H7.61111C8.10203 5 8.5 5.38376 8.5 5.85714V10.1429C8.5 10.6162 8.10203 11 7.61111 11H1.38889C0.897969 11 0.5 10.6162 0.5 10.1429V5.85714Z" fill="#9FA6BF" stroke="#9FA6BF"/>\n      <path d="M6.5 5V3C6.5 1.89543 5.60457 1 4.5 1V1C3.39543 1 2.5 1.89543 2.5 3V5" stroke="#9FA6BF"/>\n      </svg>\n\n      '}}),a=({className:e})=>i.createElement("span",{className:e,dangerouslySetInnerHTML:{__html:'\n      <svg width="14" height="13" viewBox="0 0 14 13" fill="none">\n      <path d="M0.53125 4.92188L3.25493 1.32812H5.97862M0.53125 4.92188L7 11.75M0.53125 4.92188H4.27632M13.4688 4.92188L10.7451 1.32812H8.02138M13.4688 4.92188L7 11.75M13.4688 4.92188H9.38322M7 11.75L4.27632 4.92188M7 11.75L9.38322 4.92188M4.27632 4.92188H9.38322M4.27632 4.92188L5.97862 1.32812M9.38322 4.92188L8.02138 1.32812M8.02138 1.32812H5.97862" stroke="#F29100" stroke-width="0.71875" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>\n      '}}),c=({className:e})=>i.createElement("span",{className:e,dangerouslySetInnerHTML:{__html:'\n        <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <defs>\n            <mask id="57da07_dictionaryIconMask" x="0" y="0" width="10" height="15" fill="#fff">\n              <path id="57da07_dictionaryIconUse" d="M11 9h10v15l-4.8857422-4L11 24z"/>\n            </mask>\n          </defs>\n          <use mask="url(#57da07_dictionaryIconMask)" xlink:href="#57da07_dictionaryIconUse" stroke-width="2.4" stroke="#D2D4DD" fill="none"/>\n        </svg>\n      '}}),l=({className:e})=>i.createElement("svg",{className:e,width:"15",height:"23",viewBox:"0 0 15 23"},i.createElement("path",{d:"M14.773 22.573V.39h-14v22.183l7-5.326",fill:"#15C49A",fillRule:"evenodd"})),u=({className:e})=>i.createElement("svg",{className:e,width:"32",height:"32",viewBox:"0 0 32 32"},i.createElement("path",{d:"M13.633 21l2.198-4.264L17.64 21h.633l3.756-8.643c.21-.485.62-.776 1.057-.842V11H20.05v.515c.402.09.83.24 1.02.666l-2.758 6.363c-.5-1.06-1.01-2.22-1.498-3.375.504-1.07.915-2.064 1.533-3.04.36-.576.948-.59 1.25-.618V11h-3.23v.51c.404 0 1.242.037.868.822l-.936 1.97-.993-2.19c-.155-.342.145-.57.635-.596L15.938 11h-3.633v.51c.433.015 1.043.013 1.268.38.694 1.274 1.158 2.598 1.79 3.898l-1.636 3.06-2.75-6.323c-.31-.713.425-.943.903-1.002L11.874 11H8v.51c.535.178 1.225.974 1.418 1.376 1.447 3.027 2.176 5.057 3.557 8.114h.658z",fill:"#D2D4DD",fillRule:"evenodd"})),d=({className:e})=>i.createElement("svg",{className:e,width:"100%",height:"100%",viewBox:"0 0 32 32",version:"1.1",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"},i.createElement("path",{d:"M9.003,18c-0.563,0 -1.036,-0.193 -1.422,-0.578c-0.385,-0.386 -0.578,-0.859 -0.578,-1.422c0,-0.563 0.193,-1.036 0.578,-1.422c0.386,-0.385 0.859,-0.578 1.422,-0.578c0.562,0 1.036,0.193 1.422,0.578c0.385,0.386 0.578,0.859 0.578,1.422c0,0.563 -0.193,1.036 -0.578,1.422c-0.386,0.385 -0.86,0.578 -1.422,0.578Zm0,-1c0.271,0 0.505,-0.099 0.703,-0.297c0.198,-0.198 0.297,-0.432 0.297,-0.703c0,-0.271 -0.099,-0.505 -0.297,-0.703c-0.198,-0.198 -0.432,-0.297 -0.703,-0.297c-0.271,0 -0.505,0.099 -0.703,0.297c-0.198,0.198 -0.297,0.432 -0.297,0.703c0,0.271 0.099,0.505 0.297,0.703c0.198,0.198 0.432,0.297 0.703,0.297Zm6.997,1c-0.563,0 -1.036,-0.193 -1.422,-0.578c-0.385,-0.386 -0.578,-0.859 -0.578,-1.422c0,-0.563 0.193,-1.036 0.578,-1.422c0.386,-0.385 0.859,-0.578 1.422,-0.578c0.563,0 1.036,0.193 1.422,0.578c0.385,0.386 0.578,0.859 0.578,1.422c0,0.563 -0.193,1.036 -0.578,1.422c-0.386,0.385 -0.859,0.578 -1.422,0.578Zm0,-1c0.271,0 0.505,-0.099 0.703,-0.297c0.198,-0.198 0.297,-0.432 0.297,-0.703c0,-0.271 -0.099,-0.505 -0.297,-0.703c-0.198,-0.198 -0.432,-0.297 -0.703,-0.297c-0.271,0 -0.505,0.099 -0.703,0.297c-0.198,0.198 -0.297,0.432 -0.297,0.703c0,0.271 0.099,0.505 0.297,0.703c0.198,0.198 0.432,0.297 0.703,0.297Zm7,1c-0.562,0 -1.036,-0.193 -1.422,-0.578c-0.385,-0.386 -0.578,-0.859 -0.578,-1.422c0,-0.563 0.193,-1.036 0.578,-1.422c0.386,-0.385 0.86,-0.578 1.422,-0.578c0.563,0 1.037,0.193 1.422,0.578c0.386,0.386 0.578,0.859 0.578,1.422c0,0.563 -0.192,1.036 -0.578,1.422c-0.385,0.385 -0.859,0.578 -1.422,0.578Zm0,-1c0.271,0 0.506,-0.099 0.703,-0.297c0.198,-0.198 0.297,-0.432 0.297,-0.703c0,-0.271 -0.099,-0.505 -0.297,-0.703c-0.197,-0.198 -0.432,-0.297 -0.703,-0.297c-0.27,0 -0.505,0.099 -0.703,0.297c-0.198,0.198 -0.297,0.432 -0.297,0.703c0,0.271 0.099,0.505 0.297,0.703c0.198,0.198 0.433,0.297 0.703,0.297Z"}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(12),o=n(4);class s{constructor(e){this._perf=e,this._log=r.a.create("cs.telemetry.PerformanceMetricsImpl")}flushMeasures(e){try{const t=this._perf.getEntriesByName(e,"measure");return this._perf.clearMeasures(e),t.map(e=>e.duration)}catch(e){return this._log.warn("failed to retrieve perf measurements",e),[]}}startMeasure(e){const t=Math.random(),n=`__${e}_${t}-start`,i=`__${e}_${t}-end`;try{this._perf.mark(n)}catch(e){return this._log.warn("could not start measure – ignoring measurement",e),{endMeasure:o.l}}let r=!1;return{endMeasure:()=>{if(!r){r=!0;try{this._perf.mark(i),this._perf.measure(e,n,i)}catch(e){this._log.warn("could not complete measure",e)}}}}}measure(e,t){const n=`__${e}-start`,i=`__${e}-end`;try{this._perf.mark(n)}catch(e){return this._log.warn("could not start measure – ignoring measurement",e),t()}try{return t()}finally{try{this._perf.mark(i),this._perf.measure(e,n,i)}catch(e){this._log.warn("could not complete measure",e)}}}}!function(e){e.dummy={flushMeasures:e=>[],measure:(e,t)=>t(),startMeasure:e=>({endMeasure(){}})},e.create=function(t){return void 0!==t?new s(t):e.dummy},e.getStats=function(e){if(0===e.length)return{ct:0};{const t=e.reduce((e,t)=>Math.min(e,t),Number.MAX_VALUE),n=e.reduce((e,t)=>Math.max(e,t),Number.MIN_VALUE),i=e.length>=6?e.reduce((e,t)=>e+t,0)/e.length:void 0;return{ct:e.length,min:t,max:n,range:n-t,avg:i,stddev:void 0!==i&&e.length>1?Math.sqrt(e.reduce((e,t)=>e+Math.pow(t-i,2),0)/(e.length-1)):void 0}}}}(i||(i={}))},function(e,t,n){"use strict";var i=n(182),r=Object(i.a)(Object.getPrototypeOf,Object);t.a=r},function(e,t,n){"use strict";function i(e){return e.nodeType===Node.ELEMENT_NODE}function r(e){return e.nodeType===Node.ELEMENT_NODE&&e instanceof HTMLElement}function o(e,t){if(t(e))return[e];{const n=[];for(let i=0;i<e.childNodes.length;i++){const r=o(e.childNodes[i],t);for(const e of r)n.push(e)}return n}}n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(75);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:i.a}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.generic="generic",e.confluenceEditor="confluenceEditor",e.dropboxPaper="dropboxPaper",e.gmail="gmail",e.jira="jira"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var i,r=n(47),o=n(116);function s(e,t,n,i){return o.c.setPosition(r.c.fromOffset(e,t,n,i),e)}!function(e){e.absolute="absolute",e.fixed="fixed"}(i||(i={}))},function(e,t,n){e.exports={unifiedFunnel:"_1s8ew",title:"_39Wt3",sub:"_2qGk3",check:"_3qC74",mark:"_2eLqQ",item:"_2vNq2",itemWrapper:"_1qZ82",button:"_35qTH",fb:"O7QXg",login:"_2tmfo",link:"_3_ae3",popupFooter:"_1bTmN",isFlipped:"_36vXi",close:"l6CtF"}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.initial=0]="initial",e[e.applied=1]="applied"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(131),o=n(11);function s(e){return void 0===e&&(e=l),function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.errorFactory))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return i.a(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(o.a);function l(){return new r.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(2),r=n(11),o=n(123),s=n(48);function a(e){return function(t){return 0===e?Object(s.b)():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o.a}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.total))},e}(),l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return i.a(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n(25);class r{constructor(e){this.name=e,this._isError=e=>{const t=e;return t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}}trace(e,t,n){this._logMessage(i.a.TRACE,e,t,n)}debug(e,t,n){this._logMessage(i.a.DEBUG,e,t,n)}info(e,t,n){this._logMessage(i.a.INFO,e,t,n)}warn(e,t,n){this._logMessage(i.a.WARN,e,t,n)}error(e,t,n){this._logMessage(i.a.ERROR,e,t,n)}fatal(e,t,n){this._logMessage(i.a.FATAL,e,t,n)}_logMessage(e,t,n,i){const r={level:e,loggerName:this.name,message:t,timestamp:new Date};n&&(this._isError(n)?r.exception=n:r.data=n),r.data=r.data||i,this.handleEvent(r)}}class o{constructor(e,t){this.name=e,this._createLogger=t}trace(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.trace(e,t,n)}debug(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.debug(e,t,n)}info(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.info(e,t,n)}warn(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.warn(e,t,n)}error(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.error(e,t,n)}fatal(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.fatal(e,t,n)}}class s extends r{constructor(e,t){super(e),this._config=t}handleEvent(e){this._config.filterFn(e)&&this._config.writer.write(e)}}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(159))},function(e,t,n){"use strict";var i=n(171);t.a=function(e,t,n){"__proto__"==t&&i.a?Object(i.a)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(11);function o(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},e}(),a=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=i,o.hasSeed=r,o.index=0,o}return i.a(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(r.a)},function(e,t,n){"use strict";var i=n(57),r=function(){try{var e=Object(i.a)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(92),r=n(183),o=n(33);function s(){return new o.a}function a(){return function(e){return Object(r.a)()(Object(i.a)(s)(e))}}},function(e,t,n){"use strict";var i=n(176),r=n(98);t.a=function(e,t){for(var n=0,o=(t=Object(i.a)(t,e)).length;null!=e&&n<o;)e=e[Object(r.a)(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){"use strict";function i(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(11);function r(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.a?r:null}return!0}},function(e,t,n){"use strict";var i=n(27),r=n(141),o=n(114),s="Expected a function";function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(s);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(a.Cache||o.a),n}a.Cache=o.a;var c=a,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,d=function(e){var t=c((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(l,(function(e,n,i,r){t.push(i?r.replace(u,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),h=n(59),p=n(243),f=n(109),m=h.a?h.a.prototype:void 0,g=m?m.toString:void 0,b=function(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(Object(i.a)(t))return Object(p.a)(t,e)+"";if(Object(f.a)(t))return g?g.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)};t.a=function(e,t){return Object(i.a)(e)?e:Object(r.a)(e,t)?[e]:d(b(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(25);class r{constructor(e=!0){this._edgeCompat=e,this._writeFunc=this._edgeCompat?r._edgeWriteFunc:r._commonWriteFunc}write(e){try{const t=[`grm ${e.level} 【${e.loggerName}】░░ ${e.message}`];e.data&&t.push(e.data),e.exception&&t.push(e.exception),this._writeFunc[e.level].apply(null,t)}catch(e){}}}r._commonWriteFunc={[i.a.TRACE]:console.log.bind(console),[i.a.DEBUG]:console.log.bind(console),[i.a.INFO]:console.info.bind(console),[i.a.WARN]:console.warn.bind(console),[i.a.ERROR]:console.error.bind(console),[i.a.FATAL]:console.error.bind(console)},r._edgeWriteFunc={[i.a.TRACE]:(e,t,n)=>console.log(e,t,n),[i.a.DEBUG]:(e,t,n)=>console.log(e,t,n),[i.a.INFO]:(e,t,n)=>console.info(e,t,n),[i.a.WARN]:(e,t,n)=>console.warn(e,t,n),[i.a.ERROR]:(e,t,n)=>console.error(e,t,n),[i.a.FATAL]:(e,t,n)=>console.error(e,t,n)}},function(e,t,n){e.exports=function(){"use strict";var e=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],t=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],n=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],i=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],r=["#text"],o=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],s=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],a=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],c=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"];function l(e,t){for(var n=t.length;n--;)"string"==typeof t[n]&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e}function u(e){var t={},n=void 0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var d=/\{\{[\s\S]*|[\s\S]*\}\}/gm,h=/<%[\s\S]*|[\s\S]*%>/gm,p=/^data-[\-\w.\u00B7-\uFFFF]/,f=/^aria-[\-\w]+$/,m=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,g=/^(?:\w+script|data):/i,b=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y=function(){return"undefined"==typeof window?null:window};return function w(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(),x=function(e){return w(e)};if(x.version="1.0.8",x.removed=[],!E||!E.document||9!==E.document.nodeType)return x.isSupported=!1,x;var O=E.document,S=!1,C=!1,j=E.document,k=E.DocumentFragment,T=E.HTMLTemplateElement,N=E.Node,P=E.NodeFilter,A=E.NamedNodeMap,I=void 0===A?E.NamedNodeMap||E.MozNamedAttrMap:A,F=E.Text,M=E.Comment,R=E.DOMParser;if("function"==typeof T){var D=j.createElement("template");D.content&&D.content.ownerDocument&&(j=D.content.ownerDocument)}var L=j,B=L.implementation,U=L.createNodeIterator,z=L.getElementsByTagName,H=L.createDocumentFragment,V=O.importNode,G={};x.isSupported=B&&void 0!==B.createHTMLDocument&&9!==j.documentMode;var W=d,$=h,q=p,Y=f,K=g,Q=b,X=m,J=null,Z=l({},[].concat(_(e),_(t),_(n),_(i),_(r))),ee=null,te=l({},[].concat(_(o),_(s),_(a),_(c))),ne=null,ie=null,re=!0,oe=!0,se=!1,ae=!1,ce=!1,le=!1,ue=!1,de=!1,he=!1,pe=!1,fe=!1,me=!0,ge=!0,be=!1,ve={},_e=l({},["audio","head","math","script","style","template","svg","video"]),ye=l({},["audio","video","img","source","image"]),we=l({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ee=null,xe=j.createElement("form"),Oe=function(d){"object"!==(void 0===d?"undefined":v(d))&&(d={}),J="ALLOWED_TAGS"in d?l({},d.ALLOWED_TAGS):Z,ee="ALLOWED_ATTR"in d?l({},d.ALLOWED_ATTR):te,ne="FORBID_TAGS"in d?l({},d.FORBID_TAGS):{},ie="FORBID_ATTR"in d?l({},d.FORBID_ATTR):{},ve="USE_PROFILES"in d&&d.USE_PROFILES,re=!1!==d.ALLOW_ARIA_ATTR,oe=!1!==d.ALLOW_DATA_ATTR,se=d.ALLOW_UNKNOWN_PROTOCOLS||!1,ae=d.SAFE_FOR_JQUERY||!1,ce=d.SAFE_FOR_TEMPLATES||!1,le=d.WHOLE_DOCUMENT||!1,he=d.RETURN_DOM||!1,pe=d.RETURN_DOM_FRAGMENT||!1,fe=d.RETURN_DOM_IMPORT||!1,de=d.FORCE_BODY||!1,me=!1!==d.SANITIZE_DOM,ge=!1!==d.KEEP_CONTENT,be=d.IN_PLACE||!1,X=d.ALLOWED_URI_REGEXP||X,ce&&(oe=!1),pe&&(he=!0),ve&&(J=l({},[].concat(_(r))),ee=[],!0===ve.html&&(l(J,e),l(ee,o)),!0===ve.svg&&(l(J,t),l(ee,s),l(ee,c)),!0===ve.svgFilters&&(l(J,n),l(ee,s),l(ee,c)),!0===ve.mathMl&&(l(J,i),l(ee,a),l(ee,c))),d.ADD_TAGS&&(J===Z&&(J=u(J)),l(J,d.ADD_TAGS)),d.ADD_ATTR&&(ee===te&&(ee=u(ee)),l(ee,d.ADD_ATTR)),d.ADD_URI_SAFE_ATTR&&l(we,d.ADD_URI_SAFE_ATTR),ge&&(J["#text"]=!0),le&&l(J,["html","head","body"]),J.table&&l(J,["tbody"]),Object&&"freeze"in Object&&Object.freeze(d),Ee=d},Se=function(e){x.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},Ce=function(e,t){try{x.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){x.removed.push({attribute:null,from:t})}t.removeAttribute(e)},je=function(e){var t=void 0;if(de&&(e="<remove></remove>"+e),S)try{t=(new R).parseFromString(e,"text/html")}catch(e){}if(C&&l(ne,["title"]),!t||!t.documentElement){var n=(t=B.createHTMLDocument("")).body;n.parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=e}return z.call(t,le?"html":"body")[0]};x.isSupported&&(function(){try{je('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">').querySelector("svg img")&&(S=!0)}catch(e){}}(),function(){try{je("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").textContent.match(/<\/title/)&&(C=!0)}catch(e){}}());var ke=function(e){return U.call(e.ownerDocument||e,e,P.SHOW_ELEMENT|P.SHOW_COMMENT|P.SHOW_TEXT,(function(){return P.FILTER_ACCEPT}),!1)},Te=function(e){return"object"===(void 0===N?"undefined":v(N))?e instanceof N:e&&"object"===(void 0===e?"undefined":v(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ne=function(e,t,n){G[e]&&G[e].forEach((function(e){e.call(x,t,n,Ee)}))},Pe=function(e){var t,n=void 0;if(Ne("beforeSanitizeElements",e,null),!((t=e)instanceof F||t instanceof M||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof I&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute))return Se(e),!0;var i=e.nodeName.toLowerCase();if(Ne("uponSanitizeElement",e,{tagName:i,allowedTags:J}),!J[i]||ne[i]){if(ge&&!_e[i]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return Se(e),!0}return!ae||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(x.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),ce&&3===e.nodeType&&(n=(n=(n=e.textContent).replace(W," ")).replace($," "),e.textContent!==n&&(x.removed.push({element:e.cloneNode()}),e.textContent=n)),Ne("afterSanitizeElements",e,null),!1},Ae=function(e,t,n){if(me&&("id"===t||"name"===t)&&(n in j||n in xe))return!1;if(ce&&(n=(n=n.replace(W," ")).replace($," ")),oe&&q.test(t));else if(re&&Y.test(t));else{if(!ee[t]||ie[t])return!1;if(we[t]);else if(X.test(n.replace(Q,"")));else if("src"!==t&&"xlink:href"!==t||"script"===e||0!==n.indexOf("data:")||!ye[e])if(se&&!K.test(n.replace(Q,"")));else if(n)return!1}return!0},Ie=function(e){var t=void 0,n=void 0,i=void 0,r=void 0,o=void 0;Ne("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ee};for(o=s.length;o--;){var c=t=s[o],l=c.name,u=c.namespaceURI;if(n=t.value.trim(),i=l.toLowerCase(),a.attrName=i,a.attrValue=n,a.keepAttr=!0,Ne("uponSanitizeAttribute",e,a),n=a.attrValue,"name"===i&&"IMG"===e.nodeName&&s.id)r=s.id,s=Array.prototype.slice.apply(s),Ce("id",e),Ce(l,e),s.indexOf(r)>o&&e.setAttribute("id",r.value);else{if("INPUT"===e.nodeName&&"type"===i&&"file"===n&&(ee[i]||!ie[i]))continue;"id"===l&&e.setAttribute(l,""),Ce(l,e)}if(a.keepAttr){var d=e.nodeName.toLowerCase();if(Ae(d,i,n))try{u?e.setAttributeNS(u,l,n):e.setAttribute(l,n),x.removed.pop()}catch(e){}}}Ne("afterSanitizeAttributes",e,null)}},Fe=function e(t){var n=void 0,i=ke(t);for(Ne("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)Ne("uponSanitizeShadowNode",n,null),Pe(n)||(n.content instanceof k&&e(n.content),Ie(n));Ne("afterSanitizeShadowDOM",t,null)};return x.sanitize=function(e,t){var n=void 0,i=void 0,r=void 0,o=void 0,s=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Te(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!x.isSupported){if("object"===v(E.toStaticHTML)||"function"==typeof E.toStaticHTML){if("string"==typeof e)return E.toStaticHTML(e);if(Te(e))return E.toStaticHTML(e.outerHTML)}return e}if(ue||Oe(t),x.removed=[],be);else if(e instanceof N)1===(i=(n=je("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===i.nodeName?n=i:n.appendChild(i);else{if(!he&&!le&&-1===e.indexOf("<"))return e;if(!(n=je(e)))return he?null:""}n&&de&&Se(n.firstChild);for(var a=ke(be?e:n);r=a.nextNode();)3===r.nodeType&&r===o||Pe(r)||(r.content instanceof k&&Fe(r.content),Ie(r),o=r);if(be)return e;if(he){if(pe)for(s=H.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return fe&&(s=V.call(O,s,!0)),s}return le?n.outerHTML:n.innerHTML},x.setConfig=function(e){Oe(e),ue=!0},x.clearConfig=function(){Ee=null,ue=!1},x.isValidAttribute=function(e,t,n){Ee||Oe({});var i=e.toLowerCase(),r=t.toLowerCase();return Ae(i,r,n)},x.addHook=function(e,t){"function"==typeof t&&(G[e]=G[e]||[],G[e].push(t))},x.removeHook=function(e){G[e]&&G[e].pop()},x.removeHooks=function(e){G[e]&&(G[e]=[])},x.removeAllHooks=function(){G={}},x}()}()},function(e,t,n){"use strict";var i=n(2),r=1,o={},s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return i.a(t,e),t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=function(e){var t=r++;return o[t]=e,Promise.resolve().then((function(){return function(e){var t=o[e];t&&t()}(t)})),t}(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);0===t.actions.length&&(function(e){delete o[e]}(n),t.scheduled=void 0)},t}(n(136).a),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(134).a);n.d(t,"a",(function(){return c}));var c=new a(s)},function(e,t,n){e.exports={gr_no_print:"_1KJtL"}},,function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(11);function o(){return function(e){return e.lift(new s(e))}}var s=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new a(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.connectable=n,i}return i.a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(14),r=n(62),o=n(48);function s(e){return new i.a((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?Object(r.a)(n):Object(o.b)()).subscribe(t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(203),o=n(269),s=n(308);class a{constructor(e,t=a.defaultFilterNode,n=a.defaultFilterNodeOutput,c=a.defaultIsBlockNode,l=a.defaultFilterOutput,u=a.defaultFinishBlockAfterNode,d={preserveWhiteSpace:!1,isEditable:e.nodeType===Node.ELEMENT_NODE&&s.a.isGeneric.contenteditable(e),outputConsidered:!1}){this._root=e,this._filterNode=t,this._filterNodeOutput=n,this._isBlockNode=c,this._filterOutput=l,this._finishBlockAfterNode=u,this._initialTraversalState=d,this._fragmentSeparator="",this._newLineChar="\n",this._blockSeparator=this._newLineChar,this._blockMap=new r.a(this._root,this._filterNode,this._filterNodeOutput,this._isBlockNode,this._filterOutput,this._finishBlockAfterNode,this._initialTraversalState),this._fragmentGroups=o.b(this._blockMap.blocks,this._fragmentSeparator,this._blockSeparator,this._newLineChar),this._charMapAndText=Object(i.k)(()=>o.c(this._fragmentGroups,this._fragmentSeparator,this._blockSeparator)),this._charMap=Object(i.k)(()=>this._charMapAndText.get().charMap),this._plainText=Object(i.k)(()=>this._charMapAndText.get().text)}static isNotHiddenNode(e){return!("true"===e.getAttribute("aria-hidden")||null!==e.getAttribute("hidden")&&"false"!==e.getAttribute("hidden")||e.style&&("none"===e.style.display||"hidden"===e.style.visibility||"0"===e.style.opacity))}static create(e,t={}){const n=t.andRejectByClass||t.andRejectByTagName||t.andFilterNode?(e,n)=>a.defaultFilterNode(e,n)&&(!t.andRejectByClass||!t.andRejectByClass.some(t=>e.classList.contains(t)))&&(!t.andRejectByTagName||!t.andRejectByTagName.has(e.tagName))&&(!t.andFilterNode||t.andFilterNode(e,n)):a.defaultFilterNode,i=t.andIsBlockNode?(e,n)=>a.defaultIsBlockNode(e,n)&&(!t.andIsBlockNode||t.andIsBlockNode(e,n)):a.defaultIsBlockNode,r=t.andFilterOutput?(e,n)=>a.defaultFilterOutput(e,n)&&t.andFilterOutput(e,n):a.defaultFilterOutput,o=t.andFilterNodeOutput?(e,n)=>a.defaultFilterNodeOutput(e,n)&&t.andFilterNodeOutput(e,n):a.defaultFilterNodeOutput,s=t.andFinishBlockAfterNode||a.defaultFinishBlockAfterNode;return new a(e,n,o,i,r,s,t.initialTraversalState)}getFragmentAtOffset(e){return this._charMap.get()[e]||null}getFragmentAtOrBeforeOffset(e){return this._charMap.get()[e]||this._charMap.get()[e-1]||null}getPlainText(){return this._plainText.get()}getFragmentsByNode(e){const t=[];return i.a.flatten(this._fragmentGroups).forEach(n=>{if(n.mapping&&n.mapping.node===e){const e=o.a.toMappedFragment(n);e&&t.push(e)}}),t.length?t:null}}a.blockTags=new Set(["TABLE","DIV","P","BLOCKQUOTE","BODY","CODE","TR","TH","TD","OL","UL","LI","H1","H2","H3","H4","H5","H6"]),a.ignoredTags=new Set(["PRE","CODE","BLOCKQUOTE","STYLE","SCRIPT","NOSCRIPT","IMG","SVG","CANVAS","AUDIO","VIDEO","IFRAME","EMBED","OBJECT","BUTTON"]),a.defaultFilterNode=e=>!a.ignoredTags.has(e.tagName)&&a.isNotHiddenNode(e),a.defaultIsBlockNode=e=>a.blockTags.has(e.tagName)||e.style&&"block"===e.style.display,a.defaultFilterOutput=()=>!0,a.defaultFilterNodeOutput=()=>!0,a.defaultFinishBlockAfterNode=()=>!0},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(14),o=n(237),s=n(48),a=n(92),c=n(183),l=n(130),u=n(346),d=n(37),h=n(70);class p{constructor(e,t,n){this._getImmediateValue=e,this._source=t,this._compare=n,this._subject=null,this.behavior=new r.a(e=>{const t=this._source.subscribe(e);return{unsubscribe:()=>{t.unsubscribe(),this._subject=null}}}).pipe(Object(a.a)(()=>(this._subject=new o.a(this._getImmediateValue()),this._subject)),Object(c.a)(),Object(l.a)(this._compare)),this.changes=this.behavior.pipe(Object(u.a)(1)),this.getCurrent=this._getImmediateValue}getApproximate(){return this._subject?this._subject.getValue():this._getImmediateValue()}map(e,t=h.a){return new p(()=>e(this._getImmediateValue()),this.changes.pipe(Object(d.a)(e)),t)}}!function(e){function t(e,t,n){return new p(e,t.pipe(Object(d.a)(e)),n)}e.create=t,e.createOptimized=function(e,t,n){return new p(e,t.pipe(Object(d.a)(t=>void 0!==t?t:e())),n)},e.constant=function(e){return t(()=>e,Object(s.b)(),()=>!0)}}(i||(i={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"t",(function(){return i})),n.d(t,"updateConnection",(function(){return r})),n.d(t,"onlineConnection",(function(){return o})),n.d(t,"activateDataControl",(function(){return s})),n.d(t,"acceptDataControl",(function(){return a})),n.d(t,"disableDataControl",(function(){return c})),n.d(t,"uninstallExtension",(function(){return l}));const i={UPDATE_CONNECTION:"connection/UPDATE_CONNECTION",ONLINE_STATE:"connection/ONLINE_STATE",ACTIVATE_DATA_CONTROL:"connection/ACTIVATE_DATA_CONTROL",ACCEPT_DATA_CONTROL:"connection/ACCEPT_DATA_CONTROL",DISABLE_DATA_CONTROL:"connection/DISABLE_DATA_CONTROL",UNINSTALL_EXTENSION:"connection/UNINSTALL_EXTENSION"};function r(e){return{type:i.UPDATE_CONNECTION,data:e}}function o(e){return{type:i.ONLINE_STATE,online:e}}function s(){return{type:i.ACTIVATE_DATA_CONTROL}}function a(){return{type:i.ACCEPT_DATA_CONTROL}}function c(){return{type:i.DISABLE_DATA_CONTROL}}function l(){return{type:i.UNINSTALL_EXTENSION}}},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(453),a=n(454),c=n(519);t.ValueManager=c.ValueManager,t.BaseStorage=c.BaseStorage,t.MemoryStorage=c.MemoryStorage,t.ContainerIdManager=c.ContainerIdManager,t.GAClientIdManager=c.GAClientIdManager,t.LocalStorage=c.LocalStorage,t.CookieStorage=c.CookieStorage,t.ChromeCookieStorage=c.ChromeCookieStorage,t.WebExtensionsCookieStorage=c.WebExtensionsCookieStorage,t.ReadonlyWebExtensionsCookieStorage=c.ReadonlyWebExtensionsCookieStorage,t.BackendStorage=c.BackendStorage;var l=n(520);t.GoogleAnalyticsClient=l.GoogleAnalyticsClient;var u=["client","clientVersion","userId","isTest","containerId","instanceId","batchId"],d=function(){function e(e,t,n,i,r,o,a,c){void 0===o&&(o=null),void 0===a&&(a=!1),this._client=t,this._clientVersion=n,this._fetch=i,this._containerIdManager=r,this._logger=o,this._storePingTimestamp=a,this._gaClientOpt=c,this._instanceId=s.alphanumeric(8),this._batchId=0,this._isUserReady=!1,this._queue=[],this.userGetter=void 0,this._eventsUrl=e+"/events",this._liteUrl=e+"/lite",this._pingMaybe(),this._initTs=Date.now()}return e.prototype.track=function(e,t){var n=this;if(void 0===t&&(t={lite:!1}),0!==e.eventName.indexOf(this._client+"/"))throw new Error("Event name "+e.eventName+" should start with '"+this._client+"/'");if(Object.keys(e).forEach((function(e){if(-1!==u.indexOf(e))throw new Error("Event data should not contain '"+e+"' prop.")})),!this._isUserReady&&this.userGetter)try{var i=this.userGetter();i&&this.setUser(i.userId,i.isTest)}catch(e){}return this._isUserReady||t.lite&&!t.sendUser?(e.eventName!==this._client+"/ping"&&this._pingMaybe(),this._send(e,t)):(a.guard((function(){return n._logger&&n._logger.trackBeforeSetUser(Date.now()-n._initTs)})),this._enqueue(e,t))},e.prototype.setUser=function(e,t){if(null===e||""===e)throw new Error("Invalid userId: "+e);var n=this._userId&&this._userId!==e&&!(/^-/.test(e)&&/^-/.test(this._userId));this._isTest=t,this._userId=e,this._isUserReady||(this._isUserReady=!0,this._execQueue()),n&&this._pingMaybe(!0)},e.prototype.getContainerId=function(){return this._containerIdManager.getContainerId()},e.prototype._setNextPingTimestamp=function(){var e=this,t=s.getNextPingDate();if(this._nextPingTimestamp=t,this._storePingTimestamp)try{localStorage.setItem("gnar_nextPingTimestamp",t.toString())}catch(t){a.guard((function(){return e._logger&&e._logger.nextPingDateWriteError(t)}))}},e.prototype._getNextPingTimestamp=function(){var e=this,t=this._nextPingTimestamp;if(void 0!==t||!this._storePingTimestamp)return t;try{var n=localStorage.getItem("gnar_nextPingTimestamp");t=null===n?void 0:parseInt(n,10)}catch(n){t=void 0,a.guard((function(){return e._logger&&e._logger.nextPingDateReadError(n)}))}return t},e.prototype._shouldPing=function(e){if(e)return!0;var t=this._getNextPingTimestamp();return void 0===t||t<Date.now()},e.prototype._pingMaybe=function(e){var t=this;if(void 0===e&&(e=!1),this._shouldPing(e)){this._setNextPingTimestamp();var n={eventName:this._client+"/ping",referrer:document.referrer,url:document.location.href};this._gaClientOpt?this._gaClientOpt.getClientId().then((function(e){return t.track(i({},n,{gaClientId:e}))}),(function(e){return t.track(n)})):this.track(n)}},e.prototype.pingMaybe=function(){this._pingMaybe()},e.prototype._enqueue=function(e,t){var n=this;return new Promise((function(i,r){n._queue.push([e,t,{resolve:i,reject:r}])}))},e.prototype._execQueue=function(){var e=this;this._queue.forEach((function(t){var n=t[0],i=t[1],r=t[2],o=r.resolve,s=r.reject;e._send(n,i).then((function(){return o()})).catch((function(e){return s(e)}))})),this._queue=[]},e.prototype._withClientProps=function(e){return i({},e,{client:this._client,clientVersion:this._clientVersion})},e.prototype._withUserProps=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.getContainerId().catch((function(){}))];case 1:return t=n.sent(),[2,i({},e,{containerId:t,userId:this._userId,isTest:this._isTest})]}}))}))},e.prototype._withBrowserProps=function(e){return i({},e,{userAgent:navigator.userAgent,screenWidth:screen.width,screenHeight:screen.height})},e.prototype._withInstanceProps=function(e){var t=this._batchId++;return i({},e,{instanceId:this._instanceId,batchId:t})},e.prototype._send=function(e,t){return r(this,void 0,void 0,(function(){var n,i=this;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),e=this._withClientProps(e),(!t.lite||t.lite&&t.sendInstance)&&(e=this._withInstanceProps(e)),!t.lite||t.lite&&t.sendUser?[4,this._withUserProps(e)]:[3,2];case 1:e=r.sent(),r.label=2;case 2:return(!t.lite||t.lite&&t.sendBrowser)&&(e=this._withBrowserProps(e)),[4,this._doSend(t.lite?this._liteUrl:this._eventsUrl,e)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),a.guard((function(){return i._logger&&i._logger.sendError(n)})),n;case 5:return[2]}}))}))},e.prototype._doSend=function(e,t){return this._fetch(e,{mode:"cors",credentials:"include",method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:[t]})}).then((function(e){return e.ok?Promise.resolve():Promise.reject(new Error(e.statusText))}))},e.prototype.setUserGetter=function(e){this.userGetter=e},e}();t.GnarClientImpl=d;var h=function(){function e(){this.history=[]}return e.prototype.track=function(e){return this.history.push(e),Promise.resolve()},e.prototype.pingMaybe=function(){},e.prototype.setUser=function(e,t){},e.prototype.getContainerId=function(){return Promise.resolve("dummy_container_id")},e.prototype.setUserGetter=function(){},e}();t.MemoryGnarClient=h;var p=function(){function e(){}return e.prototype.track=function(e){try{var t=JSON.parse(localStorage.getItem("trackingGnar"))||[];t.push(e),localStorage.setItem("trackingGnar",JSON.stringify(t))}catch(e){}return Promise.resolve()},e.prototype.pingMaybe=function(){},e.prototype.setUser=function(e,t){},e.prototype.getContainerId=function(){return Promise.resolve("dummy_container_id")},e.prototype.setUserGetter=function(){},e}();t.LocalStorageGnarClient=p},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return f}));var i=n(17),r=n(10),o=n(16),s=n(4),a=n(12),c=n(43),l=n(200);const u=a.a.create("extension-api.message.bg"),d="popup";function h(){const e=(Object(r.j)()||Object(r.l)())&&(!chrome.extension||!chrome.tabs||!chrome.runtime||!chrome.runtime.onConnect),t=Object(r.k)()&&(!edge.extension||!edge.tabs||!edge.runtime||!edge.runtime.onConnect);if(e||t){const e=window.localStorage.getItem("bgInitFail")||"0",t=parseInt(e,10);t>4?u.error(`too many bgInitFail ${t}`):(window.localStorage.setItem("bgInitFail",(t+1).toString()),document.location.reload())}}function p(e){if(!e)return!1;const{browser:t}=i.a().bundleInfo,n="firefox"===t?/^moz-extension:\/\/.*\/src\/popup.html$/:"edge"===t?/^ms-browser-extension:\/\/.*\/src\/popup.html$/:"chrome"===t?chrome&&chrome.runtime&&chrome.runtime.id?new RegExp(chrome.runtime.id+"/src/popup.html"):void 0:Object(s.g)(t);return void 0!==n&&n.test(e)}class f{constructor(e,t,n){this._getActiveTab=t,this._getAllTabs=n,this.kind="background-message-api",this._callbacks={},this._tabPorts={popup:[]},this._messageHelper=new l.a,this._sendMessageToPorts=(e,t)=>{const n=this._tabPorts[e];n&&n.forEach(e=>e.postMessage(t))},this.toFocused=(e,t)=>this._getActiveTab().then(({id:n,url:i})=>{if(n)return p(i)?u.warn(`toFocussed not allowed for popup when it open like regular tab ${e}`,t):void this._sendMessageToPorts(n.toString(),{type:e,content:t,callid:Object(o.r)()})}),this.broadcast=(e,t)=>{if(!t)return;const n=({id:n,url:i})=>{n&&i&&-1===i.indexOf("chrome-extension:")&&this._sendMessageToPorts(n.toString(),{type:e,callid:Object(o.r)(),content:t})};this._getAllTabs().then(e=>e.forEach(n)),this._tabPorts.popup&&this._tabPorts.popup.length&&this._getActiveTab().then(({url:e})=>{n({id:d,url:e})})},this._initPortListener=e=>{if(e.name===c.b.bridge)e.onMessage(e=>{"message.toFocussed"===e.method&&this.toFocused(e.params&&e.params.type,e.params&&e.params.content)});else if(e.name===c.b.broadcast)e.onMessage(e=>this.broadcast(e.type,e.content));else if(e.name===c.b.background){const{sender:t}=e;if(t){if(t.tab){const{id:n,url:i}=t.tab;if(n){let t=this._tabPorts[n];void 0===t&&(t=this._tabPorts[n]=[]),t.push(e)}i&&0===i.indexOf("http")&&this._messageHelper.fire("tab-connected",{tab:n,url:i}),e.onDisconnect(()=>{if(!n)return;const t=this._tabPorts[n];t&&t.splice(t.indexOf(e),1)})}const n=t.url?t.url:t.tab?t.tab.url:"";if(n&&p(n)){const t=d;this._tabPorts[t]=this._tabPorts[t]||[],this._tabPorts[t].push(e),e.onDisconnect(()=>{const n=this._tabPorts[t];n.splice(n.indexOf(e),1)})}}e.onMessage(n=>{const i=({callid:n,content:i,type:r})=>{this._callbacks[n]&&(this._callbacks[n](i),delete this._callbacks[n]),this._messageHelper.fire(r,i,t=>e.postMessage({content:t,callid:n}),t&&t.tab?t.tab.id:-1)};"tab-connected"===n.type?this._getActiveTab().then(({url:e})=>{n.content={tab:d,url:e},i(n)}):i(n)})}},e(this._initPortListener)}getPortExists(e){return!!this._tabPorts[e]}sendTo(e,t,n,i,r,s){const a=this._tabPorts[e];if(!a||!a.length)return void(r&&r({message:"no ports on specified tabId"}));const c=s?a.filter(e=>s(e.sender&&e.sender.url)):a;if(!c.length)return void(r&&r({message:"no ports on specified tabFilter"}));const l={type:t,content:n};i&&"function"==typeof i&&(l.callid=Object(o.r)(),this._callbacks[l.callid]=i),c.forEach(e=>e.postMessage(l))}listen(e,t){this._messageHelper.listen(e,t)}}},function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.onboarding="onboarding",e.gButton="gButton",e.card="card",e.loginReminder="loginReminder"}(i||(i={})),function(e){e.vox="vox"}(r||(r={}))},function(e,t,n){"use strict";var i=n(294),r=n(103),o=n(102),s=n(97),a=n(295),c=n(296),l=n(174);n.d(t,"a",(function(){return u}));var u=function(e){if(e&&"function"==typeof e[s.a])return u=e,function(e){var t=u[s.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(a.a)(e))return Object(i.a)(e);if(Object(c.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,r.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,u,d=Object(l.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(25);const r=e=>t=>Object(i.b)(t.level)>=Object(i.b)(e)},function(e,t,n){n(327);var i={superfasthash:n(354),murmurhash3:n(355)};e.exports={createHash:function(e){e=e.replace(/![a-zA-z0-9]/g,"").toLowerCase();try{return i[e]}catch(e){throw new Error(e)}}}},function(e,t,n){"use strict";var i=n(212),r=n(31),o=n(128),s=Object.prototype.hasOwnProperty,a=function(e){if(!Object(r.a)(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Object(o.a)(e),n=[];for(var i in e)("constructor"!=i||!t&&s.call(e,i))&&n.push(i);return n},c=n(77);t.a=function(e){return Object(c.a)(e)?Object(i.a)(e,!0):a(e)}},,function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n(72),r=n(200),o=n(16),s=n(43);const a=n(12).a.create("Messaging.extension-api.content");class c{constructor(e){this.kind="content-script-message-api",this._callbacks={},this._messageHelper=new r.a,this._proxyPortsStorage={},this.broadcastBackground=(...e)=>this._emit(this.backgroundPort,"bg").apply(null,e),this.broadcast=(...e)=>this._emit(this.broadcastPort,"tabs").apply(null,e),this._onPortMessage=e=>{a.trace("portMessage",e)},this._checkHealth=(()=>{let e=null,t=null;const n=()=>{document.dispatchEvent(new CustomEvent("grammarly:ping"))},i=()=>{o()},r=()=>{[this.port,this.backgroundPort,this.broadcastPort].forEach(e=>{e&&e.removeMessageListeners&&e.removeMessageListeners()}),this.port=this.backgroundPort=this.broadcastPort=null,o(),document.addEventListener("grammarly:proxyports",this._onGrammarlyResetAfterTimeout),document.dispatchEvent(new CustomEvent("grammarly:offline"))};function o(){document.removeEventListener("grammarly:pong",i),t&&(clearTimeout(t),t=null),e&&(clearInterval(e),e=null)}return()=>{o(),document.addEventListener("grammarly:pong",i),e=window.setInterval(n,500),t=window.setTimeout(r,5e3)}})(),this._onGrammarlyResetAfterTimeout=()=>{document.removeEventListener("grammarly:proxyports",this._onGrammarlyResetAfterTimeout),this.port=this._initProxyPort(s.b.bridge,this._onPortMessage,this._checkHealth,!0),this.backgroundPort=this._initProxyPort(s.b.background,this._onBgPortMessage,this._checkHealth),this.broadcastPort=this._initProxyPort(s.b.broadcast,null,this._checkHealth)},this._onBgPortMessage=({callid:e,content:t,type:n})=>{this._callbacks[e]?(this._callbacks[e](t),delete this._callbacks[e]):this._messageHelper.fire(n,t,t=>{if(!this.backgroundPort)throw new Error("fail reply to bg page - connection lost");this.backgroundPort.postMessage({content:t,callid:e})})},this._initProxyPort=(e,t,n,i=!1)=>{const r=this._proxyPort(e);return i&&this._checkHealth(),t&&r.onMessage(t),n&&r.onDisconnect(n),r},this._emit=(e,t)=>(n,i,r,s)=>{const a=Object(o.r)();r&&"function"==typeof r&&(this._callbacks[a]=r);try{if(!e)throw new Error("lost connection to "+t+" port");e.postMessage({type:n,callid:a,content:i})}catch(e){if(!s)throw e;s(e)}},this._proxyPort=e=>{this._proxyPortsStorage[e]={};const t=(t,n)=>{const i=n.detail;if(i.name!==e)return;const r=this._proxyPortsStorage[e][t];r&&r(i.msg)},n=e=>t("success",e),i=e=>t("error",e);return document.addEventListener("grammarly:message",n),document.addEventListener("grammarly:error",i),{postMessage(t={}){const n={data:t,name:e};return document.dispatchEvent(new CustomEvent("grammarly:action",{detail:n}))},onMessage:t=>{this._proxyPortsStorage[e].success=t},onDisconnect:t=>{this._proxyPortsStorage[e].error=t},removeMessageListeners(){document.removeEventListener("grammarly:message",n),document.removeEventListener("grammarly:error",i)}}},this.port=e(s.b.bridge),this.port.onMessage(this._onPortMessage),this.port.onDisconnect(()=>{this.port=null,this.port=this._initProxyPort(s.b.bridge,this._onPortMessage,this._checkHealth,!0)}),this.backgroundPort=e(s.b.background),this.backgroundPort.onMessage(this._onBgPortMessage),this.backgroundPort.onDisconnect(()=>{this.backgroundPort=null,this.backgroundPort=this._initProxyPort(s.b.background,this._onBgPortMessage,this._checkHealth)}),this.broadcastPort=e(s.b.broadcast),this.broadcastPort.onDisconnect(()=>{this.broadcastPort=null,this.broadcastPort=this._initProxyPort(s.b.broadcast,null,this._checkHealth)})}onBackgroundPortReconnect(e){this.backgroundPort&&this.backgroundPort.onReconnect&&this.backgroundPort.onReconnect(e)}listen(e,t){this._messageHelper.listen(e,t)}toFocused(e,t){return i.a.create(n=>{if(!this.port)throw new Error("lost connection to bg page");this.port.postMessage({method:"message.toFocussed",params:{type:e,content:t}}),n()})}}function l(){window.addEventListener("update-window-size-gr",e=>{const t=document.createElement("div");if(t.style.height="1px",e.detail&&e.detail.force){const e=setInterval((function(){document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},10)}),100);setTimeout(()=>clearInterval(e),405)}},!1),window.addEventListener("close-popup-gr",()=>{window.close()},!1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i=n(12).a.create("extension-api.message"),r=()=>{};class o{constructor(){this._listeners={},this._queue={},this.fire=(e,t,n=r,i)=>{const o=this._listeners[e]||[];o.length?o.forEach(e=>e(t,n,i)):(this._queue[e]=this._queue[e]||[],this._queue[e].push({content:t,callback:n,sender:i}))},this.unlisten=(e,t)=>{const n=this._listeners[e]||[],i=n.indexOf(t);-1!==i&&(1===n.length?delete this._listeners[e]:n.splice(i,1))},this.listenOnce=(e,t)=>{const n=(i,r,o)=>{this.unlisten(e,n),t&&t(i,r,o)};this.listen(e,n)},this.listen=(e,t)=>{this._listeners[e]=this._listeners[e]||[],-1===this._listeners[e].indexOf(t)&&this._listeners[e].push(t);const n=this._queue[e]||[];if(n.length){for(const r of n)try{t(r.content,r.callback,r.sender)}catch(e){i.error("exception during proccesing buffered messages",e)}delete this._queue[e]}}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i,r,o=n(116),s=n(58);!function(e){function t(e,t,n,i){return e&&t&&e.node.ownerDocument===t.node.ownerDocument?{start:{node:e.node,offset:"BR"===e.node.nodeName?0:n-e.startOffset+e.startOffsetInNode},end:{node:t.node,offset:"BR"===t.node.nodeName?0:i-t.startOffset+t.startOffsetInNode}}:null}function n(e,n,i){return t(e.getFragmentAtOrBeforeOffset(n),e.getFragmentAtOrBeforeOffset(i),n,i)}function i(e,t=!1){try{const n=Object(s.c)(e.start.node.ownerDocument).createRange();return n.setStart(e.start.node,e.start.offset),n.setEnd(e.end.node,e.end.offset),t||!n.collapsed?n:null}catch(e){return null}}e.getRangeParams=t,e.getRangeParamsFromTextMap=n,e.createRangeFromParams=i,e.createRange=function(e,t,r,o=!1){const s=n(e,t,r);return s?i(s,o):null},e.createRangeForNode=function(e){try{const t=Object(s.c)(e.ownerDocument).createRange();return t.selectNode(e),t.collapsed?null:t}catch(e){return null}}}(i||(i={})),function(e){function t(e,t,n=1.5){if(e.length<=0)return[];if(1===e.length)return[t(e[0])];{const i=[];let r=null,o=null;for(let s=0;s<e.length;s++){const a=e[s];if(a.width>0){if(r&&o){const e=o.left+o.width-a.left>=-n,s=o.left+o.width-a.left-a.width<=n,c=Math.max(r.top+r.height,a.top+a.height)-Math.min(r.top,a.top)<r.height+a.height;if(r.height>=a.height&&r.top<=a.top&&r.height+r.top>=a.height+a.top&&e&&!s)continue;e&&s&&c?o={top:Math.min(o.top,a.top),left:Math.min(o.left,a.left),height:Math.max(o.height,o.height+o.top-a.top,a.height,a.height+a.top-o.top),width:Math.max(o.left+o.width,a.left+a.width)-o.left}:(i.push(t(o)),o=a)}else o=a;r=a}}return o&&i.push(t(o)),i}}e.collateRects=t,e.provider={create:(e,t)=>i.createRange(t,e.start,e.end),dispose(e){e.detach()},getClientRects:e=>e.collapsed?null:t(e.getClientRects(),o.a.create),getIsConsistent(e,t,n){const r=i.getRangeParamsFromTextMap(n,t.start,t.end);return null!==r&&e.startContainer===r.start.node&&e.startOffset===r.start.offset&&e.endContainer===r.end.node&&e.endOffset===r.end.offset},getIsInvalid:e=>e.collapsed}}(r||(r={}))},function(e,t,n){"use strict";var i=n(57),r=n(36),o=Object(i.a)(r.a,"DataView"),s=n(96),a=Object(i.a)(r.a,"Promise"),c=Object(i.a)(r.a,"Set"),l=Object(i.a)(r.a,"WeakMap"),u=n(52),d=n(87),h=Object(d.a)(o),p=Object(d.a)(s.a),f=Object(d.a)(a),m=Object(d.a)(c),g=Object(d.a)(l),b=u.a;(o&&"[object DataView]"!=b(new o(new ArrayBuffer(1)))||s.a&&"[object Map]"!=b(new s.a)||a&&"[object Promise]"!=b(a.resolve())||c&&"[object Set]"!=b(new c)||l&&"[object WeakMap]"!=b(new l))&&(b=function(e){var t=Object(u.a)(e),n="[object Object]"==t?e.constructor:void 0,i=n?Object(d.a)(n):"";if(i)switch(i){case h:return"[object DataView]";case p:return"[object Map]";case f:return"[object Promise]";case m:return"[object Set]";case g:return"[object WeakMap]"}return t}),t.a=b},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}));var i,r=n(12),o=n(158);function s(e){return e.nodeType===Node.TEXT_NODE}!function(e){let t;!function(e){e.text="text",e.br="br"}(t=e.Type||(e.Type={})),e.text=function(e,n){return{_tag:t.text,node:e,text:null!==e.nodeValue?e.nodeValue:"",preserveWhiteSpace:n}},e.br=function(e){return{_tag:t.br,node:e}}}(i||(i={}));class a{constructor(e,t,n,i,o,s,c,l=r.a.create(a.name)){this._root=e,this._filterNode=t,this._filterNodeOutput=n,this._isBlockNode=i,this._filterOutput=o,this._finishBlockAfterNode=s,this._initialTraversalState=c,this._log=l,this.blocks=this._buildBlockMap(this._root,this._initialTraversalState)}_buildBlockMap(e,t){const n=[];let r=[],a=!0;const c=(e=!1)=>{r.length>0&&(e||r.length>1||r[0]._tag!==i.Type.br)&&(n.push(r),r=[])},l=(e,t)=>{t&&(a||c(),r.push(e)),a=t},u=(e,t)=>{if(this._filterNode(e,t)){const n=e.getAttribute("contenteditable"),r={preserveWhiteSpace:t.preserveWhiteSpace||!(!e.ownerDocument||!e.ownerDocument.defaultView||"pre-wrap"!==e.ownerDocument.defaultView.getComputedStyle(e).whiteSpace),isEditable:null===n?t.isEditable:"true"===n||"false"!==n&&t.isEditable,outputConsidered:this._filterNodeOutput(e,t)};for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];s(n)?l(i.text(n,r.preserveWhiteSpace),r.outputConsidered&&this._filterOutput(n,r)):Object(o.b)(n)?"BR"===n.tagName?l(i.br(n),r.outputConsidered&&this._filterOutput(n,r)):this._isBlockNode(n,r)?(c(),u(n,r),this._finishBlockAfterNode(n,r)&&c()):u(n,r):n.nodeType===Node.COMMENT_NODE||this._log.warn(`don't know how to handle nodeType=${n.nodeType}`,n)}}};return u(e,t),c(!0),n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(20),o=n(18);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),i=t.subscribe(n);return i.add(Object(o.a)(n,this.notifier)),i},e}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return i.a(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,i,r){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(r.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"allSizesDefaults",(function(){return r})),n.d(t,"defaults",(function(){return o}));var i=n(362);const r=[i.a,i.b],o=r.concat([Object(i.c)()])},function(e,t,n){"use strict";function i(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}i.Diff,i.prototype.diff_main=function(e,t,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var r=i;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===n&&(n=!0);var o=n,s=this.diff_commonPrefix(e,t),a=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=this.diff_commonSuffix(e,t);var c=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var l=this.diff_compute_(e,t,o,r);return a&&l.unshift([0,a]),c&&l.push([0,c]),this.diff_cleanupMerge(l),l},i.prototype.diff_compute_=function(e,t,n,i){var r;if(!e)return[[1,t]];if(!t)return[[-1,e]];var o=e.length>t.length?e:t,s=e.length>t.length?t:e,a=o.indexOf(s);if(-1!=a)return r=[[1,o.substring(0,a)],[0,s],[1,o.substring(a+s.length)]],e.length>t.length&&(r[0][0]=r[2][0]=-1),r;if(1==s.length)return[[-1,e],[1,t]];var c=this.diff_halfMatch_(e,t);if(c){var l=c[0],u=c[1],d=c[2],h=c[3],p=c[4],f=this.diff_main(l,d,n,i),m=this.diff_main(u,h,n,i);return f.concat([[0,p]],m)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},i.prototype.diff_lineMode_=function(e,t,n){e=(u=this.diff_linesToChars_(e,t)).chars1,t=u.chars2;var i=u.lineArray,r=this.diff_main(e,t,!1,n);this.diff_charsToLines_(r,i),this.diff_cleanupSemantic(r),r.push([0,""]);for(var o=0,s=0,a=0,c="",l="";o<r.length;){switch(r[o][0]){case 1:a++,l+=r[o][1];break;case-1:s++,c+=r[o][1];break;case 0:if(s>=1&&a>=1){r.splice(o-s-a,s+a),o=o-s-a;for(var u,d=(u=this.diff_main(c,l,!1,n)).length-1;d>=0;d--)r.splice(o,0,u[d]);o+=u.length}a=0,s=0,c="",l=""}o++}return r.pop(),r},i.prototype.diff_bisect_=function(e,t,n){for(var i=e.length,r=t.length,o=Math.ceil((i+r)/2),s=o,a=2*o,c=new Array(a),l=new Array(a),u=0;u<a;u++)c[u]=-1,l[u]=-1;c[s+1]=0,l[s+1]=0;for(var d=i-r,h=d%2!=0,p=0,f=0,m=0,g=0,b=0;b<o&&!((new Date).getTime()>n);b++){for(var v=-b+p;v<=b-f;v+=2){for(var _=s+v,y=(S=v==-b||v!=b&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-v;S<i&&y<r&&e.charAt(S)==t.charAt(y);)S++,y++;if(c[_]=S,S>i)f+=2;else if(y>r)p+=2;else if(h&&(x=s+d-v)>=0&&x<a&&-1!=l[x]&&S>=(E=i-l[x]))return this.diff_bisectSplit_(e,t,S,y,n)}for(var w=-b+m;w<=b-g;w+=2){for(var E,x=s+w,O=(E=w==-b||w!=b&&l[x-1]<l[x+1]?l[x+1]:l[x-1]+1)-w;E<i&&O<r&&e.charAt(i-E-1)==t.charAt(r-O-1);)E++,O++;if(l[x]=E,E>i)g+=2;else if(O>r)m+=2;else if(!h){var S;if((_=s+d-w)>=0&&_<a&&-1!=c[_])if(y=s+(S=c[_])-_,S>=(E=i-E))return this.diff_bisectSplit_(e,t,S,y,n)}}}return[[-1,e],[1,t]]},i.prototype.diff_bisectSplit_=function(e,t,n,i,r){var o=e.substring(0,n),s=t.substring(0,i),a=e.substring(n),c=t.substring(i),l=this.diff_main(o,s,!1,r),u=this.diff_main(a,c,!1,r);return l.concat(u)},i.prototype.diff_linesToChars_=function(e,t){var n=[],i={};function r(e){for(var t="",r=0,o=-1,s=n.length;o<e.length-1;){-1==(o=e.indexOf("\n",r))&&(o=e.length-1);var a=e.substring(r,o+1);r=o+1,(i.hasOwnProperty?i.hasOwnProperty(a):void 0!==i[a])?t+=String.fromCharCode(i[a]):(t+=String.fromCharCode(s),i[a]=s,n[s++]=a)}return t}return n[0]="",{chars1:r(e),chars2:r(t),lineArray:n}},i.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var i=e[n][1],r=[],o=0;o<i.length;o++)r[o]=t[i.charCodeAt(o)];e[n][1]=r.join("")}},i.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r},i.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r},i.prototype.diff_commonOverlap_=function(e,t){var n=e.length,i=t.length;if(0==n||0==i)return 0;n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n));var r=Math.min(n,i);if(e==t)return r;for(var o=0,s=1;;){var a=e.substring(r-s),c=t.indexOf(a);if(-1==c)return o;s+=c,0!=c&&e.substring(r-s)!=t.substring(0,s)||(o=s,s++)}},i.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;var r=this;function o(e,t,n){for(var i,o,s,a,c=e.substring(n,n+Math.floor(e.length/4)),l=-1,u="";-1!=(l=t.indexOf(c,l+1));){var d=r.diff_commonPrefix(e.substring(n),t.substring(l)),h=r.diff_commonSuffix(e.substring(0,n),t.substring(0,l));u.length<h+d&&(u=t.substring(l-h,l)+t.substring(l,l+d),i=e.substring(0,n-h),o=e.substring(n+d),s=t.substring(0,l-h),a=t.substring(l+d))}return 2*u.length>=e.length?[i,o,s,a,u]:null}var s,a,c,l,u,d=o(n,i,Math.ceil(n.length/4)),h=o(n,i,Math.ceil(n.length/2));return d||h?(s=h?d&&d[4].length>h[4].length?d:h:d,e.length>t.length?(a=s[0],c=s[1],l=s[2],u=s[3]):(l=s[0],u=s[1],a=s[2],c=s[3]),[a,c,l,u,s[4]]):null},i.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],i=0,r=null,o=0,s=0,a=0,c=0,l=0;o<e.length;)0==e[o][0]?(n[i++]=o,s=c,a=l,c=0,l=0,r=e[o][1]):(1==e[o][0]?c+=e[o][1].length:l+=e[o][1].length,r&&r.length<=Math.max(s,a)&&r.length<=Math.max(c,l)&&(e.splice(n[i-1],0,[-1,r]),e[n[i-1]+1][0]=1,i--,o=--i>0?n[i-1]:-1,s=0,a=0,c=0,l=0,r=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(-1==e[o-1][0]&&1==e[o][0]){var u=e[o-1][1],d=e[o][1],h=this.diff_commonOverlap_(u,d),p=this.diff_commonOverlap_(d,u);h>=p?(h>=u.length/2||h>=d.length/2)&&(e.splice(o,0,[0,d.substring(0,h)]),e[o-1][1]=u.substring(0,u.length-h),e[o+1][1]=d.substring(h),o++):(p>=u.length/2||p>=d.length/2)&&(e.splice(o,0,[0,u.substring(0,p)]),e[o-1][0]=1,e[o-1][1]=d.substring(0,d.length-p),e[o+1][0]=-1,e[o+1][1]=u.substring(p),o++),o++}o++}},i.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),r=t.charAt(0),o=n.match(i.nonAlphaNumericRegex_),s=r.match(i.nonAlphaNumericRegex_),a=o&&n.match(i.whitespaceRegex_),c=s&&r.match(i.whitespaceRegex_),l=a&&n.match(i.linebreakRegex_),u=c&&r.match(i.linebreakRegex_),d=l&&e.match(i.blanklineEndRegex_),h=u&&t.match(i.blanklineStartRegex_);return d||h?5:l||u?4:o&&!a&&c?3:a||c?2:o||s?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var r=e[n-1][1],o=e[n][1],s=e[n+1][1],a=this.diff_commonSuffix(r,o);if(a){var c=o.substring(o.length-a);r=r.substring(0,r.length-a),o=c+o.substring(0,o.length-a),s=c+s}for(var l=r,u=o,d=s,h=t(r,o)+t(o,s);o.charAt(0)===s.charAt(0);){r+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var p=t(r,o)+t(o,s);p>=h&&(h=p,l=r,u=o,d=s)}e[n-1][1]!=l&&(l?e[n-1][1]=l:(e.splice(n-1,1),n--),e[n][1]=u,d?e[n+1][1]=d:(e.splice(n+1,1),n--))}n++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],i=0,r=null,o=0,s=!1,a=!1,c=!1,l=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.Diff_EditCost&&(c||l)?(n[i++]=o,s=c,a=l,r=e[o][1]):(i=0,r=null),c=l=!1):(-1==e[o][0]?l=!0:c=!0,r&&(s&&a&&c&&l||r.length<this.Diff_EditCost/2&&s+a+c+l==3)&&(e.splice(n[i-1],0,[-1,r]),e[n[i-1]+1][0]=1,i--,r=null,s&&a?(c=l=!0,i=0):(o=--i>0?n[i-1]:-1,c=l=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},i.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,n=0,i=0,r=0,o="",s="";n<e.length;)switch(e[n][0]){case 1:r++,s+=e[n][1],n++;break;case-1:i++,o+=e[n][1],n++;break;case 0:i+r>1?(0!==i&&0!==r&&(0!==(t=this.diff_commonPrefix(s,o))&&(n-i-r>0&&0==e[n-i-r-1][0]?e[n-i-r-1][1]+=s.substring(0,t):(e.splice(0,0,[0,s.substring(0,t)]),n++),s=s.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(s,o))&&(e[n][1]=s.substring(s.length-t)+e[n][1],s=s.substring(0,s.length-t),o=o.substring(0,o.length-t))),0===i?e.splice(n-r,i+r,[1,s]):0===r?e.splice(n-i,i+r,[-1,o]):e.splice(n-i-r,i+r,[-1,o],[1,s]),n=n-i-r+(i?1:0)+(r?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,r=0,i=0,o="",s=""}""===e[e.length-1][1]&&e.pop();var a=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),a=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),a=!0)),n++;a&&this.diff_cleanupMerge(e)},i.prototype.diff_xIndex=function(e,t){var n,i=0,r=0,o=0,s=0;for(n=0;n<e.length&&(1!==e[n][0]&&(i+=e[n][1].length),-1!==e[n][0]&&(r+=e[n][1].length),!(i>t));n++)o=i,s=r;return e.length!=n&&-1===e[n][0]?s:s+(t-o)},i.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,r=/>/g,o=/\n/g,s=0;s<e.length;s++){var a=e[s][0],c=e[s][1].replace(n,"&amp;").replace(i,"&lt;").replace(r,"&gt;").replace(o,"&para;<br>");switch(a){case 1:t[s]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case-1:t[s]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[s]="<span>"+c+"</span>"}}return t.join("")},i.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},i.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},i.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,r=0;r<e.length;r++){var o=e[r][0],s=e[r][1];switch(o){case 1:n+=s.length;break;case-1:i+=s.length;break;case 0:t+=Math.max(n,i),n=0,i=0}}return t+Math.max(n,i)},i.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case-1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(e,t){for(var n=[],i=0,r=0,o=t.split(/\t/g),s=0;s<o.length;s++){var a=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{n[i++]=[1,decodeURI(a)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var c=parseInt(a,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+a);var l=e.substring(r,r+=c);"="==o[s].charAt(0)?n[i++]=[0,l]:n[i++]=[-1,l];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(r!=e.length)throw new Error("Delta length ("+r+") does not equal source text length ("+e.length+").");return n},i.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},i.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(t),r=this;function o(e,i){var o=e/t.length,s=Math.abs(n-i);return r.Match_Distance?o+s/r.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,n);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=e.lastIndexOf(t,n+t.length))&&(s=Math.min(o(0,a),s)));var c,l,u=1<<t.length-1;a=-1;for(var d,h=t.length+e.length,p=0;p<t.length;p++){for(c=0,l=h;c<l;)o(p,n+l)<=s?c=l:h=l,l=Math.floor((h-c)/2+c);h=l;var f=Math.max(1,n-l+1),m=Math.min(n+l,e.length)+t.length,g=Array(m+2);g[m+1]=(1<<p)-1;for(var b=m;b>=f;b--){var v=i[e.charAt(b-1)];if(g[b]=0===p?(g[b+1]<<1|1)&v:(g[b+1]<<1|1)&v|(d[b+1]|d[b])<<1|1|d[b+1],g[b]&u){var _=o(p,b-1);if(_<=s){if(s=_,!((a=b-1)>n))break;f=Math.max(1,2*n-a)}}}if(o(p+1,n)>s)break;d=g}return a},i.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},i.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var r=t.substring(e.start2-i,e.start2);r&&e.diffs.unshift([0,r]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+i);o&&e.diffs.push([0,o]),e.start1-=r.length,e.start2-=r.length,e.length1+=r.length+o.length,e.length2+=r.length+o.length}},i.prototype.patch_make=function(e,t,n){var r,o;if("string"==typeof e&&"string"==typeof t&&void 0===n)r=e,(o=this.diff_main(r,t,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)o=e,r=this.diff_text1(o);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)r=e,o=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");r=e,o=n}if(0===o.length)return[];for(var s=[],a=new i.patch_obj,c=0,l=0,u=0,d=r,h=r,p=0;p<o.length;p++){var f=o[p][0],m=o[p][1];switch(c||0===f||(a.start1=l,a.start2=u),f){case 1:a.diffs[c++]=o[p],a.length2+=m.length,h=h.substring(0,u)+m+h.substring(u);break;case-1:a.length1+=m.length,a.diffs[c++]=o[p],h=h.substring(0,u)+h.substring(u+m.length);break;case 0:m.length<=2*this.Patch_Margin&&c&&o.length!=p+1?(a.diffs[c++]=o[p],a.length1+=m.length,a.length2+=m.length):m.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(a,d),s.push(a),a=new i.patch_obj,c=0,d=h,l=u)}1!==f&&(l+=m.length),-1!==f&&(u+=m.length)}return c&&(this.patch_addContext_(a,d),s.push(a)),s},i.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=new i.patch_obj;o.diffs=[];for(var s=0;s<r.diffs.length;s++)o.diffs[s]=r.diffs[s].slice();o.start1=r.start1,o.start2=r.start2,o.length1=r.length1,o.length2=r.length2,t[n]=o}return t},i.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,r=[],o=0;o<e.length;o++){var s,a,c=e[o].start2+i,l=this.diff_text1(e[o].diffs),u=-1;if(l.length>this.Match_MaxBits?-1!=(s=this.match_main(t,l.substring(0,this.Match_MaxBits),c))&&(-1==(u=this.match_main(t,l.substring(l.length-this.Match_MaxBits),c+l.length-this.Match_MaxBits))||s>=u)&&(s=-1):s=this.match_main(t,l,c),-1==s)r[o]=!1,i-=e[o].length2-e[o].length1;else if(r[o]=!0,i=s-c,l==(a=-1==u?t.substring(s,s+l.length):t.substring(s,u+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[o].diffs)+t.substring(s+l.length);else{var d=this.diff_main(l,a,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(d)/l.length>this.Patch_DeleteThreshold)r[o]=!1;else{this.diff_cleanupSemanticLossless(d);for(var h,p=0,f=0;f<e[o].diffs.length;f++){var m=e[o].diffs[f];0!==m[0]&&(h=this.diff_xIndex(d,p)),1===m[0]?t=t.substring(0,s+h)+m[1]+t.substring(s+h):-1===m[0]&&(t=t.substring(0,s+h)+t.substring(s+this.diff_xIndex(d,p+m[1].length))),-1!==m[0]&&(p+=m[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),r]},i.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",i=1;i<=t;i++)n+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var r=e[0],o=r.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,n]),r.start1-=t,r.start2-=t,r.length1+=t,r.length2+=t;else if(t>o[0][1].length){var s=t-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],r.start1-=s,r.start2-=s,r.length1+=s,r.length2+=s}return 0==(o=(r=e[e.length-1]).diffs).length||0!=o[o.length-1][0]?(o.push([0,n]),r.length1+=t,r.length2+=t):t>o[o.length-1][1].length&&(s=t-o[o.length-1][1].length,o[o.length-1][1]+=n.substring(0,s),r.length1+=s,r.length2+=s),n},i.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var r=e[n];e.splice(n--,1);for(var o=r.start1,s=r.start2,a="";0!==r.diffs.length;){var c=new i.patch_obj,l=!0;for(c.start1=o-a.length,c.start2=s-a.length,""!==a&&(c.length1=c.length2=a.length,c.diffs.push([0,a]));0!==r.diffs.length&&c.length1<t-this.Patch_Margin;){var u=r.diffs[0][0],d=r.diffs[0][1];1===u?(c.length2+=d.length,s+=d.length,c.diffs.push(r.diffs.shift()),l=!1):-1===u&&1==c.diffs.length&&0==c.diffs[0][0]&&d.length>2*t?(c.length1+=d.length,o+=d.length,l=!1,c.diffs.push([u,d]),r.diffs.shift()):(d=d.substring(0,t-c.length1-this.Patch_Margin),c.length1+=d.length,o+=d.length,0===u?(c.length2+=d.length,s+=d.length):l=!1,c.diffs.push([u,d]),d==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(d.length))}a=(a=this.diff_text2(c.diffs)).substring(a.length-this.Patch_Margin);var h=this.diff_text1(r.diffs).substring(0,this.Patch_Margin);""!==h&&(c.length1+=h.length,c.length2+=h.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=h:c.diffs.push([0,h])),l||e.splice(++n,0,c)}}},i.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},i.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),r=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;r<n.length;){var s=n[r].match(o);if(!s)throw new Error("Invalid patch string: "+n[r]);var a=new i.patch_obj;for(t.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),r++;r<n.length;){var c=n[r].charAt(0);try{var l=decodeURI(n[r].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==c)a.diffs.push([-1,l]);else if("+"==c)a.diffs.push([1,l]);else if(" "==c)a.diffs.push([0,l]);else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+l)}r++}}return t},i.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},i.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=i,e.exports.diff_match_patch=i,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p}));var i=n(148),r=n(333),o=n(215),s=n(308),a=n(83);const c=s.a.isGeneric.contenteditable;function l(e){return e.querySelectorAll("[contenteditable=true]").length>0}function u(e){return a.a.observeAttribute(e,"contenteditable").pipe(Object(r.a)(e=>"true"!==e&&""!==e),Object(o.a)(void 0))}function d(e){return Object(i.a)(h(e,"readonly"),h(e,"disabled"))}function h(e,t){return a.a.observeAttribute(e,t).pipe(Object(r.a)(e=>null!=e),Object(o.a)(void 0))}function p(e,t=(e=>e)){return e.parentNode&&e.parentNode.nodeType===Node.ELEMENT_NODE?t(e.parentNode):null}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.gButtonSize=22,e.gButtonTopLeftMargin=2,e.emojiWidth=e.gButtonSize+8}(i||(i={}))},function(e,t,n){e.exports={preSendEmailPremiumPopup:"Ay4ri",header:"_3QnVL",title:"_3hg0X",category:"_2p-A6",name:"_1O5j0",buttons:"_1hPjc",button:"_39-K7",upgrade:"_2-sFr",close:"_1Cwsz",popupFooter:"_3G9kM",isFlipped:"_3rwSX"}},function(e,t,n){"use strict";n.r(t),n.d(t,"second",(function(){return i})),n.d(t,"minute",(function(){return r})),n.d(t,"hour",(function(){return o})),n.d(t,"day",(function(){return s})),n.d(t,"week",(function(){return a})),n.d(t,"days",(function(){return c})),n.d(t,"seconds",(function(){return l})),n.d(t,"hertz",(function(){return u}));const i=1e3,r=60*i,o=60*r,s=24*o,a=7*s;function c(e){return e*s}function l(e){return e*i}function u(e){return i/e}},function(e,t,n){"use strict";var i=n(31),r=Object.create,o=function(){function e(){}return function(t){if(!Object(i.a)(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();t.a=o},function(e,t,n){"use strict";var i=n(99),r=n(27),o=n(82),s=n(126),a=n(91),c=Object.prototype.hasOwnProperty;t.a=function(e,t){var n=Object(r.a)(e),l=!n&&Object(i.a)(e),u=!n&&!l&&Object(o.a)(e),d=!n&&!l&&!u&&Object(a.a)(e),h=n||l||u||d,p=h?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],f=p.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||u&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||Object(s.a)(m,f))||p.push(m);return p}},function(e,t,n){"use strict";var i=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),s=o.length;s--;){var a=o[++i];if(!1===t(r[a],a,r))break}return e};t.a=i},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u}));let i=["The G logo gets out of the way when you're typing","Switch between American, British, Australian, and Canadian English","Quickly disable checking in certain types of text fields","A fully redesigned and improved interface"],r=["id","email","firstName","anonymous","type","subscriptionFree","experiments","isTest","premium","settings","registrationDate","mimic","groups","extensionInstallDate","fixed_errors","edc"];r.push("token");const o="gr_ver_2",s=["data-gramm_editor","data-gramm","data-gramm_id","gramm_editor","readonly","disabled"],a=["pm-container",["class","ProseMirror"],"data-synchrony",["data-gramm","false"],["data-enable-grammarly","false"],["class","redactor-layer"],["class","redactor-editor"],["class","ck-editor__editable"],["class","redactor_box"],["aria-label","Search Facebook"]],c=[...s,...a],l={name:"data-enable-grammarly",value:"true"},u=["changed-user","changed-plan","changed-dialect","cleanup","editor-fix"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(11);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.value))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.value=n,i}return i.a(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l}));var i=n(64),r=n(41);function o(e){return e.group!==r.b.synonym&&e.group!==r.b.plagiarism}function s(e){return o(e)&&!e.isHidden&&!e.isMuted}function a(e){return i.a.isCapiAlert(e)&&s(e)}function c(e){return i.a.isCapiAlert(e)&&o(e)&&!e.isHidden&&e.hasTransforms}function l(e){return c(e)||i.a.isCapiAlert(e)&&!e.isHidden&&e.group===r.b.voxStyle}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=a(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";var i=n(4),r=n(58),o=n(191),s=n(41),a=n(9),c=n(22);function l(e){if(e&&(function(e){e.__trimmed_content&&delete e.__trimmed_content,e.__node_text&&delete e.__node_text}(e),e.parentNode&&"HTML"!==e.parentNode.nodeName&&e.parentNode.normalize(),e.childNodes.length>0))for(let t=0,n=e.childNodes.length;t<n;t++)l(e.childNodes[t])}const u=e=>{const t=document.createElement("div");return t.innerHTML=e,Array.from(t.querySelectorAll(".gr-alert")).forEach(e=>(function(e){if(!e.parentNode)return;const t=e.ownerDocument,n=e.parentNode;if(e.childNodes.length>1){const i=t.createDocumentFragment();for(;e.childNodes.length>0;){const t=e.childNodes[0];i.appendChild(t)}n.replaceChild(i,e),l(n)}else e.firstChild?(n.replaceChild(e.firstChild,e),n.normalize(),l(n)):(n.removeChild(e),n.normalize(),l(n))})(e)),t.innerHTML};class d{constructor(e,t=!1){this._dialog=e,this._plainText=t,this._supportedFeatures=[o.b.vox]}_createDialogState(e){const t=e.checkingService.getLegacyApiState(),n=e.state.synonyms?[s.g.toRawData(e.state.synonyms)]:[];return{data:{api:t.textApiState,socketId:t.socketId,cursor:{s:e.state.selection.start,e:e.state.selection.end},[this._plainText?"text":"html"]:e.state.documentContent,matches:n.concat(e.state.alerts.map(e=>s.a.toRawCapiAlert(e))),editorId:t.docId,whiteSpace:"normal",editorImplType:"fluid",selectedMatchId:e.state.selectedAlertId,data:{popupDialogErrorMessage:e.errorMessage}},caller:e.state.caller,totalErrors:e.state.alerts.length,editorId:t.docId,shouldOpenLoginView:!1,isOnboarding:!1}}openUnsupportedPopupDialog(e){const t=this._createDialogState(e);t.shouldOpenUnsupportedPopupDialog=!0,this._dialog&&this._dialog.preActivate(),Object(a.f)("show-dialog"),c.emitFocusedTab("show-dialog",t)}openPopupEditor(e){const t=this._createDialogState(e);this._dialog&&this._dialog.preActivate(),Object(a.f)("show-dialog"),c.emitFocusedTab("show-dialog",t),c.one("editor-set-state",t=>{if(t.editorId===e.checkingService.getLegacyApiState().docId){e.checkingService.setLegacyApiState(t.api);const n=i.c.create(),{s:o,e:a}=t.cursor;e.onPopupEditorClosed({documentContent:Object(r.c)(null!=t.text?t.text:t.html&&u(t.html)),alerts:t.matches.map(e=>s.a.create(e.rawMatch,n)),selection:null!==o&&null!==a?{start:o,end:a}:{start:0,end:0}}).then(e=>{})}})}updatePopupEditorState(e){}supports(e){return this._supportedFeatures.includes(e)}}var h=n(17),p=n(33),f=n(148),m=n(78),g=n(333),b=n(37),v=n(266),_=n(12),y=n(228),w=n(74),E=n(100),x=n(6),O=n(56),S=n(0),C=n(44),j=n(244),k=n(60),T=n(309),N=n(274);const P=()=>S.createElement("svg",{className:N.popupBackIcon,width:"10",viewBox:"0 0 10 6"},S.createElement("path",{d:"M5 4.3L.85.14c-.2-.2-.5-.2-.7 0-.2.2-.2.5 0 .7L5 5.7 9.85.87c.2-.2.2-.5 0-.7-.2-.2-.5-.2-.7 0L5 4.28z",stroke:"none"})),A=()=>S.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16"},S.createElement("path",{fill:"#E4E6F2",fillRule:"evenodd",d:"M8 6.871L14.675.245A.776.776 0 0 1 15.239 0c.213 0 .385.082.516.245.163.131.245.311.245.54a.654.654 0 0 1-.245.54L9.129 8l6.626 6.675a.776.776 0 0 1 .245.564.628.628 0 0 1-.245.516.628.628 0 0 1-.516.245.776.776 0 0 1-.564-.245L8 9.129l-6.675 6.626a.654.654 0 0 1-.54.245.654.654 0 0 1-.54-.245.628.628 0 0 1-.245-.516c0-.212.082-.4.245-.564L6.871 8 .245 1.325A.654.654 0 0 1 0 .785C0 .556.082.376.245.245A.654.654 0 0 1 .785 0c.23 0 .41.082.54.245L8 6.871z"}));class I extends S.Component{constructor(){super(...arguments),this._opacity=x.Atom.create(0),this._subs=[],this._onClick=e=>{e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.props.onClose())},this._setRef=e=>{this._ref!==e&&(null!=this._ref&&this._ref.removeEventListener("click",this._onClick),null!=e&&e.addEventListener("click",this._onClick),this._ref=e)}}componentDidMount(){this._opacity.set(0),this._subs.push(this.props.visible.pipe(Object(j.b)(C.a)).subscribe(e=>this._opacity.set(e?1:0)))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){return S.createElement(x.F.div,Object.assign({mount:this._setRef},Object(x.classes)(N.overlay,this.props.visible.view(e=>e&&N.overlayVisible)),{style:{opacity:this._opacity,zIndex:T.b}}),S.createElement("div",{className:N.iframeContainer},S.createElement("iframe",{className:N.iframe,src:this.props.iframeHtmlPath})),S.createElement("button",{className:N.popupBackButton},S.createElement(P,null),S.createElement("img",{className:N.popupFavicon,src:Object(k.c)(),alt:""}),S.createElement("span",{className:N.popupBackLabel},Object(k.e)())),S.createElement("button",{className:N.popupCloseButton},S.createElement(A,null)))}}var F=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};function M(){const e=Object(h.a)().systemInfo.os.isMac?"⌘+C":"Ctrl+C";return confirm(`Warning: Grammarly detected a problem which may cause you to lose work! Please select your text and press ${e} to copy it to clipboard before leaving this pop-up.\n\nClick Cancel to keep this editor open.\nClick OK to close this window and discard changes.`)}class R{constructor(e,t=!1,n,i=null){this._textMapType=e,this._isPlainText=t,this._experiments=n,this._dialog=i,this._supportedFeatures=[o.b.vox],this._log=_.a.create(R.name),this._legacyPopupEditor=new d(this._dialog,this._isPlainText)}openUnsupportedPopupDialog(e){this._log.debug("open unsupported popup dialog, state",e.state),this._legacyPopupEditor.openUnsupportedPopupDialog(e)}openPopupEditor(e){this._log.debug("open denali popup editor, state: ",e.state);const t={docId:e.checkingService.getDocId(),state:e.state,isPlainText:this._isPlainText,user:e.userProfile,textMapType:this._textMapType,extDomain:e.extDomain};e.checkingService.closeConnection(),D.getInstance().openPopupEditor(t,t=>e.onPopupEditorClosed(t))}updatePopupEditorState(e){!function(e){c.emitBackground(E.b.bgPopupEditorIFrameToPopupEditor,{type:E.a.changeUser,user:e})}(e)}supports(e){return this._supportedFeatures.includes(e)}}class D{constructor(){this._log=_.a.create(D.name),this._iframeInited=!1,this._visible=x.Atom.create(!1),this._openPopupEditorFirstTime=!0,this._performanceMetricOpenFirstTime=this._openPopupEditorFirstTime,this._subs=[],this._selfClosingSubject=new p.a,this._popupMessages=new p.a,this._iframe=null,c.on(E.b.popupEditorIFrame,(e,t)=>this._popupMessages.next({data:e,callback:t}))}static getInstance(){return null==D._instance&&(D._instance=new D),D._instance}_listenPerformanceMetricTrack(){return this._performanceMetricOpenFirstTime=this._openPopupEditorFirstTime,this._popupMessages.pipe(Object(m.a)(e=>e.data.type===E.a.fullyLoaded),Object(g.a)()).subscribe(e=>y.a.instance.trackLoad(y.a.PopupEditorType.denali,this._performanceMetricOpenFirstTime,e.data.timestamp))}_listenOnceOnLoaded(e){this._popupMessages.pipe(Object(m.a)(e=>e.data.type===E.a.loaded),Object(g.a)()).subscribe(()=>e())}_listenOnceOnPopupClosed(e,t){Object(f.a)(this._popupMessages.pipe(Object(m.a)(e=>e.data.type===E.a.popupClosing),Object(b.a)(({data:e,callback:t})=>({state:e.state,callback:t}))),this._selfClosingSubject.pipe(Object(b.a)(()=>({state:e,callback:void 0})))).pipe(Object(v.a)(({state:e,callback:n})=>t(e,n)),Object(m.a)(e=>e.didClose),Object(g.a)()).subscribe(({callback:e})=>{e&&e()})}_sendCloseMessageToPopupIframe(){return F(this,void 0,void 0,(function*(){"success"===(yield new Promise(e=>c.emitBackground(E.b.bgPopupEditorIFrameToPopupEditor,{type:E.a.closePopup},t=>e(t),()=>e("sender-is-disconnected-from-bg"))))?this._log.debug("close message was successfully sent"):(this._log.warn("cannot send close message"),M()&&(this._log.warn("closing popup..."),this._selfClosingSubject.next()))}))}_initOnce(e){var t,n,i;this._openPopupEditorFirstTime&&(this._openPopupEditorFirstTime=!1,this._iframe&&this._iframe.dispose(),this._listenOnceOnLoaded(()=>{this._iframeInited||e(),this._iframeInited=!0}),this._iframe=new O.b(O.a.fromDocument(document,"grammarly-popup-editor"),O.c.appendChild(document.body),(t=this._visible,n=()=>this._sendCloseMessageToPopupIframe(),i=Object(w.b)().getUrl("src/popupEditorIFrame.html"),()=>S.createElement(I,{visible:t,onClose:n,iframeHtmlPath:i}))))}_initPopupEditor(e,t,n){this._iframeInited&&t(),this._listenOnceOnPopupClosed(e,(e,t)=>F(this,void 0,void 0,(function*(){return e?{didClose:yield n(Object.assign(Object.assign({},e),{alerts:e.alerts})),callback:t}:(this._log.error("could not open popup editor: popup state is empty"),{didClose:!1,callback:t})})))}_sendStateToPopupIframe(e,t=!0){return F(this,void 0,void 0,(function*(){try{const n=yield function(e){return new Promise(t=>c.emitBackground(E.b.bgPopupEditorIFrameToPopupEditor,{type:E.a.openPopup,state:e},e=>t(e),()=>t("sender-is-disconnected-from-bg")))}(e);switch(n){case"success":break;case"sender-is-disconnected-from-bg":this._log.error("Cannot send state to popup editor",n),this._visible.set(!1);break;case"addressee-is-disconnected-from-bg":t?(this._log.warn("Cannot send state to popup editor, reloading iframe",n),this._openPopupEditorFirstTime=!0,this._performanceMetricOpenFirstTime=this._openPopupEditorFirstTime,this._iframeInited=!1,this._initOnce(()=>this._sendStateToPopupIframe(e,!1))):this._log.error("Cannot send state to popup editor",n);break;default:Object(i.g)(n)}}catch(e){this._log.error("Error sending state to popup editor",e)}}))}openPopupEditor(e,t){this._subs.forEach(e=>e.unsubscribe()),this._subs=[],this._subs.push(this._listenPerformanceMetricTrack()),this._openPopupEditorFirstTime&&this._initOnce(()=>this._sendStateToPopupIframe(e)),this._initPopupEditor(e.state,()=>this._sendStateToPopupIframe(e),e=>F(this,void 0,void 0,(function*(){try{yield t(e)}catch(e){if(!M())return!1}return this._visible.set(!1),!0}))),this._visible.set(!0)}}function L(e,t,n){return"chrome"===e.pageContext.config.bundleInfo.browser?new R(t,n,e.state.user.experiments||null,e.app.dialog):function(e,t=!1){return new d(e,t)}(e.app.dialog,n)}D._instance=null,n.d(t,"a",(function(){return L}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(2),r=n(33),o=n(290),s=n(28),a=n(244),c=n(110),l=n(293),u=function(e){function t(t,n,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this)||this;return r.scheduler=i,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=t<1?1:t,r._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return i.a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new d(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new c.a;if(this.isStopped||this.hasError?t=s.a.EMPTY:(this.observers.push(e),t=new l.a(this,e)),r&&e.add(e=new a.a(e,r)),n)for(var u=0;u<o&&!e.closed;u++)e.next(i[u]);else for(u=0;u<o&&!e.closed;u++)e.next(i[u].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i},t}(r.a),d=function(e,t){this.time=e,this.value=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(14);function r(e,t){return t?new i.a((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new i.a((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(122),r=n(101);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(i.a)(r.a,e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(2),r=n(133),o=n(42),s=n(11),a=n(20),c=n(18),l=n(102);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(r.a)(e,void 0).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n,i){void 0===i&&(i=Object.create(null));var r=e.call(this,t)||this;return r.iterators=[],r.active=0,r.resultSelector="function"==typeof n?n:null,r.values=i,r}return i.a(t,e),t.prototype._next=function(e){var t=this.iterators;Object(o.a)(e)?t.push(new f(e)):"function"==typeof e[l.a]?t.push(new p(e[l.a]())):t.push(new m(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++)if("function"==typeof(s=e[i]).hasValue&&!s.hasValue())return;var r=!1,o=[];for(i=0;i<t;i++){var s,a=(s=e[i]).next();if(s.hasCompleted()&&(r=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),r&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.a),p=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),f=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[l.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),m=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.parent=n,r.observable=i,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return i.a(t,e),t.prototype[l.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,i,r){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(c.a)(this,this.observable,this,t)},t}(a.a)},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t,n){"use strict";var i=n(213),r=n(142);t.a=function(e,t){return e&&Object(i.a)(e,t,r.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(14),r=n(28);function o(e,t){return new i.a((function(n){var i=new r.a,o=0;return i.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}},function(e,t,n){"use strict";(function(e){var i=n(168),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r&&i.a.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();t.a=a}).call(this,n(198)(e))},function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return p}));var i=n(315),r=n(10);const o="1.0",s=["inbox.google.com","mail.google.com","yahoo.com","mail.live.com","facebook.com","tumblr.com","stackoverflow.com","wordpress.com","wordpress.org","blogspot.com"],a=["facebook.com","messenger.com","work.fb.com","business.facebook.com"],c={"drive.google.com":{title:"Google Drive Not Supported",getMessage:()=>`We hope to support Google Drive apps<br/> in the future, but for now please use your</br> <a class="openGrammarly" href="${Object(r.f)().app}">Grammarly Editor</a>.`},"docs.google.com":{title:"Google Drive Not Supported",getMessage:()=>`We hope to support Google Drive apps<br/> in the future, but for now please use your</br> <a class="openGrammarly" href="${Object(r.f)().app}">Grammarly Editor</a>.`},"chrome.google.com":{title:"Web Store Not Supported"}},l=18e5,u=[6e5,l,36e5,108e5,432e5,864e5,31536e6],d={},h={"hootsuite.com":{enabled:!1},"chrome.google.com":{enabled:!1},"facebook.com":{enabled:!0,pages:{".*/notes":{enabled:!1}}},"onedrive.live.com":{enabled:!1},"docs.com":{enabled:!1},"sp.docs.com":{enabled:!1},"docs.google.com":{enabled:!0,matchInclusions:!1,matchSubdomains:!1,disabledBrowsers:["edge"],pages:{".*/document":{matchPartOfUrl:!0,minFieldHeight:0,minFieldWidth:0,enabled:!0},".*/spreadsheets":{enabled:!1},".*/presentation":{enabled:!1}},track:!0},"drive.google.com":{enabled:!1},"texteditor.nsspot.net":{enabled:!1},"jsbin.com":{enabled:!1},"jsfiddle.net":{enabled:!1},"quora.com":{enabled:!1},"paper.dropbox.com":{enabled:!1},"mail.live.com":{enabled:!1,matchInclusions:!0},"imperavi.com":{enabled:!1},"usecanvas.com":{enabled:!1}};function p(){return{pageConfig:Object(i.a)({},h,{version:{enabled:!1,servicePage:!0},extensions:{enabled:!1,servicePage:!0},settings:{enabled:!1,servicePage:!0},"com.safari.grammarlyspellcheckergrammarchecker":{enabled:!1,matchInclusions:!0,servicePage:!0},[`app.${Object(r.e)()}`]:{enabled:!1,grammarlyEditor:!0},"linkedin.com":{pages:{"/messaging":{afterReplaceEvents:["input"]}}},"plus.google.com":{afterReplaceEvents:["keyup"],minFieldHeight:0,minFieldWidth:0},"facebook.com":{minFieldHeight:0,pages:{"/marketplace":{afterReplaceEvents:["input"]}}},"mail.google.com":{fields:[{name:"to"},{name:"cc"},{name:"bcc"},{className:"vO"}],subframes:!1},"drive.google.com":{track:!0},"docs.google.com":{track:!0},"app.asana.com":{fields:[{className:"task-row-text-input"}]},"tumblr.com":{fields:[{attr:["aria-label","Post title"]},{attr:["aria-label","Type or paste a URL"]}]},"chrome.google.com":{dontShowDisabledBadge:!0}})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(45),o=n(12);class s{constructor(e){this._gnar=e,this._log=o.a.create(s.name),this._startTs=null}start(e=Date.now()){this._log.debug("mark load START",e),null!==this._startTs&&this._log.warn("start time double mark"),this._startTs=e}trackLoad(e,t,n){this._log.debug("mark load END",{popupEditorType:e,firstLoad:t,ts:n,total:this._startTs&&n-this._startTs}),null!==this._startTs?(this._gnar.popupEditorLaunchTime(t,e,n-this._startTs),this._startTs=null):this._log.warn("can't track popup editor load time -- no start mark")}}!function(e){let t;e.instance=new s(r.a),function(e){e.denali="denali",e.old="old"}(t=e.PopupEditorType||(e.PopupEditorType={}))}(i||(i={}))},,,function(e,t,n){e.exports={welcome:"_30fXB",windows:"_3ABE0",experiment:"rgJy-",title:"_1nid9",goPremium:"_3D097",text:"P7OY2",image:"_38xdR",content:"_11Im2",show:"_2NPIC",gr__show_logo:"_3QJER",gr__logo_go_home:"_1LRGZ",gr__show_content:"_3YlPj",close:"_1eRfy",learnMore:"HA6VG"}},function(e,t,n){e.exports={dialog:"_3nFdp",gr__dialog_appear:"_3T5nn",viewContainer:"_28_x1",view:"WuCcu",windows:"_19NKq",footer:"_2JKSq",hide:"_2T-3G",gr__dialog_disappear:"_341Vn",content:"_3LAq1",gr__dialog_content_disappear:"uC8vM",gr__dialog_content_appear:"D11g4",title:"_1MyEd",text:"_2sq_7",label:"pvMtM",btnClose:"_3L3rI"}},function(e,t,n){e.exports={notification:"_1Q4vz",reminder:"_1q4NH",title:"_3_Az-",text:"_3BNie",disableOnTab:"btJ71",disable:"_3kK50",bold:"_1xnmM",action:"_1aC8K",secondary:"_24QEk",close:"_1-apm"}},function(e,t,n){e.exports={colorRed:"_3mEyK",hovered:"_3GrEs",colorBlue:"_3PP6T",colorGreen:"AZEz6",colorPurple:"_1pzC3",colorGold:"_3KqP2",colorDenaliRed:"_1KAER",colorDenaliYellow:"_30H-e",colorGray:"_1FtBU",highlight:"_3F-Wk",showUnderline:"_3IEsw",noAnimation:"_2Qe2S",highlightFadeIn:"_3Q9ZP",synonym:"x9FIO"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(4);const r=Object(i.p)(()=>browser,()=>window.browser);window.edge=window.browser,window.chrome=window.chrome},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(33),o=n(110),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(14),r=n(44),o=n(139),s=n(55);function a(e,t,n){void 0===e&&(e=0);var a=-1;return Object(o.a)(t)?a=Number(t)<1?1:Number(t):Object(s.a)(t)&&(n=t),Object(s.a)(n)||(n=r.a),new i.a((function(t){var i=Object(o.a)(e)?e:+e-n.now();return n.schedule(c,i,{index:0,period:a,subscriber:t})}))}function c(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){"use strict";var i=n(173);t.a=function(e,t,n){var r=null==e?void 0:Object(i.a)(e,t);return void 0===r?n:r}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n(10),r=n(3);function o(e,t){const n=document.createElement("img"),o=Object(r.b)(e,{application:Object(i.a)(),version:Object(i.h)(),env:Object(i.c)(),context:t});return n.src=Object(r.e)(o,Object(i.f)().newFelog),Promise.resolve()}function s(e,t,n,i,r){return o({logger:e,level:n,message:t,extra:i},r)}},function(e,t,n){"use strict";n.r(t),n.d(t,"t",(function(){return i})),n.d(t,"setUser",(function(){return r})),n.d(t,"setGroups",(function(){return o})),n.d(t,"setSettings",(function(){return s})),n.d(t,"sessionInvalidate",(function(){return a})),n.d(t,"incFixed",(function(){return c})),n.d(t,"updateGroups",(function(){return l}));const i={SET_USER:"user/SET_USER",SET_GROUPS:"user/SET_GROUPS",SET_SETTINGS:"user/SET_SETTINGS",SESSION_INVALIDATE:"user/SESSION_INVALIDATE",INC_FIXED:"user/INC_FIXED",UPDATE_GROUPS:"user/UPDATE_GROUPS"};function r(e){return{type:i.SET_USER,data:e}}function o(e){return{type:i.SET_GROUPS,data:e}}function s(e){return{type:i.SET_SETTINGS,data:e}}function a(e){return{type:i.SESSION_INVALIDATE,reason:e}}function c(){return{type:i.INC_FIXED}}function l(){return{type:i.UPDATE_GROUPS}}},,function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n(2),r=n(11),o=n(95);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))},e}(),c=function(e){function t(t,n,i){void 0===i&&(i=0);var r=e.call(this,t)||this;return r.scheduler=n,r.delay=i,r}return i.a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new l(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.a.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.a.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},t}(r.a),l=function(e,t){this.notification=e,this.destination=t}},function(e,t,n){"use strict";var i=n(108),r=n(143),o=n(31),s=function(e){return e==e&&!Object(o.a)(e)},a=n(142),c=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},l=function(e){var t=function(e){for(var t=Object(a.a)(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,s(r)]}return t}(e);return 1==t.length&&t[0][2]?c(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,o){var s=n.length,a=s,c=!o;if(null==e)return!a;for(e=Object(e);s--;){var l=n[s];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){var u=(l=n[s])[0],d=e[u],h=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var p=new i.a;if(o)var f=o(d,h,u,e,t,p);if(!(void 0===f?Object(r.a)(h,d,3,o,p):f))return!1}}return!0}(n,e,t)}},u=n(239),d=function(e,t){return null!=e&&t in Object(e)},h=n(176),p=n(99),f=n(27),m=n(126),g=n(125),b=n(98),v=function(e,t){return null!=e&&function(e,t,n){for(var i=-1,r=(t=Object(h.a)(t,e)).length,o=!1;++i<r;){var s=Object(b.a)(t[i]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Object(g.a)(r)&&Object(m.a)(s,r)&&(Object(f.a)(e)||Object(p.a)(e))}(e,t,d)},_=n(141),y=n(117),w=n(173),E=function(e){return Object(_.a)(e)?function(e){return function(t){return null==t?void 0:t[e]}}(Object(b.a)(e)):function(e){return function(t){return Object(w.a)(t,e)}}(e)};t.a=function(e){return"function"==typeof e?e:null==e?y.a:"object"==typeof e?Object(f.a)(e)?function(e,t){return Object(_.a)(e)&&s(t)?c(Object(b.a)(e),t):function(n){var i=Object(u.a)(n,e);return void 0===i&&i===t?v(n,e):Object(r.a)(t,i,3)}}(e[0],e[1]):l(e):E(e)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(0),r=n(9),o=n(21),s=n(320);n(584);const a=290,c=({className:e})=>i.createElement("div",{className:`gr_-spinner ${e}`},i.createElement("div",{className:"gr_-bounce1"}),i.createElement("div",{className:"gr_-bounce2"}),i.createElement("div",{className:"gr_-bounce3"}));class l extends i.Component{constructor(){super(...arguments),this.onClick=e=>{e.preventDefault(),this.props.loading||this.props.onClick&&this.props.onClick(e)}}render(){const{loading:e,cls:t}=this.props,n=e?"":this.props.text,l=this.props.styles||{width:a},u=Object(r.d)({[s.buttonContainer]:!0,[s[t]]:void 0!==t,[s.loading]:e,[s.isFb]:this.props.isFb,[s.isGoogle]:this.props.isGoogle});return i.createElement("div",{className:u,style:l},e&&i.createElement(c,{className:s.buttonSpinner}),i.createElement(o.a,{clickHandler:this.onClick},i.createElement("button",{type:"button",style:l,className:s.button},n)))}}},function(e,t,n){"use strict";function i(e,t){return r(e,t)[0]}function r(e,t){const n=[{top:0,left:0,height:0,width:0}];if(!e)return n;const r=e.ownerDocument,o=r.documentElement,s=e.getClientRects(),a=o.scrollTop||r.body.scrollTop,c=o.scrollLeft||r.body.scrollLeft,l=t&&t.contentDocument;if(0===s.length)return n;let u=Array.from(s).map(e=>({top:e.top+a,left:e.left+c,height:e.height,width:e.width}));if(l&&l.documentElement&&l.documentElement===o){const e=i(t);u=u.map(t=>Object.assign({},t,{top:t.top+e.top-a,left:t.left+e.left-c}))}return u}function o(e,t,n=!1,i=!1){const r=e.ownerDocument,o=function(e){const t=e.documentElement.clientTop||e.body.clientTop||0,n=e.documentElement.clientLeft||e.body.clientLeft||0,i=e.documentElement.scrollLeft||e.body.scrollLeft,r=e.documentElement.scrollTop||e.body.scrollTop,o=e.defaultView.innerHeight;return{width:e.defaultView.innerWidth,height:o,scrollTop:r-t,scrollLeft:i-n,top:t,left:n}}(r),s=e.clientWidth,a=e.clientHeight,c={top:0,left:0,flip:!1},l=i?Math.max(a,136):a,u={top:t.top-r.body.scrollTop-l,left:t.left-s,bottom:r.body.scrollTop+o.height-t.top-t.height-l,right:r.body.scrollLeft+o.width-t.left-s};return u.bottom<0&&u.bottom<u.top||n?(c.top=t.top-a+3,c.flip=!0):(c.top=t.top+t.height-3,c.flip=!1),c.left=u.right<0?o.width-s:t.left,{rect:c,delta:u,sourceRect:t}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(392));var i=n(471);t.F=i.createLiftedIntrinsics()},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.gdocs="gdocs",e.other="other"}(i||(i={}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){"use strict";var i=n(223),r=n(211),o=n(224),s=n(245),a=n(157),c=n(27),l=n(82),u=n(86),d=n(31),h=n(91);t.a=function(e,t,n){var p=Object(c.a)(e),f=p||Object(l.a)(e)||Object(h.a)(e);if(t=Object(s.a)(t,4),null==n){var m=e&&e.constructor;n=f?p?new m:[]:Object(d.a)(e)&&Object(u.a)(m)?Object(r.a)(Object(a.a)(e)):{}}return(f?i.a:o.a)(e,(function(e,i,r){return t(n,e,i,r)})),n}},function(e,t,n){"use strict";var i=n(143);t.a=function(e,t){return Object(i.a)(e,t)}},function(e,t,n){"use strict";var i=n(128),r=n(182),o=Object(r.a)(Object.keys,Object),s=Object.prototype.hasOwnProperty;t.a=function(e){if(!Object(i.a)(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},,function(e,t,n){"use strict";var i=n(93),r=n(148),o=n(130),s=n(215),a=n(58),c=n(365),l=n(369),u=n(420),d=n(124),h=n(61),p=n(218),f=n(330),m=n(161),g=n(443),b=n(351),v=n(0),_=n(151),y=n(37),w=n(172),E=n(299),x=n(204),O=n(83),S=n(6),C=n(250),j=n(69),k=n(47),T=n(325),N=n(56);function P(e){try{const t=e.computedStyleMap?e.computedStyleMap():void 0,n=t&&t.get&&t.get("line-height");return n&&n.value+n.unit}catch(e){return}}class A{constructor(e,t,n,s,a=j.a.hz4,c=j.a.sec1,l=j.a.hz10,u=1e3){this._target=e,this._auxDomContainer=t,this._layout=n,this._browser=s,this._idleValuePollClock=a,this._idleStylePollClock=c,this._styleRecalcClock=l,this._textNodeSize=u,this._contentChanged=Object(r.a)(Object(i.a)(this._target,"input"),Object(i.a)(this._target,"change"),this._idleValuePollClock.pipe(Object(y.a)(e=>this._target.value),Object(o.a)())).pipe(Object(w.a)()),this._attributesChanged=O.a.create(this._target,{attributes:!0,subtree:!1,childList:!1,characterData:!1}),this._textValue=this._contentChanged.pipe(Object(E.a)(void 0),Object(y.a)(e=>this._target.value)),this._mirrorEl=null,this._getPreciseLineHeight="chrome"===this._browser?P:void 0,this._mirrorView=()=>v.createElement(S.F.div,{style:Object(_.b)(this._layout.rect.map(e=>e.size).behavior,Object(r.a)(this._contentChanged,this._attributesChanged,this._idleStylePollClock).pipe(Object(x.a)(this._styleRecalcClock),Object(E.a)(void 0)),(e,t)=>(function(e,t,n){if(e.ownerDocument&&e.ownerDocument.defaultView){const i=e.ownerDocument.defaultView.getComputedStyle(e),r=n&&n(e);return{border:0,margin:0,padding:i.padding,paddingBottom:i.paddingBottom,paddingLeft:i.paddingLeft,paddingRight:i.paddingRight,paddingTop:i.paddingTop,font:i.font,fontSize:null!==i.fontSize?i.fontSize:void 0,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSizeAdjust:i.fontSizeAdjust,fontStyle:i.fontStyle,direction:i.direction,textAlign:"start"!==i.textAlign?i.textAlign||"left":"rtl"===i.direction?"right":"left",textShadow:i.textShadow,textIndent:i.textIndent,lineHeight:r||(null!==i.lineHeight?i.lineHeight:"initial"),letterSpacing:i.letterSpacing,wordBreak:i.wordBreak,wordWrap:i.wordWrap,wordSpacing:i.wordSpacing,writingMode:i.writingMode,whiteSpace:"pre-wrap",verticalAlign:i.verticalAlign||"baseline",clear:i.clear||"none",boxSizing:"content-box",width:Math.max(0,t.width-(parseFloat(i.paddingLeft)||0)-(parseFloat(i.paddingRight)||0)),height:Math.max(0,t.height-(parseFloat(i.paddingTop)||0)-(parseFloat(i.paddingBottom)||0)),position:"fixed",top:0,left:0,borderColor:"transparent",background:"transparent",pointerEvents:"none",overflow:"hidden",overflowX:"hidden",overflowY:"hidden",color:"transparent",zIndex:Number.MIN_SAFE_INTEGER,visibility:"hidden"}}return{display:"none"}})(this._target,e,this._getPreciseLineHeight)),mount:e=>{Object(C.setElementProps)({scrollTop:this._layout.scroll.behavior.pipe(Object(y.a)(e=>e.top)),scrollLeft:this._layout.scroll.behavior.pipe(Object(y.a)(e=>e.left))})(e),this._mirrorEl=e},children:this._textValue.pipe(Object(y.a)(e=>(function(e,t){const n=[];for(let i=0,r=e.length;i<r;i+=t)n.push(e.slice(i,i+t));return n})(e,this._textNodeSize).concat("\n")))}),this._viewLoader=new N.b(N.a.fromElement(this._auxDomContainer,"grammarly-mirror"),N.c.appendChild(this._auxDomContainer),this._mirrorView)}get mirrorElement(){return this._mirrorEl}dispose(){this._viewLoader.dispose()}}class I extends T.a{constructor(e){const t=k.a.create({top:0,left:0});super(()=>t,()=>e.scroll.getCurrent(),()=>t,()=>e.scroll.getApproximate())}}var F=n(704),M=n(185);class R extends M.a{constructor(e){super(e,()=>!0,()=>!0,()=>!1,()=>!0,()=>!0,{preserveWhiteSpace:!0,isEditable:!0,outputConsidered:!1})}}var D=n(521);n.d(t,"c",(function(){return L})),n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return U}));const L=8;function B(e={}){return Object.assign(Object.assign({},e),{gbuttonMinPadding:void 0!==e.gbuttonMinPadding?e.gbuttonMinPadding:L})}function U(e,t,n,v){return D.a.decorate(()=>{const _=e.field,y=n||new d.a(e.field,B()),w=new A(_,Object(a.c)(t||_.ownerDocument&&(_.ownerDocument.body.parentElement||_.ownerDocument.body),"mirror container"),y.textField,e.pageContext.config.bundleInfo.browser),E=Object(a.c)(w.mirrorElement),x=new F.a(E,h.b.fromDiff,void 0,e=>new R(e)),O=y.textField.rect.behavior.pipe(Object(o.a)((e,t)=>e.page.top===t.page.top&&e.page.left===t.page.left),Object(s.a)(void 0)),C=new c.a(E,e.pageContext.domain,y,()=>e.createCheckingService(),Object(a.c)(e.app.card,"ctx.app.card"),Object(p.a)(e,m.a.generic,!0),S.Atom.create(e.state),e.actions,Object(a.c)(e.app.notifications,"ctx.app.notifications"),e.gnar,e.felog,e.pageContext.config,e.isCurrentFocusedField,x,e=>new g.a(_),v||(e=>new f.d(_)),void 0,void 0,e=>new l.b(x,y.gbutton,y.textField,E,new l.c(E,y.textField),e),void 0,new b.b(_),_,Object(i.a)(_,"dblclick"),Object(r.a)(Object(u.a)(y.textField),O),new I(y.textField));return{textField:e.field,update(e){C.update(e)},dispose(){C.dispose(),w.dispose()}}},"textarea",e.field)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={server:"socket-server",client:"socket-client",serverIframe:"socket-server-iframe",iframeMode:"iframe-mode"}},,,,,function(e,t,n){"use strict";function i(e,t){return[].concat(...t.map(e))}function r(e){return[].concat(...e)}function o(e){return[...new Set(e)]}function s(e,t){const n=new Set;return t.filter(t=>{const i=e(t),r=!n.has(i);return n.add(i),r})}function a(e,t,n){const i=[t];let r=t;for(let t=0;t<n.length;t++)r=e(r,n[t]),i.push(r);return i}function c(e){return e.reduce((e,t)=>t>e?t:e,e[0])}function l(e,t){return 0===e.length?void 0:e.reduce((e,n)=>{const i=t(n);return i>e[1]?[n,i]:e},[e[0],t(e[0])])[0]}function u(e){return e.slice().reverse()}function d(e,t){const n=[],i=[];let r=0,o=0;for(let s=0;s<t.length;s++)e(t[s])?n[r++]=t[s]:i[o++]=t[s];return[n,i]}function h(e,t){if(e<1)throw new Error("Invalid chunk size, expected > 0");if(0===t.length)return[[]];const n=[];for(let i=0;i<Math.ceil(t.length/e);i++)n.push(t.slice(i*e,(i+1)*e));return n}function p(e,t){const n=[];let i=e(t);for(;void 0!==i;)n.push(i[0]),i=e(i[1]);return n}function f(e,t){return void 0!==t?Array.from(Array(t-e),(t,n)=>n+e):Array.from(Array(e),(e,t)=>t)}function m(e,t=((e,t)=>e===t)){if(0===e.length)return[];const n=[[e[0]]];for(let i=1;i<e.length;i+=1){const r=n[n.length-1][0],o=e[i];t(r,o)?n[n.length-1].push(o):n.push([o])}return n}n.r(t),n.d(t,"flatMap",(function(){return i})),n.d(t,"flatten",(function(){return r})),n.d(t,"distinct",(function(){return o})),n.d(t,"distinctBy",(function(){return s})),n.d(t,"scan",(function(){return a})),n.d(t,"maximum",(function(){return c})),n.d(t,"maximumBy",(function(){return l})),n.d(t,"reverse",(function(){return u})),n.d(t,"partition",(function(){return d})),n.d(t,"chunkBySize",(function(){return h})),n.d(t,"unfold",(function(){return p})),n.d(t,"range",(function(){return f})),n.d(t,"groupBy",(function(){return m}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(20),o=n(18);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return i.a(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=Object(o.a)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,i){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(122);function r(e,t){return Object(i.a)(e,t,1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n(2),r=n(20),o=n(18),s={leading:!0,trailing:!1};function a(e,t){return void 0===t&&(t=s),function(n){return n.lift(new c(e,t.leading,t.trailing))}}var c=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.durationSelector,this.leading,this.trailing))},e}(),l=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=i,o._trailing=r,o._hasValue=!1,o}return i.a(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(o.a)(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,n,i,r){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(r.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return e(t)}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var i=n(4),r=n(203);class o{constructor(e){this._whitespaceChars=e,this._trimRe=new RegExp(`^[${this._whitespaceChars}]+|[${this._whitespaceChars}]+$`,"g"),this._trimLeftRe=new RegExp(`^[${this._whitespaceChars}]+`,"g"),this._trimRightRe=new RegExp(`[${this._whitespaceChars}]+$`,"g")}trimLeft(e){const t=e.replace(this._trimLeftRe,"");return{result:t,removedLeft:e.length-t.length}}trimRight(e){return e.replace(this._trimRightRe,"")}trim(e){let t=null;return{result:e.replace(this._trimRe,(e,n)=>(0===n&&(t=e.length),"")),removedLeft:null!==t?t:0}}}const s=[10,8,32,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8287,12288,3].map(e=>String.fromCharCode(e)).join(""),a=s+String.fromCharCode(160),c=new RegExp(String.fromCharCode(160),"g");var l;function u(e,t,n,a,l=new o(s)){const u=[];let d=0;for(const o of e){const e=[],s=n=>{e.push(n),d+=n.text.length+t.length},h=()=>{u.push(e),d+=n.length};for(let e=0;e<o.length;e++){const t=o[e];if(t._tag===r.b.Type.text){const n=0===e,i=e===o.length-1,r=t.preserveWhiteSpace?{result:t.text,removedLeft:0}:n&&i?l.trim(t.text):n?l.trimLeft(t.text):i?{result:l.trimRight(t.text),removedLeft:0}:{result:t.text,removedLeft:0};r.result.length>0&&s({text:r.result.replace(c," "),mapping:{node:t.node,startOffsetInNode:r.removedLeft},startOffset:d,endOffset:d+r.result.length})}else if(t._tag===r.b.Type.br){const n=e<o.length-1?a:"";s({text:n,mapping:{node:t.node,startOffsetInNode:0},startOffset:d,endOffset:d+n.length})}else Object(i.g)(t)}e.length>0&&h()}return u}function d(e,t,n){const i=[],r=[];let o=0;const s=(e,t)=>{const n=t?t.endOffset-t.startOffset:0,s=Math.max(e.length,n);r.push(e);for(let e=0;e<s;e++)i[o+e]=t;o+=s};for(let i=0;i<e.length;i++){const r=e[i];for(let e=0;e<r.length;e++)s(r[e].text,l.toMappedFragment(r[e])),e<r.length-1&&s(t,null);i<e.length-1&&s(n,null)}return{charMap:i,text:"".concat(...r)}}!function(e){e.toMappedFragment=function(e){return e.mapping?{text:e.text,startOffset:e.startOffset,endOffset:e.endOffset,node:e.mapping.node,startOffsetInNode:e.mapping.startOffsetInNode}:null},e.createNotMappedFragment=function(e,t){return{text:e,startOffset:t,endOffset:t+e.length}}}(l||(l={}))},function(e,t,n){var i=n(526),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var i=n(17),r=n(38),o=n(10);function s(e){const t=e.reduce((e,t)=>{const n=e.get(t.category);return n?n.count++:e.set(t.category,{group:t.group,categoryHuman:t.categoryHuman,count:1}),e},new Map);return Array.from(t.values()).sort((e,t)=>t.count-e.count)}function a(e){const t=new Map;for(const{isFree:n,cardLayout:{group:i}}of e){t.has(i)||t.set(i,{lensName:i,free:0,premium:0});const e=t.get(i);e&&(e[n?"free":"premium"]+=1)}return Array.from(t.values()).sort((e,t)=>t.premium-e.premium)}function c(e){const t=[{title:"Grammar and punctuation errors",lensesName:["Grammar","Punctuation","Conventions"]},{title:"Inconsistent punctuation or formatting",lensesName:["Consistency"]},{title:"Hard-to-read sentences",lensesName:["Readability"]},{title:"Monotonous passages",lensesName:["Sentence Variety"]},{title:"Confusing sentences or paragraphs",lensesName:["Clarity","Sentence structure"]},{title:"Unnatural phrasing",lensesName:["Fluency"]},{title:"Ineffective vocabulary",lensesName:["Vocabulary","Variety"]},{title:"Wordiness",lensesName:["Conciseness"]},{title:"Hedging language",lensesName:["Confidence"]},{title:"Impoliteness",lensesName:["Politeness"]},{title:"Insensitive or non-inclusive language",lensesName:["Sensitivity"]},{title:"Inappropriate tone or formality level",lensesName:["Formality"]}].reduce((e,t)=>(t.lensesName.forEach(n=>e[n]=t.title),e),{});return a(e).map(e=>Object.assign(Object.assign({},e),{friendName:t[e.lensName]})).sort((e,t)=>t.premium-e.premium||e.friendName.localeCompare(t.friendName))}function l(e){return btoa(JSON.stringify(e))}function u(e){const t=i.a().appConfig.url,n=e.showSinglePlanComparisonPage?t.plansEnterprise:e.showPlanComparison?t.planComparison:t.upgrade;window.open(Object(r.a)(n,[...e.isFromEmail?[Object(r.b)("isFromEmail","1")]:[],Object(r.b)("alerts",l(s(e.currentAlerts))),Object(r.b)("lensedAlerts",l(a(e.currentAlerts))),Object(r.b)("app_type","popup"),Object(r.b)("browser",Object(o.b)()),...Object(r.q)({medium:"internal",source:e.isAnonymousUser?"signupHook":"upHook",campaign:e.forceUtmCampaign?e.forceUtmCampaign:e.isAnonymousUser?"extensionPremiumCta":"extensionGButton"})]))}},function(e,t,n){e.exports={autocorrectApplied:"DJ7ch",hovered:"_1lUCP",autocorrectHighlight:"xknC-",highlightFadeOut:"jFQW9",fadeInOutUnderline:"_3nDXr",replacementItemFontSizeFix:"tlr0g",logoIconMarginFix:"KCb9T",undoIcon:"_3h_1E",replaceButton:"_33_Xf",highlightFadeIn:"_39Rzf",showUnderline:"_3uRZv"}},function(e,t,n){e.exports={overlay:"G1YKL",overlayVisible:"_2zdNv",iframeContainer:"Dz9SN",iframe:"_1I9tv",popupCloseButton:"IzJab",popupBackButton:"_19VvQ",popupBackIcon:"_2NlTH",popupFavicon:"_2ITHR",popupBackLabel:"_38Hbv"}},function(e,t,n){e.exports={popupWrapper:"_2vV1Z",verbosePremium:"_2mmtW",panel:"-mjUa",mask:"_3pmCo",show:"rbjEj",hide:"_3uWIx",expandedGbuttonWrapper:"_2vDTY",arrow:"SY83w",arrowVisible:"_5pAkg"}},function(e,t){e.exports={toU8IntArray:function(e){for(var t=[],n=[],i=0;i<e.length;i++){var r,o=e.charCodeAt(i);for(n.length=0;(r=255&o)||o;)n.push(r),o>>>=8;t=t.concat(n.reverse())}return t},intToUnsignedHex:function(e){for(var t,n=[];(t=65535&e)||e;)t=t.toString(16),t="0000".slice(t.length)+t,n.push(t),e>>>=16;return n.reverse().join("")}}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";t.a=function(e,t){return e.has(t)}},function(e,t,n){"use strict";var i=n(323),r=n(84),o=n(77),s=n(126),a=n(31),c=function(e,t,n){if(!Object(a.a)(n))return!1;var i=typeof t;return!!("number"==i?Object(o.a)(n)&&Object(s.a)(t,n.length):"string"==i&&t in n)&&Object(r.a)(n[t],e)};t.a=function(e){return Object(i.a)((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&c(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t}))}},function(e,t,n){"use strict";var i=n(169),r=n(84),o=Object.prototype.hasOwnProperty,s=function(e,t,n){var s=e[t];o.call(e,t)&&Object(r.a)(s,n)&&(void 0!==n||t in e)||Object(i.a)(e,t,n)};t.a=function(e,t,n,r){var o=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var l=t[a],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?Object(i.a)(n,l,u):s(n,l,u)}return n}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(313),r=n(313);t.structEq=r.equals,t.DEV_ENV=void 0!==e&&!1,t.setKey=function(e,t,n){if(e in n&&i.equals(t,n[e]))return n;var r={};for(var o in n)r[o]=n[o];return r[e]=t,r},t.conservatively=function(e){return function(t,n){return function(e,t){return i.equals(e,t)?t:e}(e(t,n),n)}},t.findIndex=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},t.warning=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("[Focal]: "+e);try{throw new Error(e)}catch(e){}},t.getReactComponentName=function(e){return"string"==typeof e?e:void 0!==e.displayName?e.displayName:void 0!==e.name?e.name:e.constructor&&void 0!==e.constructor.name?e.constructor.name:void 0}}).call(this,n(217))},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return h}));var i=n(2),r=n(11),o=n(28),s=n(14),a=n(33);function c(e,t,n,i){return function(r){return r.lift(new l(e,t,n,i))}}var l=function(){function e(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),u=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=i,s.durationSelector=r,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return i.a(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var i,r=n.get(t);if(this.elementSelector)try{i=this.elementSelector(e)}catch(e){this.error(e)}else i=e;if(!r){r=this.subjectSelector?this.subjectSelector():new a.a,n.set(t,r);var o=new h(t,r,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new h(t,r))}catch(e){return void this.error(e)}this.add(s.subscribe(new d(t,r,this)))}}r.closed||r.next(i)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(r.a),d=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.key=t,r.group=n,r.parent=i,r}return i.a(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(r.a),h=function(e){function t(t,n,i){var r=e.call(this)||this;return r.key=t,r.groupSubject=n,r.refCountSubscription=i,r}return i.a(t,e),t.prototype._subscribe=function(e){var t=new o.a,n=this.refCountSubscription,i=this.groupSubject;return n&&!n.closed&&t.add(new p(n)),t.add(i.subscribe(e)),t},t}(s.a),p=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return i.a(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n(14),r=n(75),o=new i.a(r.a);function s(){return o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n(2),r=n(33),o=n(14),s=n(11),a=n(28),c=n(183),l=function(e){function t(t,n){var i=e.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return i.a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e},t.prototype.refCount=function(){return Object(c.a)()(this)},t}(o.a),u=function(){var e=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),d=function(e){function t(t,n){var i=e.call(this,t)||this;return i.connectable=n,i}return i.a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(r.b);s.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(221);function r(){return Object(i.a)(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(2),r=n(42),o=n(133),s=n(20),a=n(18);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(r.a)(e[0]))return e[0];e=e[0]}return Object(o.a)(e,void 0).lift(new l)}var l=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i.a(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var i=e[n],r=Object(a.a)(this,i,i,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(s.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(2),r=n(44),o=n(298),s=n(20),a=n(18);function c(e,t,n){return void 0===n&&(n=r.a),function(i){var r=Object(o.a)(e),s=r?+e-n.now():Math.abs(e);return i.lift(new l(s,r,t,n))}}var l=function(){function e(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),u=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=i,s.withObservable=r,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return i.a(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(a.a)(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(s.a)},function(e,t,n){"use strict";var i=n(14),r=n(28),o=n(97),s=n(225),a=n(102),c=n(296),l=n(295);function u(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new i.a((function(n){var i=new r.a;return i.add(t.schedule((function(){var r=e[o.a]();i.add(r.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if(Object(c.a)(e))return function(e,t){return new i.a((function(n){var i=new r.a;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(Object(l.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[a.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.a((function(n){var i,o=new r.a;return o.add((function(){i&&"function"==typeof i.return&&i.return()})),o.add(t.schedule((function(){i=e[a.a](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";var i=n(2),r=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return i.a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},t}(n(136).a),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.a(t,e),t}(n(134).a);n.d(t,"a",(function(){return s}));var s=new o(r)},function(e,t,n){"use strict";var i,r=n(72),o=n(58),s=n(43),a=n(255),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e[e.nonEmptyMigration=0]="nonEmptyMigration",e[e.emptyMigration=1]="emptyMigration"}(i||(i={}));class l{constructor(e,t,n,i=[]){var r,o;this._name=e,this._source=t,this._destination=n,this._destValuesToKeep=i,this._migrationFlagSuccessfulValue="ok",this._migrationFlagUniqueKey="104ccd8c-9919-9ae4-931f-782fb197486c",this._migrationFlagKey=`__migration-${this._migrationFlagUniqueKey}:(${this._name})`,this._migrationInProgress=!1,this.migrationAwareDestination=(r=this._destination,o=e=>e===this._migrationFlagKey,{get:r.get.bind(r),set:r.set.bind(r),getAll:r.getAll.bind(r),remove:r.remove.bind(r),removeAll(){return c(this,void 0,void 0,(function*(){const e=yield r.getAll();yield r.removeAll(),yield Promise.all(Object.keys(e).filter(o).map(t=>r.set(t,e[t])))}))}})}_getMigrated(){return this._destination.get(this._migrationFlagKey).then(e=>e===this._migrationFlagSuccessfulValue)}_setMigrated(){return c(this,void 0,void 0,(function*(){yield this._destination.set(this._migrationFlagKey,this._migrationFlagSuccessfulValue);const e=yield this._destination.get(this._migrationFlagKey);if(e!==this._migrationFlagSuccessfulValue)throw new Error(`Could not verify status write, actual value: ${e}`)}))}_runMigration(){return c(this,void 0,void 0,(function*(){Object(o.b)(!this._migrationInProgress,"migration already in progress"),this._migrationInProgress=!0;try{const e=yield this._source.getAll(),t=0===Object.keys(e).length;if(yield Promise.all(this._destValuesToKeep.map(t=>this._destination.get(t).then(n=>{null!=n&&(e[t]=n)}))),yield this._destination.removeAll(),yield Promise.all(Object.keys(e).filter(t=>null!=e[t]).map(t=>this._destination.set(t,e[t]))),!Object(a.a)(e,yield this._destination.getAll()))throw new Error("Could not verify write");return this._migrationInProgress=!1,t?i.emptyMigration:i.nonEmptyMigration}catch(e){throw this._migrationInProgress=!1,e}}))}ensureMigrationCompleted(){return c(this,void 0,void 0,(function*(){if(yield this._getMigrated())return s.a.alreadyMigrated;{const e=yield this._runMigration();switch(yield this._setMigrated(),e){case i.nonEmptyMigration:return s.a.success;case i.emptyMigration:return s.a.successWithEmpty;default:throw new Error(`Match not exhaustive: ${e}`)}}}))}}n.d(t,"a",(function(){return u}));var u,d=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.windowLocalStorage={get:e=>r.a.sync(()=>window.localStorage.getItem(e)),set:(e,t)=>r.a.sync(()=>window.localStorage.setItem(e,t)),getAll:()=>r.a.sync(()=>{const e={};return Object.keys(window.localStorage).forEach(t=>{e[t]=window.localStorage.getItem(t)}),e}),remove:e=>r.a.sync(()=>window.localStorage.removeItem(e)),removeAll:()=>r.a.sync(()=>window.localStorage.clear())},e.MigrationAwarePreferencesApiImpl=class{constructor(t){this._firefox=t,this._migrationCompleted=Promise.resolve(!1),this._ensureMigrationCompletedCalled=!1,this.get=this._getMigrationAwareMethod("get"),this.set=this._getMigrationAwareMethod("set"),this.getAll=this._getMigrationAwareMethod("getAll"),this.remove=this._getMigrationAwareMethod("remove"),this.removeAll=this._getMigrationAwareMethod("removeAll"),this.browserStorageLocal={get:e=>d(this,void 0,void 0,(function*(){const t=yield this._firefox.storage.local.get(e);return t.hasOwnProperty(e)?t[e]:null})),set:(e,t)=>this._firefox.storage.local.set({[e]:t}),getAll:()=>this._firefox.storage.local.get(null),remove:e=>this._firefox.storage.local.remove(e),removeAll:()=>d(this,void 0,void 0,(function*(){yield this._firefox.storage.local.clear()}))},this._migration=new l("firefoxLocalStorageToExtApi",e.windowLocalStorage,this.browserStorageLocal,["version"])}ensureMigrationCompleted(){this._ensureMigrationCompletedCalled=!0;const e=r.a.createCompletionSource();return this._migrationCompleted=e.promise,this._migration.ensureMigrationCompleted().then(t=>(e.resolve(!0),Promise.resolve(t)),t=>(e.resolve(!1),Promise.reject(t)))}_getMigrationAwareMethod(t){return(...n)=>(Object(o.b)(!0===this._ensureMigrationCompletedCalled,"supposed to run data migration before accessing prefs with web-extensions API"),this._migrationCompleted.then(i=>(i?this._migration.migrationAwareDestination:e.windowLocalStorage)[t](...n)))}}}(u||(u={}))},function(e,t,n){"use strict";var i=n(114);function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i.a;++t<n;)this.add(e[t])}r.prototype.add=r.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},r.prototype.has=function(e){return this.__data__.has(e)},t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(2),r=function(e){function t(t,n){var i=e.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return i.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(28).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){"use strict";function i(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e){return e instanceof Date&&!isNaN(+e)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(129),r=n(55);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r.a)(n)?(e.pop(),function(t){return Object(i.a)(e,t,n)}):function(t){return Object(i.a)(e,t)}}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));var i=n(93),r=n(48),o=n(148),s=n(37),a=n(204),c=n(130),l=n(172),u=n(215),d=n(69),h=n(70),p=n(47),f=n(116);const m=d.a.hz30;function g(e,t,n){return(e?Object(i.a)(e,"mousemove",{capture:!0}):Object(r.b)()).pipe(Object(s.a)(e=>{const i=p.a.create({left:e.clientX,top:e.clientY});return{client:i,offset:f.c.contains(i,t)?p.b.fromClientPoint(i,t,n):null}}),Object(a.a)(m),Object(c.a)(h.a),Object(l.a)())}function b(e,t,n){return e.contentDocument?Object(o.a)(Object(i.a)(e.contentDocument,"mousemove").pipe(Object(s.a)(e=>{const i=p.a.create({left:e.clientX,top:e.clientY});return{client:i,offset:p.b.fromClientPoint(i,t,n)}})),(e.ownerDocument?Object(i.a)(e.ownerDocument,"mousemove"):Object(r.b)()).pipe(Object(u.a)({client:null,offset:null}))).pipe(Object(a.a)(m),Object(c.a)(h.a),Object(l.a)()):Object(r.b)()}},,function(e,t,n){"use strict";var i=n(413),r="object"==typeof self&&self&&self.Object===Object&&self,o=(i.a||r||Function("return this")()).Symbol,s=Object.prototype,a=s.hasOwnProperty,c=s.toString,l=o?o.toStringTag:void 0,u=Object.prototype.toString,d=o?o.toStringTag:void 0,h=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(e){}var r=c.call(e);return i&&(t?e[l]=n:delete e[l]),r}(e):function(e){return u.call(e)}(e)},p=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),f=Function.prototype,m=Object.prototype,g=f.toString,b=m.hasOwnProperty,v=g.call(Object),_=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!=h(e))return!1;var t=p(e);if(null===t)return!0;var n=b.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&g.call(n)==v},y=n(335),w={INIT:"@@redux/INIT"};function E(e,t,n){var i;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(E)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var r=e,o=t,s=[],a=s,c=!1;function l(){a===s&&(a=s.slice())}function u(){return o}function d(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),a.push(e),function(){if(t){t=!1,l();var n=a.indexOf(e);a.splice(n,1)}}}function h(e){if(!_(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=r(o,e)}finally{c=!1}for(var t=s=a,n=0;n<t.length;n++)(0,t[n])();return e}return h({type:w.INIT}),(i={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");r=e,h({type:w.INIT})}})[y.a]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[y.a]=function(){return this},e},i}function x(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function O(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];"function"==typeof e[r]&&(n[r]=e[r])}var o=Object.keys(n),s=void 0;try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:w.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+w.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var i=!1,r={},a=0;a<o.length;a++){var c=o[a],l=n[c],u=e[c],d=l(u,t);if(void 0===d){var h=x(c,t);throw new Error(h)}r[c]=d,i=i||d!==u}return i?r:e}}function S(e,t){return function(){return t(e.apply(void 0,arguments))}}function C(e,t){if("function"==typeof e)return S(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},r=0;r<n.length;r++){var o=n[r],s=e[o];"function"==typeof s&&(i[o]=S(s,t))}return i}function j(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function T(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,r){var o,s=e(n,i,r),a=s.dispatch,c={getState:s.getState,dispatch:function(e){return a(e)}};return o=t.map((function(e){return e(c)})),a=j.apply(void 0,o)(s.dispatch),k({},s,{dispatch:a})}}}n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return T}))},,function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.anonymous="anonymous",e.registered="registered",e.premium="premium"}(i||(i={})),function(e){e.getType=function(e){return e.premium?i.premium:e.anonymous?i.anonymous:i.registered},e.isEdcBlocked=function(e){return!!e.edc&&!e.edc.compliant}}(r||(r={}))},function(e,t,n){"use strict";var i=n(224),r=n(77),o=function(e,t){return function(t,n){if(null==t)return t;if(!Object(r.a)(t))return e(t,n);for(var i=t.length,o=-1,s=Object(t);++o<i&&!1!==n(s[o],o,s););return t}}(i.a);t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var i=n(144),r=n(74),o=n(22),s=n(430);class a extends i.a{constructor(e){super({browser:e.browser,context:"cs"}),this.browserApi=e.browserApi,o.init(e.browserApi.message),Object(r.e)(e.browserApi),this.bgRpc=new s.a(o)}static getInstance(){if(void 0===this._instance)throw new Error("Env not inited yet");return this._instance}static init(e){if(void 0!==this._instance)throw new Error("Env already inited");const t=new a(e);return this._instance=t,i.a.initShared(t),t.browserApi.message.start&&t.browserApi.message.start(),t}}function c(){return a.getInstance()}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){function t(e,t){try{for(const n of Object.keys(t))if(t[n]&&t[n](e))return n;return null}catch(e){return null}}e.isSpecific={draftJs:e=>!(!e.hasAttribute("contenteditable")||!e.querySelector('[data-contents="true"] > [data-editor], [data-block]')),quill:e=>e.classList.contains("ql-editor")||e.classList.contains("ql-container"),redactor:e=>e.className.indexOf("redactor")>-1,prosemirror:e=>e.hasAttribute("pm-container")||e.classList.contains("ProseMirror"),scribe:e=>e.className.indexOf("scribe")>-1,trix:e=>e.className.indexOf("trix")>-1,"medium-editor":e=>e.className.indexOf("medium-editor")>-1,tinymce:e=>{if("IFRAME"!==e.tagName)return!1;const t=e;return t.id.indexOf("mce")>-1||!!(t.contentDocument&&t.contentDocument.querySelectorAll("#tinymce, .mce-content-body").length>0)},ckeditor4:e=>e.matches("iframe.cke_wysiwyg_frame")||e.classList.contains("cke_editable"),ckeditor5:e=>e.classList.contains("ck-editor__editable"),slate:e=>"true"===e.getAttribute("data-slate-editor"),mobiledoc:e=>e.classList.contains("__mobiledoc-editor")},e.isGeneric={contenteditable:e=>{const t=e.attributes.getNamedItem("contenteditable");return!(!t||"true"!==t.value&&""!==t.value)},textarea:e=>"TEXTAREA"===e.tagName,iframe:t=>{if("IFRAME"===t.tagName){const n=t;return!!(n.contentDocument&&n.contentDocument.body&&e.isGeneric.contenteditable(n.contentDocument.body))}return!1}},e.get=function(n){return{generic:t(n,e.isGeneric),specific:t(n,e.isSpecific)}}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=2147483647,r=i},function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return _}));var i=n(17),r=n(427),o=n(22),s=n(10),a=n(16),c=n(12),l=n(350),u=n(74),d=n(31),h=n(239),p=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const f=c.a.create("lib.request"),m=1e4;function g(){o.on("fetch",(e,t)=>{v(e).then(t,e=>t({error:e.message}))})}function b(e,t={}){return p(this,void 0,void 0,(function*(){if(t.url=e,function(e){if(e.data&&(e.query||"post"!==e.method)&&(e.url+="?"+_(e.data)),e.data&&"post"===e.method&&!e.query&&!e.body){try{e.body=JSON.stringify(e.data)}catch(t){e.body={},f.warn("",t)}e.headers=e.headers||{},e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",delete e.data}e.credentials="include"}(t),Object(s.i)()||Object(s.n)())return v(t);const n=yield o.promiseBackground("fetch",t);if(Object(d.a)(n)&&Object(h.a)(n,"error"))throw new Error(Object(h.a)(n,"error"));return n}))}function v(e){return p(this,void 0,void 0,(function*(){const t=yield function(e){return p(this,void 0,void 0,(function*(){const t=Object(u.a)(),n=new r.a(t),o=yield n.getCSRFToken(!!e.csrfMayBeEmpty),s=yield function(){return p(this,void 0,void 0,(function*(){try{const e=Object(u.a)().managedStorage;if(void 0===e)return;const t=yield e.get("RestrictOrganizationId");return t&&`sso-id ${t}`}catch(e){return void f.error("Fail to get RestrictOrganizationId from managedStore")}}))}();return function(e,t,n){return p(this,void 0,void 0,(function*(){e.headers=e.headers||{};try{const t=yield Object(l.a)();t&&(e.headers["X-Container-Id"]=t),n&&(e.headers["Grammarly-Auth-Policy"]=n),e.headers["X-Client-Version"]=`${i.a().buildInfo.version}`,e.headers["X-Client-Type"]=`extension-${i.a().bundleInfo.browser}`}catch(e){f.error("Error by setting request headers")}return t&&(e.headers["X-CSRF-Token"]=t),e}))}(e,o,s)}))}(e),{url:n}=t;return delete t.url,n?Promise.race([window.fetch(n,t).then((function(e){return e.ok?e[t.isText?"text":"json"]():e.text().then(t=>{throw{name:"RequestError",body:t,statusCode:e.status,message:e.statusText}})})).then(e=>{if("string"!=typeof e&&e&&e.error)throw new Error(e.error);return e}),Object(a.n)(t.timeout||m).then(()=>{throw new Error(`Fetch request to ${n} rejected by timeout`)})]):Promise.reject(new Error("Url is not defined in fetch request"))}))}function _(e){let t="";for(const n in e)if(Array.isArray(e[n])){if(e[n].length){const i=e[n].map(e=>`${n}=${e}`).join("&");t+=`${t.length?"&":""}${i}`}}else t+=`${t.length?"&":""}${n}=${encodeURIComponent(e[n])}`;return t}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e){if(this.capacity=e,this._start=0,this._end=0,this._isFull=!1,e<=0)throw new Error("Invalid capacity "+e);this._buffer=new Array(e)}get size(){return this._isFull?this._buffer.length:(this._end-this._start+this._buffer.length)%this._buffer.length}get isEmpty(){return 0===this.size}get isFull(){return this._isFull}get head(){return this.isEmpty?null:this._buffer[this._start]}get tail(){return this.isEmpty?null:this._buffer[0===this._end?this.capacity-1:this._end-1]}enqueue(e){let t=null;return this.isFull&&(t=this._buffer[this._start],this._startInc()),this._buffer[this._end]=e,this._endInc(),this._start===this._end&&(this._isFull=!0),t}dequeue(){if(this.isEmpty)return null;const e=this._buffer[this._start];return this._buffer[this._start]=null,this._startInc(),this._isFull=!1,e}delete(e){const t=this._buffer.indexOf(e);if(t>=0){if(t<this._end){for(let e=t;e<this._end-1;e++)this._buffer[e]=this._buffer[e+1];this._buffer[--this._end]=null}else{for(let e=this._start;e<t;e++)this._buffer[e+1]=this._buffer[e];this._buffer[this._start]=null,this._startInc()}return this._isFull=!1,!0}return!1}_startInc(){this._start++,this._start===this.capacity&&(this._start=0)}_endInc(){this._end++,this._end===this.capacity&&(this._end=0)}clear(){this._buffer=new Array(this.capacity),this._start=this._end=0,this._isFull=!1}toArray(){let e;if(this.isEmpty)e=[];else if(this._start<this._end)e=this._buffer.slice(this._start,this._end);else{e=new Array(this.size);let t=0;for(let n=this._start;n<this.capacity;++n,++t)e[t]=this._buffer[n];for(let n=0;n<this._end;++n,++t)e[t]=this._buffer[n]}return e}}},function(e,t,n){"use strict";function i(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function r(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}Object.defineProperty(t,"__esModule",{value:!0});var s,a,c,l,u=function(){var e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(t){return"[object Arguments]"===e.call(t)}:function(e){return r("callee",e)}}(),d=(s=!{toString:null}.propertyIsEnumerable("toString"),a=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],c=function(){return arguments.propertyIsEnumerable("length")}(),l=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},"function"!=typeof Object.keys||c?function(e){if(Object(e)!==e)return[];var t,n,i=[],o=c&&u(e);for(t in e)!r(t,e)||o&&"length"===t||(i[i.length]=t);if(s)for(n=a.length-1;n>=0;)r(t=a[n],e)&&!l(i,t)&&(i[i.length]=t),n-=1;return i}:function(e){return Object(e)!==e?[]:Object.keys(e)});function h(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}t.equals=function e(t,n,s,a){if(void 0===s&&(s=[]),void 0===a&&(a=[]),o(t,n))return!0;if(h(t)!==h(n))return!1;if(null==t||null==n)return!1;if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(h(t)){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(c=t.constructor,null==(l=String(c).match(/^function (\w*)/))?"":l[1]))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!o(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!o(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1;break;case"Map":case"Set":if(!e(i(t.entries()),i(n.entries()),s,a))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c,l,u=d(t);if(u.length!==d(n).length)return!1;for(var p=s.length-1;p>=0;){if(s[p]===t)return a[p]===n;p-=1}for(s.push(t),a.push(n),p=u.length-1;p>=0;){var f=u[p];if(!r(f,n)||!e(n[f],t[f],s,a))return!1;p-=1}return s.pop(),a.pop(),!0}},function(e,t,n){"use strict";var i=n(38),r=n(16),o=n(14),s=n(72),a=n(4),c=n(272),l=n(12);class u{constructor(){this._log=l.a.create("extension-api.alarms.stub"),this._warning="Method is not implemented"}create(e,t){return this._log.warn(this._warning),{dispose:a.l}}}class d extends u{create(e,t){let n=null;const i=setTimeout(()=>{t.period&&(n=setInterval(e,t.period)),e()},t.delay);return{dispose:()=>{clearTimeout(i),null!==n&&clearInterval(n)}}}}function h(e,t){chrome.runtime.lastError?t(chrome.runtime.lastError):e()}class p{constructor(){this._log=l.a.create("extension-api.managed-storage.validator")}validate(e,t){switch(e){case"RestrictOrganizationId":return"string"==typeof t&&t.length>0&&/^[a-z0-9_-]+$/i.test(t);default:return this._log.warn(`Unknown key: ${e}`),!1}}}class f{constructor(){this._log=l.a.create("extension-api.managed-storage.chrome"),this._validator=new p}get(e){return new Promise((t,n)=>{chrome.storage.managed.get(e,i=>{h(()=>{const n=i[e];void 0===n||this._validator.validate(e,n)?t(n):(this._log.warn(`Invalid value for "${e}": ${JSON.stringify(i[e])}`),t(void 0))},t=>{this._log.error(`Could not get "${e}"`,t),n(t)})})})}}var m=n(190),g=n(199);class b{constructor(){this.kind="web-extension"}open(e,t){return s.a.create((n,i)=>{chrome.tabs.create({url:e,active:t},e=>{h(()=>n(e),i)})})}updateCurrent(e){return s.a.create((t,n)=>{chrome.tabs.update({url:e},e=>{h(()=>t(e),n)})})}getActiveTab(){return s.a.create((e,t)=>{const n=chrome.tabs;n.query({active:!0,lastFocusedWindow:!0},i=>{h(()=>{i&&i.length?e(i[0]):n.query({active:!0},n=>{h(()=>{e(n[0])},t)})},t)})})}getAllTabs(){return s.a.create((e,t)=>chrome.tabs.query({},n=>h(()=>e(n),t)))}getActiveTabUrl(){return s.a.create((e,t)=>this.getActiveTab().then(n=>h(()=>e(n&&n.url),t)))}onActiveTabChange(e,t){const n=n=>{h(()=>{n&&e(n)},t)};chrome.tabs.onActivated.addListener(e=>chrome.tabs.get(e.tabId,e=>n(e))),chrome.tabs.onUpdated.addListener((e,t)=>{this.getActiveTab().then(i=>{i&&i.id===e&&(t.url||t.favIconUrl||"complete"===t.status)&&chrome.tabs.get(e,e=>n(e))})}),chrome.windows.onFocusChanged.addListener(e=>chrome.tabs.query({active:!0,windowId:e,lastFocusedWindow:!0},e=>n(e[0]))),this.getActiveTab().then(e=>n(e))}tabUrlChange(){return new o.a(e=>{const t=(t,n,i)=>{"complete"===n.status&&e.next({id:t,url:i.url})};return chrome.tabs.onUpdated.addListener(t),()=>chrome.tabs.onUpdated.removeListener(t)})}reload(e){return s.a.create((t,n)=>{const i=()=>h(()=>t(),n);e?chrome.tabs.reload(e,{},i):chrome.tabs.reload(i)})}}var v=n(17);const _=()=>fetch(v.a().appConfig.url.pageConfigUrl,{credentials:"include"}).then(e=>e.ok?e.json():e.text().then(t=>{throw{name:"RequestError",body:t,statusCode:e.status,message:e.statusText}})).then(e=>{if("string"!=typeof e&&e&&e.error)throw new Error(e.error);return e});var y=n(291);n.d(t,"a",(function(){return O}));class w{constructor(e){this.port=chrome.runtime.connect({name:e})}onMessage(e){this.port.onMessage.addListener(e)}onDisconnect(e){this.port.onDisconnect.addListener(e)}postMessage(e){this.port.postMessage(e)}}class E{constructor(e){this._port=e,this.sender={};const{sender:t,name:n}=e;this.name=n,t&&(this.sender.url=t.url,t.tab&&t.tab.url&&t.tab.id&&(this.sender.tab={url:t.tab.url,id:t.tab.id}))}onMessage(e){this._port.onMessage.addListener(e)}onDisconnect(e){this._port.onDisconnect.addListener(e)}postMessage(e){this._port.postMessage(e)}}class x{constructor(e){this.alarms=new d,this.managedStorage=new f,this.tabs=new b,this.notification={kind:"web-extension",create:e=>s.a.create((t,n)=>{const i=chrome.notifications,s=Object(r.r)();i.create(s,Object.assign({type:"basic"},e),()=>{h(()=>{const e=new o.a(e=>{const t=t=>t===s&&e.next(t);return i.onClicked.addListener(t),()=>i.onClicked.removeListener(t)}),n=new o.a(e=>{const t=(t,n)=>t===s&&e.next({id:t,buttonIndex:n});return i.onButtonClicked.addListener(t),()=>i.onButtonClicked.removeListener(t)}),r=new o.a(e=>{const t=(t,n)=>t===s&&e.next({id:t,byUser:n});return i.onClosed.addListener(t),()=>i.onClosed.removeListener(t)});t({id:s,click:e,buttonClick:n,close:r})},n)})}),clear:e=>s.a.create((t,n)=>{chrome.notifications.clear(e,e=>{h(()=>t(e),n)})})},this.cookies={kind:"web-extension",get:e=>s.a.create((t,n)=>chrome.cookies.get(e,e=>h(()=>t(e),n))),remove:e=>new Promise((t,n)=>chrome.cookies.remove(e,()=>h(()=>t(null),n))),getAll:e=>s.a.create((t,n)=>chrome.cookies.getAll(e,e=>h(()=>t(e),n))),set:e=>s.a.create((t,n)=>chrome.cookies.set(e,e=>h(()=>t(e),n))),watch(e,t){chrome.cookies.onChanged.addListener(n=>{const{cookie:i,cause:r}=n;!i||!i.name||e.path&&e.path!==i.path||e.name!==i.name||e.domain&&-1===i.domain.indexOf(e.domain)||("explicit"===r&&t(i),"expired_overwrite"===r&&t())})}},this.preferences=y.a.windowLocalStorage,this.button={kind:"web-extension",setBadge(e){chrome.browserAction.setBadgeText({text:e})},setIconByName(e){const t=e?"-"+e:"";chrome.browserAction.setIcon({path:{16:`./src/icon/icon16${t}.png`,32:`./src/icon/icon32${t}.png`}})},setBadgeBackgroundColor(e){chrome.browserAction.setBadgeBackgroundColor({color:e})}},this.management={uninstallSelf(){chrome.management.uninstallSelf()}},this._baseUrl=Object(a.p)(()=>chrome.extension.getURL(""),e=>null),this.fetchBlacklistConfig=()=>_(),this.getUrl=e=>this._baseUrl?this._baseUrl+e:chrome.extension.getURL(e),this.openUrl=e=>this.tabs.open(e,!0),this.openPopupSubscriptionDialog=e=>this.openUrl(Object(i.p)(e.utmSource,e.utmCampaign)),this.openSubscriptionDialog=e=>Object(c.b)(e),this.isExtensionUrl=(e,t)=>this.getUrl(e)===t,this.reload=()=>chrome.runtime.reload(),this.message=e?new m.a(e=>chrome.runtime.onConnect.addListener(t=>e(new E(t))),this.tabs.getActiveTab.bind(this.tabs),this.tabs.getAllTabs.bind(this.tabs)):new g.a(e=>new w(e))}}function O(e){return new x(e)}},function(e,t,n){"use strict";var i=n(108),r=n(169),o=n(84),s=function(e,t,n){(void 0===n||Object(o.a)(e[t],n))&&(void 0!==n||t in e)||Object(r.a)(e,t,n)},a=n(213),c=n(348),l=n(152),u=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new l.a(t).set(new l.a(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},d=n(211),h=n(157),p=n(128),f=function(e){return"function"!=typeof e.constructor||Object(p.a)(e)?{}:Object(d.a)(Object(h.a)(e))},m=n(99),g=n(27),b=n(322),v=n(82),_=n(86),y=n(31),w=n(52),E=n(46),x=Function.prototype,O=Object.prototype,S=x.toString,C=O.hasOwnProperty,j=S.call(Object),k=function(e){if(!Object(E.a)(e)||"[object Object]"!=Object(w.a)(e))return!1;var t=Object(h.a)(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==j},T=n(91),N=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},P=n(280),A=n(196),I=function(e,t,n,i,r,o,a){var l=N(e,n),d=N(t,n),h=a.get(d);if(h)s(e,n,h);else{var p=o?o(l,d,n+"",e,t,a):void 0,w=void 0===p;if(w){var E=Object(g.a)(d),x=!E&&Object(v.a)(d),O=!E&&!x&&Object(T.a)(d);p=d,E||x||O?Object(g.a)(l)?p=l:Object(b.a)(l)?p=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(l):x?(w=!1,p=Object(c.a)(d,!0)):O?(w=!1,p=u(d,!0)):p=[]:k(d)||Object(m.a)(d)?(p=l,Object(m.a)(l)?p=function(e){return Object(P.a)(e,Object(A.a)(e))}(l):Object(y.a)(l)&&!Object(_.a)(l)||(p=f(d))):w=!1}w&&(a.set(d,p),r(p,d,i,o,a),a.delete(d)),s(e,n,p)}},F=n(279),M=Object(F.a)((function(e,t,n){!function e(t,n,r,o,c){t!==n&&Object(a.a)(n,(function(a,l){if(c||(c=new i.a),Object(y.a)(a))I(t,n,l,r,e,o,c);else{var u=o?o(N(t,l),a,l+"",t,n,c):void 0;void 0===u&&(u=a),s(t,l,u)}}),A.a)}(e,t,n)}));t.a=M},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n(0),r=n(497),o=n(32);const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,a=(e,t)=>e.replace(s,e=>{const n=e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16);return`<img alt="${e}" src="${r.emojiLinkV1+n+".svg"}" class="${o.priority} ${o.emoji} ${t}" onerror="this.replaceWith(this.alt)">`}),c=e=>a(e,o.cardEmoji),l=e=>{var{children:t,emojiClassName:n}=e,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children","emojiClassName"]);const o=i.useCallback(e=>{null!==e&&(e.innerHTML=a(e.innerHTML,n))},[t]);return i.createElement("span",Object.assign({ref:o},r),t)}},,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.textChange=0]="textChange",e[e.alertUpdate=1]="alertUpdate"}(i||(i={}))},function(e,t,n){"use strict";var i=n(0),r=(n(38),n(9));n(10),n(16),n(341),i.Component,n(448),i.Component,n(121),n(45),n(22),n(247);var o=n(21);n(231),n(423),i.Component,n(449);var s=n(50);n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),i.createElement("svg",{className:s.listIcon,width:"15",height:"11",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M1.163 4.78l4.26 4.204 8.02-7.912",stroke:"#15C39A",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round"}));const a=({onClick:e,className:t,text:n})=>i.createElement(o.a,{clickHandler:e},i.createElement("button",{className:t,tabIndex:0},n)),c=({onClick:e,className:t})=>i.createElement(a,{onClick:e,className:Object(r.d)(s.fb,t),text:"Continue with Facebook"}),l=({onClick:e,className:t})=>i.createElement(a,{onClick:e,className:Object(r.d)(s.google,t),text:"Continue with Google"}),u=({onClick:e,className:t})=>i.createElement(a,{onClick:e,className:Object(r.d)(s.email,t),text:"Continue with Email"});i.Component},function(e,t,n){e.exports={buttonContainer:"_2uwmv",form:"eDAHU",buttonSpinner:"_3sznQ",button:"_3wlFL",loading:"_1XWTK",onboarding:"_12Rt8",isFb:"_24fYt",isGoogle:"_3hrF9",disable:"DsXX5"}},,function(e,t,n){"use strict";var i=n(77),r=n(46);t.a=function(e){return Object(r.a)(e)&&Object(i.a)(e)}},function(e,t,n){"use strict";var i=n(117),r=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},o=Math.max,s=function(e){return function(){return e}},a=n(171),c=a.a?function(e,t){return Object(a.a)(e,"toString",{configurable:!0,enumerable:!1,value:s(t),writable:!0})}:i.a,l=Date.now,u=function(e){var t=0,n=0;return function(){var i=l(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(c);t.a=function(e,t){return u(function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=o(i.length-t,0),c=Array(a);++s<a;)c[s]=i[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=i[s];return l[t]=n(c),r(e,this,l)}}(e,t,i.a),e+"")}},function(e,t,n){"use strict";var i=n(31),r=n(36),o=function(){return r.a.Date.now()},s=n(109),a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,h=function(e){if("number"==typeof e)return e;if(Object(s.a)(e))return NaN;if(Object(i.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(i.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||u.test(e)?d(e.slice(2),n?2:8):c.test(e)?NaN:+e},p=Math.max,f=Math.min;t.a=function(e,t,n){var r,s,a,c,l,u,d=0,m=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,i=s;return r=s=void 0,d=t,c=e.apply(i,n)}function _(e){var n=e-u;return void 0===u||n>=t||n<0||g&&e-d>=a}function y(){var e=o();if(_(e))return w(e);l=setTimeout(y,function(e){var n=t-(e-u);return g?f(n,a-(e-d)):n}(e))}function w(e){return l=void 0,b&&r?v(e):(r=s=void 0,c)}function E(){var e=o(),n=_(e);if(r=arguments,s=this,u=e,n){if(void 0===l)return function(e){return d=e,l=setTimeout(y,t),m?v(e):c}(u);if(g)return clearTimeout(l),l=setTimeout(y,t),v(u)}return void 0===l&&(l=setTimeout(y,t)),c}return t=h(t)||0,Object(i.a)(n)&&(m=!!n.leading,a=(g="maxWait"in n)?p(h(n.maxWait)||0,t):a,b="trailing"in n?!!n.trailing:b),E.cancel=function(){void 0!==l&&clearTimeout(l),d=0,r=u=s=l=void 0},E.flush=function(){return void 0===l?c:w(o())},E}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(47);function r(e,t){return{clientToRelative:n=>i.b.fromClientPoint(i.a.create(n),e,t)}}class o{constructor(e,t,n,i){this._getCurrentTextFieldClientPoint=e,this._getCurrentScrollPoint=t,this._getApproximateTextFieldClientPoint=n,this._getApproximateScrollPoint=i}getCurrentConversionContext(){return r(this._getCurrentTextFieldClientPoint(),this._getCurrentScrollPoint())}getApproximateConversionContext(){return r(this._getApproximateTextFieldClientPoint(),this._getApproximateScrollPoint())}}},,function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return(r?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),s="/"===r(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&s&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,c=0;c<s;c++)if(r[c]!==o[c]){a=c;break}var l=[];for(c=a;c<r.length;c++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===i&&(r=!1,i=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(217))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n(2),r=n(136),o=function(e){function t(t,n){void 0===t&&(t=s),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t,(function(){return i.frame}))||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return i.a(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,i=this.maxFrames;(t=n[0])&&t.delay<=i&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(n(134).a),s=function(e){function t(t,n,i){void 0===i&&(i=t.index+=1);var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.index=i,r.active=!0,r.index=t.index=i,r}return i.a(t,e),t.prototype.schedule=function(n,i){if(void 0===i&&(i=0),!this.id)return e.prototype.schedule.call(this,n,i);this.active=!1;var r=new t(this.scheduler,this.work);return this.add(r),r.schedule(n,i)},t.prototype.requestAsyncId=function(e,n,i){void 0===i&&(i=0),this.delay=e.frame+i;var r=e.actions;return r.push(this),r.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(r.a)},function(e,t,n){var i=n(591),r=n(596);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d}));var i=n(368),r=n(443),o=n(58),s=n(419),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c{constructor(e,t={dispatchInputEvent:!1}){this._target=e,this._options=t,this.exportContent=()=>a(this,void 0,void 0,(function*(){return{content:this._target.innerHTML,volatile:!1}})),this.importContent=e=>a(this,void 0,void 0,(function*(){this._target.innerHTML=e,this._options.dispatchInputEvent&&this._target.dispatchEvent(new Event("input",{bubbles:!0}))}))}}class l{constructor(e){this._opts=e,this._mediaType=this._opts.mediaType||"text/html",this._target=this._opts.target,this._afterSetSelection=this._opts.afterSetSelection||(e=>Promise.resolve()),this._reactCompat=void 0!==this._opts.reactCompat&&this._opts.reactCompat,this._possiblyVolatile=void 0!==this._opts.possiblyVolatile&&this._opts.possiblyVolatile,this._restoreSelection=void 0===this._opts.restoreSelection||this._opts.restoreSelection,this._skipClipboardDataCheckForCollapsedSelection=this._opts.skipClipboardDataCheckForCollapsedSelection||!1,this._selectAllText=e=>a(this,void 0,void 0,(function*(){e.focus();const t=Object(o.c)(e.ownerDocument,"owner document"),n=Object(o.c)(t.defaultView&&t.defaultView.getSelection(),"selection"),i=t.createRange();return i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),yield this._afterSetSelection(e),n.isCollapsed})),this.exportContent=()=>a(this,void 0,void 0,(function*(){const e=this._target.ownerDocument,t=this._restoreSelection&&e&&i.c.storeFrom(e);try{const n=yield this._selectAllText(this._target),r=new DataTransfer;this._target.dispatchEvent(new ClipboardEvent("copy",this._createClipEventInit(r)));const o=this._mediaType;if(!(this._skipClipboardDataCheckForCollapsedSelection&&n||r.types.includes(o)))throw new Error("Cannot find expected media type in clipboard");return{content:r.getData(o),volatile:this._possiblyVolatile}}finally{t&&e&&i.c.restoreTo(t,e)}})),this.importContent=e=>a(this,void 0,void 0,(function*(){yield this._selectAllText(this._target);const t=new DataTransfer;t.setData(this._mediaType,e),this._target.dispatchEvent(new ClipboardEvent("paste",this._createClipEventInit(t,this._mediaType,e)))}))}static createIfSupported(e,t){return s.a.isSupported(e)?new l(t):null}_createClipEventInit(e,t,n){return this._reactCompat?{target:this._target,clipboardData:e,dataType:t,data:n,bubbles:!0,cancelable:!0}:{target:this._target,clipboardData:e}}}class u{constructor(e,t=2,n=!1,i=!1){this._target=e,this._retryCount=t,this._asyncReplace=n,this._setFocus=i}exportContent(){return a(this,void 0,void 0,(function*(){return{content:this._target.innerHTML,volatile:!1}}))}importContent(e){return a(this,void 0,void 0,(function*(){const t=Object(o.c)(this._target.ownerDocument,"owner document").createRange();try{t.selectNodeContents(this._target),yield Object(i.e)(t,e,this._retryCount,"insertHTML",this._asyncReplace,this._setFocus?this._target:void 0)}finally{t.detach()}}))}}class d{constructor(e){this._target=e}exportContent(){return a(this,void 0,void 0,(function*(){return{content:this._target.value,volatile:!1}}))}importContent(e){return a(this,void 0,void 0,(function*(){Object(r.b)(this._target,null,e,!0)}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(42),r=n(151),o=n(62);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(i.a)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(o.a)([t].concat(e)),new r.a(n))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(2),r=n(44),o=n(298),s=n(11),a=n(95);function c(e,t){void 0===t&&(t=r.a);var n=Object(o.a)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new l(n,t))}}var l=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delay,this.scheduler))},e}(),u=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.delay=n,r.scheduler=i,r.queue=[],r.active=!1,r.errored=!1,r}return i.a(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,i=e.scheduler,r=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new d(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(a.a.createComplete()),this.unsubscribe()},t}(s.a),d=function(e,t){this.time=e,this.notification=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(131),r=n(78),o=n(166),s=n(132),a=n(165),c=n(101);function l(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?Object(r.a)((function(t,n){return e(t,n,l)})):c.a,Object(o.a)(1),n?Object(s.a)(t):Object(a.a)((function(){return new i.a})))}}},,function(e,t,n){"use strict";(function(e,i){var r,o=n(412);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var s=Object(o.a)(r);t.a=s}).call(this,n(159),n(198)(e))},,function(e,t,n){var i=n(495).textdiff,r=n(589),o=n(614),s={op:function(e){return(e=o(e)).len=e.text?e.text.length:0,e.toString=function(){return this.type+this.pos+":"+this.text},e.extend=function(t){return(e=r(o(this),t)).len=e.text.length,e},e.revision=function(e){return r(o(this),{accessory:e})},e.apply=function(t,n){if("+"==this.type){if(t.length!=this.tlen)throw new Error("Text length doesn't match expected length. It's most likely you have missed a transformation: expected:"+this.tlen+", actual:"+t.length);return n&&(this.pos<n.b&&(n.b+=this.text.length),this.pos<n.e&&(n.e+=this.text.length)),t.slice(0,this.pos)+this.text+t.slice(this.pos)}if("-"==this.type){if(t.length!=this.tlen)throw new Error("Text length doesn't match expected length. It's most likely you have missed a transformation: expected:"+this.tlen+", actual:"+t.length);if(t.substr(this.pos,this.len)!=this.text)throw new Error("Applying delete operation: Passed context doesn't match assumed context: "+JSON.stringify(e)+', actual context: "'+t.substr(this.pos,this.len)+'"');return n&&(this.pos<n.b&&(n.b-=Math.min(this.text.length,n.b-this.pos)),this.pos<n.e&&(n.e-=Math.min(this.text.length,n.e-this.pos))),t.slice(0,this.pos)+t.slice(this.pos+this.len)}if("="==this.type)return t},e.transformAgainst=function(e){if("+"==this.type&&"+"==e.type){var t=this.tlen+e.len;if(this.pos<e.pos)return this.extend({tlen:t});if(this.pos==e.pos&&this.accessory<e.accessory)return this.extend({tlen:t});if(e.pos<=this.pos)return this.extend({tlen:t,pos:this.pos+e.len})}else if("+"==this.type&&"-"==e.type){if(t=this.tlen-e.len,this.pos<e.pos)return this.extend({tlen:t});if(this.pos==e.pos)return this.extend({tlen:t});if(e.pos<this.pos)return this.extend({tlen:t,pos:Math.max(this.pos-e.len,e.pos)})}else if("-"==this.type&&"-"==e.type){if(t=this.tlen-e.len,this.pos<e.pos){var n=Math.min(e.pos-this.pos,this.len);return this.extend({tlen:t,text:this.text.substr(0,n)+this.text.substr(n+e.len)})}if(this.pos==e.pos)return this.len<=e.len?s.op({type:"="}):this.extend({tlen:t,text:this.text.substr(e.len)});if(e.pos<this.pos){var i=e.pos+e.len-this.pos;return i>=this.len?s.op({type:"="}):i>0?this.extend({tlen:t,pos:e.pos,text:this.text.substr(i)}):this.extend({tlen:t,pos:this.pos-e.len})}}else if("-"==this.type&&"+"==e.type){if(t=this.tlen+e.len,this.pos<e.pos){if(this.pos+this.len>e.pos){var r=e.pos-this.pos;return[this.extend({tlen:t,text:this.text.substr(0,r)}),this.extend({tlen:t,pos:e.pos+e.len,text:this.text.substr(r)})]}return this.extend({tlen:t})}if(this.pos==e.pos)return this.extend({tlen:t,pos:this.pos+e.len});if(e.pos<this.pos)return this.extend({tlen:t,pos:this.pos+e.len})}return this},e},cs:function(e){return(e=o(e.map((function(e){return o(e)})))).toString=function(){return this.map((function(e){return e.toString()})).join(" ")},e.push=function(t){t instanceof Array?t.forEach((function(t){[].push.call(e,t)})):[].push.call(e,t)},e.revision=function(t){return s.cs(e.map((function(e){return e.revision(t)})))},e.maxRevision=function(){return Math.max(0,Math.max.apply(null,e.map((function(e){return e.accessory}))))},e.apply=function(e,t){return this.sequencify().forEach((function(n){e=n.apply(e,t)})),e},e.transformAgainst=function(e){var t=s.cs([]);return e=e.sequencify(),this.forEach((function(n){e.forEach((function(e){n=n.transformAgainst(e)})),t.push(n)})),t},e.sequencify=function(e){var t=s.cs([]);return this.forEach((function(e){"="!=e.type&&(t.forEach((function(t){e=e.transformAgainst(t)})),t.push(e))})),t},e.pack=function(){return this.filter((function(e){return"="!=e.type})).map((function(e){var t=e.text.replace(/%/g,"%25").replace(/:/g,"%3A"),n=e.pos.toString(36),i=e.tlen.toString(36),r=e.accessory.toString(36);return e.type+n+":"+i+":"+t+":"+r})).join("")},e},diff:function(e,t,n){n=n||0;var r=i(e,t),o=s.cs([]),a=e.length;return r.oldFragment&&o.push(s.op({type:"-",tlen:a,pos:r.from,text:r.oldFragment,accessory:n})),r.newFragment&&o.push(s.op({type:"+",tlen:a,pos:r.from,text:r.newFragment,accessory:n})),o},unpack:function(e){if(""==e)return s.cs([]);var t=e.match(/(\+|-)\w+?:\w+?:[^:]+?:\w+/g);if(!t)throw new Error("Cannot unpack invalid serialized changeset string");return s.cs(t.map((function(e){var t=e.substr(1).split(":");return s.op({type:e.substr(0,1),pos:parseInt(t[0],36),tlen:parseInt(t[1],36),text:t[2].replace(/%3A/gi,":").replace(/%25/g,"%"),accessory:parseInt(t[3],36)})})))}};try{e.exports=s}catch(e){}},function(e,t,n){"use strict";var i=n(58),r=n(365),o=n(124),s=n(148),a=n(48),c=n(93),l=n(151),u=n(204),d=n(147),h=n(130),p=n(12),f=n(47),m=n(116),g=n(421),b=n(66),v=n(187),_=n(70),y=n(301);function w(e,t,n=20,r=p.a.create("fluid/layout/createIframeContentBody")){e!==(t.contentDocument&&t.contentDocument.body)&&r.warn("target element is not the iframe's body -- not supported");const o=t.ownerDocument&&t.ownerDocument.defaultView,w=g.a.createShared(t),E=v.a.create(()=>{const n=f.a.create(t.getBoundingClientRect()),i=Object(b.f)(o.getComputedStyle(t)),r=o?{top:o.scrollY,left:o.scrollX}:{top:0,left:0},s={top:t.clientTop,left:t.clientLeft};return{position:f.c.getHighlightsPosition(n,r,s,i),clientPosition:f.a.create({top:e.clientTop,left:e.clientLeft}),width:t.contentWindow?t.contentWindow.innerWidth:0,height:t.contentWindow?t.contentWindow.innerHeight:0,padding:Object(b.f)(e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e):{})}},Object(s.a)(w||Object(a.b)(),w?b.l:b.i,...o?[Object(c.a)(o,"resize"),Object(c.a)(o,"keydown"),Object(c.a)(o,"mousedown")]:[],...t.contentWindow?[Object(c.a)(t.contentWindow,"resize"),Object(c.a)(t.contentWindow,"keydown"),Object(c.a)(t.contentWindow,"mousedown")]:[],Object(b.j)(t,n)),_.a),x=Object(i.c)(t.ownerDocument&&(t.ownerDocument.body.parentElement||t.ownerDocument.body),"view container"),O={textFieldRect:E,highlightsRect:E,scroll:v.a.create(()=>Object.assign(Object.assign({},f.b.create({left:t.contentWindow?t.contentWindow.scrollX:0,top:t.contentWindow?t.contentWindow.scrollY:0})),{width:t.contentDocument&&t.contentDocument.documentElement?t.contentDocument.documentElement.scrollWidth:0,height:t.contentDocument&&t.contentDocument.documentElement?t.contentDocument.documentElement.scrollHeight:0}),Object(s.a)(t.contentWindow?Object(c.a)(t.contentWindow,"scroll"):Object(a.b)(),Object(b.g)(e),(w||Object(a.b)()).pipe(Object(u.a)(b.k))),_.a),zIndex:Object(b.c)(e),highlightHeightOffset:0,container:x,getTranslationToCards:()=>({top:0,left:0})};return{highlights:O,gbutton:Object(b.a)(O),mouse:Object(l.b)(E.behavior,O.scroll.behavior,(e,t)=>({scroll:t,rect:m.a.create(Object.assign(Object.assign({},e.clientPosition),{width:e.width,height:e.height}))})).pipe(Object(d.a)(({rect:e,scroll:n})=>Object(y.a)(t,e,n)),Object(h.a)(_.a))}}var E,x,O=n(61),S=n(218),C=n(161),j=n(207),k=n(112),T=n(258),N=n(185),P=n(704),A=n(521),I=n(6);n.d(t,"a",(function(){return E})),(x=E||(E={})).contentEditable=(e=(e=>({})))=>({match:t=>{const n=e(t),{target:s=t.field,getCustomTarget:a}=n,c=a?a(s):s;if(null===c)return null;const{initialState:l=t.state,createReplacementService:u,createAlertProcessor:d,gbuttonMinimizeState:h,plainTextPopupEditor:p,name:f="generic contenteditable",validationRules:m=k.a.defaults,extraCondition:g=(()=>!0),matchCheckOverride:b,textMap:v={createFieldTextMap:N.a.create,popupEditorTextMapType:C.a.generic},expiration:_=j.a,createLayout:y,highlightGeometryProvider:w,customizations:E}=n,{createContentService:x,createTextObserver:T=(()=>new P.a(c,O.b.fromDiff,void 0,v.createFieldTextMap)),createPopupEditor:F=(()=>Object(S.a)(t,v.popupEditorTextMapType,p))}=n;return(b?b(c,t):Object(j.c)(c)&&g(t)&&Object(k.b)(t,m))?{targetField:c,matchExpires:_(c),execute:()=>{const e=A.a.decorate(()=>new r.a(c,t.pageContext.domain,y&&y(c)||new o.a(c),()=>t.createCheckingService(),Object(i.c)(t.app.card,"ctx.app.card"),F(),I.Atom.create(l),t.actions,Object(i.c)(t.app.notifications,"ctx.app.notifications"),t.gnar,t.felog,t.pageContext.config,t.isCurrentFocusedField,T(),u,x,d,void 0,h?()=>h:void 0,w,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,E),f,c);return n.onCreate&&n.onCreate(),{update(t){e.update(t)},dispose(){e.dispose(),n.onDispose&&n.onDispose()}}}}:null}}),x.iframe=(e=(e=>({})))=>({match:t=>{const n=e(t),{validationRules:s=k.a.defaults,createLayout:a,extraCondition:c=(()=>!0),expiration:l=j.a,getIsMatching:u=(e=>e),textMap:d={createFieldTextMap:N.a.create,popupEditorTextMapType:C.a.generic}}=n,h="IFRAME"===t.field.tagName?t.field:null,p=h&&h.contentDocument&&h.contentDocument.body,f=u((e,t,n)=>Object(k.b)(e,s)&&Object(j.c)(n));return h&&p&&f(t,h,p)&&c(t)?{targetField:p,matchExpires:l(h,p),execute:()=>A.a.decorate(()=>new r.a(p,t.pageContext.domain,a&&a()||new o.a(h,{overrideInternalLayoutImpl:w(p,h)}),()=>t.createCheckingService(),Object(i.c)(t.app.card,"ctx.app.card"),Object(S.a)(t,d.popupEditorTextMapType),I.Atom.create(t.state),t.actions,Object(i.c)(t.app.notifications,"ctx.app.notifications"),t.gnar,t.felog,t.pageContext.config,t.isCurrentFocusedField,new P.a(p,O.b.fromDiff,void 0,d.createFieldTextMap)),"generic iframe",p)}:null}}),x.textarea=(e=(e=>({})))=>({match:t=>{if("TEXTAREA"===t.field.tagName){const n=e(t),{mirrorContainer:i,expiration:r=j.e,validationRules:o=k.a.defaults,createLayout:s,createContentService:a}=n,{validate:c=(e=>Object(k.b)(e,o))}=n,l=t.field;return c(t)?{targetField:l,matchExpires:r(l),execute:()=>Object(T.b)(t,i,s&&s(l),a)}:null}return null}})},,function(e,t,n){e.exports={onboardingDialog:"_3XU5G",gr__onboarding_dialog_appear:"dV4PS",viewContainer:"_3ji7y",view:"_3Vx7z",windows:"_1C8_4",footer:"_2ifpl",hide:"rv_Jq",gr__onboarding_dialog_disappear:"_3Vg1Y",content:"_2GbNJ",gr__onboarding_dialog_content_disappear:"_3sEZ4",gr__onboarding_dialog_content_appear:"_1QD-u",btnClose:"HZNNa"}},function(e,t,n){e.exports={input:"jhCP1",experiment:"_3DnT7",label:"_39mSf",windows:"_3f2-O","input-regular":"_1pRbT","input-experiment":"KCIzQ",validation:"_3ceY5"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(14),r=n(44),o=n(139);function s(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.a),(!Object(o.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=r.a),new i.a((function(n){return n.add(t.schedule(a,e,{subscriber:n,counter:0,period:e})),n}))}function a(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(20),o=n(18);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingNotifier))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.buffer=[],i.add(Object(o.a)(i,n)),i}return i.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,i,r){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(2),r=n(44),o=n(11),s=n(55);function a(e){var t=arguments.length,n=r.a;Object(s.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var i=null;t>=2&&(i=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new c(e,i,o,n))}}var c=function(){function e(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),l=function(){this.buffer=[]},u=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=i,s.maxBufferSize=r,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==i||i<0,s.timespanOnly){var c={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(d,n,c))}else{var l={subscriber:s,context:a},u={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(p,n,l)),s.add(o.schedule(h,i,u))}return s}return i.a(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,i=n.length,r=0;r<i;r++){var o=n[r],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var i=t.shift();n.next(i.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,i={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(d,n,i))}},t.prototype.openContext=function(){var e=new l;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.a);function d(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function h(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,i=e.subscriber,r=e.scheduler,o=i.openContext();i.closed||(i.add(o.closeAction=r.schedule(p,n,{subscriber:i,context:o})),this.schedule(e,t))}function p(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(11);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.total))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return i.a(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(r.a)},function(e,t,n){"use strict";var i=n(324),r=n(31);t.a=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Object(r.a)(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),Object(i.a)(e,t,{leading:o,maxWait:t,trailing:s})}},function(e,t,n){"use strict";(function(e){var i=n(36),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r?i.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,i=a?a(n):new e.constructor(n);return e.copy(i),i}}).call(this,n(198)(e))},function(e,t,n){"use strict";var i=n(17),r=n(3),o=n(156);function s(e){return a.includes(e)}const a=new class{constructor(e){function t(e){return`Invalid pattern "${e}": "*" is allowed only at start and/or end position`}this._equal=new Set,this._prefix=[],this._suffix=[],this._infix=[];for(const n of e){const e=n.indexOf("*");if(-1===e)this._equal.add(n);else if(e===n.length-1)this._prefix.push(n.substring(0,e));else{if(0!==e)throw new Error(t(n));{const e=n.indexOf("*",1);if(-1===e)this._suffix.push(n.substring(1));else{if(e!==n.length-1)throw new Error(t(n));this._infix.push(n.substring(1,e))}}}}}includes(e){return this._equal.has(e)||this._prefix.some(t=>e.startsWith(t))||this._suffix.some(t=>e.endsWith(t))||this._infix.some(t=>e.includes(t))}}(["mail.google.com","translate.google.*","docs.google.com","web.whatsapp.com","facebook.com","outlook.*","linkedin.com","zendesk.*","youtube.com","twitter.com","messenger.com","*.slack.*","*canvas*","*instructure*","trello.com","editor.wix.com","quizlet.com","mail.yahoo.com","*.force.*","keep.google.com","vk.com","fanyi.baidu.com","app.bullhornstaffing.com","app.qa-world.com","calendar.google.com","papago.naver.com","wordcounter.net","blogger.*","wattpad.com","wordpress.com","amazon.*","smallseotools.com","create.kahoot.it","apps.rackspace.com","basecamp.com","varsitytutors.com","canva.com","fanyi.youdao.com","reverso.net","message.alibaba.com","*schoology*","*.blackboard.*","classroom.google.com","*upwork*","business.facebook.com","medium.com","mail.aol.com","workhub.transcribeme.com","github.com"]);var c=n(4),l=n(60),u=n(12);n.d(t,"a",(function(){return b}));const d=u.a.create("lib.tracking.telemetry"),h=.1,p=.05,f=.1,m=.01,g=.01;class b{constructor(e=c.l,t=c.l,n=c.l,a=c.l,u=!1,b=o.a.dummy,v=!1,_=c.l,y=c.l,w=(e=>m),E="firefox"!==i.a().bundleInfo.browser){this._sendFelog=e,this._sendFelogUsage=t,this._setUserId=n,this._setContainerId=a,this._sendUsageMetrics=u,this._perfMetrics=b,this._sendPerfMetrics=v,this._sendFelogEvent=_,this._sendFelogCrashLogs=y,this._getUsageMetricsRate=w,this._shouldSendEvents=E,this._perfMetricsThrottleTimeMs=6e4,this._prepareDataString=(e,t)=>{let n;try{n=JSON.stringify(t)}catch(t){n=`stringify fail: '${t}', '${t&&t.message}'`,d.warn(n,e)}return n},this._sendUsageMetricsSamplingRatio=this._getUsageMetricsRate(i.a().bundleInfo.browser),this.restoredBgConnection=e=>{this._send("cs.connection.bg.restored",r.a.INFO,{timeWithoutConnection:e})},this.initWithoutBgConnection=()=>{this._send("cs.connection.bg.disconnected",r.a.INFO)},this.fetchDefinitionsFail=()=>{this._send("cs.connection.api.definition.failed",r.a.WARN)},this.infinityCheckResetFail=e=>{this._send("cs.connection.infiniteCheck.failed",r.a.ERROR,{delay:e})},this.tooLongPageConfigInit=e=>{this._send("cs.pageConfig.init.exceeded",r.a.WARN,{initTime:e})},this.tooLongUserUpdateTime=e=>{this._send("bg.state.user.update.exceeded",r.a.WARN,{updateTime:e})},this.lostBgPageConnection=()=>{this._send("cs.gbutton.bgСonnection.lost",r.a.INFO)},this.restoreBgPageConnection=e=>{this._send("cs.gbutton.bgСonnection.restored",r.a.INFO,{time:e})},this.badCursorPosition=()=>{this._send("cs.editor.badCursorPosition",r.a.INFO)},this.cursorJump=()=>{this._send("cs.editor.cursorJump",r.a.WARN)},this.signinOpen=()=>{this._send("cs.signin.open",r.a.INFO)},this.signinClose=e=>{this._send("cs.signin.close",r.a.INFO,{openTime:e})},this.tabReloadClick=()=>{this._send("cs.gbutton.reload.click",r.a.WARN)},this.popupLoadError=(e,t)=>{this._send("cs.popup.load.error",r.a.ERROR,{message:e,name:t})},this.loginNoBgPageConnection=e=>{this._send("debug.cs.connection.signin.bg.timeout",r.a.INFO,{message:e})},this.dynamicConfigLoadFromPrefsError=e=>{this._sendSampled(g,"bg.dynamicConfig.prefs.load.error",r.a.ERROR,{message:e})},this.dynamicConfigSaveToPrefsError=e=>{this._sendSampled(g,"bg.dynamicConfig.prefs.save.error",r.a.ERROR,{message:e})},this.dynamicConfigLoadFromServerError=e=>{this._sendSampled(g,"bg.dynamicConfig.server.load.error",r.a.ERROR,{message:e})},this.pageConfigCDNError=e=>{this._send("cs.pageConfig.cdn.error",r.a.ERROR,{message:e})},this.pageConfigLocalStorageError=(e,t)=>{this._send("cs.pageConfig.localStorage.error",r.a.INFO,{message:e,name:t})},this.pageConfigUpdated=(e,t)=>{this._send("cs.pageConfig.updated",r.a.INFO,{oldVersion:e,newVersion:t})},this.settingsPopupTimeout=()=>{this._send("settings.popup.init.timeout",r.a.WARN)},this.settingsUsupportedShow=e=>{this._send("settings.popup.state.unsupported.show",r.a.INFO,{popupType:e})},this.socketBgError=()=>{this._send("bg.socket.error",r.a.WARN)},this.capiNotAuthorizedLoop=(e,t)=>{this._send("debug.socket.notAuthorizedLoop",r.a.INFO,{authDegradation:e,cookiesDisabled:t})},this.socketDisabledCookie=()=>{this._send("debug.socket.disabledCookies",r.a.INFO)},this.socketBgRestored=e=>{this._send("debug.bg.socket.restored",r.a.INFO,{tryCount:e})},this.socketBgReconnectFail=(e,t)=>{this._send("bg.socket.reconnect.fail",r.a.WARN,{token:e,tryCount:t})},this.socketCsError=()=>{this._send("cs.socket.error",r.a.WARN)},this.soketCsErrorMsg=e=>{this._send("cs.socket.errorMsg",r.a.WARN,{message:e})},this.gnarClientInitFail=e=>{this._send("gnar.bg.tracking.gnar.init.fail",r.a.WARN,{message:e})},this.bgTrackingInitFail=()=>{this._send("debug.tracking.init.fail",r.a.INFO)},this.gnarSpecUndefinedInit=()=>{this._send("debug.tracking.gnar.spec.init.fail",r.a.INFO)},this.userUpgradeClick=e=>{this._send("cs.ui.action.upgradeClick",r.a.INFO,{placement:e})},this.gButtonClick=()=>{this._send("cs.ui.gbutton.click",r.a.INFO)},this.checkingToggledInField=e=>{this._send("cs.ui.gbutton.toggleInField",r.a.INFO,{enabled:e})},this.unexpectedAnonymous=e=>{this._send("debug.bg.session.unexpectedAnonymous",r.a.INFO,e)},this.getDapiPropError=e=>{this._send("bg.connection.dapi.getProp.error",r.a.WARN,{statusCode:e})},this.setDapiPropError=e=>{this._send("bg.connection.dapi.setProp.error",r.a.WARN,{statusCode:e})},this.toggleExtensionDefs=e=>{this._send("bg.settings.definitions.toggle",r.a.INFO,{enabled:e})},this.toggleExtension=(e,t)=>{this._send("bg.settings.extension.toggle",r.a.INFO,{enabled:e,placement:t})},this.disableUntilNextVisit=()=>{this._send("cs.gbutton.disableUntilNextVisit",r.a.INFO)},this.disableButtonClick=()=>{this._send("cs.gbutton.disableButtonClick",r.a.INFO)},this.cookieOverflow=(e,t)=>{this._send("debug.bg.state.cookie.overflow",r.a.INFO,{size:e,biggestCookie:t})},this.externalChangePlan=()=>{this._send("bg.api.external.changePlan",r.a.INFO)},this.externalChangeDialect=()=>{this._send("bg.api.external.changeDialect",r.a.INFO)},this.externalChangeUser=()=>{this._send("bg.api.external.changeUsed",r.a.INFO)},this.externalLogout=()=>{this._send("bg.api.external.logout",r.a.INFO)},this.bgPageStartFail=(e,t)=>{this._send("bg.start.fail",r.a.ERROR,{message:e,stack:t})},this.acceptDataControl=()=>{this._send("bg.dataControl.accepted",r.a.INFO)},this.bgPageInitTimeout=e=>{this._send("bg.state.start.timeout",r.a.WARN,{initTime:e})},this.bgPageInitFail=e=>{this._send("bg.state.init.fail",r.a.ERROR,{initAttempts:e})},this.extensionUpdated=(e,t)=>{this._send("bg.state.updated",r.a.INFO,{currentVersion:e,previousVersion:t})},this.extensionUpdateFail=e=>{this._send("bg.state.update.fail",r.a.INFO,{previousVersion:e})},this.cannotGetInstallSource=()=>{this._send("bg.getSource.fail",r.a.WARN)},this.extensionInstall=e=>{this._send("bg.state.install",r.a.INFO,{source:e})},this.chromeForcedToUpdate=e=>{this._send("bg.chrome.forcedToUpdate",r.a.INFO,{newVersion:e})},this.chromeContentScriptLoadError=(e,t)=>{this._send("bg.chrome.cs.load.error",r.a.WARN,{message:e,type:t})},this.reloadNotificationShow=()=>{this._send("bg.ui.notification.tabsReload.show",r.a.WARN)},this.reloadNotificationClick=()=>{this._send("bg.ui.notification.tabsReload.click",r.a.INFO)},this.fetchUserFail=(e,t,n)=>{this._send("bg.user.fetch.fail",r.a.WARN,{body:t,statusCode:n,reason:e})},this.fetchMimicFail=(e,t)=>{this._send("bg.user.mimic.fail",r.a.WARN,{body:e,statusCode:t})},this.fetchStatsFail=(e,t)=>{this._send("bg.user.dapi.prop.stats.fail",r.a.WARN,{body:e,statusCode:t})},this.fetchCookieFail=()=>{this._send("bg.cookie.fail",r.a.WARN)},this.fetchSettingsFail=(e,t)=>{this._send("bg.user.settings.fail",r.a.WARN,{body:e,statusCode:t})},this.frequentCookieChanges=e=>{this._send("debug.cookie.onChange.error",r.a.INFO,{canceled:e})},this.initializePropFromDapi=e=>{this._send("bg.state.dapi.prop.initialize",r.a.INFO,{name:e})},this.onboardingPopupShow=()=>{this._send("cs.onboarding.popup.show",r.a.INFO)},this.onboardingPopupCancel=()=>{this._send("cs.onboarding.popup.cancel",r.a.INFO)},this.onboardingTutorialShow=()=>{this._send("cs.onboarding.tutorial.show",r.a.INFO)},this.onboardingVideoLoaded=()=>{this._send("cs.onboarding.tutorial.video.loaded",r.a.INFO)},this.incognitoInit=()=>{this._send("bg.incognito.init",r.a.INFO)},this.disabledCookiesInit=()=>{this._send("bg.cookie.disabled",r.a.INFO)},this.loginReminderPopupShow=()=>{this._send("cs.gbutton.popup.loginReminder.show",r.a.INFO)},this.delightfulMessagePopupShow=()=>{this._send("cs.gbutton.popup.delightfulMessage.show",r.a.INFO)},this.loginReminderBadgeShow=()=>{this._send("bg.state.user.loginReminder.enable",r.a.INFO)},this.proxyInit=()=>{this._sendSampled(p,"proxy.init",r.a.INFO)},this.proxyPortDisconnected=(e,t)=>{this._sendSampled(p,"proxy.disconnect",r.a.INFO,{port:e,error:t})},this.unhandledBgPageException=e=>{this._sendSampled(f,"bg.unhandledException",r.a.ERROR,{message:e.error?e.error.message:e.message})},this.unhandledBgPageRejection=e=>{this._sendSampled(f,"bg.unhandledRejection",r.a.ERROR,{message:null!=e.reason?"string"==typeof e.reason?e.reason:e.reason.message:void 0})},this.storageMigrationSucceeded=()=>{this._send("bg.storageMigration.success",r.a.INFO,{})},this.storageMigrationFailed=e=>{this._send("bg.storageMigration.failure",r.a.ERROR,{message:e&&e.message})},this.cardShowAction=()=>{this._sendSampled(h,"cs.editor.card.show",r.a.INFO)},this.cardHideAction=()=>{this._sendSampled(h,"cs.editor.card.hide",r.a.INFO)},this.cardReplacementAction=()=>{this._sendSampled(h,"cs.editor.card.replacement",r.a.INFO)},this.cardAddToDictAction=()=>{this._sendSampled(h,"cs.editor.card.addToDict",r.a.INFO)},this.cardIgnoreAction=()=>{this._sendSampled(h,"cs.editor.card.ignore",r.a.INFO)},this.synonymCardShowAction=e=>{this._sendSampled(h,"cs.editor.synonym.show",r.a.INFO,{notFoundCard:e})},this.synonymCardHideAction=e=>{this._sendSampled(h,"cs.editor.synonym.hide",r.a.INFO,{notFoundCard:e})},this.synonymReplacementAction=()=>{this._sendSampled(h,"cs.editor.synonym.replacement",r.a.INFO)},this.dictCardShowAction=()=>{this._sendSampled(h,"cs.editor.dict.show",r.a.INFO)},this.dictCardHideAction=()=>{this._sendSampled(h,"cs.editor.dict.hide",r.a.INFO)},this.errorBySendEmailData=()=>{this._send("cs.editor.emailData.send.error",r.a.WARN)},this.couldNotParseTransform=(e,t)=>{this._send("cs.cards.transforms.parse.error",r.a.WARN,{transformHTML:e,fallbackParseSuccessful:t})},this.disabledTabLoad=e=>{this._sendUsage("usage.loadOnDisabledTab",r.a.INFO,{accountType:e})},this.disabledTabByUserLoad=e=>{this._sendUsage("usage.loadOnDisabledByUserTab",r.a.INFO,{accountType:e})},this.initSession=(e,t,n,i,o)=>{this._sendUsage("usage.session.init",r.a.INFO,{isTopSite:s(e),accountType:t,fieldType:n,fieldSupported:i,integrationType:o})},this.cardFirstInteraction=(e,t)=>{this._sendUsage("usage.card.interaction",r.a.INFO,{accountType:e,fieldType:t})},this.gnar={nextPingDateWriteError:e=>this._send("bg.gnarTracker.nextPingDateWriteError",r.a.ERROR,{error:e}),nextPingDateReadError:e=>this._send("bg.gnarTracker.nextPingDateReadError",r.a.ERROR,{error:e}),sendError:e=>this._send("bg.gnarTracker.sendError",r.a.ERROR,{error:e}),trackBeforeSetUser:e=>this._send("bg.gnarTracker.trackBeforeSetUser",r.a.INFO,{millisSinceInit:e}),errorSetUser:e=>this._send("bg.gnarTracker.errorSetUser",r.a.ERROR,{error:e})},this.fluidGdocs={sidebarFail:Object(c.h)(e=>this._send("cs.gdocs.fluid.getSidebarFail",r.a.WARN,{type:e})),getFullTextFailed:Object(c.h)(e=>this._send("cs.gdocs.fluid.getFullTextFailed",r.a.INFO,{type:e})),pageToTextMapFail:Object(c.h)(()=>this._send("cs.gdocs.fluid.pageToTextMapFail",r.a.INFO)),nestedTablesAppearance:Object(c.h)(()=>this._send("cs.gdocs.fluid.nestedTablesAppearance",r.a.INFO)),mapTableIssue:Object(c.h)(e=>this._send("cs.gdocs.fluid.mapTableIssue",r.a.INFO,{type:e})),treeStructureFailure:Object(c.h)(()=>this._send("cs.gdocs.fluid.treeStructureFailure",r.a.INFO)),textFragmentMapFail:Object(c.h)(()=>this._send("cs.gdocs.fluid.textFragmentMapFail",r.a.INFO)),init:()=>this._send("cs.gdocs.fluid.init",r.a.INFO),getTextPerf:this._createPerfLogger("cs.gdocs.fluid.perf.getText",30),buildTextMapPerf:this._createPerfLogger("cs.gdocs.fluid.perf.textMap",30)},this.gdocs={initialGdocsDisable:()=>this._send("cs.gdocs.initialDisableSet",r.a.INFO),getInitialDocumentStateFailed:e=>this._send("cs.gdocs.state.getInitialFailed",r.a.INFO,{message:e}),localStateSwappedWithRemote:()=>this._send("cs.gdocs.state.localStateSwapped",r.a.INFO),revisionSwitched:()=>this._send("cs.gdocs.revisionsSwitched",r.a.INFO),noMatchForUnderline:()=>this._send("cs.gdocs.orphantUnderline.noMatchFoundByUnderine",r.a.INFO),noMatchFoundForId:()=>this._send("cs.gdocs.orphantUnderline.noMatchFoundById",r.a.INFO),replacementFailed:()=>this._send("cs.gdocs.replacementFailed",r.a.INFO),editingDisabledNotification:e=>this._send("cs.gdocs.notifications.editingDisabledBloodyBar",r.a.INFO,e&&Object.assign({hashedDocId:Object(l.d)()},e)),somethingWentWrongNotification:e=>this._send("cs.gdocs.notifications.somethingWentWrongButterBar",r.a.INFO,e&&Object.assign({hashedDocId:Object(l.d)()},e)),misplacedUnderlines:({collaborators:e,count:t})=>this._send("cs.gdocs.notifications.misplacedUnderlines",r.a.INFO,{collaborators:e,count:t,hashedDocId:Object(l.d)()}),documentOpen:({grammarlyEnabled:e})=>{this._send("cs.gdocs.notifications.documentOpen",r.a.INFO,{hashedDocId:Object(l.d)(),grammarlyEnabled:e})},injectedSciptRollback:e=>this._send("cs.gdocs.injectedScriptsRollback",r.a.INFO,{reason:e}),emptyResponseCrash:()=>this._send("cs.gdocs.emptyResponseCrash",r.a.INFO)},this.performance={processInput:this._createPerfLogger("cs.fluid.processInput",100),processAlerts:this._createPerfLogger("cs.fluid.processAlerts",10),csInitialized:(e,t,n)=>{this._sendPerfMetrics&&this._sendEvent({logger:"cs.initialized",level:r.a.INFO,ex_csInitPerf:{loadTime:e,initTime:t,error:n}})}},this.autocorrect={responseTime:this._createPerfLogger("cs.autocorrect.responseTime",10),predictTime:this._createPerfLogger("cs.autocorrect.predictTime",10)},this.capiClient={responseTime:this._createPerfLogger("cs.capi.responseTime",10)},this.oauthExchangeError=e=>{this._send("bg.oauth.exchange.error",r.a.ERROR,{message:e})}}_send(e,t,n){if(!1===this._shouldSendEvents)return;const i=this._prepareDataString(e,n);try{this._sendFelog(e,void 0,t,null!=n?{json:i}:void 0)}catch(t){d.warn(`Failed to send felog for ${e}: '${t&&t.message}'`,t)}}_sendEvent(e){if(!1!==this._shouldSendEvents)try{this._sendFelogEvent(e)}catch(t){d.warn(`Failed to send felog for ${JSON.stringify(e)}`,t)}}_sendUsage(e,t,n){if(this._sendUsageMetrics&&this._sendUsageMetricsSamplingRatio>Math.random())try{this._sendFelogUsage(e,"",t,n)}catch(t){d.warn(`Failed to send usage felog for ${e}: '${t&&t.message}'`,t)}}_sendSampled(e,t,n,i){e>Math.random()&&this._send(t,n,i)}_createPerfLogger(e,t=0){if(this._sendPerfMetrics){let n=[];const i=Object(c.o)(this._perfMetricsThrottleTimeMs,()=>{if(n.push(...this._perfMetrics.flushMeasures(e)),n.length>=t){const t=o.a.getStats(n);n=[],d.info(`sending perf stats for ${e}`,t),this._sendEvent({logger:e,level:r.a.INFO,ex_perfstats:t})}});return{dummy:!1,startMeasure:()=>{const t=this._perfMetrics.startMeasure(e);return{endMeasure(){try{t.endMeasure(),i()}catch(e){}}}},measure:t=>{const n=this._perfMetrics.measure(e,t);try{i()}catch(e){}return n},measureAsync:t=>{const n=this._perfMetrics.startMeasure(e);return t().then(e=>{try{n.endMeasure(),i()}catch(e){}return e})}}}return{dummy:!0,startMeasure:()=>({endMeasure:c.l}),measure:e=>e(),measureAsync:e=>e()}}sendCrashLogs(e,t){if(!1!==this._shouldSendEvents)try{this._sendFelogCrashLogs(t)}catch(t){d.warn(`Failed to send crash data data for ${e}: '${t&&t.message}'`,t)}}setUserId(e){this._setUserId(e)}setContainerId(e){this._setContainerId(e)}enableEventsSending(){this._shouldSendEvents=!0}disableEventsSending(){this._shouldSendEvents=!1}notificationShown(e){this._send("cs.notification.show",r.a.INFO,{type:e})}notificationHide(e){this._send("cs.notification.hide",r.a.INFO,{type:e})}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(17),r=n(150),o=n(121),s=n(189),a=n(4),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class l{nextPingDateWriteError(e){Object(o.a)().gnar.nextPingDateWriteError(JSON.stringify(e))}nextPingDateReadError(e){Object(o.a)().gnar.sendError(JSON.stringify(e))}sendError(e){Object(o.a)().gnar.sendError(JSON.stringify(e))}trackBeforeSetUser(e){Object(o.a)().gnar.trackBeforeSetUser(e)}}function u(e,t){var n;return c(this,void 0,void 0,(function*(){try{const o=yield function(e){return c(this,void 0,void 0,(function*(){const t=window.fetch.bind(window),n=e.bundleInfo.browser,i=e.appConfig.gnar,r="safari"===n?new s.CookieStorage(".grammarly.com"):"chrome"===n?new s.ChromeCookieStorage(i.url,i.domain):"firefox"===n?new s.ReadonlyWebExtensionsCookieStorage(i.url,i.domain):"edge"===n?new s.BackendStorage(t,i.url):Object(a.g)(n),o="firefox"===n||"safari"===n?[]:[new s.CookieStorage(i.domain),new s.LocalStorage,new s.MemoryStorage],c=new s.ContainerIdManager(r,o,null,"chrome"===n?1e3:5e3);if("safari"===n){const e=c.key(),t=window.bgInitArgs,n=t&&t.companionContainerId;if(null==(yield r.safeGetValue(e))){const t=null==n?c.getOrGenerateContainerId():n;yield r.safeSetValue(e,t)}}return{gnar:new s.GnarClientImpl(i.url,i.appName,e.buildInfo.version,t,c,new l,!0)}}))}(i.a());return r.a.gnar=o.gnar,null===(n=r.a.gnar)||void 0===n||n.setUserGetter(t),new e(o.gnar)}catch(e){return void Object(o.a)().gnarClientInitFail(e&&e.message)}}))}const d=()=>c(void 0,void 0,void 0,(function*(){try{return r.a.gnar?yield r.a.gnar.getContainerId():void 0}catch(e){return}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var i=n(201),r=n(203);class o{constructor(e){this._target=e}setSelection(e,t){const n=i.b.createRange(e,Math.min(t.start,t.end),Math.max(t.start,t.end),!0),r=this._target.ownerDocument&&this._target.ownerDocument.getSelection();r&&(r.removeAllRanges(),n&&r.addRange(n))}getCurrentSelection(e,t=!1){const n=this._target.ownerDocument&&this._target.ownerDocument.getSelection(),i=n&&n.rangeCount>0?n.getRangeAt(0):null;return null!==i&&null!==n&&("Range"===n.type||"Caret"===n.type&&this._target.contains(n.anchorNode)&&this._target.contains(i.startContainer)&&this._target.contains(i.endContainer))?t&&i.endContainer!==i.startContainer&&i.endContainer.contains(i.startContainer)&&Object(r.c)(i.startContainer)?c({startContainer:i.startContainer,startOffset:i.startOffset,collapsed:n.isCollapsed,endContainer:i.startContainer,endOffset:i.startContainer.nodeValue?i.startContainer.nodeValue.length:i.endOffset},e,!1):c({startContainer:i.startContainer,startOffset:i.startOffset,collapsed:n.isCollapsed,endContainer:i.endContainer,endOffset:i.endOffset},e,!0):null}}class s{constructor(e){this._target=e}setSelection(e,t){this._target.setSelectionRange(Math.min(t.start,t.end),Math.max(t.start,t.end))}getCurrentSelection(e){return this._target.ownerDocument&&this._target.ownerDocument.activeElement===this._target?{start:Math.min(this._target.selectionStart,this._target.selectionEnd),end:Math.max(this._target.selectionStart,this._target.selectionEnd)}:null}}function a(e,t,n){const i=e.getFragmentsByNode(t);if(i){let e=0,t=i[e],r=null;for(;t;){if(!(t.startOffsetInNode<n&&t.endOffset-t.startOffset+t.startOffsetInNode<n)){r=t.startOffset+(n-t.startOffsetInNode);break}t=i[e++]}return r}return null}function c(e,t,n){const i=a(t,e.startContainer,e.startOffset);if(e.collapsed)return n&&null!==i?{start:i,end:i}:null;{const n=a(t,e.endContainer,e.endOffset);return null!==i&&null!==n?{start:i,end:n}:null}}},,,function(e,t,n){"use strict";var i=n(276);function r(e,t){return e[t]<<8|e[t+1]}e.exports={hash:function(e){var t,n=i.toU8IntArray(e+""),o=0;if(!e)return o.toString(16);var s=n.length,a=0;t=3&s,s>>>=2;for(var c=0;c<s;c++)o=(o+=r(n,a))<<16^r(n,a+2)<<11^o,a+=4,o+=o>>11;switch(t){case 3:o+=r(n,a),o^=o<<16,o^=n[a+2]<<18,o+=o>>11;break;case 2:o+=r(n,a),o^=o<<11,o+=o>>17;break;case 1:o+=n[a],o^=o<<10,o+=o>>1}return o^=o<<3,o+=o>>5,o^=o<<4,o+=o>>17,o^=o<<25,o+=o>>6,i.intToUnsignedHex(o)}}},function(e,t,n){"use strict";var i=n(276);function r(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function o(e,t){return e<<t|e>>>32-t}function s(e){return e=r(e^=e>>>16,2246822507),(e=r(e^=e>>>13,3266489909))^e>>>16}function a(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function u(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function h(e){return e=d(e,[0,e[0]>>>1]),e=d(e=c(e,[4283543511,3981806797]),[0,e[0]>>>1]),d(e=c(e,[3301882366,444984403]),[0,e[0]>>>1])}var p=function(e,t){e=""+e||"";var n=i.toU8IntArray(e);t=t||0;for(var r=(e={charCodeAt:function(e){return n[e]},length:n.length}).length%16,o=e.length-r,s=[0,t],p=[0,t],f=[0,0],m=[0,0],g=[2277735313,289559509],b=[1291169091,658871167],v=0;v<o;v+=16)f=[255&e.charCodeAt(v+4)|(255&e.charCodeAt(v+5))<<8|(255&e.charCodeAt(v+6))<<16|(255&e.charCodeAt(v+7))<<24,255&e.charCodeAt(v)|(255&e.charCodeAt(v+1))<<8|(255&e.charCodeAt(v+2))<<16|(255&e.charCodeAt(v+3))<<24],m=[255&e.charCodeAt(v+12)|(255&e.charCodeAt(v+13))<<8|(255&e.charCodeAt(v+14))<<16|(255&e.charCodeAt(v+15))<<24,255&e.charCodeAt(v+8)|(255&e.charCodeAt(v+9))<<8|(255&e.charCodeAt(v+10))<<16|(255&e.charCodeAt(v+11))<<24],f=l(f=c(f,g),31),s=a(s=l(s=d(s,f=c(f,b)),27),p),s=a(c(s,[0,5]),[0,1390208809]),m=l(m=c(m,b),33),p=a(p=l(p=d(p,m=c(m,g)),31),s),p=a(c(p,[0,5]),[0,944331445]);switch(f=[0,0],m=[0,0],r){case 15:m=d(m,u([0,e.charCodeAt(v+14)],48));case 14:m=d(m,u([0,e.charCodeAt(v+13)],40));case 13:m=d(m,u([0,e.charCodeAt(v+12)],32));case 12:m=d(m,u([0,e.charCodeAt(v+11)],24));case 11:m=d(m,u([0,e.charCodeAt(v+10)],16));case 10:m=d(m,u([0,e.charCodeAt(v+9)],8));case 9:m=c(m=d(m,[0,e.charCodeAt(v+8)]),b),p=d(p,m=c(m=l(m,33),g));case 8:f=d(f,u([0,e.charCodeAt(v+7)],56));case 7:f=d(f,u([0,e.charCodeAt(v+6)],48));case 6:f=d(f,u([0,e.charCodeAt(v+5)],40));case 5:f=d(f,u([0,e.charCodeAt(v+4)],32));case 4:f=d(f,u([0,e.charCodeAt(v+3)],24));case 3:f=d(f,u([0,e.charCodeAt(v+2)],16));case 2:f=d(f,u([0,e.charCodeAt(v+1)],8));case 1:f=c(f=d(f,[0,e.charCodeAt(v)]),g),s=d(s,f=c(f=l(f,31),b))}return s=a(s=d(s,[0,e.length]),p=d(p,[0,e.length])),p=a(p,s),s=a(s=h(s),p=h(p)),p=a(p,s),("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)+("00000000"+(p[0]>>>0).toString(16)).slice(-8)+("00000000"+(p[1]>>>0).toString(16)).slice(-8)};e.exports={x86Hash32:function(e,t){e=""+e||"";var n=i.toU8IntArray(e);t=t||0;for(var a=(e={charCodeAt:function(e){return n[e]},length:n.length}).length%4,c=e.length-a,l=t,u=0,d=3432918353,h=461845907,p=0;p<c;p+=4)u=r(u=255&e.charCodeAt(p)|(255&e.charCodeAt(p+1))<<8|(255&e.charCodeAt(p+2))<<16|(255&e.charCodeAt(p+3))<<24,d),u=r(u=o(u,15),h),l=r(l=o(l^=u,13),5)+3864292196;switch(u=0,a){case 3:u^=(255&e.charCodeAt(p+2))<<16;case 2:u^=(255&e.charCodeAt(p+1))<<8;case 1:u=r(u^=255&e.charCodeAt(p),d),l^=u=r(u=o(u,15),h)}return((l=s(l^=e.length))>>>0).toString(16)},x86Hash128:function(e,t){e=""+e||"";var n=i.toU8IntArray(e);t=t||0;for(var a=(e={charCodeAt:function(e){return n[e]},length:n.length}).length%16,c=e.length-a,l=t,u=t,d=t,h=t,p=0,f=0,m=0,g=0,b=597399067,v=2869860233,_=951274213,y=2716044179,w=0;w<c;w+=16)p=255&e.charCodeAt(w)|(255&e.charCodeAt(w+1))<<8|(255&e.charCodeAt(w+2))<<16|(255&e.charCodeAt(w+3))<<24,f=255&e.charCodeAt(w+4)|(255&e.charCodeAt(w+5))<<8|(255&e.charCodeAt(w+6))<<16|(255&e.charCodeAt(w+7))<<24,m=255&e.charCodeAt(w+8)|(255&e.charCodeAt(w+9))<<8|(255&e.charCodeAt(w+10))<<16|(255&e.charCodeAt(w+11))<<24,g=255&e.charCodeAt(w+12)|(255&e.charCodeAt(w+13))<<8|(255&e.charCodeAt(w+14))<<16|(255&e.charCodeAt(w+15))<<24,p=o(p=r(p,b),15),l=o(l^=p=r(p,v),19),l=r(l+=u,5)+1444728091,f=o(f=r(f,v),16),u=o(u^=f=r(f,_),17),u=r(u+=d,5)+197830471,m=o(m=r(m,_),17),d=o(d^=m=r(m,y),15),d=r(d+=h,5)+2530024501,g=o(g=r(g,y),18),h=o(h^=g=r(g,b),13),h=r(h+=l,5)+850148119;switch(p=0,f=0,m=0,g=0,a){case 15:g^=e.charCodeAt(w+14)<<16;case 14:g^=e.charCodeAt(w+13)<<8;case 13:g=r(g^=e.charCodeAt(w+12),y),h^=g=r(g=o(g,18),b);case 12:m^=e.charCodeAt(w+11)<<24;case 11:m^=e.charCodeAt(w+10)<<16;case 10:m^=e.charCodeAt(w+9)<<8;case 9:m=r(m^=e.charCodeAt(w+8),_),d^=m=r(m=o(m,17),y);case 8:f^=e.charCodeAt(w+7)<<24;case 7:f^=e.charCodeAt(w+6)<<16;case 6:f^=e.charCodeAt(w+5)<<8;case 5:f=r(f^=e.charCodeAt(w+4),v),u^=f=r(f=o(f,16),_);case 4:p^=e.charCodeAt(w+3)<<24;case 3:p^=e.charCodeAt(w+2)<<16;case 2:p^=e.charCodeAt(w+1)<<8;case 1:p=r(p^=e.charCodeAt(w),b),l^=p=r(p=o(p,15),v)}return l^=e.length,l+=u^=e.length,l+=d^=e.length,u+=l+=h^=e.length,d+=l,h+=l,l=s(l),l+=u=s(u),l+=d=s(d),u+=l+=h=s(h),d+=l,h+=l,("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)},x64Hash64:function(e,t){return p(e,t).slice(8)},x64Hash128:p,hash:function(e,t){return p(e,t)}}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(14),r=n(62),o=n(48);function s(e,t){return new i.a((function(n){var i,s;try{i=e()}catch(e){return void n.error(e)}try{s=t(i)}catch(e){return void n.error(e)}var a=(s?Object(r.a)(s):o.a).subscribe(n);return function(){a.unsubscribe(),i&&i.unsubscribe()}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(20),o=n(18);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i.durationSubscription=null,i}return i.a(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(o.a)(this,t))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,i,r){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(148);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(i.a.apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(20),o=n(18);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var i=e;return t.lift(new a(i,n))}}var a=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.observables,this.project))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;r.observables=n,r.project=i,r.toRespond=[];var s=n.length;r.values=new Array(s);for(var a=0;a<s;a++)r.toRespond.push(a);for(a=0;a<s;a++){var c=n[a];r.add(Object(o.a)(r,c,c,a))}return r}return i.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.values[n]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(r.a)},,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));const i=e=>!e.field.hasAttribute("readonly"),r=e=>!e.field.hasAttribute("disabled");function o(e=35,t=300){return n=>n.field.clientHeight>=e&&n.field.clientWidth>=t}},,,function(e,t,n){"use strict";var i=n(93),r=n(118),o=n(360),s=n(37),a=n(4),c=n(12),l=n(307),u=n(720),d=n(216),h=n(499),p=n(64),f=n(41),m=n(458),g=n(148),b=n(215),v=n(172);class _{constructor(e,t,n,r,o,s,a,l){this._alertProcessor=e,this._checkingService=t,this._textObserver=n,this._textField=r,this._textFieldAttrs=o,this._setEmogenieReport=s,this._setCheckingStatus=a,this._setSiteSettings=l,this._log=c.a.create(_.name),this._textFieldFocusChanged=Object(g.a)(Object(i.a)(this._textField,"focus").pipe(Object(b.a)(!0)),Object(i.a)(this._textField,"blur").pipe(Object(b.a)(!1))).pipe(Object(v.a)()),this._textChangeBuffer=new m.a(this._textObserver.contentChanges.async,this._textFieldFocusChanged),this._subs=[this._sendTextToCheckingServiceOnTextChange(),this._processCheckingServiceMessages(),this._checkingService.checkingStatus.subscribe(e=>this._setCheckingStatus(e))],this._alertProcessor.registerRemoteRevision(this._checkingService.setText(this._textObserver.getCurrentTextMap().getPlainText()))}_setNativeSpellcheck(e){void 0!==e&&this._textFieldAttrs.setAttributes({spellcheck:e.toString()})}_sendTextToCheckingServiceOnTextChange(){return this._textChangeBuffer.output.subscribe(e=>{this._alertProcessor.registerRemoteRevision(this._checkingService.setText(this._textObserver.getCurrentTextMap().getPlainText()))})}_processCheckingServiceMessages(){return this._checkingService.messages.subscribe(e=>{try{e._tag===f.d.Type.add?this._alertProcessor.addAlert(e.alert):e._tag===f.d.Type.remove?this._alertProcessor.removeAlert(e.removedId):e._tag===f.d.Type.finished?this._setNativeSpellcheck(e.finished.nonEnglishText):e._tag===f.d.Type.emogenie?this._setEmogenieReport(e.emogenieReport):e._tag===f.d.Type.start?this._setSiteSettings({isEnterprise:e.isEnterprise,domainName:e.domainName}):Object(a.g)(e)}catch(e){this._log.error("error calling alert processor",e)}})}dispose(){this._subs.forEach(e=>e.unsubscribe())}}var y=n(151),w=n(204),E=n(299),x=n(402),O=n(83),S=n(6),C=n(69);class j{constructor(e,t){this._element=e,this._initialAttrs=t,this._log=c.a.create(j.name),this._backoffLimit=3,this._intendedAttrs=S.Atom.create(this._initialAttrs),this._subs=[this._maintainTextFieldAttrs()]}setAttributes(e){this._intendedAttrs.set(e)}_maintainTextFieldAttrs(){let e=0;return Object(y.b)(this._intendedAttrs,Object(g.a)(O.a.createUnsafe(this._element,{attributes:!0,attributeFilter:Object.keys(this._initialAttrs),subtree:!1,childList:!1}).pipe(Object(w.a)(C.a.hz4)),C.a.sec2.pipe(Object(E.a)(0)))).pipe(Object(x.a)(t=>e<this._backoffLimit)).subscribe(([t])=>{try{a.f.pairs(t).forEach(([e,t])=>{const n=this._element.attributes.getNamedItem(e);n&&n.value===t||(this._log.trace(`${e} is not ${t}, setting`),this._element.setAttribute(e,t))})}catch(t){e++,this._log.warn(`failed to maintain element attributes ${e} time(s)`,t)}})}dispose(){this._subs.forEach(e=>e.unsubscribe())}}var k,T,N=n(238),P=n(147),A=n(333),I=n(401),F=n(318),M=n(14),R=n(357);(T=k||(k={})).measure=e=>t=>new M.a(n=>t.subscribe(t=>e(()=>n.next(t)),e=>n.error(e),()=>n.complete())),T.using=(e,t)=>Object(R.a)(e,t),T.doNothing=e=>e;class D{constructor(e,t,n,i,r,o,a=c.a.create(D.name)){this._alertProcessor=e,this._highlights=t,this._alertFilter=n,this._textObserver=i,this._layout=r,this._felog=o,this._log=a,this._alertsToProcessOnFilterChange=this._alertFilter.pipe(Object(s.a)(e=>{const t=[],n=[];for(const e of this._alertProcessor.alerts.getAll())this._highlights.hasHightlight(e.id)?n.push(e):t.push(e);return{addedAlerts:t,updatedAlerts:n,removedAlerts:[],transformedAlerts:[]}})),this._subs=[this._updateAlertsOnTextChange(),this._updateHighlightsOnAlertChange()]}_addHighlightFor(e,t,n){this._highlights.addHighlight(e.id,L(e.highlightRange,n),t)}_updateHighlightFor(e,t,n){this._highlights.updateHighlight(e.id,L(e.highlightRange,n),t)}_updateHighlightsOnAlertChange(){const e=this._felog.processAlerts.dummy?k.doNothing:k.measure(this._felog.processAlerts.measure);return Object(g.a)(this._alertProcessor.alerts.changes,this._alertsToProcessOnFilterChange).pipe(e,Object(o.a)(this._alertFilter),Object(s.a)(([{addedAlerts:e,removedAlerts:t,transformedAlerts:n,updatedAlerts:i},r])=>({addedAlerts:e.filter(r),updatedAlerts:i.filter(r),transformedAlerts:n.filter(e=>{const t=this._alertProcessor.alerts.getAlertById(e.id);return!!t&&r(t)}),removedAlerts:[...t,...i.filter(e=>!r(e)).map(e=>({id:e.id,alert:e,reason:{_tag:F.a.alertUpdate}}))]}))).subscribe(e=>{try{for(const t of e.removedAlerts)this._highlights.removeHighlight(t.id)}catch(e){this._log.error("failed to remove highlights",e)}if(e.addedAlerts.length>0||e.updatedAlerts.length>0||e.transformedAlerts.length>0){const t=this._textObserver.getCurrentTextMap(),n=t.getPlainText();for(const i of e.addedAlerts)try{this._addHighlightFor(i,t,n)}catch(e){this._log.warn(`failed to add highlight for #${i.id}`,e)}for(const i of e.updatedAlerts)try{this._updateHighlightFor(i,t,n)}catch(e){this._log.error(`failed to update highlight for #${i.id}`,e)}for(const i of e.transformedAlerts)try{const e=this._alertProcessor.alerts.getAlertById(i.id);e&&this._updateHighlightFor(e,t,n)}catch(e){this._log.error(`failed to update highlight geometry for #${i.id}`,e)}}})}_updateAlertsOnTextChange(){return Object(g.a)(this._textObserver.contentChanges.immediate,this._textObserver.contentChanges.async.pipe(Object(P.a)(()=>this._layout.scroll.changes.pipe(Object(A.a)(),Object(I.a)(Object(N.a)(a.e.second)),Object(b.a)(null))))).pipe(this._felog.processInput.dummy?k.doNothing:k.measure(this._felog.processInput.measure)).subscribe(e=>{if(e){const t=Object(a.p)(()=>this._alertProcessor.onTextChanged(e.changes),e=>(this._log.warn("alertProcessor.onTextChanged failed",e),null));try{const n=this._textObserver.getCurrentTextMap(),i=t&&t.transformedAlerts.map(e=>this._alertProcessor.alerts.getAlertById(e.id)).filter(e=>null!==e)||[];try{this._highlights.maintainConsistency(i.map(e=>e.id),n)}catch(e){this._log.error("_updateHighlightsOnTextChange: error maintaining highlight consistency",e)}}catch(e){this._log.error("_updateHighlightsOnTextChange: failed on update/maintain",e)}}try{this._highlights.recalculateAllHighlights()}catch(e){this._log.error("_updateHighlightsOnTextChange: error recalculating highlights",e)}})}dispose(){this._subs.forEach(e=>e.unsubscribe())}}function L(e,t){return e.end-e.start==1&&"a"!==t.slice(e.start,e.end)?{start:e.start>0?e.start-1:e.start,end:e.end!==t.length?e.end+1:e.end}:e}var B,U,z=n(22),H=n(38),V=n(237),G=n(78),W=n(130),$=n(500),q=n(501);function Y(e){return e===B.TopRight||e===B.TopLeft}function K(e){return e===B.TopLeft||e===B.BottomLeft}!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight"}(B||(B={})),function(e){e.zero={gbuttonHidden:!1,normal:{bottom:0,right:0,anchor:B.BottomRight},flippedDown:{top:0,right:0,anchor:B.TopRight}}}(U||(U={}));const Q={onboarding:{maxHeight:190,normal:{bottom:13,right:0,anchor:B.TopRight},flippedDown:{top:13,right:0,anchor:B.BottomRight}},"loginReminder-unifiedFunnel":{maxHeight:400,normal:{bottom:-14,right:20,anchor:B.BottomLeft},flippedDown:{top:-25,right:20,anchor:B.TopLeft}},"loginReminder-free":{maxHeight:300,normal:{bottom:-14,right:20,anchor:B.BottomLeft},flippedDown:{top:-25,right:20,anchor:B.TopLeft}},"loginReminder-premium":{maxHeight:350,normal:{bottom:-14,right:20,anchor:B.BottomLeft},flippedDown:{top:-25,right:20,anchor:B.TopLeft}},disable:{maxHeight:240,gbuttonHidden:!0,normal:{bottom:0,right:0,anchor:B.BottomRight},flippedDown:{top:0,right:0,anchor:B.TopRight}},gdocsPopupUnavailable:{normal:{bottom:13,right:0,anchor:B.TopRight}},gdocsFeedbackUI:{gbuttonHidden:!0,maxHeight:500,normal:{bottom:0,right:-7,anchor:B.BottomRight},flippedDown:{top:0,right:-7,anchor:B.TopRight}},gdocsEnhancementsDialog:{gbuttonHidden:!0,normal:{bottom:0,right:-7,anchor:B.BottomRight}},dataControl:{maxHeight:210,normal:{bottom:13,right:0,anchor:B.TopRight},flippedDown:{top:13,right:0,anchor:B.BottomRight}},"gmail-pre-send-email-premium":{maxHeight:370,normal:{bottom:13,right:0,anchor:B.TopRight},flippedDown:{top:13,right:0,anchor:B.BottomRight}}};var X,J=n(575),Z=n(305);!function(e){e.showOnHover="showOnHover",e.disable="disable",e.opened="opened"}(X||(X={}));class ee{constructor(e,t,n,i,o){var s,a;this._csState=e,this._checkingStatus=t,this._alertCounts=n,this._clarityEnabled=i,this._gbuttonContainerOpts=o,this._gbuttonHovered=S.Atom.create(!1),this._expandedGButtonCloseSignal=new V.a(null),this._expandedGbuttonVisibleAtom=S.Atom.create(!1),this._currentSynonym=S.Atom.create(null),this._siteSettings=S.Atom.create({isEnterprise:!1}),this._popupState=this._gbuttonContainerOpts.gbuttonPopupState||S.Atom.create($.a.initial),this._popupType=this._popupState.lens("type"),this._gbuttonContainerState=S.Atom.create({hoverable:!0,visible:!0}),this._gbuttonState=S.Atom.combine(this._csState,this._checkingStatus,this._alertCounts,this._gbuttonHovered,this._expandedGbuttonVisibleAtom,this._popupState.view("type"),this._siteSettings,(e,t,n,i,r,o,s)=>{const a=Z.a.getType(e.user),c=e.user.experiments,l=a===Z.b.premium,u=this._clarityEnabled&&!l&&n.freeClarity>0;return Object.assign(Object.assign({},q.a.initial),{dataControl:e.connection.dataControl,errors:n,hovered:i,checking:t===f.e.inProgress,userType:a,shouldShowLoginReminderBadge:!u&&Boolean(e.page.showLoginReminder),experiments:c,offline:!e.connection.online,visible:!r&&"disable"!==o,clarityHiddenIfEnterprise:s.isEnterprise&&this._clarityEnabled&&!l&&n.hiddenClarity>0,edcBlocked:Z.a.isEdcBlocked(e.user),clarityVisible:u,siteSettings:s})}),this._loginReminderPopupState=S.Atom.create(this._csState.get().page.showLoginReminder?X.showOnHover:X.disable),this._synonymState=S.Atom.combine(this._csState.view("page","enabledDefs"),this._currentSynonym,(e,t)=>e?t:null),this._gbuttonContainerStateSub=Object(y.b)((s=this._gbuttonContainerOpts.gbuttonContainerHoverable,null!=s?s:Object(r.a)(!0)),Object(y.b)(this._popupState.view("type").view(e=>"none"!==e&&function(e){return!!Q[e].gbuttonHidden}(e)),(a=this._gbuttonContainerOpts.gbuttonContainerVisible,null!=a?a:Object(r.a)(!0)),this._gbuttonContainerOpts.isCurrentFieldFocused,(e,t,n)=>t&&n&&!e),(e,t)=>({hoverable:e,visible:t})).subscribe(e=>{this._gbuttonContainerState.set(e)}),this._expandedGButtonVisibleSub=Object(y.b)(this._expandedGButtonCloseSignal.pipe(Object(P.a)(e=>this._gbuttonState.view("hovered").pipe(Object(G.a)(e=>e),Object(E.a)(!1)))),this._popupState.view("type"),this._csState.view("connection","dataControl"),this._gbuttonState.view("edcBlocked"),this._gbuttonContainerOpts.expandGbuttonOnHover||Object(r.a)(!0),(e,t,n,i,r)=>"none"===t&&e&&n!==J.a.active&&!i&&r).pipe(Object(W.a)()).subscribe(e=>{this._expandedGbuttonVisibleAtom.set(e),this.updateGbuttonHover(!1)}),this._expandedGbuttonState=S.Atom.combine(this._gbuttonState,this._expandedGbuttonVisibleAtom,this._csState,(e,t,n)=>Object.assign(Object.assign({},e),{visible:t,showClarityNotification:!n.page.seenClarityNotification})),this._viewState=S.Atom.combine(this._gbuttonState,this._expandedGbuttonState,this._popupState,this._synonymState,this._gbuttonContainerState,(e,t,n,i,r)=>({gbutton:e,expandedGbutton:t,popup:n,synonym:i,gbuttonContainer:r})),this.viewState=this._viewState.view()}gbuttonClick(){"none"===this._popupType.get()&&this._csState.view("connection","dataControl").get()===J.a.active&&this._popupType.set("dataControl")}updatePopupState(e){this._popupState.set(e)}updatePopupType(e){this._popupType.set(e)}updateSynonymState(e){this._currentSynonym.set(e)}updateGbuttonHover(e){this._gbuttonHovered.set(e)}closeExpandedGbutton(){this._expandedGButtonCloseSignal.next(null)}getLoginReminderState(){return this._loginReminderPopupState.view()}setLoginReminderPopupState(e){this._loginReminderPopupState.set(e)}setSiteSettings(e){this._siteSettings.set(e)}dispose(){this._expandedGButtonVisibleSub.unsubscribe(),this._gbuttonContainerStateSub.unsubscribe()}}var te=n(191),ne=n(375),ie=n(166),re=n(403);const oe=c.a.create("VerbosePremiumService");var se;!function(e){e.Gmail="gmail",e.FreePremium="free-premium"}(se||(se={}));class ae{constructor(e,t,n,i,r,o,a,c,l){this._config=e,this._user=t,this._state=n,this._gbuttonExpanded=i,this._gbuttonMinimized=r,this._alertCounts=o,this._contentEligible=a,this._getText=c,this._gnar=l,this._subs=[],this._sendEmailPremiumPopupClosedSignal=new V.a(!1),this._replaceFreePremiumAlerts=new V.a(!1),this.actions={onClosePreSendEmailPopup:()=>{this._sendEmailPremiumPopupClosedSignal.next(!0)},onReplaceFreemiumAlerts:()=>{this._replaceFreePremiumAlerts.next(!0)}},this.isGmail=this._state.view(e=>/^mail\.google\.com$/.test(e.domain)),this._sendEmailVerbosePremiumGbuttonItemVisibleObs=this._createSendEmailVerbosePremiumObs(),this._freePremiumAlertVerbosePremiumVisibleObs=this._replaceFreePremiumAlerts.pipe(Object(G.a)(e=>!!e),Object(ie.a)(1),Object(s.a)(e=>({isVisible:e,source:se.FreePremium})));const u=S.Atom.create({isVisible:!1,source:se.Gmail});this._subs.push(this._createButtonVisibleObs().subscribe(e=>u.set(e))),this._buttonVisibility=u;const d=S.Atom.create({isVisible:!1,source:se.Gmail});this._subs.push(this._createGbuttonItemVisibleObs().subscribe(e=>d.set(e))),this._gbuttonItemVisibility=d,this.gbuttonState=S.Atom.combine(this._buttonVisibility,this._gbuttonItemVisibility,(e,t)=>({isEnabled:this._isEnabled(),isVisible:e.isVisible,isPlusBadgeVisible:t.isVisible,source:e.source})),this.expandedGbuttonState=this._gbuttonItemVisibility.view(e=>({isEnabled:this._isEnabled(),isVisible:e.isVisible,source:e.source}))}_createSendEmailVerbosePremiumObs(){return(this._isSendEmailPremiumPopupExperiment()?Object(y.b)(this._state.view(e=>ne.a.hasShownPopupRecently(e)).pipe(Object(ie.a)(1),Object(P.a)(e=>e?this._contentEligible:this._sendEmailPremiumPopupClosedSignal)),this.isGmail,(e,t)=>e&&t):Object(r.a)(!1)).pipe(Object(s.a)(e=>({isVisible:e,source:se.Gmail})))}_createGbuttonItemVisibleObs(){return Object(y.b)(Object(g.a)(this._sendEmailVerbosePremiumGbuttonItemVisibleObs,this._freePremiumAlertVerbosePremiumVisibleObs),this._alertCounts,(e,t)=>({isVisible:e.isVisible&&t.plus>0,source:e.source}))}_createButtonVisibleObs(){return Object(g.a)(this._sendEmailVerbosePremiumGbuttonItemVisibleObs.pipe(Object(G.a)(e=>e.isVisible),Object(ie.a)(1)),this._freePremiumAlertVerbosePremiumVisibleObs).pipe(Object(P.a)(e=>e.isVisible?Object(y.b)(Object(N.a)(a.e.seconds(5)).pipe(Object(b.a)(!1),Object(E.a)(!0)),this._gbuttonExpanded,this._gbuttonMinimized,this._alertCounts,(t,n,i,r)=>({isVisible:t&&!n&&!i&&r.plus>0,source:e.source})).pipe(Object(re.a)(e=>{e.isVisible&&(e.source===se.Gmail?this._gnar.gmailPopupGmailPremiumNotificationShow(this._getText().length,this._alertCounts.get().plus):this._gnar.premiumPreviewPremiumPreviewNotificationShow())})):Object(r.a)({isVisible:!1,source:se.Gmail})))}_isEnabled(){return this._isSendEmailPremiumPopupExperiment()||this._isInFreePremiumAlertExperiment()}_isSendEmailPremiumPopupExperiment(){return ne.a.isInExperiment(this._config,this._user.get())}_isInFreePremiumAlertExperiment(){const e=this._user.get();return Z.a.getType(e)!==Z.b.premium&&!!e.experiments&&e.experiments.freePremiumAlerts}dispose(){try{this._subs.forEach(e=>e.unsubscribe())}catch(e){oe.warn("Failed to dispose",e)}}}var ce=n(74),le=n(251);class ue{constructor(e,t,n,i,r,o,s,a,c,l,u,d,h){this._fieldIntegrationController=e,this._gnar=t,this._actions=n,this._state=i,this._emogenieService=r,this._felog=o,this._notifications=s,this._verbosePremiumService=a,this._editorId=c,this._domain=l,this._openPopupEditor=u,this._getCurrentAlerts=d,this._isGdocs=h,this._api=Object(ce.b)(),this.isUnifiedFunnelExperiment=()=>this._state.view("user").get().anonymous,this.isAnonUserPopupEditorExperiment=()=>{const e=this._state.view("user").get();return Z.a.getType(e)===Z.b.anonymous&&e.experiments&&e.experiments.anonUsersPopupEditor},this.onSynonymsRequested=e=>{this._fieldIntegrationController.updateSynonymState(e)},this.onSynonymsHidden=()=>{this._fieldIntegrationController.updateSynonymState(null)},this.showDisablePopup=()=>{this._gnar.disableButtonClick("gButton"),this._fieldIntegrationController.updatePopupState({type:"disable",domain:this._domain})},this.close=()=>{this._fieldIntegrationController.closeExpandedGbutton()},this.seenClarityNotification=()=>{this._actions.seenClarityNotification()},this.processGbuttonHover=()=>{const{page:e}=this._state.get(),t=this.isAnonUserPopupEditorExperiment();t&&this._fieldIntegrationController.getLoginReminderState().get()!==X.disable&&(this.closePopup(),this._fieldIntegrationController.setLoginReminderPopupState(X.disable));const n=this._fieldIntegrationController.getLoginReminderState().get(),i=e.loginReminderType===Z.b.premium,r=t?"none":n===X.showOnHover?i?"loginReminder-premium":"loginReminder-free":"none";"none"!==r&&(setTimeout(()=>this.openPopup(r),700),this._fieldIntegrationController.setLoginReminderPopupState(X.opened)),n===X.disable&&(this._fieldIntegrationController.updateGbuttonHover(!0),this._emogenieService.actions.hidePopup())},this.processGbuttonBlur=()=>{this._fieldIntegrationController.updateGbuttonHover(!1)},this.processGbuttonClick=()=>{this._fieldIntegrationController.gbuttonClick()},this.disableLoginReminder=()=>{this._actions.disableLoginReminder(),this.closePopup(),this._fieldIntegrationController.setLoginReminderPopupState(X.disable),this._gnar.loginReminderDoNotShowThisAgainButtonClick("loginReminder")},this.closeLoginReminder=()=>{this._gnar.loginReminderCloseButtonClick("loginReminder"),this.closePopup(),this._fieldIntegrationController.setLoginReminderPopupState(X.disable)},this.openSignInDialogFromLoginReminder=()=>{this.closePopup(),this._fieldIntegrationController.setLoginReminderPopupState(X.disable),this._api.beginOAuth?this._api.beginOAuth():this.isUnifiedFunnelExperiment()?this.openSigninPage():z.emitFocusedTab("show-dialog",{caller:"loginReminder",shouldOpenLoginView:!0})},this.uninstallExtension=this._actions.uninstallExtension,this.acceptDataControl=()=>{this._actions.acceptDataControl()},this.showOnboardingDialog=()=>{z.emitFocusedTab("show-dialog",{isOnboarding:!0}),this.closePopup()},this.closePopup=()=>{this._fieldIntegrationController.updatePopupType("none")},this.openPopup=e=>{this._fieldIntegrationController.updatePopupType(e)},this.showUnifiedLoginReminder=()=>{const{page:e}=this._state.get(),t=e.loginReminderType===Z.b.premium?"loginReminder-premium":"loginReminder-unifiedFunnel";this.openPopup(t)},this.onExpandedGButtonClick=(e,t)=>{const n=this._state.get().user.anonymous;n&&this._api.beginOAuth?this._api.beginOAuth():n&&this.isUnifiedFunnelExperiment()&&!this.isAnonUserPopupEditorExperiment()?this.showUnifiedLoginReminder():(this._openPopupEditor(null,null,te.a.gButton),this._gnar.gButtonClick(this._editorId,t,e,"gButton"),this._felog.gButtonClick())},this.openFeedbackPopup=()=>{this.openPopup("gdocsFeedbackUI"),this._gnar.feedbackPopupShow()},this.openPopupEditorFromInlineCard=e=>{this._openPopupEditor(e,null,te.a.card)},this.openPopupEditorFromSynonymCard=e=>{this._openPopupEditor(null,e,te.a.card)},this.openUpgradePage=(e,t,n)=>{this._api.openSubscriptionDialog({currentAlerts:this._getCurrentAlerts(),isAnonymousUser:e===Z.b.anonymous,showPlanComparison:!1,isFromEmail:!1}),this._gnar.getPremiumButtonClick("buttonHover",n,t),this._felog.userUpgradeClick("buttonHover")},this.disableOnTab=()=>{this._actions.disableOnTab(),this._gnar.disableUntilNextVisitButtonClick("disablePopup",this._isGdocs?le.a.gdocs:le.a.other),this._felog.disableUntilNextVisit(),this.closePopup(),this._notifications.showDisableOnTab()},this.disableSite=()=>{this._actions.toggleSite(!1,this._domain),this._gnar.checkingToggleClick("gButton",this._isGdocs?le.a.gdocs:le.a.other,"off"),this._felog.toggleExtension(!1,"gButton"),this.closePopup(),this._notifications.showDisable()},this.openEmogeniePopup=()=>this._emogenieService.actions.showPopupOnClick(),this.openEmogenieUpgradeHookPopup=()=>this._emogenieService.upgradeHook.actions.showPopupOnClick(),this.continueWithFacebook=()=>this.openSigninPage(Object(H.f)("signupHook")),this.continueWithGoogle=()=>this.openSigninPage(Object(H.h)("signupHook")),this.continueWithEmail=()=>this.openSigninPage(Object(H.m)("signupHook","extensionGButton")),this.openSigninPage=(e=Object(H.l)())=>{this._api.beginOAuth?this._api.beginOAuth():window.open(e),this.closePopup()},this.onClosePreSendEmailPremiumPopup=e=>{this._verbosePremiumService.actions.onClosePreSendEmailPopup(),this.closePopup(),this._gnar.gmailPopupGmailPremiumPopupClose(e)},this.openPlanComparisonPageFromPopup=()=>{this._api.openSubscriptionDialog({currentAlerts:this._getCurrentAlerts(),isAnonymousUser:Z.a.getType(this._state.get().user)===Z.b.anonymous,showPlanComparison:!0,isFromEmail:!0,forceUtmCampaign:"gmailPopUp"}),this._verbosePremiumService.actions.onClosePreSendEmailPopup(),this.closePopup(),this._gnar.gmailPopupGmailPremiumPopupLearnMoreButtonClick("popup")},this.openPlanComparisonPageFromVerbosePremium=(e,t)=>{const n={currentAlerts:this._getCurrentAlerts(),isAnonymousUser:Z.a.getType(this._state.get().user)===Z.b.anonymous,showPlanComparison:!0,isFromEmail:!0};e===se.FreePremium?(this._api.openSubscriptionDialog(n),this._gnar.premiumPreviewPremiumPreviewNotificationClick(t)):(this._api.openSubscriptionDialog(Object.assign(Object.assign({},n),{forceUtmCampaign:"gmailPopUp"})),this._gnar.gmailPopupGmailPremiumNotificationClick(t))},this.onClickUpgradeFromLockedPremiumAlerts=e=>{this._api.openSubscriptionDialog({currentAlerts:this._getCurrentAlerts(),isAnonymousUser:Z.a.getType(this._state.get().user)===Z.b.anonymous,showPlanComparison:!1,showSinglePlanComparisonPage:!0,isFromEmail:!1}),this._gnar.premiumPreviewPremiumPreviewUnlockClick(e)},this.onReplaceFreePremiumAlerts=()=>{this._verbosePremiumService.actions.onReplaceFreemiumAlerts(),this._gnar.premiumPreviewPremiumPreviewTransformClick()},this.clickClarityEnterpriseNotification=()=>{this._gnar.enterpriseSiteClarityNotificationClick(),window.open(Object(H.i)("clarityEnhancementsEnterprise"))},this.seenClarityEnterpriseNotification=()=>this._gnar.enterpriseSiteClarityNotificationShow(),this.clickEmogenieEnterpriseNotification=()=>{this._gnar.enterpriseSiteToneDetectorNotificationClick(),window.open(Object(H.i)("toneDetectorEnterprise"))},this.seenEmogenieEnterpriseNotification=()=>this._gnar.enterpriseSiteToneDetectorNotificationShow()}}var de=n(48),he=n(228),pe=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class fe{constructor(e,t,n,r,o,s,a,l,u,d){this._alertProcessor=e,this._alertCounts=t,this._contentService=n,this._selectionService=r,this._textObserver=o,this._textField=s,this._state=a,this._domain=l,this._popupEditorController=u,this._alertFilter=d,this._log=c.a.create(fe.name),this._currentSelection=null,this._subs=[(this._textField.ownerDocument?Object(i.a)(this._textField.ownerDocument,"selectionchange"):Object(de.b)()).pipe(Object(E.a)(null)).subscribe(e=>{try{this._textField.ownerDocument&&this._textField.ownerDocument.activeElement===this._textField&&(this._currentSelection=this._selectionService.getCurrentSelection(this._textObserver.getCurrentTextMap()))}catch(e){this._log.warn("failed to save cursor position",e)}})],this.openPopupEditor=(e,t,n,i,r)=>pe(this,void 0,void 0,(function*(){if(Z.a.getType(this._state.get().user)===Z.b.anonymous&&(n!==te.a.gButton||!r)){const e=this._alertCounts.get();return void z.emitFocusedTab("show-dialog",{totalErrors:e.popupEditorSupported})}he.a.instance.start();const o=t?{start:t.position,end:t.position+t.token.length}:this._currentSelection||{start:0,end:0},s={alerts:Array.from(this._alertProcessor.alerts.getAll()).filter(e=>p.a.isCapiAlert(e)&&this.isSupportedCapiAlert(e)),synonyms:t||void 0,selection:o,selectedAlertId:e,caller:n},a=(e,t)=>{const n=this._textObserver.getCurrentTextMap().getPlainText(),r={state:Object.assign({},e,{documentContent:n}),checkingService:i,errorMessage:t};this._popupEditorController.openUnsupportedPopupDialog(r)};if(null!==this._contentService)try{const e=yield this._contentService.exportContent();if("errorMessage"in e)return void a(s,e.errorMessage);const t={onPopupEditorClosed:t=>pe(this,void 0,void 0,(function*(){yield this._contentService.importContent(t.documentContent);try{this._selectionService.setSelection(this._textObserver.getCurrentTextMap(),t.selection)}catch(e){this._log.error(`failed to restore selection from popup editor (${t.selection.start}, ${t.selection.end})`,e)}Array.from(this._alertProcessor.alerts.getAll()).filter(this._alertFilter).forEach(e=>this._alertProcessor.removeAlert(e.id)),e.volatile||t.alerts.forEach(e=>this._alertProcessor.addAlert(e)),this._alertProcessor.registerRemoteRevision(i.setText(this._textObserver.getCurrentTextMap().getPlainText()))})),state:Object.assign({},s,{documentContent:e.content,selection:e.volatile?{start:e.content.length,end:e.content.length}:s.selection,alerts:e.volatile?[]:s.alerts}),checkingService:i,userProfile:this._state.view(me).get(),extDomain:this._domain};this._popupEditorController.openPopupEditor(t)}catch(e){this._log.error("not able to show the popup editor, open unsupported dialog instead",e),a(s)}else a(s)}))}isSupportedCapiAlert(e){return Object(d.b)(e)&&(this._popupEditorController.supports(te.b.vox)||e.group!==f.b.voxStyle)&&!e.isLockedPremium}dispose(){this._subs.forEach(e=>e.unsubscribe())}}function me(e){return{userId:e.user.id,dialect:e.page.dialectStrong||e.page.dialectWeak||"american",isFree:!e.user.premium}}var ge=n(0),be=n(273);class ve extends ge.Component{constructor(){super(...arguments),this._hideAnim=!1,this._sub=null,this.state={hovered:!1}}componentDidMount(){this._sub&&this._sub.unsubscribe(),this._sub=this.props.isHovered.subscribe(e=>{this.state.hovered!==e&&this.setState({hovered:e})})}componentWillUnmount(){this._sub&&this._sub.unsubscribe()}render(){return this.props.rects&&this.props.rects.length>0?ge.createElement(ge.Fragment,null,this.props.rects.map((e,t)=>ge.createElement("div",{key:t?this.props.baseKey+t:this.props.baseKey,onAnimationEnd:()=>{this._hideAnim=!0},style:{top:e.top,left:e.left,width:e.width,height:Math.max(0,e.height+this.props.heightOffset)},className:`${be.autocorrectHighlight} ${be.autocorrectApplied}`+(this.state.hovered?" "+be.hovered:"")+(this._hideAnim?" "+be.noAnimation:"")}))):null}}const _e=({highlights:e,alerts:t,highlightHeightOffset:n,getIsHovered:i})=>ge.createElement(S.F.Fragment,null,S.Atom.combine(e,t,(e,t)=>Object.keys(t).filter(n=>!!e[n]&&!!t[n]).map(n=>({alert:t[n],highlight:e[n]}))).view(e=>e.map(({highlight:e})=>ge.createElement(ve,{key:e.alertId,rects:e.rects,isHovered:i(e.alertId).pipe(Object(W.a)()),heightOffset:n,baseKey:e.alertId}))));var ye=n(32),we=n(316);class Ee extends ge.Component{componentDidMount(){this.props.actions.trackShowEmogenieButton()}render(){return ge.createElement("div",Object.assign({},Object(S.classes)(ye.emojiButtonWrapper,this.props.showAnimation&&ye.welcomeEmotionAnimation,this.props.isVisible?ye.emojiButtonShow:ye.emojiButtonHide)),ge.createElement(we.a,{className:ye.emojiPointer,onMouseEnter:()=>this.props.actions.showPopupOnHover()},this.props.emotion.emoji))}}var xe,Oe=n(332),Se=n(396),Ce=n(343),je=n(358),ke=n(395);!function(e){let t;!function(e){e.gbtn_to_checking="gbtn_to_checking",e.checking_to_gbtn="checking_to_gbtn",e.err_to_checking="err_to_checking",e.checking_to_err="checking_to_err",e.checking_1="checking_1",e.checking_2="checking_2",e.checking_3="checking_3",e.none="none"}(t=e.StepNames||(e.StepNames={})),e.checkDebounceTime=200;const n=[t.checking_1,t.checking_2,t.checking_3],i=e=>e===t.none;e.create=a=>{const c=S.Atom.create(t.none);return a.view("checking").pipe(Object(je.a)(()=>Object(N.a)(i(c.get())?e.checkDebounceTime:1e3)),Object(P.a)(t=>{const o=c.get(),a=i(o),l=n.indexOf(o),u=-1===l?1:l+1;return t?Object(Ce.a)(1e3).pipe(Object(s.a)(e=>e+(a?0:u+1)),Object(E.a)(a?-1:u)):Object(r.a)(null).pipe(Object(Oe.a)(1e3-e.checkDebounceTime))})).pipe(Object(o.a)(a.view("errors")),Object(P.a)(([e,i])=>null===e?Object(r.a)(i?t.checking_to_err:t.checking_to_gbtn).pipe(Object(ke.a)(Object(r.a)(t.none).pipe(Object(Oe.a)(1e3)))):Object(r.a)(-1===e?i?t.err_to_checking:t.gbtn_to_checking:n[e%n.length]))).subscribe(e=>{c.modify(n=>n!==t.none||e!==t.checking_to_err&&e!==t.checking_to_gbtn?e:n)}),c}}(xe||(xe={}));var Te=n(9),Ne=n(16);const Pe=e=>{return e.critical||" "};var Ae=n(60),Ie=n(140);const Fe=e=>{var t;const n=e.state,i=e.isPremiumSupported,r=n.userType===Z.b.premium,o=n.errors.critical,s=o>0&&!n.checking,a=n.offline,c=n.animationState||{},l=n.animationState&&!n.minimized,u=!n.verbosePremiumVisible&&!n.clarityHiddenIfEnterprise&&n.emogenieVisible&&n.siteSettings.isEnterprise&&!r,d=!n.verbosePremiumVisible&&(n.clarityHiddenIfEnterprise||n.clarityVisible&&!u),h=((e,t,n,i,r)=>r&&e&&!t&&n.plus>0||i)(r,s,n.errors,n.verbosePremiumVisible,i)&&!d&&!n.emogenieDotVisible,p=[Ie.gbutton,Object(Te.d)({[Ie.disabled]:n.disabled,[Ie.minimized]:n.minimized,[Ie.errors]:s,[Ie.has_errors]:o>0,[Ie.errors_100]:o>99,[Ie.offline]:a,[Ie.checking]:n.checking&&!a&&!l,[Ie[String(l&&c.stepName)]]:!a&&l&&c.isRunning,[Ie.errors_checking]:o>0&&!a&&l&&c.isRunning,[Ie.disableTransition]:l,[Ie.enableTransition]:!l,[Ie.plus_only]:h,[Ie.login_reminder]:n.shouldShowLoginReminderBadge,[Ie.clarity]:d,[Ie.emogenie]:u})].join(" "),f=Pe(n.errors),m=Object(Ae.i)()&&(null===(t=e.state.experiments)||void 0===t?void 0:t.gdocsPremiumInlineAlerts)?"Show enhancements":o?`Found ${o} ${Object(Ne.m)(o,["error","errors"])} in text`:"Protected by Grammarly",g=Object(Te.b)(e.inlineStyle||{});return ge.createElement("div",{style:g,className:p},ge.createElement("div",{className:Ie.transform_wrap},ge.createElement("div",{title:m,className:Ie.status},f)))},Me=({state:e,actions:t,isMinimizedBehavior:n,isPremiumSupported:i,zIndexBehavior:o,verbosePremiumVisible:a,emogenieDotVisible:c,emogenieVisible:l})=>{const u=e.view(e=>({checking:e.checking,errors:e.errors.critical>0})),d=e.view(e=>!!e.experiments&&(e.experiments.gButtonAnimation||e.experiments.fluidDogfood)).pipe(Object(P.a)(e=>e?xe.create(u):Object(r.a)(null)));return ge.createElement(S.F.div,Object.assign({style:{zIndex:o||void 0},onMouseLeave:()=>t.processGbuttonBlur(),onMouseEnter:()=>t.processGbuttonHover(),onClick:()=>t.processGbuttonClick()},Object(S.classes)(n.pipe(Object(s.a)(e=>e?Ie.wrapperMinimizedNewLayout:void 0)))),Object(y.b)(e,n,e.view(e=>e.checking).pipe(Object(Se.a)(xe.checkDebounceTime)),d.pipe(Object(s.a)(e=>e?{stepName:e,isRunning:e!==xe.StepNames.none}:null)),a,c||Object(r.a)(!1),l||Object(r.a)(!1),({offline:e,userType:t,errors:n,experiments:r,shouldShowLoginReminderBadge:o,dataControl:s,visible:a,clarityVisible:c,clarityHiddenIfEnterprise:l,edcBlocked:u,siteSettings:d},h,p,f,m,g,b)=>{const v=s===J.a.active||u;return a?ge.createElement(Fe,Object.assign({},{state:{disabled:v,offline:e,experiments:r,checking:p,userType:t,minimized:h,shouldShowLoginReminderBadge:o,errors:n,animationState:f,clarityVisible:c,clarityHiddenIfEnterprise:l,verbosePremiumVisible:m,emogenieDotVisible:g,siteSettings:d,emogenieVisible:b},isPremiumSupported:i,inlineStyle:{}})):null}).pipe(Object(E.a)(null)))};const Re=e=>{const{emotion:t,hideEmotion:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["emotion","hideEmotion"]),a=e.emotion.view(e=>e&&{name:e.name,emoji:e.emoji}).pipe(Object(W.a)((e,t)=>!!e&&!!t&&e.name===t.name)),c=(e,t)=>Object(r.a)(e).pipe(Object(Oe.a)(100),Object(E.a)(t));return ge.createElement(S.F.div,Object.assign({},Object(S.classes)(ye.emogenieWrapper,a.pipe(Object(s.a)(e=>e?ye.emogenieWrapperShow:void 0)),n.pipe(Object(s.a)(e=>e?ye.emogenieWrapperHide:void 0)))),a.pipe(Object(s.a)(e=>!!e&&ge.createElement(ge.Fragment,null,ge.createElement(S.F.div,Object.assign({key:"dot"},Object(S.classes)(ye.emogenieDot,c(ye.emogenieDotAnimation,ye.emogenieDotHide)))),ge.createElement(S.F.div,Object.assign({key:"emoji"},Object(S.classes)(ye.emogenieEmoji,c(ye.emogenieEmojiAnimation))),ge.createElement(we.a,null,e.emoji))))),ge.createElement(S.F.div,Object.assign({key:"gbutton"},Object(S.classes)(ye.emogenieGButton,a.pipe(Object(o.a)(n),Object(G.a)(([e,t])=>!t),Object(P.a)(([e])=>e?c(ye.emogenieGButtonAnimation):Object(r.a)(void 0))))),ge.createElement(Me,Object.assign({},i,{emogenieDotVisible:a.pipe(Object(s.a)(e=>!!e))}))))};var De;!function(e){e.like="like",e.dislike="dislike",e.none="none"}(De||(De={}));const Le=({value:e,onClick:t})=>ge.createElement("div",Object.assign({},Object(S.classes)(ye.checkbox,e&&ye.checkboxActive),{onClick:t})),Be=({onClick:e})=>ge.createElement("div",{className:ye.close,onClick:e}),Ue=({className:e,text:t})=>ge.createElement("span",Object.assign({},Object(S.classes)(e,ye.labelBeta)),t||"BETA"),ze=({text:e})=>ge.createElement("span",{className:ye.label},"GRAMMARLY TONE Detector ",ge.createElement(Ue,{className:ye.labelBetaWrapper,text:e})),He=({onClick:e,hasValue:t,isClickable:n,isDown:i})=>ge.createElement("div",Object.assign({},Object(S.classes)(ye.thumbsWrapper,i&&ye.thumbsIsDown,n&&ye.thumbsHovered,t&&ye.thumbsActive),{onClick:()=>n&&e()}),ge.createElement("svg",{className:ye.thumbs,width:"15",height:"13"},ge.createElement("path",{d:"M15 6v1.25c0 .19-.04.38-.11.55l-2.26 4.29c-.23.53-.76.91-1.38.91H5.5c-.83 0-1.5-.67-1.5-1.5V6c0-.41.17-.79.44-1.06L9.38 0l.79.79c.2.21.33.49.33.8l-.02.23L9.82 5H14c.55 0 1 .45 1 1zM1 5h1a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z"}))),Ve=e=>ge.createElement("span",{className:ye.tooltip},e.value),Ge=({report:e,actions:t,showClose:n,emotionsPoll:i,showEmoji:r,hideEmojiSetting:o,hideWelcomeNotification:s})=>ge.createElement("div",{className:ye.popupWrapper,onMouseLeave:()=>!n&&t.hidePopup()},ge.createElement("div",Object.assign({},Object(S.classes)(ye.popup,s?ye.popupHideNotification:ye.popupShowNotification)),ge.createElement("div",{className:ye.topIconsPannel},n&&ge.createElement(Be,{onClick:()=>t.hidePopup()})),!s&&ge.createElement("div",{className:ye.popupNotification},ge.createElement("div",{className:ye.popupContent},ge.createElement(ze,{text:"NEW"}),ge.createElement("span",{className:ye.popupSubTitle},"How do you want to sound?",ge.createElement("br",null),"Analyze your tone before you hit send!"))),ge.createElement("div",{className:ye.popupContent},s&&ge.createElement(ze,null),ge.createElement("span",{className:ye.popupTitle},"Here’s how your text sounds"),ge.createElement("span",{className:ye.popupSubTitle},e.emotions.length>1?"Which tones did we get right?":"Did we get it right?")),ge.createElement("div",{className:ye.popupEmotions},ge.createElement("div",{className:ye.emotionWrapper},e.emotions.map((e,n)=>{const r=i[e.name]===De.none||!i[e.name];return ge.createElement("div",{key:n,className:ye.emotion},ge.createElement(we.a,{className:ye.emotionEmoji},e.emoji),ge.createElement("span",{className:ye.emotionName},e.name),ge.createElement("div",{className:ye.emotionIntensity},ge.createElement("div",{className:ye.emotionIntensityWrapper},ge.createElement(Ve,{value:`${e.prevalence} intensity`}),Array.from(Array(5).keys()).map(t=>{const n=t/5<=e.confidence;return ge.createElement("div",Object.assign({key:t},Object(S.classes)(ye.emotionIntensityItem,n&&ye.emotionIntensityActive)))}))),ge.createElement("div",{className:ye.emotionPoll},ge.createElement(Ve,{value:"Tone is detected correctly"}),ge.createElement(He,{isClickable:r,hasValue:i[e.name]===De.like,onClick:()=>t.likeEmotion(e.name)})),ge.createElement("div",{className:ye.emotionPoll},ge.createElement(Ve,{value:"Tone is detected incorrectly"}),ge.createElement(He,{isDown:!0,isClickable:r,hasValue:i[e.name]===De.dislike,onClick:()=>t.dislikeEmotion(e.name)})))}))),ge.createElement("div",{className:ye.popupContent},!!e.recommendation&&ge.createElement("span",Object.assign({},Object(S.classes)(ye.popupText,ye.popupRecommendation)),e.recommendation)),!o&&ge.createElement("div",{className:ye.popupReportCheckbox,onClick:()=>t.setShowEmojiState(!r)},ge.createElement("span",{className:ye.checkboxWrapper},ge.createElement(Le,{value:r})),ge.createElement("span",{className:ye.popupText},"Always show emoji for detected tones")))),We=e=>ge.createElement(S.F.div,Object.assign({},Object(S.classes)(ye.wrapper,e.state.view("settings","showPopup").view(e=>e?ye.wrapperShow:ye.wrapperHide))),e.state.view(({settings:t,report:n,emotionsPoll:i})=>n&&Array.isArray(n.emotions)&&ge.createElement(Ge,{report:n,hideEmojiSetting:e.hideEmojiSetting,actions:e.actions,showClose:t.showClose,showEmoji:t.showEmoji,hideWelcomeNotification:t.hideWelcomeNotification,emotionsPoll:i})));class $e extends ge.Component{componentDidMount(){this.props.actions.trackEmojiShow()}render(){return ge.createElement("div",Object.assign({},Object(S.classes)(this.props.isVisible?ye.emojiButtonShow:ye.emojiButtonHide),{onMouseEnter:()=>this.props.actions.showPopupOnHover()}),ge.createElement(qe,null))}}const qe=()=>ge.createElement("div",Object.assign({},Object(S.classes)(ye.priority,ye.mouthless)));var Ye=n(21);const Ke=()=>ge.createElement("svg",{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ge.createElement("path",{d:"M1 8L5 12L16 1",stroke:"#15C39A",strokeWidth:"2"})),Qe=()=>ge.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ge.createElement("path",{d:"M12.9497 3.05025C15.6834 5.78392 15.6834 10.2161 12.9497 12.9497C10.2161 15.6834 5.78392 15.6834 3.05025 12.9497M12.9497 3.05025C10.2161 0.316582 5.78392 0.316582 3.05025 3.05025C0.316582 5.78392 0.316582 10.2161 3.05025 12.9497M12.9497 3.05025L3.05025 12.9497",stroke:"#EA1537",strokeWidth:"1.5"})),Xe=()=>ge.createElement("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ge.createElement("path",{d:"M0.5 0.5L6 6L0.5 11.5",stroke:"white",strokeLinecap:"round"}));var Je=n(113);const Ze=e=>ge.createElement(S.F.div,Object.assign({},Object(S.classes)(Je.wrapper,e.state.view("popupShow").view(e=>e?Je.wrapperShow:Je.wrapperHide))),S.Atom.combine(e.state,e.siteSetting,(t,n)=>ge.createElement(et,{actions:e.actions,siteName:n.domainName,showClose:t.showClose}))),et=({showClose:e,actions:t,siteName:n})=>ge.createElement("div",{className:Je.popupWrapper,onMouseLeave:()=>!e&&t.hidePopup()},ge.createElement("div",{className:Je.popup},e&&ge.createElement("div",{className:Je.topIconsPannel},ge.createElement(Be,{onClick:()=>t.hidePopup()})),ge.createElement("div",{className:Je.popupContent},ge.createElement("span",{className:Je.label},"GRAMMARLY TONE Detector"),ge.createElement("span",{className:Je.popupTitle},"Tone detection is only available for Premium users on"," ",n?ge.createElement("span",Object.assign({},Object(S.classes)(Je.popupTitle,Je.popupTitleHighlight)),n):"this site"),ge.createElement("div",{className:Je.comparison},ge.createElement("div",{className:Je.comparisonColumn},ge.createElement("span",{className:Je.comparisonTitle},"Premium"),ge.createElement("div",{className:Je.comparisonContent},ge.createElement(Ke,null),ge.createElement("span",{className:Je.comparisonSubtitle},"All sites"))),ge.createElement("div",{className:Je.comparisonColumn},ge.createElement("span",{className:Je.comparisonTitle},"Free"),ge.createElement("div",{className:Je.comparisonContent},ge.createElement(Qe,null),ge.createElement("span",Object.assign({},Object(S.classes)(Je.comparisonSubtitle,Je.comparisonSubtitleUnderline),{onMouseEnter:()=>t.trackHoverLimitedSite()}),"Limited sites"),ge.createElement("div",{className:Je.tooltip},"Tone detection is not included with a free Grammarly account on certain business websites and platforms.")))),ge.createElement(Ye.a,{clickHandler:()=>t.followCTA()},ge.createElement("button",{className:Je.button},ge.createElement("span",{className:Je.buttonText},"Get more with Premium"),ge.createElement(Xe,null))))));var tt=n(33),nt=n(76);const it=({count:e,type:t,label:n})=>{const i=e&&e>0?e:0,r=Object(S.classes)(nt.btn,nt["btn_"+t],i>0&&nt.counter,i>99&&nt.counter100);return ge.createElement("div",Object.assign({},r,{tabIndex:-1}),i>0?i:null,n||null)},rt=e=>ge.createElement("div",{className:nt.itemArea,onMouseOver:()=>{e.toolTip&&e.toolTip.subject.next({text:e.toolTip.text,type:e.type})},onMouseLeave:()=>{e.toolTip&&e.toolTip.subject.next(null)}},ge.createElement(Ye.a,{clickHandler:e.onClick||a.l},e.children)),ot=e=>ge.createElement(rt,Object.assign({},e),ge.createElement(it,Object.assign({},e)));class st extends ge.Component{constructor(e){super(e),this._timeout=null,this.state={displayNotification:!1}}componentDidMount(){this.props.showNotification&&(this._timeout=setTimeout(()=>{this.setState({displayNotification:!0}),this.props.seenNotification()},a.e.seconds(.3)))}componentWillUnmount(){null!==this._timeout&&clearTimeout(this._timeout)}render(){return ge.createElement(ge.Fragment,null,this.state.displayNotification?ge.createElement(at,null):null,ge.createElement(rt,Object.assign({},Object.assign(Object.assign({},this.props),{toolTip:!this.state.displayNotification&&this.props.toolTip||void 0})),ge.createElement(ge.Fragment,null,ge.createElement("span",{className:nt.clarity_text},this.props.text),ge.createElement(it,Object.assign({},this.props)))))}}const at=()=>ge.createElement(S.F.div,{className:nt.clarityNotification},ge.createElement("div",{className:nt.notificationNew},"NEW"),ge.createElement("span",{className:nt.notificationText},"Clarity suggestions make your writing easier to understand."));class ct extends ge.Component{componentDidMount(){this.props.seenNotification()}render(){const e=this.props.domainName||document.location.hostname;return ge.createElement("div",{className:nt.enterprise,onClick:this.props.onClick},ge.createElement("div",{className:nt.enterpriseWrapper},ge.createElement("span",{className:"clarityEnterprise"===this.props.type?nt.enterpriseClarityCircle:nt.enterpriseEmogenieCircle}),ge.createElement("span",{className:nt.enterpriseText},this.props.text," ",e.length>15?"this  site":e),ge.createElement("div",{className:nt.enterpriseArrow}),ge.createElement("span",{className:nt.line})))}}var lt=n(503);const ut=({count:e,type:t,scale:n=1})=>ge.createElement("div",{className:Object(Te.d)(lt.counter,lt[t]),style:{transform:`scale(${n})`}},e),dt=({count:e,scale:t})=>ge.createElement(ut,{count:e,scale:t,type:"premium"});var ht=n(275);const pt=({isVisible:e,count:t,openPlanComparisonPage:n,style:i})=>ge.createElement("div",{className:Object(Te.d)(ht.popupWrapper,e?ht.show:ht.hide),style:i},ge.createElement(mt,{count:t,openPlanComparisonPage:n,showArrow:!0})),ft=({count:e,openPlanComparisonPage:t})=>ge.createElement("div",{className:ht.expandedGbuttonWrapper},ge.createElement(mt,{count:e,openPlanComparisonPage:t,showArrow:!1})),mt=({count:e,openPlanComparisonPage:t,showArrow:n})=>ge.createElement("div",{className:ht.verbosePremium,onClick:t},ge.createElement("div",{className:ht.panel},ge.createElement(dt,{count:e})," Advanced ",e>1?"issues":"issue"," found",ge.createElement("div",{className:Object(Te.d)(ht.arrow,{[ht.arrowVisible]:n})},"▲"),ge.createElement("div",{className:ht.mask})));function gt(e){return e.pipe(Object(s.a)(e=>Object(Te.d)({[nt.tooltip]:!0,[nt.tooltip_visible]:!!e,[nt.tooltip_hidden]:!e},e?nt["tooltip_"+e.type]:null)))}function bt(e){const{state:t,isMinimized:n}=e,i=t.userType===Z.b.premium,r=t.userType===Z.b.anonymous;return Object(Te.d)({[nt.expanded]:!0,[nt.premium]:i,[nt.anonymous]:r,[nt.checking]:t.checking,[nt.critical]:!!t.errors.critical,[nt.plus]:!!t.errors.plus,[nt.minimized]:n})}class vt extends ge.Component{constructor(){super(...arguments),this._ref=null,this._onMount=e=>{this._ref!==e&&(null!=e&&(this._documentMouseMove=this.props.state.view("visible").pipe(Object(G.a)(e=>e),Object(P.a)(t=>(function(e){return Object(g.a)(...e.ownerDocument&&e.ownerDocument.defaultView?[Object(i.a)(e.ownerDocument.defaultView,"mousemove").pipe(Object(G.a)(t=>!!t.target&&!e.contains(t.target)),Object(G.a)(t=>t.target!==e.ownerDocument))]:[],...e.ownerDocument?[Object(i.a)(e.ownerDocument,"visibilitychange").pipe(Object(G.a)(t=>!!e.ownerDocument&&"visible"!==e.ownerDocument.visibilityState))]:[])})(e).pipe(Object(A.a)()))).subscribe(e=>{e&&this._closeExpandedAndDo(a.l)()})),null===e&&this._documentMouseMove&&this._documentMouseMove.unsubscribe(),this._ref=e)}}_closeExpandedAndDo(e){return()=>{this.props.actions.close(),e()}}render(){const{actions:e,isPremiumSupported:t,isGdocs:n}=this.props;return ge.createElement(S.F.div,{mount:this._onMount,onMouseLeave:()=>this._closeExpandedAndDo(a.l)()},Object(y.b)(this.props.state,this.props.isMinimizedBehavior,this.props.emogenieState,this.props.emogenieUpgradeHookButtonVisible,this.props.verbosePremiumState,(i,r,o,s,a)=>i.visible?ge.createElement(_t,Object.assign({},{state:i,isMinimized:r,emogenieState:o,emogenieUpgradeHookButtonVisible:s,isPremiumSupported:t,isGdocs:n,showDisablePopup:this._closeExpandedAndDo(e.showDisablePopup),openPopupEditor:this._closeExpandedAndDo(()=>e.onExpandedGButtonClick(i.errors.critical,i.errors.plus)),openFeedbackPopup:this._closeExpandedAndDo(()=>e.openFeedbackPopup()),openUpgradePage:this._closeExpandedAndDo(()=>e.openUpgradePage(i.userType,i.errors.critical,i.errors.plus)),openEmogeniePopup:this._closeExpandedAndDo(e.openEmogeniePopup),openEmogenieUpgradeHookPopup:this._closeExpandedAndDo(e.openEmogenieUpgradeHookPopup),seenClarityNotification:e.seenClarityNotification,clickClarityEnterpriseNotification:this._closeExpandedAndDo(()=>e.clickClarityEnterpriseNotification()),seenClarityEnterpriseNotification:e.seenClarityEnterpriseNotification,clickEmogenieEnterpriseNotification:this._closeExpandedAndDo(()=>e.clickEmogenieEnterpriseNotification()),seenEmogenieEnterpriseNotification:e.seenEmogenieEnterpriseNotification,showVerbosePremium:a.isEnabled&&a.isVisible,openPlanComparisonPage:this._closeExpandedAndDo(()=>e.openPlanComparisonPageFromVerbosePremium(a.source,"menu"))})):null))}}const _t=e=>{const{state:t,isPremiumSupported:n,showVerbosePremium:i,openPlanComparisonPage:o}=e,{errors:a}=t,c=e.state.userType===Z.b.anonymous?"Log in to enable personalized\nchecks and other features":"Edit in Grammarly",l=new tt.a,u=e=>({text:e,subject:l}),d=t.userType===Z.b.premium,h=function(e){return e.pipe(Object(P.a)(e=>e?Object(r.a)(e).pipe(Object(Oe.a)(1350)):Object(r.a)(e)),Object(E.a)(null))}(l),p=h.pipe(Object(s.a)(e=>e?e.text:"")),f=!e.isGdocs&&n&&a.plus>0&&(i||!t.clarityVisible),m=Pe(a),g="string"==typeof m?void 0:m,b=t=>{e.openPopupEditor()};return ge.createElement("div",{className:bt(e)},ge.createElement(S.F.div,{className:gt(h)},p),ge.createElement("div",{className:nt.panel},ge.createElement(ot,{type:"disable",toolTip:u("Disable on this website"),onClick:t=>{e.showDisablePopup()}}),ge.createElement("div",{className:nt.line}),e.isGdocs&&ge.createElement(ot,{key:"feedback",type:"feedback",onClick:t=>{e.openFeedbackPopup()},label:"Feedback"}),!i&&(t.clarityHiddenIfEnterprise?ge.createElement(ct,{type:"clarityEnterprise",text:"Go Premium for clarity suggestions on",domainName:t.siteSettings.domainName,seenNotification:e.seenClarityEnterpriseNotification,onClick:e.clickClarityEnterpriseNotification}):e.emogenieState.isVisibleInExpendedMenu||!e.emogenieState.prevalentEmotion||e.emogenieUpgradeHookButtonVisible||d||!t.siteSettings.isEnterprise?t.clarityVisible&&ge.createElement(st,{type:"clarity",toolTip:u("Edit in Grammarly"),count:e.state.errors.freeClarity,showNotification:e.state.showClarityNotification,seenNotification:e.seenClarityNotification,onClick:b,text:"Clarity enhancements"}):ge.createElement(ct,{type:"emogenieEnterprise",text:"Go Premium to check your tone on",domainName:t.siteSettings.domainName,seenNotification:e.seenEmogenieEnterpriseNotification,onClick:e.clickEmogenieEnterpriseNotification})),e.emogenieState.isVisibleInExpendedMenu&&e.emogenieState.prevalentEmotion&&ge.createElement(ot,{type:"emogenie",onClick:t=>{e.openEmogeniePopup()},label:ge.createElement(we.a,null,e.emogenieState.prevalentEmotion.emoji)})||e.emogenieUpgradeHookButtonVisible&&ge.createElement(ot,{type:"emogenieUpgradeHook",onClick:t=>{e.openEmogenieUpgradeHookPopup()},label:ge.createElement(qe,null)}),f&&(i?ge.createElement(ge.Fragment,null,e.emogenieState.prevalentEmotion&&ge.createElement("div",{className:Object(Te.d)(nt.line,nt.padLeft)}),ge.createElement(ft,{count:e.state.errors.plus,openPlanComparisonPage:o}),ge.createElement("div",{className:nt.line})):ge.createElement(ot,{type:"premium",count:e.state.errors.plus,toolTip:u(t.userType===Z.b.premium?"See advanced corrections":"Upgrade to make advanced corrections"),onClick:n=>{t.userType===Z.b.premium?e.openPopupEditor():e.openUpgradePage()}})),e.isGdocs?ge.createElement(ot,{type:"gdocsInfo",count:g,onClick:b}):ge.createElement(ot,{type:"grammarly",count:g,toolTip:u(c),onClick:b})))};var yt=n(398),wt=n(208),Et=n(561),xt=n(457),Ot=n(247),St=n(26),Ct=n.n(St);class jt extends ge.Component{constructor(){super(...arguments),this.cancel=()=>this.props.remove()}render(){return ge.createElement("div",{className:Object(Te.d)(St.gButtonPopup,St.disable,{[St.gdocs]:this.props.gdocsView}),style:this.props.styles},ge.createElement("p",{className:St.text},"Disable Grammarly ",ge.createElement("br",null)," on ",ge.createElement("span",{className:St.bold},this.props.domain),"?"),this.props.gdocsView?ge.createElement(()=>ge.createElement(ge.Fragment,null,ge.createElement(Ot.a,{cls:"disable",styles:{width:208},text:"yes, disable",onClick:()=>this.props.disableSite()}),ge.createElement(Ye.a,{clickHandler:()=>this.cancel()},ge.createElement("button",{className:St.link},"no, keep it working"))),null):ge.createElement(()=>ge.createElement(ge.Fragment,null,ge.createElement(Ot.a,{cls:"disable",styles:{width:208},text:"Disable until next visit",onClick:()=>this.props.disableOnTab()}),ge.createElement(Ot.a,{cls:"disable",styles:{width:208},text:"Disable Forever",onClick:()=>this.props.disableSite()}),ge.createElement(Ye.a,{clickHandler:()=>this.cancel()},ge.createElement("button",{className:St.link},"keep it working"))),null),ge.createElement(Ye.a,{clickHandler:()=>this.cancel()},ge.createElement("button",{className:St.close})))}}var kt=n(121),Tt=n(45);class Nt extends ge.Component{constructor(){super(...arguments),this.cancel=()=>{this.props.remove()}}componentDidMount(){Tt.a.loginReminderPopupShow(),Object(kt.a)().loginReminderPopupShow()}renderFreeLayout(){return ge.createElement("div",null,ge.createElement("div",{className:St.title},"Looks like you got signed out!"),ge.createElement("div",{className:St.text},"In order to continue receiving",ge.createElement("br",null)," your personalized Grammarly",ge.createElement("br",null)," suggestions, please sign back in."))}renderPremiumLayout(){return ge.createElement("div",null,ge.createElement("div",{className:St.title},"You’re missing out on your",ge.createElement("br",null)," Grammarly Premium features."),ge.createElement("div",{className:Object(Te.d)(St.text,St.subtitle)},"Sign back in to receive"),ge.createElement("ul",{className:St.list},ge.createElement("li",{className:St.listItem},"Advanced grammar checks"),ge.createElement("li",{className:St.listItem},"Vocabulary enhancements")))}render(){const{isFlipped:e,reminderType:t}=this.props,n=Object(Te.d)(St.gButtonPopup,St.loginReminder,St[t],e&&St.isFlipped);return ge.createElement("div",{className:n,style:this.props.styles},"free"===this.props.reminderType?this.renderFreeLayout():this.renderPremiumLayout(),ge.createElement(Ot.a,{styles:{width:208,color:"#15C39A"},text:"Sign back in",onClick:this.props.openSignInDialogFromLoginReminder}),ge.createElement(Ye.a,{clickHandler:this.props.disableLoginReminder},ge.createElement("button",{className:Object(Te.d)(St.secondary)},"Don’t show this again")),ge.createElement(Ye.a,{clickHandler:()=>{this.props.closeLoginReminder(),this.cancel()}},ge.createElement("button",{className:St.close})),ge.createElement("div",{className:Object(Te.d)(St.popupFooter,e&&St.isFlipped)},"▲"))}}class Pt extends ge.Component{constructor(){super(...arguments),this.cancel=()=>{this.props.remove()}}componentDidMount(){Tt.a.onboardingPopupShow(),Object(kt.a)().onboardingPopupShow()}render(){return ge.createElement("div",{className:Object(Te.d)(St.gButtonPopup,St.onboarding),style:this.props.styles},ge.createElement("p",{className:St.title},"Grammarly is Now Active"),ge.createElement("p",{className:St.text},"Want to see how it works?"),ge.createElement(Ot.a,{cls:"onboarding",styles:{width:"180px"},text:"take a quick tour",onClick:()=>this.props.openOnboardingDialog()}),ge.createElement(Ye.a,{clickHandler:()=>{Tt.a.onboardingPopupCloseButtonClick("onboardingPopup"),Object(kt.a)().onboardingPopupCancel(),this.cancel()}},ge.createElement("button",{className:St.link},"No, thanks")),ge.createElement("div",{className:Object(Te.d)(St.popupFooter,this.props.isFlipped&&St.isFlipped)},"▲"))}}var At=n(272),It=n(209);const Ft=({isFlipped:e,styles:t,onClosePreSendEmailPremiumPopup:n,openPlanComparisonPageFromPopup:i,alerts:r})=>ge.createElement(S.F.div,null,r.view(e=>Object(At.a)(e.filter(e=>!e.isFree))).view(r=>ge.createElement(Mt,{isFlipped:e,styles:t,onClosePreSendEmailPremiumPopup:n,openPlanComparisonPageFromPopup:i,friendlyGroupedLensAlerts:r})));class Mt extends ge.Component{componentDidMount(){this.documentClickSub=Object(i.a)(document,"click").subscribe(e=>!this.refs.popup.contains(e.target)&&e&&e.target&&!e.target.closest("grammarly-extension-before-send-hook")&&this.props.onClosePreSendEmailPremiumPopup("auto"))}componentWillUnmount(){this.documentClickSub.unsubscribe()}render(){const{isFlipped:e,onClosePreSendEmailPremiumPopup:t,openPlanComparisonPageFromPopup:n,friendlyGroupedLensAlerts:i}=this.props,r=i.length>3?i.slice(0,2).concat({friendName:"more...",lensName:"more...",free:i.slice(2).reduce((e,t)=>e+t.free,0),premium:i.slice(2).reduce((e,t)=>e+t.premium,0)}):i;return ge.createElement("div",{ref:"popup",className:It.preSendEmailPremiumPopup,style:this.props.styles},ge.createElement("p",{className:It.header},"Grammarly For Gmail"),ge.createElement("p",{className:It.title},"Are you sure you want to send this email with these advanced issues?"),ge.createElement("div",{className:It.text},r.slice(0,3).map(e=>ge.createElement("div",{className:It.category,key:e.friendName},ge.createElement(dt,{count:e.premium,scale:.85}),ge.createElement("span",{className:It.name,title:e.friendName},e.friendName)))),ge.createElement("div",{className:It.buttons},ge.createElement(Ye.a,{clickHandler:n},ge.createElement("button",{className:Object(Te.d)(It.button,It.upgrade)},"Learn more")),ge.createElement(Ye.a,{clickHandler:()=>t("user")},ge.createElement("button",{className:Object(Te.d)(It.button,It.close)},"Dismiss for a while"))),ge.createElement("div",{className:Object(Te.d)(It.popupFooter,e&&It.isFlipped)},"▲"))}}var Rt=n(319),Dt=n(163);class Lt extends ge.Component{componentDidMount(){Tt.a.loginReminderPopupShow(),Object(kt.a)().loginReminderPopupShow()}render(){const{isFlipped:e}=this.props,t=Object(Te.d)(Dt.unifiedFunnel,e&&Dt.isFlipped);return ge.createElement("div",{className:t,style:this.props.styles},ge.createElement("span",{className:Dt.title},"You’re missing out on key",ge.createElement("br",null),"Grammarly features!"),ge.createElement("span",{className:Dt.sub},"Sign up to:"),["Get Grammarly for Google Docs Beta","Toggle Grammarly for any website","Start your personalized dictionary"].map((e,t)=>ge.createElement("div",{className:Dt.itemWrapper,key:t},ge.createElement("span",{className:Dt.check},ge.createElement("span",{className:Dt.mark})),ge.createElement("span",{className:Dt.item},e))),ge.createElement(Rt.b,{className:Object(Te.d)(Dt.button,Dt.fb),onClick:()=>this.props.continueWithFacebook()}),ge.createElement(Rt.c,{className:Dt.button,onClick:()=>this.props.continueWithGoogle()}),ge.createElement(Rt.a,{className:Dt.button,onClick:()=>this.props.continueWithEmail()}),ge.createElement("div",{className:Dt.login},"Already have an account?"," ",ge.createElement(Ye.a,{clickHandler:()=>this.props.openSigninPage()},ge.createElement("span",{className:Dt.link},"Log in"))),ge.createElement(Ye.a,{clickHandler:()=>this.props.remove()},ge.createElement("button",{className:Dt.close})),ge.createElement("div",{className:Object(Te.d)(Dt.popupFooter,e&&Dt.isFlipped)},"▲"))}}var Bt=n(450);const Ut=({text:e,children:t,className:n,style:i,delay:r})=>{const[o,s]=ge.useState(!1),[a,c]=ge.useState(!1),l=ge.useRef(null);return ge.useEffect(()=>(o||null===l.current||clearTimeout(l.current),o?l.current=setTimeout(()=>{l.current=null,c(o)},null!=r?r:500):c(!1),()=>{null!==l.current&&clearTimeout(l.current)}),[o]),ge.createElement("div",{style:{position:"relative"},onMouseOver:()=>s(!0),onMouseLeave:()=>s(!1)},ge.createElement("div",{style:i||{},className:Object(Te.d)(Bt.tooltip,{[Bt.tooltipVisible]:a,[Bt.tooltipHidden]:!a},n)},e),t)};var zt=n(71),Ht=n.n(zt);function Vt(e,t){return t.reduce((t,n)=>t+(e(n)?1:0),0)}const Gt=e=>{var{styles:t,state:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["styles","state"]);const r=ge.useCallback(()=>{i.close(),i.openFeedbackPopup()},[]),o=ge.useCallback(()=>{i.close(),i.openDisablePopup()},[]);return ge.createElement(S.F.div,{className:Object(Te.d)(Ct.a.gButtonPopup,Ht.a.enhancementsPopup),style:t},ge.createElement(S.F.div,{className:Ht.a.popupHeader},ge.createElement(Ye.a,{clickHandler:i.gbuttonClick},ge.createElement(S.F.Fragment,null,n.checking.pipe(Object(s.a)(e=>e?ge.createElement("div",{className:Ht.a.checkingIcon}):ge.createElement("div",{className:Ht.a.grammarlyLogo}))))),ge.createElement("div",{className:Ht.a.popupControls},ge.createElement(Ut,{text:"Feedback",className:Ht.a.feedbackTooltip},ge.createElement(Ye.a,{clickHandler:r},ge.createElement("button",{className:Ht.a.feedbackBtn}))),ge.createElement(Ut,{text:"Disable on this website",className:Ht.a.disableTooltip},ge.createElement(Ye.a,{clickHandler:o},ge.createElement("button",{className:Ht.a.disableBtn}))),ge.createElement(Ye.a,{clickHandler:i.close},ge.createElement("button",{className:Ht.a.closeBtn})))),Object(y.b)(n.alerts,n.alertCounts,n.enhancementsVisibleInline,n.isPremium).pipe(Object(s.a)(([e,t,n,r])=>{const o=Vt(d.c,e),s=Vt(d.a,e)-o,a=t.plus;return ge.createElement(ge.Fragment,{key:"critical-alerts"},ge.createElement(Wt,{alertsCount:o}),s>0?ge.createElement($t,{alertsCount:s,enhancementsVisible:n,showEnhancements:i.showEnhancements,hideEnhancements:i.hideEnhancements}):null,r||a<=0?null:ge.createElement(qt,{alertsCount:a,goPremium:i.goPremium}))})))},Wt=({alertsCount:e})=>ge.createElement("div",{className:Ht.a.alertRow},e>0?ge.createElement("span",{className:Ht.a.criticalAlertsText},"Important alerts shown"):ge.createElement("span",{className:Ht.a.criticalAlertsText},"No critical alerts. Good job!"),ge.createElement(Yt,{count:e,type:"critical",className:Ht.a.alertCountWrapper})),$t=({alertsCount:e,enhancementsVisible:t,showEnhancements:n,hideEnhancements:i})=>t?ge.createElement(Ye.a,{clickHandler:i,className:Object(Te.d)(Ht.a.alertRow,Ht.a.enhancementsAlerts)},ge.createElement("span",{className:Ht.a.alertsText},"Enhancements shown. ",ge.createElement("span",{className:Ht.a.toggleEnhancements},"Hide")),ge.createElement(Yt,{count:e,type:"enhancement",className:Ht.a.alertCountWrapper})):ge.createElement(Ye.a,{clickHandler:n,className:Object(Te.d)(Ht.a.alertRow,Ht.a.enhancementsAlerts)},ge.createElement("span",{className:Ht.a.toggleEnhancements},"Show enhancements"),ge.createElement(Yt,{count:e,type:"enhancement",showPlus:!t,className:Ht.a.alertCountWrapper})),qt=({goPremium:e,alertsCount:t})=>ge.createElement(Ye.a,{clickHandler:e,className:Object(Te.d)(Ht.a.alertRow,Ht.a.premiumAlerts)},ge.createElement("span",{className:Ht.a.alertsText},ge.createElement("span",{className:Ht.a.goPremium},"Go Premium")," for advanced alerts"),ge.createElement(Yt,{count:t,type:"premium",showPlus:!0,className:Ht.a.alertCountWrapper})),Yt=({count:e,type:t,showPlus:n,className:i})=>e<=0?ge.createElement("div",{className:Object(Te.d)(Ht.a.noAlerts,i)}):("critical"===t?[Ht.a.criticalAlert]:"premium"===t?[Ht.a.premiumAlert]:[Ht.a.clarityAlert,Ht.a.engagementAlert,Ht.a.deliveryAlert]).reduce((e,t,n,r)=>o=>ge.createElement("div",{className:Object(Te.d)(Ht.a.alertCount,t,n===r.length-1?i:""),style:{padding:0===n?"3px":"0 0 0 4px",borderWidth:0===n?"1px":"1px 0px 1px 1px"}},e(o)),e=>ge.createElement(ge.Fragment,null,e))(n?ge.createElement(ge.Fragment,null,ge.createElement("span",{className:Ht.a.plusSign},"+"),e):e);var Kt,Qt,Xt=n(106);class Jt extends ge.Component{componentDidMount(){const{docId:e,errorData:t}=this.props;e&&t&&Tt.a.gButtonClick(e,t.plus,t.critical,"gdocs")}render(){return ge.createElement("div",{className:Object(Te.d)(St.gButtonPopup,St.gdocsBeta,St.unavailablePopup),style:this.props.styles||{}},ge.createElement(Ye.a,{clickHandler:()=>this.props.close()},ge.createElement("button",{className:St.close})),ge.createElement("div",{className:Object(Te.d)(St.header,St.headerUnavailable)},ge.createElement("div",{className:St.cardsIcon}),"Welcome to our beta!"),ge.createElement("div",{className:Xt.dialogMessage},"Grammarly’s suggestions",ge.createElement("br",null),"appear as red underlines in",ge.createElement("br",null),"your text. Hover and click",ge.createElement("br",null),"to correct."),ge.createElement("div",{className:Object(Te.d)(St.bubbleArrow)},"▲"))}}!function(e){e.good="good",e.bad="bad",e.ok="ok"}(Kt||(Kt={})),function(e){e.form="form",e.feedbackSent="sent"}(Qt||(Qt={}));class Zt extends ge.Component{constructor(){super(...arguments),this.state={activeScore:null,feedback:"",view:Qt.form},this._close=()=>this.props.close(),this._submitFeedback=()=>{this.setState({view:Qt.feedbackSent}),Tt.a.feedbackSentButtonClick(this.state.feedback,"gdocs",this.state.activeScore)},this._setActiveScore=e=>{this.setState({activeScore:this.state.activeScore===e?null:e})},this._handleChange=e=>{this.setState({feedback:e.target.value})},this._formView=()=>ge.createElement("div",{className:St.feedbackForm},ge.createElement("div",{className:St.header},"How do you like",ge.createElement("br",null)," Grammarly for Google Docs?"),ge.createElement("div",{className:St.scoreList},ge.createElement("div",{className:St.scoreListCell},ge.createElement(Ye.a,{clickHandler:()=>this._setActiveScore(Kt.bad)},ge.createElement("div",{className:Object(Te.d)(St.score,St.scoreBad,this.state.activeScore===Kt.bad&&St.active)},"It’s not",ge.createElement("br",null),"for me"))),ge.createElement("div",{className:St.scoreListCell},ge.createElement(Ye.a,{clickHandler:()=>this._setActiveScore(Kt.ok)},ge.createElement("div",{className:Object(Te.d)(St.score,St.scoreOk,this.state.activeScore===Kt.ok&&St.active)},"It’s OK"))),ge.createElement("div",{className:St.scoreListCell},ge.createElement(Ye.a,{clickHandler:()=>this._setActiveScore(Kt.good)},ge.createElement("div",{className:Object(Te.d)(St.score,St.scoreGood,this.state.activeScore===Kt.good&&St.active)},"I love it!")))),ge.createElement("div",{className:St.subHeader},"How can we improve?"),ge.createElement("textarea",{"data-gramm":"true",className:St.feedbackField,placeholder:"Tell us what you think!",value:this.state.feedback,onChange:this._handleChange}),ge.createElement(Ye.a,{clickHandler:this._submitFeedback},ge.createElement("div",{className:Object(Te.d)(St.button,!this.state.activeScore&&St.disabled)},"Submit"))),this._feedbackSentView=()=>ge.createElement("div",null,ge.createElement("div",{className:St.feedbackSentViewHeader},"Thank you! ",ge.createElement("br",null),"Your feedback helps us improve."),ge.createElement(Ye.a,{clickHandler:this._close},ge.createElement("div",{className:Object(Te.d)(St.button)},"Done")))}render(){return ge.createElement("div",{className:Object(Te.d)(St.gButtonPopup,St.feedbackPopup),style:this.props.styles},ge.createElement(Ye.a,{clickHandler:this._close},ge.createElement("button",{className:St.close})),this.state.view===Qt.form?this._formView():this._feedbackSentView())}}const en=({state:e,isFlipped:t,actions:n,styles:i})=>{var r,o,s,c,l,u,d,h,p,f,m,g;const b=e=>ge.createElement(Nt,{styles:i,isFlipped:t,reminderType:e,remove:n.closePopup,openSignInDialogFromLoginReminder:n.openSignInDialogFromLoginReminder,disableLoginReminder:n.disableLoginReminder,closeLoginReminder:n.closeLoginReminder});switch(e.type){case"disable":return ge.createElement(jt,{styles:i,domain:e.domain,remove:n.closePopup,disableOnTab:n.disableOnTab,disableSite:n.disableSite,gdocsView:!1});case"onboarding":return ge.createElement(Pt,{isFlipped:t,styles:i,openOnboardingDialog:n.showOnboardingDialog,remove:n.closePopup});case"dataControl":return ge.createElement(xt.a,{isFlipped:t,styles:i,remove:n.closePopup});case"loginReminder-free":return b("free");case"loginReminder-premium":return b("premium");case"loginReminder-unifiedFunnel":return ge.createElement(Lt,{styles:i,isFlipped:t,remove:n.closePopup,continueWithFacebook:n.continueWithFacebook,continueWithGoogle:n.continueWithGoogle,continueWithEmail:n.continueWithEmail,openSigninPage:n.openSigninPage});case"gdocsEnhancementsDialog":return ge.createElement(Gt,{styles:i,state:e,close:n.closePopup,openFeedbackPopup:(o=null===(r=n.enhancements)||void 0===r?void 0:r.openFeedbackPopup,null!=o?o:a.l),openDisablePopup:(c=null===(s=n.enhancements)||void 0===s?void 0:s.openDisablePopup,null!=c?c:a.l),showEnhancements:(u=null===(l=n.enhancements)||void 0===l?void 0:l.showInline,null!=u?u:a.l),hideEnhancements:(h=null===(d=n.enhancements)||void 0===d?void 0:d.hideInline,null!=h?h:a.l),goPremium:(f=null===(p=n.enhancements)||void 0===p?void 0:p.goPremium,null!=f?f:a.l),gbuttonClick:(g=null===(m=n.enhancements)||void 0===m?void 0:m.gbuttonClick,null!=g?g:a.l)});case"gdocsPopupUnavailable":return ge.createElement(Jt,{close:n.closePopup});case"gdocsFeedbackUI":return ge.createElement(Zt,{styles:i,close:n.closePopup});case"gmail-pre-send-email-premium":return ge.createElement(Ft,{styles:i,alerts:e.alerts,isFlipped:t,onClosePreSendEmailPremiumPopup:n.onClosePreSendEmailPremiumPopup,openPlanComparisonPageFromPopup:n.openPlanComparisonPageFromPopup});default:return null}};function tn(e){if("none"===e)return U.zero;const t=Q[e],n=wt.a.gButtonSize;return Object.assign(Object.assign(Object.assign({},t),{normal:Object.assign(Object.assign({},t.normal),{bottom:t.normal.bottom+(Y(t.normal.anchor)?n:0),right:t.normal.right+(K(t.normal.anchor)?n:0)})}),t.flippedDown?{flippedDown:Object.assign(Object.assign({},t.flippedDown),{top:t.flippedDown.top+(Y(t.flippedDown.anchor)?-n:0),right:t.flippedDown.right+(K(t.flippedDown.anchor)?n:0)})}:{})}const nn=({state:e,actions:t,gbuttonPageTopBehavior:n,getShouldFlip:i})=>{const r=ge.useRef(null),o=e.view(e=>e.type),a=Object(y.b)(n,o,(e,t)=>{const n=tn(t);return!!n.flippedDown&&i(e,n.maxHeight||0)}).pipe(Object(W.a)()),c=Object(y.b)(o,a,(e,t)=>{const n=tn(e);return t&&n.flippedDown?{bottom:"initial",top:n.flippedDown.top+"px",right:n.flippedDown.right+"px"}:{top:"initial",bottom:n.normal.bottom+"px",right:n.normal.right+"px"}}).pipe(Object(E.a)({})),l=o.pipe(Object(E.a)("none"),Object(yt.a)(),Object(s.a)(([e,t])=>({type:t,opening:t!==e}))),u={transform:"scale(.7)",opacity:0},d={transform:"scale(1)",opacity:1},[h,p]=ge.useState(u);return ge.useEffect(()=>{let e=null;const t=l.subscribe(({opening:t})=>{t&&(p(u),null!==e&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>p(d)))});return()=>{t.unsubscribe(),null!==e&&cancelAnimationFrame(e)}},[]),ge.useEffect(()=>{const e=c.subscribe(e=>{r.current&&Object.entries(e).forEach(([e,t])=>{var n;return null===(n=r.current)||void 0===n?void 0:n.style.setProperty(e,t,"important")})});return()=>e.unsubscribe()},[c,r]),ge.createElement("div",{className:Et.popupContainer,ref:r},ge.createElement(S.F.Fragment,null,Object(y.b)(a,e,(e,n)=>ge.createElement(en,{isFlipped:e,actions:t,state:n,styles:h})).pipe(Object(E.a)(null))))};var rn=n(234);const on=({highlightState:e,highlightHeightOffset:t})=>ge.createElement(S.F.div,null,e.view(e=>e?ge.createElement(sn,{rects:[e],colorClass:rn.synonym,heightOffset:t,baseKey:"synonym",isHovered:Object(r.a)(!1)}):null));class sn extends ge.Component{constructor(){super(...arguments),this._hideAnim=!1,this._sub=null,this.state={hovered:!1}}componentDidMount(){this._sub&&this._sub.unsubscribe(),this._sub=this.props.isHovered.subscribe(e=>{this.state.hovered!==e&&this.setState({hovered:e})})}componentWillUnmount(){this._sub&&this._sub.unsubscribe()}render(){return this.props.rects&&this.props.rects.length>0?ge.createElement(ge.Fragment,null,this.props.rects.map((e,t)=>ge.createElement("div",{key:t?this.props.baseKey+t:this.props.baseKey,onAnimationEnd:()=>{this._hideAnim=!0},style:{top:e.top,left:e.left,width:e.width,height:Math.max(0,e.height+this.props.heightOffset)},className:`${rn.highlight} ${this.props.colorClass}`+(this.state.hovered?" "+rn.hovered:"")+(this._hideAnim?" "+rn.noAnimation:"")}))):null}}const an=({highlightHeightOffset:e,highlights:t,alerts:n,getIsHovered:i,useDenaliColors:r=!1})=>{const o=Object.assign({clarity:rn.colorBlue,engagement:rn.colorGreen,vox:rn.colorGray,tone:rn.colorPurple},r?{critical:rn.colorDenaliRed,advanced:rn.colorDenaliYellow}:{critical:rn.colorRed,advanced:rn.colorGold});return ge.createElement(S.F.div,null,S.Atom.combine(t,n,(e,t)=>Object.keys(t).filter(n=>!!e[n]&&!!t[n]).map(n=>({alert:t[n],highlight:e[n]}))).view(t=>t.map(({alert:t,highlight:n})=>ge.createElement(sn,{key:n.alertId,colorClass:o[t.displayType],rects:n.rects,isHovered:i(n.alertId).pipe(Object(W.a)()),heightOffset:e,baseKey:n.alertId}))))};class cn{constructor(e,t,n,i,r,o,c,l,u,d,h,f,m,g){this._layout=e,this._highlights=t,this._alertProcessor=n,this._inlineCardService=i,this._fieldIntegrationController=r,this._verbosePremiumService=o,this._alertCounts=c,this._model=l,this._experimentsBehavior=u,this._autocorrectEnabledBehavior=d,this._emogenieService=h,this._minimizeState=f,this._isPremiumSupported=m,this._isGdocs=g,this._viewState=this._fieldIntegrationController.viewState,this._isHighlightHoveredBehavior=e=>this._inlineCardService.hoveredHighlightBehavior.pipe(Object(s.a)(t=>t&&t.alertId===e||!1)),this.highlights=()=>ge.createElement(S.F.div,{style:this._layout.textField.scrollSize.behavior.pipe(Object(s.a)(e=>({height:e.height,width:e.width})))},ge.createElement(an,{highlightHeightOffset:this._layout.highlightHeightOffset,highlights:this._highlights.geometry,alerts:this._alertProcessor.alerts.state.view(e=>a.f.map((e,t)=>t&&p.a.isCapiAlert(t)?t:void 0,e)),getIsHovered:this._isHighlightHoveredBehavior,useDenaliColors:!1}),ge.createElement(on,{highlightHeightOffset:this._layout.highlightHeightOffset,highlightState:this._viewState.view("synonym")}),this._autocorrectEnabledBehavior.pipe(Object(s.a)(e=>e&&ge.createElement(_e,{key:"autocorrect-highlights",highlights:this._highlights.geometry,alerts:this._alertProcessor.alerts.state.view(e=>a.f.map((e,t)=>t&&p.a.isAutocorrectAlert(t)?t:void 0,e)),highlightHeightOffset:this._layout.highlightHeightOffset,getIsHovered:this._isHighlightHoveredBehavior})))),this.innerElements=()=>ge.createElement(S.F.div,{style:{flexDirection:"row",display:this._viewState.view("gbuttonContainer","visible").view(e=>e?"flex":"none"),pointerEvents:this._viewState.view("gbuttonContainer","hoverable").view(e=>e?"auto":"none")}},ge.createElement(S.F.div,{style:{position:"relative"}},Object(y.b)(this._verbosePremiumService.gbuttonState.view(),this._alertCounts,(e,t)=>e.isEnabled&&ge.createElement(pt,{key:"VerbosePremiumPopup",style:{position:"absolute",right:0,top:0},isVisible:e.isVisible,count:t.plus,openPlanComparisonPage:()=>this._model.openPlanComparisonPageFromVerbosePremium(e.source,"push")})),Object(y.b)(Object(y.b)(this._experimentsBehavior.pipe(Object(s.a)(e=>!!e&&e.emogenie&&!e.emogenieGButton)),this._minimizeState.minimized,this._viewState.view(e=>e.expandedGbutton.visible),this._viewState.view("gbutton","edcBlocked"),(e,t,n,i)=>!(t||n||!e||i)),this._emogenieService.viewButtonState,this._emogenieService.upgradeHook.buttonVisible,this._verbosePremiumService.gbuttonState.view("isVisible"),(e,t,n,i)=>e&&ge.createElement(ge.Fragment,{key:"emogenieButtons"},n&&ge.createElement($e,{key:"emogenieUpgradeHookButton",actions:this._emogenieService.upgradeHook.actions,isVisible:!i}),!n&&t.isVisible&&!!t.prevalentEmotion&&ge.createElement(Ee,{key:"emogenieButton",showAnimation:t.showAnimation,emotion:t.prevalentEmotion,actions:this._emogenieService.actions,isVisible:!i})))),this._experimentsBehavior.pipe(Object(s.a)(e=>e&&e.emogenieGButton?ge.createElement(Re,{key:"emogenieGButton",emotion:this._emogenieService.viewState.view("prevalentEmotion"),hideEmotion:Object(y.b)(this._minimizeState.minimized,this._viewState.view("popup","type").view(e=>"disable"===e),this._viewState.view("expandedGbutton","visible"),this._viewState.view("gbutton","edcBlocked"),(e,t,n,i)=>e||t||n||i),state:this._viewState.view("gbutton"),actions:this._model,isMinimizedBehavior:this._minimizeState.minimized,zIndexBehavior:this._layout.gbutton.zIndexBehavior,verbosePremiumVisible:this._verbosePremiumService.gbuttonState.view("isPlusBadgeVisible"),isPremiumSupported:this._isPremiumSupported}):ge.createElement(Me,{key:"gButton",state:this._viewState.view("gbutton"),actions:this._model,isMinimizedBehavior:this._minimizeState.minimized,zIndexBehavior:this._layout.gbutton.zIndexBehavior,verbosePremiumVisible:this._verbosePremiumService.gbuttonState.view("isPlusBadgeVisible"),isPremiumSupported:this._isPremiumSupported,emogenieVisible:Object(y.b)(this._emogenieService.viewState.view("prevalentEmotion"),this._emogenieService.upgradeHook.buttonVisible,(e,t)=>!!e&&!t)})))),this.outerElements={component:()=>ge.createElement(S.F.div,null,ge.createElement(vt,{state:this._viewState.view("expandedGbutton"),actions:this._model,isMinimizedBehavior:this._minimizeState.minimized,emogenieState:this._emogenieService.viewButtonState,emogenieUpgradeHookButtonVisible:this._emogenieService.upgradeHook.buttonVisible,verbosePremiumState:this._verbosePremiumService.expandedGbuttonState,isPremiumSupported:this._isPremiumSupported,isGdocs:this._isGdocs}),ge.createElement(nn,{gbuttonPageTopBehavior:this._layout.gbutton.positionBehavior.pipe(Object(s.a)(e=>e.top)),getShouldFlip:this._layout.gbutton.getShouldFlipPopup,state:this._viewState.view("popup"),actions:this._model}),Object(y.b)(this._experimentsBehavior.pipe(Object(s.a)(e=>({emogenie:!!e&&e.emogenie,emogenieGButton:!!e&&e.emogenieGButton}))),this._emogenieService.isVisiblePopup,this._emogenieService.upgradeHook.popupVisible,this._viewState.view("gbutton","edcBlocked"),this._viewState.view(e=>e.expandedGbutton.visible),(e,t,n,i,r)=>(e.emogenie||e.emogenieGButton)&&!i&&!r&&ge.createElement(ge.Fragment,{key:"emogenieButtons"},n&&ge.createElement(Ze,{key:"emogenieUpgradeHookPopup",state:this._emogenieService.upgradeHook.viewState,actions:this._emogenieService.upgradeHook.actions,siteSetting:this._viewState.view("gbutton","siteSettings")}),t&&ge.createElement(We,{key:"emogeniePopup",hideEmojiSetting:e.emogenieGButton,state:this._emogenieService.viewState,actions:this._emogenieService.actions})))),shouldRender:Object(y.b)(this._emogenieService.isVisiblePopup,this._emogenieService.upgradeHook.popupVisible,this._viewState.view(e=>e.expandedGbutton.visible||"none"!==e.popup.type),(e,t,n)=>e||t||n)}}}var ln=n(122),un=n(266),dn=n(61),hn=n(164),pn=n(79);class fn{constructor(e,t,n,i,r=c.a.create(fn.name)){this._acClient=e,this._capiCheckingService=t,this._alertProcessor=n,this._textObserver=i,this._log=r,this._subs=[this._alertProcessor.alerts.changes.pipe(Object(s.a)(e=>e.addedAlerts.filter(e=>p.a.isAutocorrectAlert(e)&&e.state===hn.a.applied)),Object(P.a)(e=>this._textObserver.contentChanges.async.pipe(Object(A.a)(e=>!!e.changes.find(e=>dn.a.isIns(e)&&!!e.text.match(/\w+/g))),Object(b.a)(e)))).subscribe(e=>{e.forEach(e=>{const t=this._alertProcessor.alerts.getAlertById(e.id);if(null!==t&&p.a.isAutocorrectAlert(t)&&t.state===hn.a.applied){this._log.debug(`accepting #${e.id}`);const n=t.replacement,i=t.transformText;this._acClient.onCorrectionAccepted({suggested:i,original:n,context:e.context}),this._capiCheckingService.onAutocorrectAlertAccepted({before:n,after:i,context:e.context})}else this._log.debug(`NOT accepting #${e.id} -- doesn't exist anymore`)})}),this._alertProcessor.alerts.changes.pipe(Object(un.a)(e=>e.removedAlerts.filter(e=>p.a.isAutocorrectAlert(e.alert)&&e.alert.state===hn.a.applied&&e.reason._tag===F.a.textChange&&e.reason.changes.every(t=>pn.b.contains(e.alert.transformRange,dn.a.getRange(t)))).map(e=>p.a.isAutocorrectAlert(e.alert)&&e.alert||null).filter(e=>null!==e))).subscribe(e=>{const t=e.replacement,n=e.transformText;this._log.debug(`implicitly rejecting #${e.id}, {${t}=>${n}}`),this._acClient.onCorrectionRejected({context:e.context,original:t,suggested:n,expected:null,isExplicit:!1}),this._capiCheckingService.onAutocorrectAlertDismissed({before:t,after:n,context:e.context})})]}dispose(){this._subs.forEach(e=>e.unsubscribe())}}var mn=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class gn{constructor(e,t,n,i,o,s,a,l=null,u=!1,d=c.a.create(gn.name)){this._acClient=e,this._capiCheckingService=t,this._alertProcessor=n,this._textObserver=i,this._autocorrectReplacementService=o,this._selectionService=s,this._enabledState=a,this._felog=l,this._undoOnBackspaceEnabled=u,this._log=d,this._feedbackReporter=new fn(this._acClient,this._capiCheckingService,this._alertProcessor,this._textObserver),this._acAlerts=this._textObserver.contentChanges.async.pipe(Object(ln.a)(e=>mn(this,void 0,void 0,(function*(){const t=this._selectionService.getCurrentSelection(this._textObserver.getCurrentTextMap()),n=yield(this._felog&&this._felog.responseTime.measureAsync||(e=>e()))(()=>this._acClient.check(e.newText,e.changes,t));return this._alertProcessor.registerRemoteRevision(n.revision),n.alerts}))),Object(un.a)(e=>Object(r.a)(...e))),this._subs=[this._acAlerts.subscribe(e=>mn(this,void 0,void 0,(function*(){this._enabledState.get()&&(yield this._processBgAutocorrectAlert(e))}))),...this._undoOnBackspaceEnabled?[this._undoOnBackspace()]:[]]}static shouldCreate(e,t){return e&&e.autocorrectEnabled&&!t}_undoOnBackspace(){return this._textObserver.contentChanges.async.subscribe(e=>mn(this,void 0,void 0,(function*(){if(1===e.changes.length){const t=e.changes[0];if(dn.a.isDel(t)){const e=Array.from(this._alertProcessor.alerts.getAll()).find(e=>p.a.isAutocorrectAlert(e)&&e.state===hn.a.applied&&e.transformRange.end===t.pos);void 0!==e&&e.state===hn.a.applied&&this._autocorrectReplacementService.performReplacement(e.transformRange,e.replacement,e.transformText,null)}}})))}_applyAutocorrectAlert(e){return mn(this,void 0,void 0,(function*(){this._alertProcessor.removeAlert(e.id);const t=this._selectionService.getCurrentSelection(this._textObserver.getCurrentTextMap());if(t){yield this._autocorrectReplacementService.performReplacement(e.transformRange,e.replacement,e.transformText,t);const n={start:e.highlightRange.start,end:e.highlightRange.start+e.replacement.length};this._alertProcessor.addAlert({_tag:p.b.autocorrect,id:`${e.id}-applied`,revision:"unreg",highlightRange:n,highlightText:e.replacement,transformRange:n,transformText:e.replacement,replacement:e.transformText,context:e.context,state:hn.a.applied})}else this._log.warn("could not get current caret, aborting autocorrect apply")}))}_processBgAutocorrectAlert(e){return mn(this,void 0,void 0,(function*(){const t=this._alertProcessor.addAlert({_tag:p.b.autocorrect,id:e.id,revision:e.revision,highlightRange:e.range,highlightText:e.originalText,transformRange:e.range,transformText:e.originalText,replacement:e.replacement,state:hn.a.initial,context:e.context});if(t.addedAlerts.length>0){t.addedAlerts.length>1&&this._log.warn(`more than one (${t.addedAlerts.length}) autocorrect alert added at the same time, ignoring`);const e=t.addedAlerts[0];if(p.a.isAutocorrectAlert(e))try{this._applyAutocorrectAlert(e)}catch(e){this._log.error("autocorrect apply crashed",e)}else this._log.error(`unexpected alert type ${e._tag}`)}}))}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._feedbackReporter.dispose()}}class bn{constructor(e){this._rpc=e,this._token=this._rpc.autocorrectStartSession(),this.check=(...e)=>this._token.then(t=>this._rpc.autocorrectCheck({token:t,args:e})),this.onCorrectionRejected=(...e)=>this._token.then(t=>this._rpc.autocorrectOnCorrectionRejected({token:t,args:e})),this.onCorrectionAccepted=(...e)=>this._token.then(t=>this._rpc.autocorrectOnCorrectionAccepted({token:t,args:e}))}dispose(){this._token.then(e=>this._rpc.autocorrectCloseSession(e))}}var vn=n(162),_n=n(15),yn=n(51),wn=n(154);const En=()=>ge.createElement("svg",Object.assign({width:"17",height:"12",viewBox:"0 0 17 12",fill:"none"},Object(S.classes)(be.undoIcon)),ge.createElement("path",{d:"M5 0.5L1 4.5M1 4.5L5 8.5M1 4.5H13C14.933 4.5 16.5 6.067 16.5 8V8C16.5 9.933 14.933 11.5 13 11.5H11",fill:"none",stroke:"#6D758D",strokeLinecap:"round"})),xn=e=>ge.createElement("div",{className:_n.card,style:{minWidth:0}},ge.createElement("div",Object.assign({},Object(S.classes)(yn.replacement)),ge.createElement("div",Object.assign({},Object(S.classes)(yn.listReplacement,_n.item,be.replaceButton)),ge.createElement("div",Object.assign({},Object(S.classes)(yn.listItemReplacementWrapper)),ge.createElement(Ye.a,{clickHandler:()=>e.onReplaceClick()},ge.createElement("span",Object.assign({},Object(S.classes)(yn.listItemReplacement,yn.deleteReplacement,be.replacementItemFontSizeFix),{style:{whiteSpace:"nowrap"}}),ge.createElement("div",{style:{display:"inline"}},e.caption),ge.createElement(En,null),ge.createElement(wn.f,Object.assign({},Object(S.classes)(_n.icon,_n.logoIcon,be.logoIconMarginFix)))))))));var On=n(309);class Sn{constructor(e,t,n,i={left:-8,top:n.highlightHeightOffset},r={height:100,width:200}){this._autocorrectEnabledBehavior=e,this._getCurrentSelection=t,this._layout=n,this._cardPosOffset=i,this._cardFlipThreshold=r,this._model=S.Atom.create(null),this.view=()=>ge.createElement(S.F.div,null,Object(y.b)(this._model,this._autocorrectEnabledBehavior,(e,t)=>t&&e&&ge.createElement("div",{style:{position:"absolute",top:e.pagePosition.top,left:e.pagePosition.left,transform:e.pagePosition.flipHorizontal||e.pagePosition.flipVertical?`translate(${e.pagePosition.flipHorizontal?-100:0}%, ${e.pagePosition.flipVertical?-100:0}%)`:void 0,zIndex:On.b-1},onMouseMove:()=>this._hovered.next(!0),onMouseLeave:()=>this._hovered.next(!1)},ge.createElement(xn,{caption:e.model.replacementCaption,onReplaceClick:()=>{e.model.undoCorrection(e.lastCaret),this.hide()}})))),this._hovered=new tt.a,this.cardHovered=this._hovered.pipe(Object(E.a)(!1),Object(W.a)())}_getPageViewport(){const e=document;return{top:e.documentElement.scrollTop,left:e.documentElement.scrollLeft,height:e.documentElement.clientHeight,width:e.documentElement.clientWidth}}show(e,t){const n=this._getCurrentSelection(),i=Object(vn.b)(t,this._layout.textField.rect.getApproximate().page,this._layout.textField.scroll.getApproximate(),this._layout.getTranslationToCards()),r=this._getPageViewport(),o=i.top+t.height+this._cardPosOffset.top>=r.top+r.height-this._cardFlipThreshold.height,s=i.left+this._cardPosOffset.left>=r.left+r.width-this._cardFlipThreshold.width;this._model.set({model:e,pagePosition:{top:o?i.top-this._cardPosOffset.top:i.top+this._cardPosOffset.top+t.height,left:s?i.left-this._cardPosOffset.left+i.width:i.left+this._cardPosOffset.left,flipVertical:o,flipHorizontal:s},lastCaret:n})}hide(){this._model.set(null)}}var Cn=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class jn{constructor(e,t,n,i=c.a.create(jn.name)){this._alert=e,this._autocorrectReplacementService=t,this._onCorrectionReverted=n,this._log=i,this._wasUndone=!1,this.replacementCaption=this._alert.replacement}undoCorrection(e){return Cn(this,void 0,void 0,(function*(){if(this._wasUndone)this._log.warn(`onReplace called more than once for #${this._alert.id}`);else{const t=this._alert.replacement;try{this._autocorrectReplacementService.performReplacement(this._alert.transformRange,t,this._alert.transformText,e),this._wasUndone=!0,this._onCorrectionReverted(this._alert.id)}catch(e){this._log.error(`failed to perform replacement for #${this._alert.id}`,e)}}}))}}var kn,Tn=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class Nn{constructor(e,t,n,i=c.a.create(Nn.name)){this._replacementService=e,this._selectionService=t,this._getCurrentTextMap=n,this._log=i}performReplacement(e,t,n,i){return Tn(this,void 0,void 0,(function*(){if(!this._replacementService.canPerformReplacement(e))throw new Error("can't perform replacement at this range");this._log.debug("replacing!"),yield this._replacementService.performReplacement(e,t,!1),i?this._selectionService.setSelection(this._getCurrentTextMap(),pn.b.translate(pn.b.rebase(pn.b.translate(i,-e.start),dn.b.fromDiff(n,t)),e.start)):this._log.warn("no initial caret given -- not restoring")}))}}class Pn{constructor(e,t,n,i){const o=!!i&&i.emogenieUpgradeHook;this._state=S.Atom.create({popupShow:!1,showClose:!1}),this.viewState=this._state.view(),this.actions=new An(this._state,e),o?(this.buttonVisible=S.Atom.combine(t,n,(e,t)=>e.isEnterprise&&t),this.popupVisible=Object(y.b)(this.buttonVisible,this._state.view(e=>e.popupShow),(e,t)=>e&&t).pipe(Object(P.a)((e,t)=>Object(r.a)(e).pipe(Object(Oe.a)(e?0:300),Object(E.a)(t>0))),Object(W.a)())):(this.buttonVisible=S.Atom.create(!1).view(),this.popupVisible=Object(r.a)(!1))}}class An{constructor(e,t){this._state=e,this._gnar=t}_setShowPopupState(e){this._state.modify(t=>t.popupShow?t:(this._gnar.toneUnavailableTonePopupPopupShow(),Object.assign(Object.assign({},t),{popupShow:!0,showClose:e})))}showPopupOnHover(){this._setShowPopupState(!1)}showPopupOnClick(){this._setShowPopupState(!0)}hidePopup(){this._state.modify(e=>Object.assign(Object.assign({},e),{popupShow:!1}))}followCTA(){this._gnar.toneUnavailableGetMoreWithPremiumButtonClick("tonePopup"),window.open(Object(H.i)("toneUnavailableEnterprise"))}trackEmojiShow(){this._gnar.toneUnavailableMouthlessEmojiShow()}trackHoverLimitedSite(){this._gnar.toneUnavailableLimitedSitesPopupShow()}}!function(e){e.createDefaultState=(e,t)=>({report:void 0,prevalentEmotion:void 0,emotionsPoll:{},settings:{showPopup:!1,showClose:!1,showEmoji:"hide"!==e,hideWelcomeNotification:!!t,hiddenReport:!1}})}(kn||(kn={}));class In{constructor(e,t,n,i,r,o){this._state=e,this._docId=t,this._gnar=n,this._pageActions=i,this._domain=r,this._experiments=o,this._emogenieShowSent=!1,this._emogenieHideSent=!1}setEmogenieReport(e){const t=e.emotions.reduce((e,t)=>e+t.confidence,0),n=e.emotions.map(e=>{const n=e.confidence<.25?"Slight":e.confidence<.5?"Moderate":e.confidence/t>.5?"Very strong":"Strong";return Object.assign(Object.assign({},e),{prevalence:n})}),[i]=n,r={};for(const e of n)r[e.name]=De.none;this._state.modify(t=>({report:{emotions:n,hidden:e.hidden,recommendation:e.recommendation},prevalentEmotion:i,emotionsPoll:r,settings:Object.assign(Object.assign({},t.settings),{hiddenReport:e.hidden})}))}setShowEmojiState(e){const t=e?"show":"hide";this._pageActions.setEmogenieEmojiState(t),this._state.lens("settings","showEmoji").set(e),this._gnar.emogenieBetaShowEmogenieToggleClick(t),this._experiments&&this._experiments.emogenieAllSites&&!e&&!this._emogenieHideSent&&(this._gnar.domainEmogenieHide(this._domain),this._emogenieHideSent=!0)}_setShowPopupState(e){this._state.lens("settings").modify(t=>{if(t.showPopup)return t;{const n=this._emotions;return this._gnar.emogeniePopupShow(this._docId,n,n.length),Object.assign(Object.assign({},t),{showClose:e,showPopup:!0})}})}showPopupOnHover(){this._setShowPopupState(!1)}showPopupOnClick(){this._setShowPopupState(!0)}hidePopup(){const e=this._state.lens("settings").get();this._state.lens("settings","showPopup").set(!1),e.showPopup&&!e.hideWelcomeNotification&&(this._state.lens("settings","hideWelcomeNotification").set(!0),this._pageActions.setHideWelcomeEmogenieNotification())}_setEmotionPollState(e,t){const n=this._state.lens("emotionsPoll",e);n&&n.set(t)}likeEmotion(e){this._setEmotionPollState(e,De.like),this._pageActions.onEmogenieFeedback(e,"EMOTION_LIKE"),this._gnar.emogenieBetaThumbsUpButtonClick(this._docId,e)}dislikeEmotion(e){this._setEmotionPollState(e,De.dislike),this._pageActions.onEmogenieFeedback(e,"EMOTION_DISLIKE"),this._gnar.emogenieBetaThumbsDownButtonClick(this._docId,e)}trackShowEmogenieButton(){if(!this._emogenieShowSent){const e=this._emotions;this._gnar.emogenieShow(this._docId,e,e.length),this._experiments&&this._experiments.emogenieAllSites&&(this._gnar.domainEmogenieShow(this._domain),this._emogenieShowSent=!0)}}get _emotions(){const e=this._state.view("report").get();return e&&Array.isArray(e.emotions)?e.emotions:[]}}class Fn{constructor(e,t,n,i,o,s){const a=s&&(s.emogenie||s.emogenieAllSites||s.emogenieGButton),c=kn.createDefaultState(e.emogenieEmojiState,e.hideWelcomeEmogenieNotification);this._state=S.Atom.create(c),this.actions=new In(this._state,t,n,i,e.domain,s),this.viewState=this._state.view(),this.isVisiblePopup=this._state.view(e=>!!e.prevalentEmotion&&e.settings.showPopup&&!e.settings.hiddenReport).pipe(Object(P.a)((e,t)=>Object(r.a)(e).pipe(Object(Oe.a)(e?0:300),Object(E.a)(t>0))),Object(W.a)()),this.viewButtonState=this._state.view(e=>({prevalentEmotion:a?e.prevalentEmotion:void 0,isVisible:e.settings.showEmoji&&!e.settings.hiddenReport,isVisibleInExpendedMenu:!e.settings.hiddenReport,showAnimation:!!e.prevalentEmotion&&!e.settings.hideWelcomeNotification})),this.upgradeHook=new Pn(n,o,this._state.view(e=>e.settings.hiddenReport&&!!e.prevalentEmotion),s)}}var Mn,Rn=n(369),Dn=n(428),Ln=n(420),Bn=n(201),Un=n(721),zn=n(92),Hn=n(183),Vn=n(116),Gn=n(70),Wn=n(105);!function(e){e.equals=function(e,t){return e&&t?e.alertId===t.alertId:e===t}}(Mn||(Mn={}));class $n{constructor(e,t,n,o,a,l,u,d,h,p,f,m,v=200,_=500,x=c.a.create($n.name)){this._textFieldLayout=e,this._highlightGeometry=t,this._capiCardController=n,this._autocorrectCardController=o,this._textObserver=a,this._getAlertById=l,this._priorityOrdering=u,this._mouseData=d,this._canPerformReplacementAt=h,this._createCapiCardModel=p,this._createAutocorrectCardModel=f,this._filterElement=m,this._cardShowDelayMs=v,this._cardHideDelayMs=_,this._log=x,this._capiCardModel=null,this._onTopOfElement=e=>{const t=Object(Wn.b)(this._filterElement).elementFromPoint(e.left,e.top);return this._filterElement.contains(t)},this._rawHoveredHighlight=this._mouseData.pipe(Object(w.a)(C.a.hz30),Object(W.a)(Gn.a),Object(s.a)(({client:e,offset:t})=>{if(e&&t&&this._onTopOfElement(e)){const e=this._highlightGeometry.geometry.get();return Object.keys(e).reduce((n,i)=>{const r=e[i],o=r&&this._getAlertById(r.alertId);if(r&&o){const e=n&&this._getAlertById(n.alertId);if(!e||this._priorityOrdering.greaterThan(o,e)){const e=r.rects&&r.rects.find(e=>Vn.c.contains(t,e));if(e)return{highlight:e,alertId:r.alertId}}}return n},null)}return null}),Object(W.a)(Mn.equals)),this._offByTextChange=this._textObserver.contentChanges.async.pipe(Object(b.a)(null),Object(re.a)(e=>this._log.trace("OffByTextChange",e))),this._offByTextPositionChange=Object(g.a)(this._textFieldLayout.rect.changes.pipe(Object(re.a)(()=>this._log.trace("Text field position, size has been changed"))),this._textFieldLayout.scroll.changes.pipe(Object(re.a)(()=>this._log.trace("Text field scroll has been changed"))),Object(i.a)(window,"scroll").pipe(Object(re.a)(()=>this._log.trace("Window scroll detected")))).pipe(Object(A.a)(),Object(b.a)(null)),this._switchByDisplayedCard=this._rawHoveredHighlight.pipe(Object(P.a)(e=>Object(y.b)(this._capiCardController.cardHovered,this._autocorrectCardController.cardHovered,(t,n)=>t||n?this._currentCardHighlight:e)),Object(W.a)(Mn.equals),Object(P.a)(e=>Object(r.a)(e).pipe(Object(Oe.a)(e||!this._currentCardHighlight?0:this._cardHideDelayMs))),Object(W.a)(Mn.equals)),this.hoveredHighlightBehavior=this._switchByDisplayedCard.pipe(Object(P.a)(e=>e?Object(g.a)(this._offByUpdatedGeometry(e),this._offByTextChange,this._offByTextPositionChange).pipe(Object(re.a)(()=>this._log.trace("Stop")),Object(A.a)(),Object(E.a)(e)):Object(r.a)(null)),Object(W.a)(Mn.equals),Object(zn.a)(new V.a(null)),Object(Hn.a)()),this._highlightToOpenCard=this.hoveredHighlightBehavior.pipe(Object(P.a)(e=>Object(r.a)(e).pipe(Object(Oe.a)(e?this._cardShowDelayMs:0))),Object(W.a)(Mn.equals)),this._currentCardHighlight=null,this._subs=[this._highlightToOpenCard.subscribe(e=>this._onCardHighlightChanged(e))]}_offByUpdatedGeometry(e){return this._highlightGeometry.geometry.pipe(Object(s.a)(t=>e&&t.hasOwnProperty(e.alertId)?e:null),Object(G.a)(e=>!(null!==e||this._capiCardModel&&this._capiCardModel.wasAddedToDictionary)),Object(b.a)(null),Object(re.a)(e=>this._log.trace("OffByUpdatedGeometry",e)))}_onHighlightHovered(e,t,n){const i=this._textObserver.getCurrentTextMap().getPlainText().slice(t.transformRange.start,t.transformRange.end);i===t.transformText?this._canPerformReplacementAt(t.transformRange)?(this._hideCard(),n(t,e.highlight),this._currentCardHighlight=e):(this._log.warn(`couldn't create transform range for #${t.id}, text range is [${t.transformRange.start}; ${t.transformRange.end}] = "${i}"`),this._hideCard()):(this._log.warn(`transform text mismatch, actual "${i}" vs "${t.transformText}"`),this._hideCard())}_hideCard(){this._capiCardController.hide(),this._autocorrectCardController.hide()}_onCardHighlightChanged(e){if(this._currentCardHighlight=null,this._log.debug("hovered highlight changed: ",e||"null"),e){const t=this._getAlertById(e.alertId);t?p.a.isCapiAlert(t)?this._onHighlightHovered(e,t,(e,t)=>{this._capiCardModel=this._createCapiCardModel(e),this._capiCardController.show(this._capiCardModel,t)}):p.a.isAutocorrectAlert(t)?this._onHighlightHovered(e,t,(e,t)=>{this._autocorrectCardController.show(this._createAutocorrectCardModel(e),t)}):this._log.error(`unhandled alert type ${t._tag}`,t):(this._log.warn(`no existing alert for #${e.alertId}`),this._hideCard())}else this._hideCard()}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}}class qn{constructor(e,t,n,i,r,o=c.a.create(qn.name)){this.alert=e,this._replacementService=t,this._removeAlert=n,this._checkingService=i,this._viewActions=r,this._log=o,this._wasShown=!1,this._wasReplaced=!1,this._wasIgnored=!1,this._wasAddedToDictionary=!1}get wasAddedToDictionary(){return this._wasAddedToDictionary}onShown(){this._wasShown||(this._checkingService.onAlertDisplayed(this.alert),this._wasShown=!0)}onReplace(e){if(this._wasReplaced)this._log.warn(`onReplace called more than once for #${this.alert.id}`);else if(this._replacementService.canPerformReplacement(this.alert.transformRange)){this._log.debug("replacing",[this.alert.transformRange,e]);try{this._replacementService.performReplacement(this.alert.transformRange,e,!1),this._wasReplaced=!0,this._checkingService.onAlertApplied(this.alert,e),this._removeAlert(this.alert.id),this.alert.isFreePremium&&this.onReplaceFreePremiumAlerts()}catch(e){this._log.error(`failed to perform replacement for #${this.alert.id}`,e)}}else this._log.error(`can't perform replacement for #${this.alert.id} upon replace click`)}onIgnore(){this._wasIgnored?this._log.warn(`onIgnore called more than once for #${this.alert.id}`):(this._checkingService.onAlertIgnored(this.alert),this._removeAlert(this.alert.id),this._wasIgnored=!0)}onOpenPopupEditor(e){this._viewActions.openPopupEditorFromInlineCard(e)}onShowUnifiedLoginReminder(){this._viewActions.showUnifiedLoginReminder()}onAddToDictionary(){this._wasAddedToDictionary?this._log.warn(`onAddToDictionary called more than once for #${this.alert.id}`):(this._checkingService.onAddToDictionary(this.alert.highlightText),this._removeAlert(this.alert.id),this._wasAddedToDictionary=!0)}onClickUpgradeFromLockedPremiumAlerts(e){this._viewActions.onClickUpgradeFromLockedPremiumAlerts(e)}onReplaceFreePremiumAlerts(){this._viewActions.onReplaceFreePremiumAlerts()}}var Yn=n(330),Kn=n(368),Qn=n(351);class Xn{constructor(e,t,n,i,r=3,o=c.a.create(Xn.name)){this._legacyInlineCards=e,this._model=t,this._layout=n,this._editorId=i,this._underlineThicknessOffset=r,this._log=o,this._subs=[],this.shown=new V.a(!1),this._createLegacyCardMatch=e=>{const t=f.g.toRawData(e);return{id:e.id,syn:!0,editorId:this._editorId,rawMatch:t,synonyms:t.synonyms,replace:(t,n)=>{this._model.replace(e,t),this.hide()},ignore:a.l,addToDict:a.l}}}show(e,t){const n=this._createLegacyCardMatch(e),r=this._layout.textField.rect.getApproximate(),o=this._layout.textField.scroll.getApproximate();this._legacyInlineCards.fluidShowSynonym(n,Object(vn.b)(t,r.page,o,this._layout.getTranslationToCards()),this._underlineThicknessOffset),this._subs=[Object(i.a)(this._legacyInlineCards,"hide").pipe(Object(A.a)(),Object(b.a)(!1)).subscribe(this.shown),Object(i.a)(this._legacyInlineCards,"toeditor").pipe(Object(ie.a)(1)).subscribe(t=>{this._model.openPopupEditor(e),this.hide()})],this.shown.next(!0)}hide(){this.shown.next(!1),this._log.info("hiding inline card"),this._subs.forEach(e=>e.unsubscribe()),this._subs=[],this._legacyInlineCards.fluidHide()}dispose(){this.hide()}}class Jn{constructor(e,t,n,i=c.a.create(Jn.name)){this._replacementService=e,this._sendSynAppliedFeedback=t,this._viewActions=n,this._log=i}replace(e,t){const n=e.token,i=e.position,r={start:i,end:i+n.length};if(this._replacementService.canPerformReplacement(r)){this._log.debug("replacing",[n,t]);try{this._replacementService.performReplacement(r,t,!1),this._sendSynAppliedFeedback(e,t),this._log.debug(`Text "${n}" was replaced by "${t}"`)}catch(e){this._log.error(`failed to perform synonym replacement for "${n}" by "${t}"`)}}else this._log.error(`can't perform synonym replacement for "${n}" upon replace click`)}openPopupEditor(e){this._viewActions.openPopupEditorFromSynonymCard(e)}}var Zn=n(283),ei=n(62),ti=n(404),ni=n(394);class ii{constructor(e,t,n,i,o,l,u,d,h,p,f=a.e.seconds(5),m=c.a.create(ii.name)){this._synonymsAreEnabled=e,this._targetDoubleClick=t,this._getCurrentTextMap=n,this._requestSynonyms=i,this._cardController=o,this._actions=l,this._textFieldLayout=u,this._geometryLayout=d,this._geometryProvider=h,this._currentSelection=p,this._synonymsRequestTimeout=f,this._log=m,this._dblClick=this._synonymsAreEnabled.pipe(Object(W.a)(),Object(P.a)(e=>e?this._targetDoubleClick.pipe(Object(s.a)(()=>{const e=this._getCurrentTextMap(),t=this._currentSelection.getCurrentSelection(e,!0),n=t&&this._geometryProvider.create(t,e),i=t&&e.getPlainText().slice(t.start,t.end);try{const e=i&&""!==i.trim()?n&&this._geometryProvider.getClientRects(n):null;return t&&e&&null!==i?{textOffset:t.start,text:i,rect:e[0]}:null}finally{n&&this._geometryProvider.dispose(n)}}),Object(re.a)(e=>this._log.trace("Double clicked",e))):Object(Zn.b)())),this._synonyms=this._dblClick.pipe(Object(P.a)(e=>this._textFieldLayout.scroll.changes.pipe(Object(A.a)(),Object(re.a)(()=>this._log.trace("Scroll detected")),Object(b.a)(null),Object(E.a)(e))),Object(s.a)(e=>{if(e){const t=Vn.c.setPosition(this._geometryLayout.getApproximateConversionContext().clientToRelative(e.rect),e.rect);return{textOffset:e.textOffset,text:e.text,rect:t}}return null}),Object(v.a)()),this._showCardSub=this._synonyms.pipe(Object(G.a)(e=>!!e),Object(P.a)(({textOffset:e,text:t,rect:n})=>Object(ei.a)(this._requestSynonyms(t,e)).pipe(Object(s.a)(e=>({syn:e,rect:n})),Object(ti.a)(this._synonymsRequestTimeout),Object(ni.a)(e=>(this._log.trace(`Synonym request timeout (${this._synonymsRequestTimeout}ms)`,e),Object(r.a)({syn:null,rect:n}))))),Object(P.a)(e=>this._cardController.shown.pipe(Object(W.a)(),Object(G.a)(e=>!e),Object(E.a)(!0),Object(s.a)(t=>Object.assign(Object.assign({},e),{showCard:t}))))).subscribe(({syn:e,rect:t,showCard:n})=>{n?(this._log.trace("Show synonyms for",{syn:e,rect:t}),this._cardController.show(e||{id:"0",kind:"synonym",token:"",position:0,meanings:[],replacements:[],url:""},t)):(this._log.trace("Hide synonyms for",{syn:e,rect:t}),this._actions.onSynonymsHidden(),this._cardController.hide())}),this._highlightSub=this._synonyms.subscribe(e=>{this._actions.onSynonymsHidden(),e&&e.rect&&this._actions.onSynonymsRequested(e.rect)})}dispose(){this._showCardSub.unsubscribe(),this._highlightSub.unsubscribe()}}var ri=n(704);n.d(t,"a",(function(){return si}));var oi=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class si{constructor(e,t,n,d,m,g,b,v,_,y,w,E,x,O=new ri.a(e,dn.b.fromDiff),C=(e=>new Kn.a(e)),k=(t=>new Yn.c(e)),T=(e=>new u.a(e,p.a.ordering)),N=Math.random().toString(),P=(t=>new Rn.b(O,n.gbutton,n.textField,e,new Rn.a(e),t)),A=Bn.a.provider,I=new Qn.a(e),F=e,M=Object(i.a)(e,"dblclick"),R=Object(Ln.a)(n.textField),L=n.createGeometryLayout(),B=new Dn.a(A,L,R),U=((e,t,n,i)=>Object(h.a)(e,t,n,i)),z=((e,t,n)=>new Un.a(e,t,n)),H={},V=c.a.create(si.name)){var G,W,$;this._domain=t,this._layout=n,this._createCheckingService=d,this._legacyCard=m,this._popupEditorController=g,this._state=b,this._actions=v,this._notifications=_,this._gnar=y,this._felog=w,this._config=E,this._isCurrentFieldFocused=x,this._textObserver=O,this._createReplacementService=C,this._createContentService=k,this._createAlertProcessor=T,this._editorId=N,this._createMinimizeState=P,this._geometryProvider=A,this._selectionService=I,this._originalTextField=F,this._textFieldDoubleClick=M,this._geometryLayout=L,this._highlights=B,this._createAlertCounts=U,this._createInlineCardController=z,this._customizations=H,this._log=V,this._isPremiumSupported=!0,this._checkingService=null,this._checkingStatus=this._customizations.checkingStatus||S.Atom.create(f.e.idle),this._getCurrentTextMap=()=>this._textObserver.getCurrentTextMap(),this._alertProcessor=this._createAlertProcessor(this._textObserver.getCurrentTextMap().getPlainText()),this._capiAlerts=this._alertProcessor.alerts.state.view(p.a.alertMapToCapiAlerts),this._alertCounts=this._createAlertCounts(e=>this._popupEditorFeature.isSupportedCapiAlert(e),this._alertProcessor.alerts.state.view(e=>a.f.map((e,t)=>t&&p.a.isCapiAlert(t)?t:void 0,e)),this._state.view("user","premium"),this._customizations.alertFilter),this._isGdocs="docs.google.com"===this._domain,this._experiments=this._state.view("user","experiments"),this._autocorrectEnabled=S.Atom.combine(this._state.view("page","autocorrectEnabled").view(e=>!!e),this._experiments,(e,t)=>!!t&&t.autocorrectEnabled&&e),this._fieldIntegrationController=new ee(this._state,this._checkingStatus,this._alertCounts,!this._isGdocs,Object.assign(Object.assign({},this._customizations),{isCurrentFieldFocused:this._isCurrentFieldFocused})),this._replacementService=this._createReplacementService(this._getCurrentTextMap),this._autocorrectReplacementService=new Nn(this._replacementService,this._selectionService,this._getCurrentTextMap),this._contentService=this._createContentService(this._getCurrentTextMap),this._inlineCardController=this._createInlineCardController(this._legacyCard,this._layout,this._editorId),this._autocorrectCheckingServiceClient=Object(a.k)(()=>new bn(Object(l.b)().bgRpc.api)),this._autocorrectInlineCardController=new Sn(this._autocorrectEnabled,()=>this._selectionService.getCurrentSelection(this._getCurrentTextMap(),!0),this._layout),this._inlineCardService=new $n(this._layout.textField,this._highlights,this._inlineCardController,this._autocorrectInlineCardController,this._textObserver,e=>this._alertProcessor.alerts.getAlertById(e),p.a.ordering,this._layout.mouse,e=>this._replacementService.canPerformReplacement(e),e=>new qn(e,this._replacementService,e=>this._alertProcessor.removeAlert(e),this._checkingService,this._model),e=>new jn(e,this._autocorrectReplacementService,e=>{var t;const n=this._alertProcessor.alerts.getAlertById(e);n&&p.a.isAutocorrectAlert(n)&&n.state===hn.a.applied?(this._autocorrectCheckingServiceClient.get().onCorrectionRejected({context:n.context,original:n.replacement,suggested:n.transformText,expected:null,isExplicit:!0}),null===(t=this._checkingService)||void 0===t||t.onAutocorrectAlertDismissed({before:n.replacement,after:n.transformText,context:n.context}),this._alertProcessor.removeAlert(e)):this._log.warn(`non-existing or invalid a/c alert #${e} reverted?`)}),this._originalTextField),this._textFieldAttrs=new j(this._originalTextField,{spellcheck:"false"}),this._emogenieService=new Fn(this._state.get().page,this._editorId,this._gnar,{onEmogenieFeedback:(e,t)=>this._checkingService&&this._checkingService.onEmogenieFeedback(e,t),setEmogenieEmojiState:e=>this._actions.setEmogenieEmojiState(e),setHideWelcomeEmogenieNotification:()=>this._actions.setHideWelcomeEmogenieNotification()},this._fieldIntegrationController.viewState.view("gbutton","siteSettings"),this._state.view("user","experiments").get()),this._minimizeState=this._createMinimizeState(this._emogenieService.viewState.view("prevalentEmotion").pipe(Object(o.a)(this._experiments.pipe(Object(s.a)(e=>!!e&&e.emogenieGButton))),Object(s.a)(([e,t])=>({width:e&&!t?wt.a.emojiWidth+wt.a.gButtonSize:wt.a.gButtonSize,height:wt.a.gButtonSize})))),this._verbosePremiumService=new ae(this._config,this._state.view("user"),this._state.view("page"),this._fieldIntegrationController.viewState.view(e=>e.expandedGbutton.visible),this._minimizeState.minimized,this._alertCounts,this._customizations.contentEligibleForVerbosePremium||Object(r.a)(!1),()=>this._textObserver.getCurrentTextMap().getPlainText(),this._gnar),this._openPopupEditor=(e,t,n)=>oi(this,void 0,void 0,(function*(){return this._checkingService?this._popupEditorFeature.openPopupEditor(e,t,n,this._checkingService,!!this._model.isAnonUserPopupEditorExperiment()):void 0})),this._model=(G=new ue(this._fieldIntegrationController,this._gnar,this._actions,this._state,this._emogenieService,this._felog,this._notifications,this._verbosePremiumService,this._editorId,this._domain,this._openPopupEditor,()=>Array.from(this._alertProcessor.alerts.getAll()).filter(p.a.isCapiAlert),this._isGdocs),(W=this._customizations).extendModels?W.extendModels(G):G),this._popupEditorFeature=new fe(this._alertProcessor,this._alertCounts,this._contentService,this._selectionService,this._textObserver,this._originalTextField,this._state,this._domain,this._popupEditorController,ai),this._isDisposed=!1,this._subs=[...this._customizations.gmailSendEmailMaskClickObs?[this._customizations.gmailSendEmailMaskClickObs.subscribe(e=>{e&&(this._fieldIntegrationController.updatePopupState({type:"gmail-pre-send-email-premium",alerts:this._capiAlerts}),this._gnar.gmailPopupGmailPremiumPopupShow(this._textObserver.getCurrentTextMap().getPlainText().length,this._alertCounts.get().plus))})]:[]],this._isPremiumSupported=!this._customizations.noPremium,this._disposables=[this._render(),this._popupEditorFeature,this._textFieldAttrs,($={alertProcessor:this._alertProcessor,highlights:this._highlights,textObserver:this._textObserver,layout:this._layout.textField,felogPerformance:this._felog.performance,alertFilter:this._customizations.alertFilter||Object(r.a)(ai)},new D($.alertProcessor,$.highlights,$.alertFilter,$.textObserver,$.layout,$.felogPerformance))],this._state.get().connection.dataControl===J.a.active?this._fieldIntegrationController.updatePopupType("dataControl"):Z.a.isEdcBlocked(this._state.get().user)||this._startCheckingText(!0===this._state.get().page.showOnboarding)}update(e){if(Z.a.isEdcBlocked(e.user))return null!==this._checkingService&&(this._alertProcessor.removeAllAlerts(),this._checkingService.closeConnection(),this._checkingService=null),void this._state.set(e);if(null!==this._checkingService){const t=e.user,n=e.page.dialectStrong,i=this._state.get(),r=i.user,o=i.page.dialectStrong;t.id===r.id&&t.type===r.type&&n===o||(this._checkingService.reconnect(),this._alertProcessor.removeAllAlerts(),this._popupEditorController.updatePopupEditorState(me(e)))}else e.connection.dataControl!==J.a.active&&this._startCheckingText(!0===e.page.showOnboarding);this._state.set(e)}dispose(){this._isDisposed||(this._isDisposed=!0,this._subs.forEach(e=>e.unsubscribe()),[...this._disposables,...this._autocorrectCheckingServiceClient.hasValue?[this._autocorrectCheckingServiceClient.get()]:[],this._inlineCardService,this._inlineCardController,this._highlights,this._textObserver,this._fieldIntegrationController,this._verbosePremiumService].forEach(e=>{try{e.dispose()}catch(e){this._log.error("error at integration dispose",e)}}))}_render(){const e=new cn(this._layout,this._highlights,this._alertProcessor,this._inlineCardService,this._fieldIntegrationController,this._verbosePremiumService,this._alertCounts,this._model,this._experiments,this._autocorrectEnabled,this._emogenieService,this._minimizeState,this._isPremiumSupported,this._isGdocs);return this._layout.render(e.highlights,e.innerElements,e.outerElements,this._autocorrectInlineCardController.view)}_startCheckingText(e=!1){if(null!==this._checkingService)return void this._log.error("Attempt to call _startCheckingText() more than once");const t=this._createCheckingService();this._checkingService=t;const n=new Xn(this._legacyCard,new Jn(this._replacementService,(e,n)=>t.onSynonymApplied(e,n),this._model),this._layout,this._editorId);this._disposables.push(t,new _(this._alertProcessor,t,this._textObserver,this._originalTextField,this._textFieldAttrs,e=>this._emogenieService.actions.setEmogenieReport(e),e=>this._checkingStatus.set(e),e=>this._fieldIntegrationController.setSiteSettings(e)),...gn.shouldCreate(this._experiments.get(),this._isGdocs)?[new gn(this._autocorrectCheckingServiceClient.get(),t,this._alertProcessor,this._textObserver,this._autocorrectReplacementService,this._selectionService,this._autocorrectEnabled,this._felog.autocorrect)]:[],n,new ii(this._state.view("page","enabledDefs"),this._textFieldDoubleClick,()=>this._textObserver.getCurrentTextMap(),(e,n)=>t.requestSynonyms(e,n),n,this._model,this._layout.textField,this._geometryLayout,this._geometryProvider,this._selectionService)),e?(this._fieldIntegrationController.updatePopupType("onboarding"),this._actions.seenOnboarding()):"dataControl"===this._fieldIntegrationController.viewState.get().popup.type&&this._model.closePopup()}}function ai(e){return!p.a.isCapiAlert(e)||Object(d.c)(e)}},function(e,t,n){"use strict";var i=n(444),r=n(17),o=n(9),s=n(120),a=n(418),c=n(80),l=n(16),u=n(0),d=n(73),h=n(35),p=n(45),f=n(21);const m=({nextStep:e})=>u.createElement("div",{className:h.step},u.createElement("div",{className:h.content},u.createElement("div",{className:h.title},"Defeat Tricky Mistakes",u.createElement("br",null)," With One Click"),u.createElement("div",{className:h.text},"Simply hover your mouse over underlined words and click once on your preferred correction."),u.createElement(f.a,{clickHandler:()=>{e(),p.a.onboardingOverlayNextButtonClick("start")}},u.createElement("button",{"data-name":"next-btn",className:h.button},"next")))),g=({nextStep:e,lastStep:t})=>u.createElement("div",{className:h.step},u.createElement("div",{className:h.content},u.createElement("div",{className:h.title},"Personalize Grammarly ",u.createElement("br",null)," for More Relevant Checking"),u.createElement("div",{className:h.text},"Write more effectively by letting Grammarly",u.createElement("br",null)," know a little bit about your preferences."),u.createElement(f.a,{clickHandler:()=>{e(),p.a.onboardingOverlayPersonalizeButtonClick("info")}},u.createElement("button",{"data-name":"personalize-btn",className:h.button},"personalize")),u.createElement(f.a,{clickHandler:()=>t()},u.createElement("button",{"data-name":"skip-btn",className:h.link},"skip")))),b=({onClose:e})=>u.createElement("div",{className:h.step},u.createElement("div",{className:h.content},u.createElement("div",{className:h.title},"You’re fully protected!"),u.createElement("div",{className:h.text},"Now, whenever you see the green Grammarly logo, it means that Grammarly has not found any mistakes. Happy writing!"),u.createElement(f.a,{clickHandler:()=>e()},u.createElement("button",{"data-name":"lets-write-btn",className:h.button},"let's write"))));var v=n(10),_=n(559);const y="",w="#00B281",E="#9399A7";class x extends u.Component{constructor(e){super(e),this.selectOnChange=({target:e})=>{const{id:t,change:n}=this.props,i=e,r=i.value;i.style.color=w,n(t,r)},this.state={val:y}}componentDidMount(){if(!1===Object(v.k)())return;const{id:e}=this.props;this.refs["select-"+e].addEventListener("change",this.selectOnChange)}componentWillUnmount(){if(!1===Object(v.k)())return;const{id:e}=this.props;this.refs["select-"+e].removeEventListener("change",this.selectOnChange)}shouldComponentUpdate(){return!1}render(){const{id:e,options:t}=this.props,{val:n}=this.state;return u.createElement("div",{className:_.selectWrap},u.createElement("select",{ref:"select-"+e,key:"select-"+e,onChange:e=>this.selectOnChange(e),style:{color:E}},n===y&&u.createElement("option",{key:`${e}_default}`,value:y},"SELECT"),t.map(({val:t,title:n})=>u.createElement("option",{key:`${e}_${t}`,value:t},n))))}}const O=[{val:"work",title:"WORK"},{val:"school",title:"SCHOOL"},{val:"otherProjects",title:"OTHER PROJECTS"}],S=[{val:"american",title:"AMERICAN ENGLISH"},{val:"british",title:"BRITISH ENGLISH"},{val:"australian",title:"AUSTRALIAN ENGLISH"},{val:"canadian",title:"CANADIAN ENGLISH"}],C=[{val:"english",title:"ENGLISH"},{val:"notEnglish",title:"NOT ENGLISH"}],j=[{val:"beginner",title:"BEGINNER"},{val:"intermediate",title:"INTERMEDIATE"},{val:"advanced",title:"ADVANCED"}];class k extends u.Component{constructor(e){super(e),this.change=(e,t)=>{this.setState({isSaveActive:!0,values:Object.assign({},this.state.values,{[e]:t})})},this.onSaveClick=()=>{const{isSaveActive:e,values:t}=this.state;if(!1===e)return;const n=Object.keys(t).reduce((e,n)=>(t[n]!==y&&(e[n]=t[n]),e),{});this.props.saveAnonymousProps(n),this.props.nextStep(),p.a.onboardingOverlaySaveButtonClick("personalize")},this.state={values:{writingType:y,dialectStrong:y,primaryLanguage:y,grammarSkills:y},isSaveActive:!1}}getProgressInPercents(){const e=Object.keys(this.state.values),t=e.filter(e=>this.state.values[e]!==y).length;return Math.round(t/e.length*100)}render(){const e=this.getProgressInPercents(),t={transform:`scaleX(${e/100})`};return u.createElement("div",{className:Object(o.d)(h.step,h.personalize)},u.createElement("div",{className:h.content},u.createElement("div",{className:h.title},"Personalize"),u.createElement("div",{className:h.progress},"Your preferences are ",u.createElement("span",{className:h.progressValue},e,"%")," custom",u.createElement("div",{className:h.bar},u.createElement("div",{className:h.barValue,style:t}))),u.createElement("div",{className:h.grid},u.createElement("div",{"data-name":"writingType",className:h.item},u.createElement("div",{className:h.name},"Most of my writing is for"),u.createElement(x,{id:"writingType",options:O,change:this.change}),u.createElement("div",{className:h.description},"Our algorithms will show corrections relevant to your writing style")),u.createElement("div",{"data-name":"dialectStrong",className:h.item},u.createElement("div",{className:h.name},"I prefer to write in"),u.createElement(x,{id:"dialectStrong",options:S,change:this.change}),u.createElement("div",{className:h.description},"Select which dialectical conventions we should follow")),u.createElement("div",{"data-name":"primaryLanguage",className:h.item},u.createElement("div",{className:h.name},"My primary language is"),u.createElement(x,{id:"primaryLanguage",options:C,change:this.change}),u.createElement("div",{className:h.description},"This setting helps us understand your needs better")),u.createElement("div",{"data-name":"grammarSkills",className:h.item},u.createElement("div",{className:h.name},"My grammar skills are"),u.createElement(x,{id:"grammarSkills",options:j,change:this.change}),u.createElement("div",{className:h.description},"Our algorithms will show corrections relevant to your writing level")))),u.createElement("footer",{className:h.footer},u.createElement(f.a,{clickHandler:this.onSaveClick},u.createElement("button",{"data-name":"save-btn",className:Object(o.d)(h.button,!1===this.state.isSaveActive&&h.inactive)},"save")),u.createElement(f.a,{clickHandler:()=>this.props.lastStep()},u.createElement("button",{"data-name":"later-btn",className:h.link},"later"))))}}var T=n(38),N=n(560);const P=({gdprSignupEnabled:e,className:t})=>u.createElement("div",{className:t||N.footer},"By signing up, you agree to our ",u.createElement("a",{tabIndex:-1,target:"__blank",href:Object(T.n)()},"Terms and Conditions")," ","and"," ",u.createElement("a",{tabIndex:-1,target:"__blank",href:Object(T.j)()},"Privacy Policy"),". ",!0!==e&&u.createElement("span",null,"You also agree to receive product-related emails from Grammarly, which you can unsubscribe from at any time."));var A=n(319);class I extends u.Component{componentDidMount(){p.a.signUpOverlayShow("onboarding")}get _gdprSignupEnabled(){return!!this.props.experiments&&this.props.experiments.gdprSignupEnabled}_renderUnifiedFunnelExperiment(){return u.createElement("div",{className:h.unifiedFunnel},u.createElement("span",{className:h.title},"Create an account"),u.createElement("span",{className:h.sub},"to save your personalization settings"),u.createElement(A.b,{className:Object(o.d)(h.button,h.fb),onClick:this.props.continueWithFacebook}),u.createElement(A.c,{className:Object(o.d)(h.button,h.google),onClick:this.props.continueWithGoogle}),u.createElement(A.a,{className:Object(o.d)(h.button,h.email),onClick:this.props.continueWithEmail}),u.createElement(P,{gdprSignupEnabled:this._gdprSignupEnabled,className:h.terms}),u.createElement("div",{className:h.bottom},u.createElement("div",{className:h.login},"Already have an account?"," ",u.createElement(f.a,{clickHandler:this.props.openSignin},u.createElement("span",{className:h.link},"Log in"))),u.createElement(f.a,{clickHandler:()=>this.props.lastStep()},u.createElement("span",{className:Object(o.d)(h.skip,h.link)},"Don’t save my settings"))))}render(){return this._renderUnifiedFunnelExperiment()}}var F=n(121);class M extends u.Component{constructor(e){super(e),this.transforms=["0","18px","36px","36px","54px"],this.classes=["start","info","personolize","registration","finish"],this.nextStep=()=>{this.setState({stepIndex:this.state.stepIndex+1})},this.lastStep=()=>{this.setState({stepIndex:this.steps.length-1})},this.videoLoaded=()=>{clearTimeout(this.placeholderTimeout),Object(F.a)().onboardingVideoLoaded()},this.state={stepIndex:0,placeholder:!1}}renderStep(e){return this.steps=[u.createElement(m,{nextStep:this.nextStep}),u.createElement(g,{nextStep:this.nextStep,lastStep:this.lastStep}),u.createElement(k,{nextStep:this.props.isAnonymous?this.nextStep:this.lastStep,lastStep:this.lastStep,saveAnonymousProps:this.props.saveAnonymousProps}),u.createElement(I,{nextStep:this.nextStep,lastStep:this.lastStep,experiments:this.props.experiments,onClose:this.props.onClose,continueWithFacebook:this.continueWithFacebook,continueWithGoogle:this.continueWithGoogle,continueWithEmail:this.continueWithEmail,openSignin:this.openSignin}),u.createElement(b,{nextStep:this.nextStep,onClose:this.props.onClose})],this.steps[e]}componentWillMount(){this.placeholderTimeout=setTimeout(()=>{this.setState({stepIndex:this.state.stepIndex,placeholder:!0})},1500)}componentWillReceiveProps(e){!1===this.props.userWasAuthenticated&&!0===e.userWasAuthenticated&&this.lastStep()}componentWillUnmount(){clearTimeout(this.placeholderTimeout)}componentDidMount(){p.a.onboardingOverlayShow(),Object(F.a)().onboardingTutorialShow()}continueWithFacebook(){window.open(Object(T.f)("signupHook"))}continueWithGoogle(){window.open(Object(T.h)("signupHook"))}continueWithEmail(){window.open(Object(T.m)("signupHook","onboardingStep"))}openSignin(){window.open(Object(T.l)())}render(){const e={transform:`translateX(${this.transforms[this.state.stepIndex]})`},t=Object(o.d)(h[this.classes[this.state.stepIndex]],this.state.placeholder&&h.placeholder);return u.createElement("div",{className:t},u.createElement("video",{className:h.startVideo,autoPlay:!0,loop:!0,muted:!0,preload:"auto",onLoadedData:this.videoLoaded},u.createElement("source",{src:"http://d481ihvqkt377.cloudfront.net/onboarding/1cards.mp4",type:"video/mp4"})),u.createElement("video",{className:h.infoVideo,autoPlay:!0,loop:!0,muted:!0,preload:"auto"},u.createElement("source",{src:"http://d481ihvqkt377.cloudfront.net/onboarding/2personalization.mp4",type:"video/mp4"})),u.createElement("video",{className:h.finishVideo,autoPlay:!0,loop:!0,muted:!0,preload:"auto"},u.createElement("source",{src:"http://d481ihvqkt377.cloudfront.net/onboarding/3gbutton.mp4",type:"video/mp4"})),this.renderStep(this.state.stepIndex)||null,u.createElement("div",{className:h.slider},u.createElement("div",{className:h.sliderActive,style:e}),u.createElement("div",{className:h.sliderItem}),u.createElement("div",{className:h.sliderItem}),u.createElement("div",{className:h.sliderItem}),u.createElement("div",{className:h.sliderItem})))}}var R=n(340);class D extends u.Component{constructor(){super(...arguments),this.state={hide:!1},this.onClose=e=>{e&&e.stopPropagation(),this.setState({hide:!0});const t=d.findDOMNode(this.refs["onboarding-dialog-el"]),n=this.refs.onboarding;void 0!==n&&n.state.stepIndex===n.steps.length-1&&p.a.onboardingOverlayLetsWriteButtonClick("onboarding"),t&&t.addEventListener("animationend",()=>this.props.onClose())}}render(){const e=Object(o.d)({[R.onboardingDialog]:!0,[R.hide]:this.state.hide,[R.windows]:Object(v.o)()});return u.createElement("div",{ref:"onboarding-dialog-el",className:e},u.createElement("div",{className:R.content},u.createElement("div",{className:R.viewContainer},u.createElement(M,{ref:"onboarding",isAnonymous:this.props.isAnonymous,userWasAuthenticated:this.props.userWasAuthenticated,experiments:this.props.experiments,onClose:this.onClose,saveAnonymousProps:this.props.saveAnonymousProps}))),u.createElement(f.a,{clickHandler:()=>{p.a.onboardingOverlayCloseButtonClick("dialog"),this.onClose()}},u.createElement("div",{className:R.btnClose})))}}class L extends(Object(l.l)(c.emitter)){constructor({doc:e,container:t,user:n,saveAnonymousProps:i}){super(),this.userWasAuthenticated=!1,this.updateUser=e=>{!0===this.user.anonymous&&!1===e.anonymous&&(this.userWasAuthenticated=!0),this.user=e,this.render()},this.onKey=e=>{Object(l.t)(e)===l.b&&this.dialogComponent&&this.dialogComponent.onClose()},this.onClose=()=>{this.emit("hide"),this.remove()},this.containerClickHandler=e=>{e.stopPropagation(),e.stopImmediatePropagation()},this.doc=e,this.user=n,this.saveAnonymousProps=i,t&&(this.container=t),this.render()}checkContainer(){this.container||(this.container=this.doc.createElement("onboarding_dialog"),this.container.addEventListener("click",this.containerClickHandler),this.doc.documentElement.appendChild(this.container),Object(s.a)(this.doc.defaultView,"keydown",this.onKey,!1))}render(){const{user:e,userWasAuthenticated:t}=this;this.checkContainer(),this.dialogComponent=d.render(u.createElement(D,{username:e&&e.firstName||"",isAnonymous:!e||e.anonymous,experiments:e&&e.experiments,userWasAuthenticated:t,saveAnonymousProps:this.saveAnonymousProps,onClose:this.onClose}),this.container)}remove(){Object(s.b)(this.doc.defaultView,"keydown",this.onKey,!1),this.container&&(this.container.removeEventListener("click",this.containerClickHandler),d.unmountComponentAtNode(this.container)),this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}var B=n(60),U=n(22),z=n(247),H=n(232);class V extends u.Component{constructor(){super(...arguments),this.state={hide:!1},this.onClick=()=>{this.refs["open-from-gbutton-el"].checked&&this.props.showEdgePopupFromGButton(),this.props.createDocument(this.props.text),this.onClose()},this.onComponentClick=e=>{Object(o.k)(e.target,`.${H.content}, .${H.content} *`)||this.onClose(e)},this.onClose=e=>{e&&e.stopPropagation(),this.setState({hide:!0});const t=d.findDOMNode(this.refs["dialog-el"]);t&&t.addEventListener("animationend",()=>this.props.onClose())}}render(){const e=Object(o.d)({[H.dialog]:!0,[H.hide]:this.state.hide,[H.windows]:Object(v.o)()}),t=`Grammarly’s pop-up editor\nisn’t available on ${this.props.domain}`,n=(this.props.errorMessage?this.props.errorMessage:t).split("\n").reduce((e,t,n)=>(0!==n&&e.push(u.createElement("br",null)),e.push(t),e),[]);return u.createElement(f.a,{clickHandler:this.onComponentClick},u.createElement("div",{ref:"dialog-el",className:e},u.createElement("div",{className:H.content},u.createElement("div",{className:H.viewContainer},u.createElement("div",{className:H.title},n),u.createElement(z.a,{onClick:this.onClick,text:"Open on grammarly.com"}),u.createElement("div",{className:H.text},"This will open a new tab."),u.createElement("div",{className:H.footer},u.createElement("input",{ref:"open-from-gbutton-el",type:"checkbox",id:"unsupported-checkbox"}),u.createElement("label",{className:H.label,htmlFor:"unsupported-checkbox"},"Go straight to grammarly.com next time.")))),u.createElement("div",{className:H.btnClose,onClick:this.onClose})))}}class G extends(Object(l.l)(c.emitter)){constructor({doc:e,text:t,container:n,showEdgePopupFromGButton:i,errorMessage:r}){super(),this.updateUser=e=>{this.user=e,this.render()},this.onKey=e=>{Object(l.t)(e)===l.b&&this.dialogComponent&&this.dialogComponent.onClose()},this.createDocument=e=>{U.emitBackground("create-document",e)},this.onClose=()=>{this.emit("hide"),this.remove()},this.doc=e,this.showEdgePopupFromGButton=i,this.text=t,r&&(this.errorMessage=r),n&&(this.container=n),this.render()}checkContainer(){this.container||(this.container=this.doc.createElement("unsupported_popup_dialog"),this.doc.documentElement.appendChild(this.container),Object(s.a)(this.doc.defaultView,"keydown",this.onKey,!1))}render(){const{text:e}=this;this.checkContainer(),this.dialogComponent=d.render(u.createElement(V,{onClose:this.onClose,createDocument:this.createDocument,showEdgePopupFromGButton:this.showEdgePopupFromGButton,domain:Object(B.b)(),text:e,errorMessage:this.errorMessage}),this.container)}remove(){Object(s.b)(this.doc.defaultView,"keydown",this.onKey,!1),this.container&&d.unmountComponentAtNode(this.container),this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}var W=n(149),$=n(65),q=n(12),Y=n(228),K=n(4),Q=n(100),X=n(74),J=n(56);const Z=q.a.create("SignInIframe");const ee=q.a.create("SignInIframe/SigninDialog"),te=function(e,t,n,i){const r=Object(c.emitter)({updateUser:K.l});let o=null;const s=a=>{if(a._tag===Q.e.iframeReady){ee.debug("iframeReady message received");const r=Q.c.create(e,t,n,i);U.emitBackground(Q.d.bgSignInIFrame,r)}else a._tag===Q.e.close&&(ee.debug("close message received"),o&&o.dispose(),U.off(Q.d.signInIFrame,s),r.emit("hide"))};return U.on(Q.d.signInIFrame,s),o=function(){try{return new J.b(J.a.fromDocument(document,"grammarly-signin"),J.c.appendChild(document.body.parentElement||document.body),()=>(function(e){const t=Object(X.b)();try{const e=t.getUrl("src/signin.html"),n={width:"100%",height:"100%",border:"none",position:"fixed",top:"0px",left:"0px",zIndex:2147483647};return u.createElement("iframe",{style:n,src:e})}catch(e){throw Z.error("Failed to create signin iFrame element",e),e}})("dialog"))}catch(e){throw Z.error("Failed to load signin iFrame to DOM",e),e}}(),r};var ne=n(259),ie=n(703);const re="gr_-editor",oe="gr-iframe-first-load",se="."+re,ae=e=>"."+re+"_"+e,ce=e=>re+"_"+e;class le extends u.Component{render(){const e=re+" "+oe;return u.createElement("div",{className:e,style:{display:"none"}},u.createElement("div",{className:ce("back")}),u.createElement(a.a,null))}}function ue({doc:e,iframe:t,user:n,page:i,actions:{updateSettings:a,incFixed:c,saveAnonymousProps:h,showEdgePopupFromGButton:f,updateGroups:m}},g=q.a.create(ue.name)){const b="Dialog";let _,y,w,E,x,O,S,C=!1,j=i&&i.dialectStrong;const k={show:V,hide:Z,updateState:function(e,r){const o=!1===n.anonymous&&!1===e.anonymous&&n.premium!==e.premium,s=j!==r.dialectStrong;n=e,j=(i=r).dialectStrong,x&&x.updateUser(e),O&&O.updateUser(e),o&&t.refresh(),s&&t.send({action:"hard-reset"})},preActivate:function(){n.anonymous||t.activate()},render:M,getSignin:te,remove:function(){window===window.top&&(U.off("show-dialog",V),U.off("hide-dialog",Z),U.off("reset",P),U.off(ne.a.serverIframe,J)),t.deactivate(),t.off("message",Q);const e=_&&_.parentNode;e&&e.parentNode&&e.parentNode.removeChild(e)},refresh:D};t&&t.on("message",Q),window===window.top&&(U.on("show-dialog",V),U.on("hide-dialog",Z),U.on("reset",P),U.on(ne.a.serverIframe,J));let T=e=>{U.emitFocusedTab("editor-set-state",e)};return k;function N(t){const n="off"===t;Object(o.r)(e.body,n,"gr-disable-scroll"),Object(o.r)(e.documentElement,n,"gr-disable-scroll")}function P(){E&&!n.anonymous&&D()}function A(t,n,i){N("off"),S=function(t,n){return new G({doc:e,text:t,showEdgePopupFromGButton:f,errorMessage:n})}(n,i),S.one("hide",()=>{N("on"),U.emitFocusedTab("focus-editor",t)})}function I(t){m(),N("off"),O=function(t){return new L({doc:e,user:t,saveAnonymousProps:h})}(n),O.one("hide",()=>{N("on"),U.emitFocusedTab("focus-editor",t)})}function M(){w=!0,_=e.querySelector(se),_||(_=Object(d.findDOMNode)(Object(o.q)(u.createElement(le,null),e.documentElement,Object(l.r)()).component)),y=_.querySelector(ae("back"))}function R(e){e.stopPropagation(),Z()}function D(){if(C){t.el.style.background="";const e=T;return T=n=>{T=e,t.refresh(),U.emitFocusedTab("after-refresh-dialog",n)},void Z()}t.refresh()}function z(e){U.emitBackground(ne.a.iframeMode,{iframeMode:e,id:E.socketId})}function H(e,t,n){const r=e.api.text;i.showEdgePopupFromGButton?U.emitBackground("create-document",r):A(t,r,n)}function V({data:e,caller:i,isOnboarding:o,editorId:s,totalErrors:a,shouldOpenLoginView:c,shouldOpenUnsupportedPopupDialog:l}){return W.a.start(b),E=e,o?I(s):n.anonymous?function(e,t,n,i,r=te){const o=Object(F.a)();m(),N("off"),x=r(t,e,n,i),x.one("hide",()=>{N("on"),U.emitFocusedTab("focus-editor",E.editorId),o.signinClose(W.a.stop(b))}),o.signinOpen(),i?p.a.signInOverlayShow(e):p.a.signUpOverlayShow(e)}(i,n,a,c):l?H(e,s,e.data&&e.data.popupDialogErrorMessage):void(Object(v.k)()?function(e){const t=r.a().appConfig.url.emptyScriptUrl;let n=!1;const i=document.createElement("script"),o=t=>{n||(document.body.removeChild(i),e(t),n=!0)},s=setTimeout(()=>o(!0),1200);i.setAttribute("src",t),i.onload=()=>{clearTimeout(s),o(!1)},document.body.appendChild(i)}(n=>{n?H(e,s):(Y.a.instance.start(),t.activate(),K(e))}):(Y.a.instance.start(),t.activate(),K(e)))}function K(n){w||M(),_.style.opacity="0",Object(o.a)(_,"gr-_show");const i=Object(ie.a)({favicon:Object(B.c)(),page:Object(B.e)()},n);t.send(i),z(!0),setTimeout(()=>{_.style.opacity="1",t.getWasLoadedBefore()&&Y.a.instance.trackLoad(Y.a.PopupEditorType.old,!1,Date.now())},100),N("off"),Object(s.a)(e.body,"keydown",ee,!1),Object(s.a)(y,"click",R,!1),Object(s.a)(_,"click",R,!1),C=!0}function Q(n){const i=n.action;if("edit"===i&&T(n),"close"===i&&Z(),"initialized"===i&&(function(t){const n="Premium"===t.userType?"freemium-plus":"freemium";e.documentElement.setAttribute("data-type",n)}(n),setTimeout(()=>t.el.style.background="transparent",300)),"socket"===i&&("connect"!==n.method?(delete n.url,U.emitBackground(ne.a.client,n)):g.error("'connect' method call not allowed on remote socket, ignoring",n)),"setSettings"===i&&a(n.data),"tracking"===i&&n.method&&Object($.a)(n.method,n.param,n.props),"popup-editor-fix"===i&&c(),"open-url"===i&&!0===n.upgradeHookUrl)if(p.a.getPremiumButtonClick(n.placement||"popupEditor"),Object(F.a)().userUpgradeClick(n.placement||"popupEditor"),Object(v.m)())Object(X.b)().openSubscriptionDialog({currentAlerts:[],isAnonymousUser:!1,isFromEmail:!1,showPlanComparison:!1});else if(Object(v.k)()&&n.isEdge&&n.url===r.a().appConfig.url.upgrade){const e=n.params||{},t=Object.keys(e),i=t.reduce((n,i,r)=>n+=`${i}=${encodeURIComponent(String(e[i]))}${r!==t.length-1?"&":""}`,r.a().appConfig.url.upgrade+"?");window.open(i)}}function J(e,n){E&&e.socketId===E.socketId&&(n("ok"),e.action="socket",t.send(e))}function Z(){C&&(C=!1,N("on"),_.style.opacity="0",Object(o.p)(_,"gr-_show"),Object(o.p)(_,oe),Object(s.b)(e.body,"keydown",ee,!1),Object(s.b)(y,"click",R,!1),Object(s.b)(_,"click",R,!1),t.send({action:"hide"}),z(!1),U.emitFocusedTab("dialog-closed",E.editorId))}function ee(e){if(Object(l.t)(e)===l.b&&C)return e.stopPropagation(),e.preventDefault(),Z()}}var de,he,pe=n(445);n.d(t,"a",(function(){return de})),(he=de||(de={})).empty=function(){return{iframe:null,dialog:null,card:null,notifications:null,clear:K.l,updateState:K.l,initialized:!1}},he.init=function(e,t,{doc:n=document,user:r,page:o,actions:s}){const c=t.iframe=Object(a.c)({doc:n,user:r});t.dialog=ue({doc:n,iframe:c,user:r,actions:s,page:o}),t.dialog.render(),t.card=new i.a({dynamicConfig:e,doc:n,user:r,isGDocs:Object(B.i)()}),t.notifications=new pe.a({doc:n,actions:s}),t.updateState=({dynamicConfig:e,user:n,page:i})=>{t.iframe&&t.iframe.updateState(n),t.dialog&&t.dialog.updateState(n,i),t.card&&t.card.updateState(e,n)},t.clear=()=>{t.iframe&&t.iframe.deactivate(),t.dialog&&t.dialog.remove(),t.card&&t.card.remove(),t.iframe=null,t.dialog=null,t.card=null},t.initialized=!0}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n(80),r=n(16);const o=Object(i.emitter)({}),s={};function a(e,t,n,i){const a=i?t+"_forced":t;let c={listeners:[]};const l=()=>{const e=c.listeners.indexOf(n);e>-1&&c.listeners.splice(e,1)};if("on"===e||"once"===e){if(s[a]=s[a]||{domEventListener:t=>{o.emit(a,t),"once"===e&&l()},listeners:[]},c=s[a],c.domEventListener){const e=e=>{c.domEventListener&&c.domEventListener(Object.assign({originalEvent:e,preventDefault:r.f,stopPropagation:r.f},e.detail))};c.listenerWrapper=c.listenerWrapper||e}0===c.listeners.length&&(c.domEventListener&&window.addEventListener(t,c.domEventListener,i),c.listenerWrapper&&window.addEventListener(t+"-gr",c.listenerWrapper,i)),c.listeners.push(n)}if("un"===e){const e=s[a];if(!e)return;l(),0===e.listeners.length&&(e.domEventListener&&window.addEventListener(t,e.domEventListener,i),e.listenerWrapper&&window.addEventListener(t+"-gr",e.listenerWrapper,i))}o[e](a,n)}const c=e=>(t,n,i=!1)=>{"object"==typeof t?Object.keys(t).map(n=>a(e,n,t[n],i)):n&&a(e,t,n,i)},l=c("on"),u=c("un");c("one")},function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var i=n(201),r=n(58),o=n(72),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const a=(e,t,n=0)=>{let i=-1,r=!1;for(;!r&&i<n;){if(e.removeAllRanges(),0===e.rangeCount){e.addRange(t);const n=1===e.rangeCount&&e.getRangeAt(0);r=n&&n.startContainer===t.startContainer&&n.startOffset===t.startOffset&&n.endContainer===t.endContainer&&n.endOffset===t.endOffset}else r=!1;i++}return r};function c(e,t,n,i=0,s=!1,c=null){const l=Object(r.c)(e.startContainer.ownerDocument,"range owner document");if(c&&function(e){const t=e.ownerDocument,n=t&&t.defaultView;if(!t||!n)return;const i=t.body.scrollLeft,r=t.body.scrollTop,o=n.scrollY,s=n.scrollX;e.focus(),o===n.scrollY&&s===n.scrollX||n.scroll(s,o),r!==t.body.scrollTop&&(t.body.scrollTop=r),i!==t.body.scrollLeft&&(t.body.scrollLeft=i)}(c),!a(Object(r.c)(l.getSelection(),"doc selection"),e,i))throw new Error("Cannot perform replacement -- failed to set selection");return s?o.a.create((e,i)=>{setTimeout(()=>n(t,l).then(t=>e(),i),0)}):n(t,l)}function l(e,t,n=0,i="insertText",s=!1,a=null){if(e)return c(e,t,t=>o.a.create((n,o)=>{Object(r.c)(e.startContainer.ownerDocument,"range owner document").execCommand(i,!1,t)?n():o("failed to replace at range, execCommand = false")}),n,s,a);throw new Error("can not perform replacement, range not created")}var u;!function(e){e.storeFrom=function(e){const t=[],n=Object(r.c)(e.getSelection(),"document selection"),i=n.rangeCount;for(let e=0;e<i;e++)t.push(n.getRangeAt(e).cloneRange());return{ranges:t}},e.restoreTo=function(e,t){const n=Object(r.c)(t.getSelection(),"document selection");n.removeAllRanges(),e.ranges.forEach(e=>n.addRange(e))}}(u||(u={}));class d{constructor(e,t,n=((e,t)=>i.b.createRange(e,t.start,t.end,!0)),r=2,o=!1,s=null){this._getCurrentTextMap=e,this._doReplaceAtCurrentSelection=t,this._createRange=n,this._setSelectionRetryCount=r,this._asyncReplace=o,this._focusElement=s}canPerformReplacement(e){const t=this._createRange(this._getCurrentTextMap(),e),n=null!==t;return t&&t.detach(),n}performReplacement(e,t,n){return s(this,void 0,void 0,(function*(){const i=this._createRange(this._getCurrentTextMap(),e);if(!i)throw new Error("can not perform replacement, range not created");{const e=Object(r.c)(i.startContainer.ownerDocument,"range owner document"),o=n&&u.storeFrom(e);try{yield c(i,t,this._doReplaceAtCurrentSelection,this._setSelectionRetryCount,this._asyncReplace,this._focusElement)}finally{i.detach()}o&&u.restoreTo(o,e)}}))}}class h extends d{static create(e,t={}){return new h(e,t.createRange,t.setSelectionRetryCount,t.asyncReplace,t.focusElement||null)}constructor(e,t,n,i,r){super(e,(e,t)=>o.a.create((n,i)=>{t.execCommand("insertText",!1,e)?n():i("failed to replace at range, execCommand = false")}),t,n,i,r)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return S}));var i=n(118),r=n(151),o=n(129),s=n(238),a=n(237),c=n(204),l=n(299),u=n(360),d=n(147),h=n(215),p=n(130),f=n(358),m=n(92),g=n(183),b=n(58),v=n(4),_=n(69),y=n(116),w=n(498),E=n(208);class x{constructor(e,t=3,n=3,i=Object(w.a)(Object(b.c)(e.ownerDocument))){this._target=e,this._xScanPoints=t,this._yScanPoints=n,this._caretRangeFromPoint=i}_getRightmostRangeRectFromPoint(e,t){const n=Object(v.p)(()=>this._caretRangeFromPoint(e,t),e=>null),i=Object(v.p)(()=>n&&this._target.contains(n.container)&&this._target!==n.container?n.getClientRects():null,e=>null);return n&&n.detach(),i&&i.length>0?i.reduce((e,t)=>e&&e.right>t.right?e:t,null):null}getIsOverlapping(e,t){return v.a.range(this._yScanPoints).some(n=>v.a.range(this._xScanPoints).some(i=>{const r=e.left+i*e.width/(this._xScanPoints-1),o=e.top+n*e.height/(this._yScanPoints-1),s=this._getRightmostRangeRectFromPoint(r-t.scrollX,o-t.scrollY);return!!(s&&s.right+t.scrollX>=e.left&&s.bottom+t.scrollY>=e.top)}))}}class O{constructor(e,t){this._mirrorDiv=e,this._layout=t}getIsOverlapping(e,t){const n=this._mirrorDiv.firstChild&&3===this._mirrorDiv.firstChild.nodeType?this._mirrorDiv.firstChild:null,i=this._mirrorDiv.lastChild&&3===this._mirrorDiv.lastChild.nodeType?this._mirrorDiv.lastChild:null,r=n&&i&&Object(v.p)(()=>{const e=Object(b.c)(this._mirrorDiv.ownerDocument).createRange();try{return e.setStart(n,0),e.setEnd(i,(i.nodeValue||"").length),e.getClientRects()}finally{e.detach()}},e=>null),o=this._layout.rect.getApproximate().page,s={top:e.top-t.scrollY-o.top,left:e.left-t.scrollX-o.left,height:e.height,width:e.width};return!!r&&Array.from(r).some(e=>y.c.intersects(s,e))}}class S{constructor(e,t,n,b,w=new x(b),O=Object(i.a)({width:E.a.gButtonSize,height:E.a.gButtonSize}),S=E.a.gButtonTopLeftMargin,C=_.a.hz4,j=v.e.seconds(5),k=(()=>b.ownerDocument&&b.ownerDocument.defaultView||{scrollX:0,scrollY:0}),T=Object(i.a)(!1)){this._textObserver=e,this._gbutton=t,this._textField=n,this._overlapDetection=w,this._gButtonSize=O,this._gButtonTopLeftMargin=S,this._layoutClock=C,this._unminimizeDebounceTimeMs=j,this._getViewportScroll=k,this._unminimizeWhenIdle=T,this.minimized=this._gbutton.minimizeEnabled?Object(r.b)(Object(r.b)(this._gbutton.positionBehavior,this._textField.rect.behavior,this._textField.scroll.behavior).pipe(Object(c.a)(this._layoutClock)),this._textObserver.contentChanges.async.pipe(Object(l.a)(void 0)),this._gButtonSize,([e,t],n,i)=>{const{top:r,left:o,effectivePadding:s}=e;if(t.size.height>=s.bottom+i.height-s.top&&t.size.width>=s.right+i.width-s.left){const e=i.width+this._gButtonTopLeftMargin,t=i.height+this._gButtonTopLeftMargin,n=o-e,s=r-t;return this._overlapDetection.getIsOverlapping(y.b.create({left:n,top:s,width:e,height:t}),this._getViewportScroll())}return!0}).pipe(Object(u.a)(this._unminimizeWhenIdle),Object(d.a)(([e,t])=>e&&t?Object(o.a)(Object(i.a)(e),Object(s.a)(this._unminimizeDebounceTimeMs).pipe(Object(h.a)(!1))):Object(i.a)(e)),Object(p.a)(),Object(f.a)(e=>Object(s.a)(e?0:this._unminimizeDebounceTimeMs)),Object(m.a)(()=>new a.a(!1)),Object(g.a)()):Object(i.a)(!1)}}},,function(e,t,n){"use strict";function i(e){try{return encodeURIComponent(e)}catch(e){return null}}function r(e){try{return decodeURIComponent(e)}catch(e){return null}}t.__esModule=!0,t.default=function(e,t,n){if(arguments.length<2)return function(e){var t=function(e){var t={},n=document.cookie.split(/ *; */);if(!n[0])return t;var i=n,o=Array.isArray(i),s=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(s>=i.length)break;a=i[s++]}else{if((s=i.next()).done)break;a=s.value}var c=a;t[r((c=c.split("="))[0])]=r(c[1])}return t}();return e?t[e]:t}(e);!function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=i(e)+"="+i(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.secure&&(r+="; secure"),document.cookie=r}(e,t,n)}},function(e,t,n){e.exports={layout:"u_fNK"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i=2;function r(e,t,n){const r=n,o=t&&parseInt(t.borderTopWidth||"0",10)||e.clientTop,s=t&&parseInt(t.borderLeftWidth||"0",10)||e.clientLeft,a=t&&parseInt(t.borderBottomWidth||"0",10)||0,c=t&&parseInt(t.borderRightWidth||"0",10)||0,l=Math.max(0,e.offsetHeight-e.clientHeight-o-a),u=Math.max(0,e.offsetWidth-e.clientWidth-s-c);return Object.assign({},n,{top:r.top+o,left:r.left+s,height:Math.max(0,l<i?n.height-o-a:e.clientHeight),width:Math.max(0,u<i?n.width-s-c:e.clientWidth)})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(90);class r{constructor({legacyStopWorkingDate:e}){this.legacyStopWorkingDate=e}static parse(e){return Object(i.b)(Object(i.g)(r.name,{legacyStopWorkingDate:Object(i.f)(i.e)}),e=>new r(e))(e)}encode(){const e={};return this.legacyStopWorkingDate&&(e.legacyStopWorkingDate=this.legacyStopWorkingDate.toISOString()),e}}class o{constructor(e,t){this.source=e,t?(this.version=t.version,this.safariAppExtensionMigration=t.safariAppExtensionMigration,this.newRichTextFieldsEnabled=t.newRichTextFieldsEnabled,this.fluidDisabledForFirefox=t.fluidDisabledForFirefox,this.fluidDisabledForSafari=t.fluidDisabledForSafari):this.version=""}static parse(e){return t=>Object(i.b)(Object(i.g)(o.name,{version:i.h,safariAppExtensionMigration:Object(i.a)(o.safariAppExtensionMigrationFieldName,Object(i.f)(r.parse)),newRichTextFieldsEnabled:Object(i.a)(o.newRichTextFieldsEnabledFieldName,Object(i.f)(i.d)),fluidDisabledForFirefox:Object(i.a)(o.fluidDisabledForFirefoxFieldName,Object(i.f)(i.d)),fluidDisabledForSafari:Object(i.a)(o.fluidDisabledForSafariFieldName,Object(i.f)(i.d))}),t=>new o(e,t))(t)}encode(){return{version:this.version,[o.safariAppExtensionMigrationFieldName]:this.safariAppExtensionMigration?this.safariAppExtensionMigration.encode():void 0,[o.newRichTextFieldsEnabledFieldName]:this.newRichTextFieldsEnabled,[o.fluidDisabledForFirefoxFieldName]:this.fluidDisabledForFirefox,[o.fluidDisabledForSafariFieldName]:this.fluidDisabledForSafari}}}o.empty=new o("empty",{version:"0",newRichTextFieldsEnabled:!0,fluidDisabledForFirefox:!1,fluidDisabledForSafari:!1}),o.safariAppExtensionMigrationFieldName="safariAppExtensionMigration_1558396627629",o.newRichTextFieldsEnabledFieldName="newRichTextFieldsEnabled_1567530773088",o.fluidDisabledForFirefoxFieldName="fluidDisabledForFirefox_1567530773089",o.fluidDisabledForSafariFieldName="fluidDisabledForSafari_1567530773090"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(151),o=n(305),s=n(4);!function(e){e.isInExperiment=function(e,t){return!e.systemInfo.os.isChromeOS&&o.a.getType(t)===o.b.registered&&!!t.experiments&&t.experiments.sendEmailPremiumPopup},e.contentEligibleObs=function(e,t){return Object(r.b)(e,t,(e,t)=>e.length>=650&&s.a.distinct(t.filter(e=>!e.isFree).map(e=>e.cardLayout.group)).length>=3)},e.hasShownPopupRecently=function(e){return!!e.sendEmailPremiumPopupLastShownTimestamp&&Date.now()<e.sendEmailPremiumPopupLastShownTimestamp+s.e.days(60)}}(i||(i={}))},,,function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,c=s(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))r.call(n,u)&&(c[u]=n[u]);if(i){a=i(n);for(var d=0;d<a.length;d++)o.call(n,a[d])&&(c[a[d]]=n[a[d]])}}return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(380);t.Lens=i.Lens,t.Prism=i.Prism,t.Optic=i.Optic,n(468)},function(e,t,n){"use strict";function i(e,t){return function(n,i){return t(n(e(i)),i)}}var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.optic=function(e,t){return{get:e,set:t,modify:i(e,t)}}}(t.Optic||(t.Optic={})),function(e){e.create=function e(t,n){return{get:t,set:n,modify:i(t,n),compose:function(i){return e((function(e){var n=t(e);return void 0!==n?i.get(n):void 0}),(function(e,r){var o=t(r);return void 0!==o?n(i.set(e,o),r):r}))}}}}(r=t.Prism||(t.Prism={})),function(e){function t(e,n){return{get:e,set:n,modify:i(e,n),compose:function(i){return t((function(t){return i.get(e(t))}),(function(t,r){return n(i.set(t,e(r)),r)}))}}}e.create=t,e.compose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new TypeError("Can not compose zero lenses. You probably want `Lens.identity`.");if(1===e.length)return e[0];var n=e[0];return e.slice(1).forEach((function(e){n=n.compose(e)})),n};var n=t((function(e){return e}),(function(e,t){return e}));e.identity=function(){return n};var o=r.create((function(e){}),(function(e,t){return t}));e.nothing=function(){return o}}(t.Lens||(t.Lens={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(14);function r(e){return!!e&&(e instanceof i.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(14),r=n(135),o=n(37),s=n(175),a=n(42),c=n(55);function l(e,t,n){if(t){if(!Object(c.a)(t))return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return l(e,n).apply(void 0,i).pipe(Object(o.a)((function(e){return Object(a.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a,c=this,l={context:c,subject:a,callbackFunc:e,scheduler:n};return new i.a((function(i){if(n){var o={args:t,subscriber:i,params:l};return n.schedule(u,0,o)}if(!a){a=new r.a;try{e.apply(c,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.next(e.length<=1?e[0]:e),a.complete()}]))}catch(e){Object(s.a)(a)?a.error(e):console.warn(e)}}return a.subscribe(i)}))}}function u(e){var t=this,n=e.args,i=e.subscriber,o=e.params,s=o.callbackFunc,a=o.context,c=o.scheduler,l=o.subject;if(!l){l=o.subject=new r.a;try{s.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.length<=1?e[0]:e;t.add(c.schedule(d,0,{value:i,subject:l}))}]))}catch(e){l.error(e)}}this.add(l.subscribe(i))}function d(e){var t=e.value,n=e.subject;n.next(t),n.complete()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(14),r=n(135),o=n(37),s=n(175),a=n(55),c=n(42);function l(e,t,n){if(t){if(!Object(a.a)(t))return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return l(e,n).apply(void 0,i).pipe(Object(o.a)((function(e){return Object(c.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new i.a((function(i){var o=a.context,c=a.subject;if(n)return n.schedule(u,0,{params:a,subscriber:i,context:o});if(!c){c=a.subject=new r.a;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?c.error(n):(c.next(e.length<=1?e[0]:e),c.complete())}]))}catch(e){Object(s.a)(c)?c.error(e):console.warn(e)}}return c.subscribe(i)}))}}function u(e){var t=this,n=e.params,i=e.subscriber,o=e.context,s=n.callbackFunc,a=n.args,c=n.scheduler,l=n.subject;if(!l){l=n.subject=new r.a;try{s.apply(o,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.shift();if(i)t.add(c.schedule(h,0,{err:i,subject:l}));else{var r=e.length<=1?e[0]:e;t.add(c.schedule(d,0,{value:r,subject:l}))}}]))}catch(e){this.add(c.schedule(h,0,{err:e,subject:l}))}}this.add(l.subscribe(i))}function d(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function h(e){var t=e.err;e.subject.error(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(14),r=n(42),o=n(37),s=n(174),a=n(62);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(r.a)(n))return l(n,null);if(Object(s.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var i=Object.keys(n);return l(i.map((function(e){return n[e]})),i)}}if("function"==typeof e[e.length-1]){var a=e.pop();return l(e=1===e.length&&Object(r.a)(e[0])?e[0]:e,null).pipe(Object(o.a)((function(e){return a.apply(void 0,e)})))}return l(e,null)}function l(e,t){return new i.a((function(n){var i=e.length;if(0!==i)for(var r=new Array(i),o=0,s=0,c=function(c){var l=Object(a.a)(e[c]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,s++),r[c]=e},error:function(e){return n.error(e)},complete:function(){++o!==i&&u||(s===i&&n.next(t?t.reduce((function(e,t,n){return e[t]=r[n],e}),{}):r),n.complete())}}))},l=0;l<i;l++)c(l);else n.complete()}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(14),r=n(42),o=n(94),s=n(37);function a(e,t,n){return n?a(e,t).pipe(Object(s.a)((function(e){return Object(r.a)(e)?n.apply(void 0,e):n(e)}))):new i.a((function(n){var i,r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{i=e(r)}catch(e){return void n.error(e)}if(Object(o.a)(t))return function(){return t(r,i)}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(14),r=n(101),o=n(55);function s(e,t,n,s,c){var l,u;if(1==arguments.length){var d=e;u=d.initialState,t=d.condition,n=d.iterate,l=d.resultSelector||r.a,c=d.scheduler}else void 0===s||Object(o.a)(s)?(u=e,l=r.a,c=s):(u=e,l=s);return new i.a((function(e){var i=u;if(c)return c.schedule(a,0,{subscriber:e,iterate:n,condition:t,resultSelector:l,state:i});for(;;){if(t){var r=void 0;try{r=t(i)}catch(t){return void e.error(t)}if(!r){e.complete();break}}var o=void 0;try{o=l(i)}catch(t){return void e.error(t)}if(e.next(o),e.closed)break;try{i=n(i)}catch(t){return void e.error(t)}}}))}function a(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var i=void 0;try{i=n(e.state)}catch(e){return void t.error(e)}if(!i)return void t.complete();if(t.closed)return}var r;try{r=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(r),!t.closed))return this.schedule(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(184),r=n(48);function o(e,t,n){return void 0===t&&(t=r.a),void 0===n&&(n=r.a),Object(i.a)((function(){return e()?t:n}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(14),r=n(62),o=n(42),s=n(48);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return s.a;var n=e[0],c=e.slice(1);return 1===e.length&&Object(o.a)(n)?a.apply(void 0,n):new i.a((function(e){var t=function(){return e.add(a.apply(void 0,c).subscribe(e))};return Object(r.a)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(14),r=n(28);function o(e,t){return t?new i.a((function(n){var i=Object.keys(e),o=new r.a;return o.add(t.schedule(s,0,{keys:i,index:0,subscriber:n,subscription:o,obj:e})),o})):new i.a((function(t){for(var n=Object.keys(e),i=0;i<n.length&&!t.closed;i++){var r=n[i];e.hasOwnProperty(r)&&t.next([r,e[r]])}t.complete()}))}function s(e){var t=e.keys,n=e.index,i=e.subscriber,r=e.subscription,o=e.obj;if(!i.closed)if(n<t.length){var s=t[n];i.next([s,o[s]]),r.add(this.schedule({keys:t,index:n+1,subscriber:i,subscription:r,obj:o}))}else i.complete()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(297),r=n(192),o=n(78),s=n(14);function a(e,t,n){return[Object(o.a)(t,n)(new s.a(Object(r.a)(e))),Object(o.a)(Object(i.a)(t,n))(new s.a(Object(r.a)(e)))]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(14);function r(e,t,n){return void 0===e&&(e=0),new i.a((function(i){void 0===t&&(t=e,e=0);var r=0,s=e;if(n)return n.schedule(o,0,{index:r,count:t,start:e,subscriber:i});for(;;){if(r++>=t){i.complete();break}if(i.next(s++),i.closed)break}}))}function o(e){var t=e.start,n=e.index,i=e.count,r=e.subscriber;n>=i?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),c=n(281),l=n(281),u=n(30),d=n(40),h=function(e){function t(n){return e.call(this,n,t._initState)||this}return r(t,e),t.prototype.render=function(){return this.state.renderCache||null},t.prototype._subscribe=function(e){var t=e.props,n=e.component,i=0;switch(m(t,(function(){return i+=1})),i){case 0:this.setState({subscription:null,renderCache:g(n,t)});break;case 1:new y(this,e);break;default:new w(this,e,i)}},t.prototype._unsubscribe=function(){var e=this.state?this.state.subscription:null;e&&e.unsubscribe()},t.prototype.componentWillReceiveProps=function(e){this._unsubscribe(),this._subscribe(e)},t.prototype.componentWillMount=function(){this._unsubscribe(),this._subscribe(this.props)},t.prototype.componentWillUnmount=function(){this._unsubscribe(),this.setState(t._initState)},t.prototype.shouldComponentUpdate=function(e,t,n){return t.renderCache!==this.state.renderCache},t._initState={renderCache:null,subscription:null},t._endState={subscription:null},t}(a.Component);t.LiftWrapper=h,t.lift=function(e){return function(t){return a.createElement(h,{component:e,props:t})}};var p="children",f="style";function m(e,t){for(var n in e){var i=e[n];if(i instanceof u.Observable)t(i);else if(p===n&&i instanceof Array)for(var r=i.length,o=0;o<r;++o){var s=i[o];s instanceof u.Observable&&t(s)}else if(f===n)for(var a in i){var c=i[a];c instanceof u.Observable&&t(c)}}}function g(e,n,i){void 0===i&&(i=[]);var r,o={},s=-1;for(var c in n){var l=n[c],d=c===p,h=c===t.PROP_MOUNT,m=c===f;if(l instanceof u.Observable){var g=i[++s];d?r=g:h?o.ref=g:o[c]=g}else if(d){if(l instanceof Array)for(var b=l.length,v=0;v<b;++v)if(l[v]instanceof u.Observable){if(!r){r=Array(l.length);for(var _=0;_<v;++_)r[_]=l[_]}r[v]=i[++s]}else r&&(r[v]=l[v]);r=r||l}else if(h)o.ref=l;else if(m){var y=void 0;for(var v in l){var w=l[v];if(w instanceof u.Observable){if(!y)for(var _ in y={},l){if(_===v)break;y[_]=l[_]}y[v]=i[++s]}else y&&(y[v]=w)}o.style=y||l}else o[c]=l}return a.createElement(e,o,void 0===r?null:r)}t.PROP_MOUNT="mount",t.PROP_REF="ref";var b=function(){function e(e,t){this.state=e,this.props=t}return e.prototype.setState=function(e){"subscription"in e&&(this.state.subscription=e.subscription),"renderCache"in e&&(this.state.renderCache=e.renderCache)},e}(),v=function(e){throw e};function _(e){l.warning((e?"The component <"+e+">":"An unnamed component")+" has received an observable that doesn't immediately emit a value in one of its props. Since this observable hasn't yet called its subscription handler, the component can not be rendered at the time. Check the props of "+(e?"<"+e+">":"this component")+".")}var y=function(){function e(e,t){var n=this;this._receivedValue=!1;var i={subscription:this,renderCache:e.state&&e.state.renderCache};this._liftedComponent=new b(i,t),m(t.props,(function(e){n._innerSubscription=e.subscribe((function(e){return n._handleValue(e)}),v,(function(){return n._handleCompleted()})),n._innerSubscription&&n._innerSubscription.closed&&(n._innerSubscription=null)})),l.DEV_ENV&&!this._receivedValue&&_(l.getReactComponentName(this._liftedComponent.props.component)),this._liftedComponent=e,e.setState(i)}return e.prototype.unsubscribe=function(){this._innerSubscription&&this._innerSubscription.unsubscribe()},e.prototype._handleValue=function(e){l.DEV_ENV&&(this._receivedValue=!0);var t=this._liftedComponent,n=t.props,i=g(n.component,n.props,[e]);c.structEq(t.state.renderCache,i)||t.setState({renderCache:i})},e.prototype._handleCompleted=function(){this._innerSubscription=null,this._liftedComponent.setState(h._endState)},e}(),w=function(){function e(e,t,n){var i=this,r={subscription:this,renderCache:e.state&&e.state.renderCache};this._liftedComponent=new b(r,t),this._innerSubscriptions=[],this._values=Array(n);for(var o=0;o<n;++o)this._values[o]=this;if(m(t.props,(function(e){var t=i._innerSubscriptions.length,n=e.subscribe((function(e){return i._handleValue(t,e)}),v,(function(){return i._handleCompleted(t)}));n&&n.closed&&(n=null),i._innerSubscriptions.push(n)})),l.DEV_ENV)for(o=this._values.length-1;0<=o;--o)if(this._values[o]===this){_(l.getReactComponentName(e.props.component));break}this._liftedComponent=e,e.setState(r)}return e.prototype.unsubscribe=function(){var e=this,t=-1;m(this._liftedComponent.props.props,(function(n){var i=e._innerSubscriptions[++t];i&&i.unsubscribe()}))},e.prototype._handleValue=function(e,t){this._values[e]=t;for(var n=this._values.length-1;0<=n;--n)if(this._values[n]===this)return;var i=this._liftedComponent,r=i.props,o=g(r.component,r.props,this._values);c.structEq(i.state.renderCache,o)||i.setState({renderCache:o})},e.prototype._handleCompleted=function(e){var t=this._innerSubscriptions.length;if(t>e&&(this._innerSubscriptions[e]=null),t===this._values.length){for(var n=0;n<t;++n)if(this._innerSubscriptions[n])return;this._liftedComponent.setState(h._endState)}},e}();function E(e){return e.filter((function(e){if(!0===e)throw new TypeError("Unexpected `true` value in classes");return null!=e&&""!==e&&!1!==e}))}function x(e){var t=null,n=null;return function(i){n&&(n.unsubscribe(),n=null,t=null),i&&(t=function(e){var t=[],n=[];for(var i in e)t.push(i),n.push(e[i]);return u.combineLatest(n,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i={},r=0;r<t.length;r++)i[t[r]]=e[r];return i}))}(e),n=t.subscribe((function(e){for(var t in e)i[t]=e[t]}),v,(function(){t=null,n=null})))}}function O(e){return function(t){for(var n in e)e[n].set(t.target[n])}}t.classes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&void 0!==e.find((function(e){return e instanceof u.Observable})))return{className:u.combineLatest(E(e||[]).map((function(e){return e instanceof u.Observable?e:u.of(e)})),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=E(e||[]);return n.length>0?n.join(" "):void 0}))};var n=E(e||[]);return{className:n.length>0?n.join(" "):void 0}},t.setElementProps=x,t.getElementProps=O,t.bindElementProps=function(e){var n,i,r=t.PROP_REF,o=e[r],a=t.PROP_MOUNT,c=e[a],l=s(e,["symbol"==typeof r?r:r+"","symbol"==typeof a?a:a+""]);return o?((n={})[t.PROP_REF]=x(l),n[o]=O(l),n):c?((i={})[t.PROP_MOUNT]=x(l),i[c]=O(l),i):{}},t.bind=function(e){return o({},e,{onChange:O(e)})},t.reactiveList=function(e,t){return e.pipe(d.scan((function(e,n){for(var i=e[0],r=(e[1],{}),o=Array(n.length),s=n.length,a=0;a<s;++a){var c=n[a],l=c.toString();l in r?o[a]=r[l]:r[l]=o[a]=l in i?i[l]:t(c)}return[r,o]}),[{},[]]),d.map((function(e){return e[1]})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(44),r=n(265),o=n(238);function s(e,t){return void 0===t&&(t=i.a),Object(r.a)((function(){return Object(o.a)(e,t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(2),r=n(20),o=n(81),s=n(18);function a(e){return function(t){var n=new c(e),i=t.lift(n);return n.caught=i}}var c=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.selector,this.caught))},e}(),l=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.selector=n,r.caught=i,r}return i.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var i=new o.a(this,void 0,void 0);this.add(i),Object(s.a)(this,n,void 0,void 0,i)}},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(129);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(i.a.apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(11),o=n(44);function s(e,t){return void 0===t&&(t=o.a),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return i.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(r.a);function l(e){e.debouncedNext()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(11),o=n(28);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.callback))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.add(new o.a(n)),i}return i.a(t,e),t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(11);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return i.a(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(219);function r(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,o=void 0===r?Number.POSITIVE_INFINITY:r,s=e.windowTime,a=void 0===s?Number.POSITIVE_INFINITY:s,c=e.refCount,l=e.scheduler,u=0,d=!1,h=!1;return function(e){u++,t&&!d||(d=!1,t=new i.a(o,a,l),n=e.subscribe({next:function(e){t.next(e)},error:function(e){d=!0,t.error(e)},complete:function(){h=!0,t.complete()}}));var r=t.subscribe(this);this.add((function(){u--,r.unsubscribe(),n&&!h&&c&&0===u&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(147),r=n(101);function o(){return Object(i.a)(r.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(20),o=n(18);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),i=Object(o.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return i.a(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),r=n(11);function o(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.inclusive))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.inclusive=i,r.index=0,r}return i.a(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(2),r=n(11),o=n(75),s=n(94);function a(e,t,n){return function(i){return i.lift(new c(e,t,n))}}var c=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))},e}(),l=function(e){function t(t,n,i,r){var a=e.call(this,t)||this;return a._tapNext=o.a,a._tapError=o.a,a._tapComplete=o.a,a._tapError=i||o.a,a._tapComplete=r||o.a,Object(s.a)(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||o.a,a._tapError=n.error||o.a,a._tapComplete=n.complete||o.a),a}return i.a(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(44),r=n(285),o=n(288),s=n(220);function a(e,t){return void 0===t&&(t=i.a),Object(o.a)(e,Object(s.a)(new r.a),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.repeat=function(e,t){return new Array(t+1).join(e)},r=t.pad=function(e,t){return i("0",t-e.toString().length)+e};t.formatTime=function(e){return r(e.getHours(),2)+":"+r(e.getMinutes(),2)+":"+r(e.getSeconds(),2)+"."+r(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(e,t,n){var i=n(522),r=n(523);e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var l=t[a],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),s?r(n,l,u):i(n,l,u)}return n}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,function(e,t,n){"use strict";var i=n(2),r=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return i.a(t,e),t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(n(136).a),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(134).a);n.d(t,"a",(function(){return s}));var s=new o(r)},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.rpcLegacyMessageName="cs-to-bg-rpc-1557421403805"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(178);String.fromCharCode(160);const r=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|xxx|blob):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i;function o(e="",t,n=!1,o){if(!e||"undefined"==typeof window)return"";const s=Object.assign(Object.assign(Object.assign({},t?{ALLOWED_TAGS:t}:{}),o?{ADD_ATTR:o}:{}),n?{ALLOWED_URI_REGEXP:r}:{});return Object.keys(s).length>0?i.sanitize(e,s):i.sanitize(e)}},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(159))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.defaults=void 0;var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(472),s=n(405),a=(i=n(475))&&i.__esModule?i:{default:i};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r({},a.default,e),n=t.logger,i=t.transformer,c=t.stateTransformer,l=t.errorTransformer,u=t.predicate,d=t.logErrors,h=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(i&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!"),e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n\n\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\n\nconst logger = createLogger({\n  // ...options\n});\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var p=[];return function(e){var n=e.getState;return function(e){return function(i){if("function"==typeof u&&!u(n,i))return e(i);var a={};p.push(a),a.started=s.timer.now(),a.startedTime=new Date,a.prevState=c(n()),a.action=i;var f=void 0;if(d)try{f=e(i)}catch(e){a.error=l(e)}else f=e(i);a.took=s.timer.now()-a.started,a.nextState=c(n());var m=t.diff&&"function"==typeof h?h(n,i):t.diff;if((0,o.printBuffer)(p,r({},t,{diff:m})),p.length=0,a.error)throw a.error;return f}}}}var l=c();t.defaults=a.default,t.logger=l,t.default=c,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(241),r=n(89);const o=i,s=n(188),a=r,c=Object.assign({},o,s,a)},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return b}));var i=n(178),r=n(80),o=n(120),s=n(9),a=n(10),c=n(121),l=n(16),u=n(0),d=n(12),h=n(228);n(583);const p=d.a.create("lib.elements.iframe"),f="gr_-ifr",m="."+f,g=()=>u.createElement("iframe",{className:f+" gr-_dialog-content"});function b({doc:e,user:t}){let n,u,d=[],g=!1,b=!1;const v=Object(r.emitter)({activate:_,refresh:function(e=l.f){n?E():_(e)},send:function(e,t){if(!g&&!t)return d.push(e);y(e)},selector:m,baseCls:f,updateState:function(e){t=e},deactivate:function(){Object(o.b)(window.top,"message",w,!1)},getWasLoadedBefore:function(){return b}});return v;function _(t=l.f){u||(n||(n=e.querySelector(m),v.el=n,n))&&(Object(o.a)(window.top,"message",w,!1),Object(a.k)()?n.src||function(e=l.f){n.setAttribute("src",Object(a.f)().edgePopupUrl),s.m.call(n,"load",e)}(t):n.srcdoc||function(e=l.f){const t=window.GR_INLINE_POPUP||"";n.setAttribute("srcdoc",t),s.m.call(n,"load",()=>{try{window.ACTIVATE_GR_POPUP&&n.contentWindow&&n.contentDocument&&window.ACTIVATE_GR_POPUP(n.contentWindow,n.contentDocument,i),e()}catch(e){p.error("Cannot activate popup",e),Object(c.a)().popupLoadError(e&&e.message,e&&e.name)}})}(t),Object(s.a)(n,"gr-freemium-ifr"),u=!0,v.activated=u)}function y(e){e.grammarly=!0;try{n.contentWindow.postMessage(e,"*")}catch(e){p.error("iframe send error",e)}}function w(e){const{data:t}=e;if(!t||!t.grammarly)return;const n=t.action;if("user"===n)return E();g=!0,"initialized"===n&&d&&(d.forEach(e=>v.send(e)),h.a.instance.trackLoad(h.a.PopupEditorType.old,!0,Date.now()),b=!0),"accepted"===n&&(d=[]),v.emit("message",t)}function E(){const e=Object.assign({},t);delete e.token,delete e.grauth,delete e.email,delete e.registrationDate,delete e.firstName,e.settings&&delete e.settings.currentIp,y({action:"user",user:e})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(4);!function(e){e.isSupported=function(e){return Object(r.p)(()=>"safari"!==e&&!!new DataTransfer,e=>!1)}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(130);function r(e){return e.rect.map(e=>e.size).behavior.pipe(Object(i.a)((e,t)=>e.height===t.height&&e.width===t.width))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i,r,o=n(14),s=n(151),a=n(48),c=n(93),l=n(184),u=n(237),d=n(148),h=n(357),p=n(130),f=n(204),m=n(37),g=n(299),b=n(147),v=n(172),_=n(58),y=n(69);!function(e){e.isSupported="undefined"!=typeof IntersectionObserver,e.create=function(t,n){return e.isSupported?new o.a(e=>{const i=new IntersectionObserver(t=>e.next(t),n);return i.observe(t),()=>i.unobserve(t)}):null}}(i||(i={})),function(e){e.createShared=function(e,t=function(e){const t=Object(_.c)(e.ownerDocument&&e.ownerDocument.defaultView);return Object(c.a)(t,"resize").pipe(Object(g.a)(void 0),Object(m.a)(e=>({width:t.innerWidth,height:t.innerHeight})))}(e),n=1,r=y.a.hz30,o=1,w=500,E={width:1,height:1}){return i.isSupported?Object(l.a)(()=>{const c=Math.max(1,n),l=new u.a({width:e.clientWidth,height:e.clientHeight}),g=function(e,t,n,r,o,c,l,u){return Object(s.b)(t,n,(e,t)=>{const n=Math.max(r.width,e.width-o),i=Math.max(r.height,e.height-o),s=Math.ceil(t.width/n),a=Math.ceil(t.height/i),l=Math.sqrt(Math.min(1,c/(s*a)));return{xCells:Math.floor(s*l),yCells:Math.floor(a*l),cellWidth:Math.ceil(n/l),cellHeight:Math.ceil(i/l)}}).pipe(Object(p.a)((e,t)=>e.cellHeight===t.cellHeight&&e.cellWidth===t.cellWidth&&e.xCells===t.xCells&&e.yCells===t.yCells)).pipe(Object(f.a)(l),Object(m.a)(({xCells:t,yCells:n,cellWidth:r,cellHeight:o})=>{const s=[].concat(...Array.from(Array(t),(e,t)=>Array.from(Array(n),(e,n)=>({right:t*r,bottom:n*o})))),c=Math.max(r/u,o/u),l=c?Array.from(new Array(c),(e,t)=>t/c):null;return s.map(({right:t,bottom:n})=>i.create(e,{rootMargin:`${-n}px 0px 0px ${-t}px`,threshold:l||void 0})||Object(a.b)())}))}(e,l,t,E,o,w,r,c).pipe(Object(b.a)(e=>Object(d.a)(...e)),Object(m.a)(e=>e[e.length-1].boundingClientRect),Object(p.a)((e,t)=>e.top===t.top&&e.left===t.left&&e.width===t.width&&e.height===t.height)),v=g.subscribe(e=>{l.next({width:e.width,height:e.height})});return Object(h.a)(()=>v,e=>g)}).pipe(Object(v.a)()):null}}(r||(r={}))},,function(e,t,n){e.exports={loginSuccess:"_1iXav",windows:"imIUB",name:"i1Tl1",label:"_1qmmL"}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(12),r=n(4),o=n(72);class s{constructor(e,t=i.a.create(s.name)){this._transport=e,this._log=t,this._calls=new Map,this._sub=this._transport.inbound.subscribe(e=>{const t=this._calls.get(e.id);if(t)try{"err"in e?t.reject(e.err):t.resolve(e.res)}finally{this._calls.delete(e.id)}else this._log.warn(`received rpc call response for unregistered call ${e.id}`)}),this.api=new Proxy({},{get:(e,t)=>(...e)=>this._handleCall(t,e)})}_handleCall(e,t){let n=r.c.create();for(;this._calls.has(n);)n=r.c.create();const i=o.a.createCompletionSource();return this._calls.set(n,i),this._transport.outbound({id:n,method:e,args:t}),i.promise}dispose(){this._sub.unsubscribe()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(10),r=n(4),o=n(12),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const a=o.a.create("Cookies");class c{constructor(e){this._api=e,this._rootPath="/",this._grammarlyUrl=`https://${Object(i.e)()}${this._rootPath}`,this._grauthCookieName="grauth",this._csrfTokenCookieName="csrf-token",this._grInstallSourceCookieName="grInstallSource",this._grChromeStoreInstallUtmName="grChromeStoreInstallUTM",this.getToken=()=>this._api.cookies.get({name:this._grauthCookieName,url:this._grammarlyUrl}).then(e=>e?e.value:null),this.deleteGrauth=()=>this._api.cookies.remove({name:this._grauthCookieName,url:this._grammarlyUrl}),this.getCSRFToken=e=>s(this,void 0,void 0,(function*(){try{const t=yield Object(r.i)(()=>this._api.cookies.get({name:this._csrfTokenCookieName,url:this._grammarlyUrl}),5,20,t=>!!(e||t&&t.value)),n=t?t.value:null;return n||e||a.error("CRF is null"),n}catch(e){return a.error("failed to read a CSRFToken cookie",e),null}})),this.watchToken=e=>this._api.cookies.watch({domain:Object(i.e)(),name:this._grauthCookieName,url:this._grammarlyUrl,path:this._rootPath},e),this.getInstallSource=()=>this._api.cookies.get({name:this._grInstallSourceCookieName,url:this._grammarlyUrl}),this.getChromeStoreInstallUTM=()=>this._api.cookies.get({name:this._grChromeStoreInstallUtmName,url:this._grammarlyUrl}),this.getAllGrammarlyCookies=()=>this._api.cookies.getAll({domain:Object(i.e)(),path:this._rootPath}),this.deleteGnarContainerIdCookie=()=>this._api.cookies.remove({name:"gnar_containerId",url:this._grammarlyUrl})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(33),r=n(344),o=n(78),s=n(204),a=n(4),c=n(12),l=n(6),u=n(69),d=n(116);class h{constructor(e,t,n,a=u.a.hz10,d=u.a.hz30,p=u.a.hz30,f=c.a.create(h.name)){this._geometryProvider=e,this._geometryLayout=t,this._geometryInvalidated=n,this._updateLayoutClock=a,this._updateGeometryClock=d,this._updateStateClock=p,this._log=f,this._highlights=new Map,this._highlightsState=l.Atom.create({}),this._updateStateForAllQueue=new i.a,this._updateGeometryAndStateQueue=new i.a,this._subs=[this._updateGeometryAndStateQueue.pipe(Object(r.a)(this._updateGeometryClock),Object(o.a)(e=>e.length>0)).subscribe(e=>{const t=new Set;for(const n of e)for(const e of n)t.add(e);this._updateGeometry(t,t.size),this._queueUpdateStateFor(t)}),this._updateStateForAllQueue.pipe(Object(s.a)(this._updateStateClock)).subscribe(()=>{this._updateStateForAll()}),this._geometryInvalidated.pipe(Object(s.a)(this._updateLayoutClock)).subscribe(e=>{this.recalculateAllHighlights()})],this.geometry=this._highlightsState.view()}_updateStateForAll(){this._highlightsState.set(a.f.create(Array.from(this._highlights.entries()).filter(([e,t])=>t.state.rects&&t.state.rects.length>0).map(([e,t])=>[e,t.state])))}_queueUpdateStateFor(e){this._updateStateForAllQueue.next()}_getInvalidHighlights(e,t){const n=new Set(e);return Array.from(this._highlights.keys()).filter(e=>{if(n.has(e))return!1;{const n=this._highlights.get(e);return!!n&&(!this._geometryProvider.getIsConsistent(n.geometrySource,n.textRange,t)||this._geometryProvider.getIsInvalid(n.geometrySource))}})}_createAlertGeometry(e,t){try{return this._geometryProvider.create(e,t)}catch(e){return null}}_updateGeometry(e,t=e.length){if(0===t)return;const n=this._geometryLayout.getCurrentConversionContext();for(const t of e){const e=this._highlights.get(t);if(e){const i=this._geometryProvider.getClientRects(e.geometrySource);if(null!==i){const r=Array.from(i).filter(e=>e.height>0&&e.width>0);if(0===r.length)this._log.warn(`Degenerate geometry for #${t}`,i),this._highlights.set(t,Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.state),{rects:null})}));else{const i=r.map(e=>d.c.setPosition(n.clientToRelative(e),e));this._highlights.set(t,Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.state),{rects:i})}))}}else this._log.warn(`#${t} has null geometry`),this._highlights.set(t,Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.state),{rects:null})}))}else this._log.warn(`couldn't recalculate #${t}, doesn't exist`)}}_removeHighlight(e){const t=this._highlights.get(e);t&&(this._highlights.delete(e),this._safeDisposeGeometry(t.geometrySource))}_safeDisposeGeometry(e){try{this._geometryProvider.dispose(e)}catch(e){this._log.warn("error disposing geometry source",e)}}recalculateHighlight(e){const t=this._updateGeometry([e]);return this._queueUpdateStateFor([e]),t}recalculateAllHighlights(){const e=this._highlights.keys();this._updateGeometry(e,this._highlights.size),this._queueUpdateStateFor(e)}addHighlight(e,t,n){this._highlights.has(e)&&this._removeHighlight(e);const i=this._createAlertGeometry(t,n);return!!i&&(this._highlights.set(e,{textRange:t,geometrySource:i,state:{rects:null,alertId:e}}),this._updateGeometryAndStateQueue.next([e]),this._log.trace(`added highlight #${e}`),!0)}updateHighlight(e,t,n){const i=this._highlights.get(e);if(void 0!==i){this._safeDisposeGeometry(i.geometrySource);const r=this._createAlertGeometry(t,n);return r?(this._highlights.set(e,{textRange:t,geometrySource:r,state:{rects:null,alertId:e}}),this._updateGeometryAndStateQueue.next([e]),!0):(this.removeHighlight(e),!1)}return this.addHighlight(e,t,n)}removeHighlight(e){this._removeHighlight(e),this._queueUpdateStateFor([e])}maintainConsistency(e,t){this._getInvalidHighlights(e,t).forEach(e=>{const{textRange:n}=this._highlights.get(e);this.updateHighlight(e,n,t)})}hasHightlight(e){return this._highlights.has(e)}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[];for(const e of this._highlights.values())this._safeDisposeGeometry(e.geometrySource);this._highlights.clear()}}},function(e,t,n){var{emitter:i}=n(80);"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t});try{e.exports=function(e){var t,n,r,o,s,a,c=!e.silentLogs,l=window.WebSocket||window.MozWebSocket,u=!1,d=null,h=!1,p=!1,f=!1,m=1e3,g=1e3,b=6e4,v=[],_=[],y=!1;e=Object.assign({},{url:null,connectionTimeout:1e3,idleTimeout:3e5,useQueue:!1,useStandBy:!1,playDelay:50,resetQueueOnReconnect:!!e.fluid},e);var w=i({connect:E,reconnect:function(){a||(a=!0,w.isConnected()?(w.one("disconnect",(function(){setTimeout(w.connect.bind(null,!0),0)})),p=!0,w.close()):w.connect(!0))},send:function(n){if(u)!function(e){if(O(e))return!1;u&&(u=!1,E(!0))}(n);else{var i=JSON.stringify(n);v.push(i),S(),e.fluid&&void 0===t&&w.emit("fluidNotConnected")}},close:function(){if(p=!0,T("explicit close requested"),!h)return f=!0;try{t&&t.close(),n&&(clearTimeout(n),n=null)}catch(e){N("socket closing bug",e.stack||e)}h=!1,d&&clearTimeout(d)},isConnected:function(){return h},release:function(){clearTimeout(n)},toString:function(){return"[object WebSocket]"},wsPlay:function(){clearTimeout(s),s=setTimeout((function(){y=!1,P()}),e.playDelay)},wsPause:function(){clearTimeout(s),y=!0}});return w;function E(n){w.isConnected()||(T("connect to url: "+e.url),t=new l(e.url),p=!1,h=!1,t.onopen=function(){m=g,h=!0,f&&(f=!1,w.close()),n&&e.resetQueueOnReconnect?v=[]:S(),w.emit("connect"),n&&(w.emit("reconnect"),a=!1)},t.onmessage=function(t){c&&console.log("%c Received: %s","color: #46af91;",t.data),x(t.data),function(t){try{t=JSON.parse(t)}catch(e){N(e.stack||e,t)}e.useQueue?(_.push(t),P()):w.emit("message",t)}(t.data)},t.onclose=function(e){h=!1,w.emit("disconnect",e),p||k("disconnected")},t.onerror=k,window.app&&app.one("offline",(function(){h&&(w.close(),app.one("online",(function(){w.connect()})))})))}function x(t){e.useStandBy&&t&&!O(t)&&(clearTimeout(d),d=setTimeout((function(){w.close(),u=!0,d=!1}),e.useStandBy))}function O(e){if(e&&"ping"==e)return!0;var t,n=!1;try{t=JSON.parse(e)}catch(e){}return t&&("ping"==t||t.action&&"pong"==t.action)&&(n=!0),n}function S(){if(t)for(;t.readyState==l.OPEN&&v.length;)C(v.shift())}function C(n){c&&console.log("%c Sending %s","color:rgba(10, 10, 10, 0.6); font-size: 10px",n),x(n),t.send(n),r&&clearTimeout(r),r=setTimeout(j,e.idleTimeout)}function j(){r=null,w.send("ping")}function k(e){N("websocket error",e),w.emit("error",e),e&&e.target&&[l.CLOSING,l.CLOSED].indexOf(e.target.readyState)>-1||n||(h&&w.close(),T("try to reconnect in "+m/1e3+"s"),n=setTimeout((function(){m=Math.min(b,1.5*m),n=null,E(!0)}),m))}function T(){c&&console.log.apply(console,arguments)}function N(){console.error.apply(console,arguments)}function P(){o||y||(o=0!==_.length?setTimeout((function(){y||w.emit("message",_.shift()),o=null,P()}),e.useQueue):null)}}}catch(e){}},function(e,t,n){"use strict";var i=n(426),r=n(410),o=n(14);class s{constructor(e,t){this._rpcMessageName=e,this._message=t,this.inbound=new o.a(e=>{const t=t=>{const n=t;e.next(n)};return this._message.on(this._rpcMessageName,t),()=>this._message.off(this._rpcMessageName,t)}),this.outbound=e=>{this._message.emitBackground(this._rpcMessageName,e)}}}n.d(t,"a",(function(){return a}));class a extends i.a{constructor(e){super(new s(r.a.rpcLegacyMessageName,e))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(177),o=n(25),s=n(194);!function(e){e.defaultConfig={writer:new r.a,filterFn:e=>!0};let t=e.defaultConfig;function n(e){t=Object.assign({},t,e)}e.getGlobal=function(){return t},e.updateGlobal=n,e.configure=function(e){n({writer:new r.a(e.edge),filterFn:e.prodCs?Object(s.a)(o.a.ERROR):e=>!0})}}(i||(i={}))},function(e,t,n){var i=n(476),r=n(592),o=n(593),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):o(e)}},function(e,t,n){var i=n(617),r=n(618),o=n(619),s=n(620),a=n(621);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var i=n(477);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t,n){var i=n(329)(Object,"create");e.exports=i},function(e,t,n){var i=n(636);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},,,,function(e,t,n){"use strict";var i=n(366),r=n(28),o=n(93),s=n(179),a=n(343),c=n(48),l=n(184),u=n(118),d=n(148),h=n(62),p=n(385),f=n(166),m=n(122),g=n(37),b=n(130),v=n(244),_=n(78),y=n(395),w=n(266),E=n(299),x=n(312),O=n(4),S=n(12),C=n(83),j=n(6),k=n(308);n.d(t,"a",(function(){return T}));class T{constructor(e,t,n,i,o,s="fluid",a=20,c=C.a.createFlattenHot(e.doc,{childList:!0,subtree:!0}),l=T.createFocusObservable(e.doc,c),u=n.felog,d=S.a.create("universal.cs.integration.generic")){this._pageContext=e,this._state=t,this._legacyData=n,this._fieldRules=i,this._createCheckingService=o,this._integrationType=s,this._maxSimultaneousIntegrations=a,this._mutations=c,this._textFieldsObservable=l,this._felog=u,this._log=d,this._integrationsBuffer=new x.a(this._maxSimultaneousIntegrations),this._subscriptions=new r.a,this._expirationSubs=new Map,this._currentFocusedField=j.Atom.create(void 0),this._disposed=!1,this._initializeOnNewField=e=>{try{const t=this._createCheckingService,n=Object.assign({docId:O.c.create(),field:e.owner.frame||e.element,state:this._state,pageContext:this._pageContext,createCheckingService(){return t(this)},isCurrentFocusedField:this._currentFocusedField.view(e=>!!o&&e===o.match.targetField)},this._legacyData),i=k.a.get(n.field),r=i.specific||i.generic||void 0,o=function(e,t){for(const n of e){const e=n.match(t);if(null!==e)return{match:e,rule:n}}return null}(this._fieldRules,n),s=this._pageContext.doc.domain;if(o)if(this._currentFocusedField.set(o.match.targetField),this._isAlreadyIntegratedWith(o.match))this._log.debug("already integrated, skipping",[e,o.match.targetField]);else{this._log.debug("executing field integration",[e,o.match.targetField]);try{this._ensureAppElementsInited(),this._executeIntegrationRuleMatch(o.match),this._felog.initSession(s,this._state.user.type,r,!0,this._integrationType)}catch(t){this._log.error("failed to execute field integration",t,e)}}else null!==i.generic&&this._felog.initSession(s,this._state.user.type,r,!1,this._integrationType)}catch(t){this._log.error("failed to initialize on field",t,e)}},this._disposeOnRemovedFields=e=>{const t=O.a.distinct(O.a.flatMap(e=>this._integrationsBuffer.toArray().filter(t=>e.ownerDocument===t.match.targetField.ownerDocument?e.contains(t.match.targetField):!(!t.match.targetField.ownerDocument||!t.match.targetField.ownerDocument.defaultView||null!==t.match.targetField.ownerDocument.defaultView)||e.nodeType===Node.ELEMENT_NODE&&("IFRAME"===e.tagName?e.contentDocument===t.match.targetField.ownerDocument:Array.from(e.getElementsByTagName("IFRAME")).some(e=>"IFRAME"===e.tagName&&e.contentDocument===t.match.targetField.ownerDocument))),Array.from(e.removedNodes)));this._disposeIntegrations(t)},this._subscriptions.add(this._textFieldsObservable.subscribe(this._initializeOnNewField)),this._subscriptions.add(this._mutations.subscribe(this._disposeOnRemovedFields)),this._log.debug("generic page integration created")}update(e){try{this._state=e,this._integrationsBuffer.toArray().forEach(t=>t.executed.update(e))}catch(e){this._log.warn("Error while updating generic page integration",e)}}dispose(){try{this._disposed?this._log.warn("attempt to dispose already disposed page integration"):(this._disposed=!0,this._subscriptions.unsubscribe(),this._disposeIntegrations(this._integrationsBuffer.toArray()),this._expirationSubs.size>0&&(this._expirationSubs.forEach(e=>e.unsubscribe()),this._expirationSubs.clear()))}catch(e){this._log.warn("Error while unloading generic page integration",e)}}_ensureAppElementsInited(){this._legacyData.app.initialized||i.a.init(this._state.dynamicConfig,this._legacyData.app,{doc:this._pageContext.doc,user:this._state.user,page:this._state.page,actions:this._legacyData.actions})}_isAlreadyIntegratedWith(e){return this._integrationsBuffer.toArray().some(t=>t.match.targetField===e.targetField)}_executeIntegrationRuleMatch(e){const t={match:e,executed:e.execute()};this._addIntegration(t);const n=e.matchExpires;n&&this._expirationSubs.set(t.executed,n.pipe(Object(f.a)(1)).subscribe(()=>{this._disposeIntegrations([t])}))}_addIntegration(e){this._integrationsBuffer.isFull&&this._disposeIntegrations([this._integrationsBuffer.head]),this._integrationsBuffer.enqueue(e)}_disposeIntegrations(e){try{e.forEach(e=>{try{this._log.trace("start integration disposing",e);const t=this._expirationSubs.get(e.executed);t&&(t.unsubscribe(),this._expirationSubs.delete(e.executed)),this._integrationsBuffer.delete(e),e.executed.dispose()}catch(t){this._log.error("Failed to dispose field integration for field",t,e.match.targetField)}})}catch(e){this._log.warn("Error while disposing text field integrations",e)}}}!function(e){const t=S.a.create("universal.cs.integration.observables"),n=e=>Object(o.a)(e,"focus",!0);function i(e,t){return{document:e,frame:t}}e.createFocusObservable=function(e,r,o=n){return function(e,n){const r=i(e),o=Object(h.a)(e.getElementsByTagName("iframe")),s=n.pipe(Object(w.a)(e=>Array.from(e.addedNodes)),Object(_.a)(e=>"IFRAME"===e.nodeName));return o.pipe(Object(y.a)(s),Object(_.a)(n=>(function(e,n){try{const t=e.src;return!(t&&"about:blank"!==t&&!t.startsWith("javascript"))||new URL(t,n.baseURI).origin===n.origin}catch(e){return t.warn("Error converting iframe's src to url",e),!0}})(n,e)),Object(m.a)(e=>{try{return function(e){const t=e.contentDocument;return t&&"complete"===t.readyState}(e)?Object(u.a)(e):Object(p.a)(t=>e.addEventListener("load",t,!0),t=>e.removeEventListener("load",t),()=>e).pipe(Object(f.a)(1))}catch(e){return t.warn("failed to receive iframes document",e),Object(u.a)(null)}}),Object(g.a)(e=>{try{if(null!==e&&null!==e.contentDocument)return i(e.contentDocument,e)}catch(e){t.warn("failed to receive iframes document",e)}return null}),Object(_.a)(e=>null!==e)).pipe(Object(E.a)(r))}(e,r).pipe(Object(m.a)(e=>(function(e,t,n){const i=e.document,r=Object(a.a)(O.e.second),o=e.frame?Object(c.b)():Object(l.a)(()=>Object(u.a)(i.activeElement).pipe(Object(_.a)(e=>e&&i.defaultView&&i.defaultView.HTMLElement&&e instanceof i.defaultView.HTMLElement))),s=t(i).pipe(Object(g.a)(e=>e.target)),h=e.frame?Object(c.b)():Object(d.a)(r,n).pipe(Object(_.a)(e=>!!i.defaultView&&"visible"===i.visibilityState&&!!i.activeElement),Object(g.a)(e=>i.activeElement),Object(b.a)()),p=Object(d.a)(h,s).pipe(Object(_.a)(e=>i.defaultView&&i.defaultView.HTMLElement&&e instanceof i.defaultView.HTMLElement),Object(g.a)(e=>e));return o.pipe(Object(y.a)(p),Object(b.a)())})(e,o,r).pipe(Object(g.a)(t=>({element:t,owner:e})))),Object(b.a)(),Object(v.b)(s.a))}}(T||(T={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(9),r=n(120),o=n(10),s=n(16);class a{constructor(e){this.hideDelay=10,this.onshow=(e,t)=>{},this.onhide=s.f,this.onmousemove=(e,t)=>{},this.getCurrentEl=e=>e.target,this.onInnerMouseMove=e=>{},this.cardHovered=e=>{},this.inTarget=e=>{const t=e.target;if(Object(i.n)(t,this.cls)||Object(i.h)(t,this.cls)){if(!this.currentEl||this.currentEl===t)return!0;this.fastHide()}},this.bind=(e,t=this.doc)=>(this.doc2&&this.doc2!==t&&this.bind(e,this.doc2),Object(r.a)(t.body,"resize",this.fastHide,e),Object(r.a)(t,{gramMouse:this.mousemove,mousemove:this.mousemove,scroll:this.fastHide},s.f,e),Object(r.a)(t,"click",this.click,e,!0),Object(r.a)(this.hint,"mousemove",this.innerMouseMove,e),Object(r.a)(this.hint,"mouseleave",this.onMouseLeave,e),this),this.setDocs=(e,t)=>{this.unbind(),Object.assign(this,{doc:e,doc2:t}),this.bind()},this.unbind=e=>this.bind(!0,e),this.fastHide=()=>{this.onhide(),this.cancelTimeout("show"),this.cancelTimeout("hide"),this.visible=!1,this.currentEl=null},this.innerMouseMove=e=>{this.onInnerMouseMove(e),this.cardHovered(!0),e.preventDefault(),e.stopPropagation(),this.cancelTimeout("hide")},this.click=e=>!this.elInHint(e.target)&&!this.inTarget(e)&&this.fastHide(),this.elInHint=e=>e&&(Object(i.i)(e,this.hint)||e===this.hint),this.mousemove=e=>{let t=this.getCurrentEl(e);if("IFRAME"!==t.tagName){if(e.detail&&e.detail.id){const n=document.querySelector(`[data-gr-id='${e.detail.id}']`);n&&(t=n,e={target:t,clientX:e.detail.e.clientX,clientY:e.detail.e.clientY})}if(Object(o.m)()&&"mousemove"===e.type){if(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)return void(this.mouseMoveCoordinates=e.x+"-"+e.y);if(this.mouseMoveCoordinates===e.x+"-"+e.y)return}if(this.elInHint(t))return this.onmousemove(e,!0),this.cancelTimeout("show"),void this.cancelTimeout("hide");if(!this.inTarget(e))return this.onmousemove(e,!1),void this.onMouseLeave();this.onmousemove(e,!0),this.visible||(this.show(e,t),this.cancelTimeout("hide"),this.currentEl=t)}},this.onMouseLeave=()=>{this.visible?this.hide():this.cancelTimeout("show"),this.cardHovered(!1)},this.show=(e,t)=>this.showTimeout?this:(this.cancelTimeout("hide"),this.showTimeout=setTimeout(()=>{this.cancelTimeout("show"),(this.elInHint(t)||this.inTarget(e))&&(this.visible=!0,this.onshow(t,{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}))},this.delay),this),this.hide=()=>this.hideTimeout?this:(this.hideTimeout=setTimeout(()=>{this.onhide(),this.visible=!1,this.currentEl=null},this.hideDelay),this),Object.assign(this,e)}cancelTimeout(e){"show"===e&&this.showTimeout?(clearTimeout(this.showTimeout),this.showTimeout=null):"hide"===e&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}setVisible(e){this.visible=e,this.cancelTimeout("hide")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(441),r=n(248),o=n(9),s=n(120);function a(e={}){const t=function(){let e=document.querySelector(".gr__tooltip");return e||(e=Object(o.c)('<span class="gr__tooltip"><span class="gr__tooltip-content"></span><i class="gr__tooltip-logo"></i><span class="gr__triangle"></span></span>'),document.documentElement.appendChild(e)),e}();let n,a,c,l=void 0===e.enabled||e.enabled;return n=t.querySelector(".gr__tooltip-content"),e.posEl&&(e.moveListenerDoc=e.outerIframe&&e.outerIframe.contentDocument?e.outerIframe.contentDocument:e.doc,a=new i.a({doc:e.moveListenerDoc,doc2:e.doc,hint:t,hideDelay:500,delay:0,onshow:()=>h(),onhide:d,inTarget:function({target:t}){return Object(o.i)(t,e.posEl)}}),Object(s.a)(e.doc,"scroll",u),Object(s.a)(e.moveListenerDoc,"scroll",u),a.bind()),{show:h,fastShow:function(){e.cls+=" gr-no-transition",h(),setTimeout(()=>{e.cls=e.cls.replace(" gr-no-transition",""),Object(o.p)(t,"gr-no-transition")},100)},hide:d,remove:function(){e.posEl&&(t&&t.parentNode&&t.parentNode.removeChild(t),Object(s.b)(e.doc,"scroll",u),e.moveListenerDoc&&Object(s.b)(e.moveListenerDoc,"scroll",u),a&&a.unbind())},el:t,enable:()=>{l=!0},disable:()=>{l=!1},isEnabled:()=>l};function u(){a.fastHide()}function d(){c&&(c=!1,t&&(t.style.opacity="0",t.style.top="-9999px",a&&a.setVisible(!1),t.className=t.className.replace(e.cls,"")))}function h({posEl:i=e.posEl,html:s=e.html,text:u=e.text,cls:d=e.cls,doc:h=e.doc,outerIframe:p=e.outerIframe,rect:f=e.rect}=e){if(Object.assign(e,{posEl:i,html:s,text:u,cls:d,doc:h,outerIframe:p}),!l)return;c=!0,a&&a.setVisible(!0),u&&t.setAttribute("data-content",u),s&&(n.innerHTML=s),t.className="gr__tooltip",d&&Object(o.a)(t,d),Object(o.p)(t,"gr__flipped"),f||(f=Object(r.a)(i,p));const m=Object(r.c)(t,f),{top:g,left:b}=m.rect;Object(o.e)(t,{top:g,left:b}),m&&m.rect&&!m.rect.flip&&Object(o.a)(t,"gr__flipped");const v=t.clientWidth,_=t.querySelector(".gr__triangle");let y=f.width/2;y>v&&(y=0),m.delta.right<=0&&(y-=m.delta.right),y-=parseInt(getComputedStyle(t).getPropertyValue("margin-left"),10),_&&(_.style.marginLeft=y+"px"),t.style.opacity="1"}}n(585)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n(58),r=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};function o(e,t,n,r=!1){const o=r?{start:e.selectionStart,end:e.selectionEnd}:null,s=t||{start:0,end:e.value.length};if(e.selectionStart=s.start,e.selectionEnd=s.end,e.focus(),!Object(i.c)(e.ownerDocument,"owner document").execCommand("insertText",!1,n)){const t=e.value,i=t.substring(0,s.start)+n;e.value=i+t.substr(s.end),r||(e.selectionStart=i.length,e.selectionEnd=i.length)}o&&(e.selectionStart=o.start,e.selectionEnd=o.end)}class s{constructor(e){this._target=e}canPerformReplacement(e){const t=this._target.value.length;return e.start<=t&&e.end<=t}performReplacement(e,t,n){return r(this,void 0,void 0,(function*(){o(this._target,e,t,n)}))}}},function(e,t,n){"use strict";var i,r=n(80),o=n(9),s=n(120),a=n(441),c=n(442),l=n(15);!function(e){e[e.contextualSpelling=0]="contextualSpelling",e[e.grammar=1]="grammar",e[e.sentenceStructure=2]="sentenceStructure",e[e.punctuation=3]="punctuation",e[e.style=4]="style",e[e.plagiarism=5]="plagiarism",e[e.synonym=6]="synonym",e[e.enhancement=7]="enhancement",e[e.voxStyle=8]="voxStyle"}(i||(i={}));const u={Spelling:i.contextualSpelling,ContextualSpelling:i.contextualSpelling,Grammar:i.grammar,Style:i.style,SentenceStructure:i.sentenceStructure,Punctuation:i.punctuation,Enhancement:i.enhancement,VoxStyle:i.voxStyle};var d;function h(e){return!e||0===e.length}function p(e){return e.slice(e.findIndex(e=>"arrow"===e.type)+1).filter(e=>"delete"!==e.type).map(e=>"insert"===e.type||"text"===e.type?e.text:"").join("")}!function(e){e[e.single=0]="single",e[e.list=1]="list",e[e.flatList=2]="flatList",e[e.voxList=3]="voxList",e[e.empty=4]="empty"}(d||(d={}));class f{constructor(){this.template=d.empty,this.headerText=""}}class m{constructor(e,t,n){this.headerText=e,this.replacements=t,this._onReplace=n,this.template=d.list,this.getOnReplace=e=>()=>{this._onReplace(e.newText,p(e.transform))}}}class g extends m{constructor(e,t,n){super(e,t,n),this.headerText=e,this.template=d.flatList}}class b{constructor(e,t,n,i){this.headerText=e,this.replacements=t,this._onReplace=n,this.headerIcon=i,this.template=d.voxList,this.getOnReplace=e=>()=>{this._onReplace(e.newText,p(e.transform))}}}var v=n(316);class _{constructor(e,t){this.isUserAuthenticated=t,this.id=e.id,this.title=e.title,this.explanation=e.explanation,this.details=e.details}}class y extends _{constructor(e,t,n,r){super(e,n),this._alert=e,this._replace=t,this.isUnifiedFunnel=r,this.kind="common",this.details=this._alert.details,this.todo=this._alert.todo,this.isUnknowWord="Unknown"===this._alert.category,this.highlightText=this._alert.highlightText,this.extraProperties=this._alert.extraProperties,this.cardLayout=this._alert.cardLayout,this.hasAcknowledgeButton=0===this._alert.replacements.length&&this._alert.group!==i.contextualSpelling,this.hasAddToDictionary=!!this._alert.extraProperties.hasAddToDictionary,this.isTextCard=h(this._alert.replacements),this.isFreePremiumAlert=!!this._alert.extraProperties.freePremiumAlert,this.isLockedPremiumAlert=!!this._alert.extraProperties.lockedPremiumAlert,this.advancedMessage=null,this.title=this._getTitle()}_getTitle(){return this.isUnknowWord?"Unknown word":"Misspelled"===this._alert.category&&"General"===this._alert.point?"":this._alert.minicardTitle?Object(v.b)(this._alert.minicardTitle):this._alert.todo}getFooterProps(){return{hasAcknowledgeButton:this.hasAcknowledgeButton,hasAddToDictionary:this.hasAddToDictionary}}getReplacements(e){const{replacements:t}=this._alert;return h(t)?new f:new m(e?this.title:"",t,this._replace)}}class w{constructor(e,t,n){this._alert=e,this._replace=t,this.isUserAuthenticated=n,this.kind="synonyms",this.meanings=this._alert.meanings.map(e=>({title:e.title,list:new g("",e.replacements,e=>this._replace(e))})),this.isActive=!1,this.isAnyMeanings=Boolean(this.meanings.length),this.id=this._alert.id,this.title=this._alert.title,this.explanation="",this.details=""}}class E{constructor(e,t,n){this._alert=e,this._replace=t,this.isUserAuthenticated=n,this.kind="vox",this.isTextCard=h(this._alert.replacements),this.id=e.id,this.title=e.title,this.explanation=e.explanation,this.details=e.details,this.highlightText=this._alert.highlightText,this.headerText=this._alert.title,this.headerIcon=this._alert.icon}getReplacements(){const{replacements:e}=this._alert;return h(e)?new f:new b(this.headerText,e,this._replace,this.headerIcon)}}var x=n(58),O=n(41),S=n(121);function C(e,t){return{re:new RegExp(`^(${e})(.*)$`),createResult:t}}const j=[C("(?:\\<span class='gr_grammar_del'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:"delete",text:e[2]})),C("(?:\\<span class='gr_grammar_ins'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:"insert",text:e[2]})),C("(→)",e=>({type:"arrow"})),C("([^<>→]+)",e=>({type:"text",text:e[1]}))];function k(e){function t(e){for(const t of j){const n=e.match(t.re);if(null!==n)return[t.createResult(n),n[n.length-1]]}}function n(t){let n=["<span class='gr_grammar_del'>","<span class='gr_grammar_ins'>","→"].map(e=>t.indexOf(e));if(n.findIndex(e=>0===e)>0)throw Object(S.a)().couldNotParseTransform(e,!1),new Error(`Couldn't parse transform: ${e}`);if(n=n.filter(e=>e>0),n.length>0){const e=Math.min(...n);return[{type:"text",text:t.substring(0,e)},t.substring(e)]}return[{type:"text",text:t},""]}let i=e;const r=[];let o=!1;for(;i.length>0;){let s=t(i);if(void 0===s&&(o=!0),s=s||n(i),void 0!==s){if("insert"===s[0].type){const e=r[r.length-1];e&&"delete"===e.type&&r.push({type:"arrow"})}r.push(s[0]),i=s[1]}(o||void 0===s)&&Object(S.a)().couldNotParseTransform(e,void 0===s)}return r}function T(e,t,n){const i=[];return e.ops.map(e=>{e.delete&&n&&i.push({type:"delete",text:t.slice(0,e.delete)}),e.insert&&i.push({type:"insert",text:e.insert})}),i}function N(e){return{newText:e,transform:[{type:"insert",text:e}]}}function P(e){Object(x.b)("synonym"!==e.action,"Do not use `getBasicAlertFields` for synonyms.");const t=(n=e.group,void 0!==u[n]?u[n]:null);var n;return null!==t?{id:e.id.toString(),hidden:e.hidden,category:e.category,isFree:e.free,impact:"advanced"===e.impact?O.c.advanced:O.c.critical,highlightText:e.highlightText,range:{start:e.begin,end:e.end},group:t}:null}function A(e){try{return e?Date.parse(e):void 0}catch(e){return}}var I=n(154),F=n(0),M=n(21),R=n(51),D=n(495);const L=/["'”“.,;:!?\\\/…\-—()]/;function B(e){return null!==e&&e.replace(/\s/g,"").length<3&&null!==e.match(L)}function U(e){return null!==e&&e.replace(/\s/g,"").length<3&&null!==e.match(/[;:]/)}function z(e){return'"'===e||"”"===e||"“"===e}function H(e){return null!==e&&null!==e.match(/,,/)}function V(e){return null!==e&&e.match(/[.,;:!?\\\/…\-—()]\s*[a-z]/i)}function G(e){return"’"===e}function W(e){return","===e}function $(e){return"!"===e}function q(e){return"-"===e||"—"===e}function Y(e){return"?"===e}function K(e){return"."===e}function Q(e){return"…"===e}function X(e){return")"===e||"("===e}function J(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}function Z(e,t){if(e.length<=4)return F.createElement("span",null,t);const{from:n,to:i,oldFragment:r,newFragment:o}=Object(D.textdiff)(e,t),s=1===o.length&&n>0&&e[n-1]===o,a=1===r.length&&0===o.length&&t[n-1]===r;let c=n,l=o;return(s||a)&&(c=n-1),s&&(l=o+o),a&&(l=r),l.length>3?F.createElement("span",null,t):F.createElement("span",null,e.substring(0,c),F.createElement("span",{className:R.bold},l),e.substring(i))}function ee(e){const t=e.filter(e=>"insert"===e.type||"delete"===e.type);return t.length>0?t[t.length-1].type+"Replacement":""}function te(e,t,n){return F.createElement(M.a,{clickHandler:t},F.createElement("span",{key:n,className:R[ee(e)]},ne(e)))}function ne(e){return function(e){return e.slice(e.findIndex(e=>"arrow"===e.type)+1)}(e).map((t,n)=>{switch(t.type){case"delete":return function(e,t,n){return F.createElement("span",{className:Object(o.d)(R.deletePart,(i=e,null!==i&&null!==i.match(/["'”][.,;]/)&&R.deleteQuoteWithPunctuation),B(e)&&R.deletePunctuation,U(e)&&R.deleteColonOrSemicolon,W(e)&&R.deleteComma,$(e)&&R.deleteExclamation,q(e)&&R.deleteDash,Y(e)&&R.deleteQuestion,Q(e)&&R.deleteEllipsis,z(e)&&R.deleteQuote,K(e)&&R.deletePeriod,X(e)&&R.deleteParenthesis,H(e)&&R.deleteDoubleComma,G(e)&&R.deleteAphostrophe,J(e)&&R.deleteLetter,V(e)&&R.deletePunctuationBeforeLetter),key:n},Z(t,e));var i}(t.text,function(e,t){const n=e.slice(t).filter(e=>"insert"===e.type);return n.length>0?n[0].text:""}(e,n),n);case"insert":return function(e,t,n,i,r){return F.createElement("span",{className:Object(o.d)(R.insertPart,n&&R.insertWithWord,(s=e,null!==s&&1===s.replace(/\s/g,"").length&&B(s)&&R.insertPunctuation),Y(e)&&R.insertQuestion,i&&R.nextIsWord),key:r},Z(t,e));var s}(t.text,function(e,t){const n=e.slice(0,t).filter(e=>"delete"===e.type);return n.length>0?n[0].text:""}(e,n),function(e){return 0===e.filter(e=>"insert"!==e.type&&"text"!==e.type).length}(e),function(e,t){return!!e[t+1]&&"text"===e[t+1].type}(e,n),n);case"text":return function(e,t,n,i){return F.createElement("span",{className:Object(o.d)(R.wordPart,t&&R.wordBeforeDelete,n&&R.wordBeforeInsert),key:i},e)}(t.text,function(e,t){return!!e[t+1]&&"delete"===e[t+1].type}(e,n),function(e,t){return!!e[t+1]&&"insert"===e[t+1].type}(e,n),n);default:throw new Error(`Part ${t} should not exist`)}})}function ie(e,t,n){return F.createElement("div",{className:R.listReplacement},e.replacements.map((i,r)=>F.createElement(M.a,{key:r+i.newText,clickHandler:e.getOnReplace(i)},F.createElement("div",{key:r+i.newText,className:Object(o.d)(R.listItemReplacementWrapper,n,t&&R.flattenListItemReplacementWrapper,0===r&&!e.headerText&&R.listItemReplacementNoHeader)},0===r&&e.headerText&&function(e,t){return F.createElement(M.a,{clickHandler:t},F.createElement("div",Object.assign({className:R.title},Object(M.b)(e))))}(e.headerText,e.getOnReplace(i)),F.createElement("span",{className:R.listItemReplacement},te(i.transform,e.getOnReplace(i),r))))))}function re(e,t){switch(e.template){case d.single:return function(e,t){return F.createElement("div",{className:Object(o.d)(R.singleReplacement,t)},F.createElement("div",null,te(e.transform,e.onReplace)))}(e,t);case d.list:return ie(e,!1,t);case d.flatList:return ie(e,!0,t);case d.voxList:return function(e,t,n){return F.createElement("div",{className:R.listReplacement},e.replacements.map((i,r)=>F.createElement(M.a,{key:r+i.newText,clickHandler:e.getOnReplace(i)},F.createElement("div",{key:r+i.newText,className:Object(o.d)(R.listItemReplacementWrapper,n,t&&R.flattenListItemReplacementWrapper,0===r&&!e.headerText&&R.listItemReplacementNoHeader)},0===r&&e.headerText&&function(e,t,n){return F.createElement(M.a,{clickHandler:t},F.createElement("div",{className:Object(o.d)(R.title,R.titleVox)},n&&F.createElement("div",{className:R.titleIcon},F.createElement("img",{src:n})),e))}(e.headerText,e.getOnReplace(i),e.headerIcon),F.createElement("span",{className:R.listItemReplacement},te(i.transform,e.getOnReplace(i),r))))))}(e,!1,t);default:throw new Error(`Replacement template ${d[e.template]} is not supported`)}}const oe=e=>F.createElement("div",{className:Object(o.d)(R.replacement)},re(e.replacement,e.itemClassName)),se=({meanings:e})=>{switch(e.length){case 0:return F.createElement("span",null);case 1:return F.createElement("div",{className:Object(o.d)(l.synList,l.synListSingle)},F.createElement("div",{className:l.synSubitems},F.createElement(oe,{replacement:e[0].list,itemClassName:l.synItem})));default:return F.createElement("div",{className:l.synList},e.map((e,t)=>F.createElement("div",{key:t,className:l.synListItem},F.createElement("div",{className:l.synListTitle},F.createElement("span",{className:l.synListNumber},t+1,"."),e.title),F.createElement("div",{className:l.synSubitems},F.createElement(oe,{replacement:e.list,itemClassName:l.synItem})))))}},ae=({className:e,onClick:t,children:n})=>F.createElement(M.a,{clickHandler:t},F.createElement("div",{className:Object(o.d)(l.footerButton,e),role:"button"},n));class ce extends F.Component{constructor(){super(...arguments),this.state={hover:!1},this.toggleHover=()=>{this.setState({hover:!this.state.hover})}}render(){return F.createElement(M.a,{clickHandler:this.props.onClick},F.createElement("div",{className:Object(o.d)(l.lockedButton),onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover,role:"button"},F.createElement(I.e,{className:l.lockIcon}),this.state.hover?"Unlock":"Locked"))}}const le=({titleText:e,iconType:t,className:n})=>F.createElement("div",{className:Object(o.d)(l.lockedPremiumPreview,n)},F.createElement(ye,{className:Object(o.d)(l.bigTitle,l.lockedPremiumPreviewTitle,t),title:e})),ue=({explanation:e})=>F.createElement("div",Object.assign({className:l.explanation},Object(M.b)(e,["i","b"]))),de=({replacement:e})=>F.createElement("div",{className:Object(o.d)(l.replacement)},function(e){switch(e.template){case d.single:return he(e);case d.list:case d.flatList:return pe(e);default:throw new Error(`Replacement template ${d[e.template]} is not supported`)}}(e)),he=e=>ne(e.replacement.transform),pe=e=>F.createElement("div",{className:l.lockedTransformList},e.replacements.map((e,t)=>F.createElement("div",{className:l.lockedTransform,key:t+e.newText},ne(e.transform)))),fe=({userExperiments:e,model:t,onIgnore:n,onClickUpgradeFromLockedPremiumAlerts:i})=>{const{iconType:r,explanation:s,title:a}=(e=>{let t,n,i;switch(e.toLowerCase()){case O.f.clarity:t="Advanced clarity issue found by Grammarly. Suggestions to make your text more clear for your readers are not included with a free account.",n=e,i=l.outcomeClarity;break;case O.f.tone:t="Delivery issue found by Grammarly. Suggestions to ensure you are making the right impression are not included with a free account.",n="Delivery",i=l.outcomeDelivery;break;case O.f.engagement:t="Engagement issue found by Grammarly.  Suggestions to enliven your text are not included with a free account.",n=e,i=l.outcomeEngagement;break;default:t="Advanced correctness issue found by Grammarly. Suggestions to fix these inconsistencies are not included with a free account.",n="Advanced Correctness",i=l.outcomeCorrectness}return{explanation:t,title:n,iconType:i}})(t.cardLayout.outcome),c=e&&e.freePremiumLockedPreview||t.isTextCard;return F.createElement("div",{className:Object(o.d)(l.card,l.lockedPremiumPreview,t.extraProperties.emogenieAlert&&l.emogenieCard)},F.createElement(le,{titleText:a,iconType:r,className:c?"":l.greyedTitle}),c?F.createElement(ce,{onClick:()=>i(t.cardLayout.outcome)}):F.createElement("div",{className:l.replacement},F.createElement(de,{replacement:t.getReplacements(null===t.advancedMessage)})),F.createElement(ue,{explanation:s}),F.createElement(ae,{className:Object(o.d)(l.btnUpgrade,l.item),onClick:()=>i(t.cardLayout.outcome)},F.createElement(I.a,{className:Object(o.d)(l.diamondIcon)}),"Unlock ",(e=>{const t=e.toLowerCase();switch(t){case O.f.correctness:return`Advanced ${e}`;case O.f.tone:return"Delivery";default:return t}})(t.cardLayout.outcome)),F.createElement(ae,{className:Object(o.d)(l.btnIgnore,l.item),onClick:()=>n()},F.createElement(I.d,{className:Object(o.d)(l.icon,l.ignoreIcon)})," Ignore"))};var me=n(60),ge=n(10),be=n(4),ve=n(45),_e=n(6);const ye=({title:e,className:t,lowerCase:n=!0})=>{const i=n?e.toLowerCase():e;return F.createElement("div",Object.assign({className:t},Object(M.b)(i,["i","b"])))},we=({title:e,explanation:t})=>F.createElement("div",null,F.createElement(ye,{className:Object(o.d)(l.bigTitle,l.capitalized),title:e}),F.createElement("div",Object.assign({className:l.explanation},Object(M.b)(t,["i","b"])))),Ee=({onEditor:e})=>F.createElement(ae,{className:Object(o.d)(l.item,l.btnLogo),onClick:e},F.createElement(I.f,{className:Object(o.d)(l.icon,l.logoIcon)})," See more in Grammarly"),xe=()=>F.createElement("div",{className:Object(o.d)(l.gdocsFooter)},"Suggested by Grammarly"),Oe=({onLogin:e})=>F.createElement(ae,{className:Object(o.d)(l.btnPersonalize,l.item),onClick:e},F.createElement("div",{className:l.personalizeMessage},F.createElement("span",{className:l.attn},"ATTN:")," You’re missing many ",F.createElement("br",null)," key Grammarly features."),F.createElement(I.f,{className:Object(o.d)(l.icon,l.logoIcon)})," Personalize for free"),Se=({onLogin:e})=>F.createElement(ae,{className:Object(o.d)(l.item,l.unifiedFunnelBtn,l.btnLogo),onClick:e},F.createElement(I.f,{className:Object(o.d)(l.icon,l.logoIcon)}),F.createElement("span",{className:l.unifiedFunnelBtnText},"Sign up now to get key",F.createElement("br",null),"Grammarly features")),Ce=({title:e,blogLink:t})=>F.createElement(ae,{className:Object(o.d)(l.btnNewBadge,l.item,void 0!==t&&l.clickable),onClick:()=>{void 0!==t&&(window.open(t),ve.a.newBadgeButtonClick("inline-card"))}},F.createElement("div",null,F.createElement("span",{className:l.newLabel},"NEW"),F.createElement("span",{className:l.newTitle},`${e} check`)),void 0!==t&&F.createElement("div",{className:l.newInfo},"LEARN MORE")),je=({model:e,onAddToDictionary:t,onIgnore:n,onEditor:i,onLogin:r})=>{const s=e.getFooterProps();return F.createElement("div",{className:Object(o.d)(l.card,e.extraProperties.emogenieAlert&&l.emogenieCard)},e.isTextCard?!e.isUnknowWord&&F.createElement(we,{title:e.title,explanation:e.explanation}):F.createElement("div",{className:l.replacement},F.createElement(oe,{itemClassName:l.item,replacement:e.getReplacements(null===e.advancedMessage)})),e.advancedMessage&&F.createElement("div",{className:l.advancedMessage},F.createElement("div",{className:l.advancedTitle},e.advancedMessage.title),e.advancedMessage.items.map((e,t)=>F.createElement("div",{className:l.advancedItem,key:e+t},e))),F.createElement("div",{className:l.footer},s.hasAddToDictionary&&F.createElement(ae,{className:Object(o.d)(l.btnDict,l.item),onClick:()=>t()},e.isUnknowWord&&F.createElement(ye,{className:l.unknownWordTitle,title:e.title}),F.createElement("span",{className:Object(o.d)(l.btnDictLabelWithIcon)},F.createElement(I.c,{className:Object(o.d)(l.icon,l.dictionaryIcon)})," Add to dictionary")),F.createElement(ae,{className:Object(o.d)(l.btnIgnore,l.item),onClick:()=>n()},F.createElement(I.d,{className:Object(o.d)(l.icon,l.ignoreIcon)})," Ignore"),Ae(e,i,r)))};class ke extends F.Component{constructor(){super(...arguments),this.state={isExpanded:!1}}expand(){this.setState({isExpanded:!0})}componentDidMount(){this.expandableParent&&this.expandableContent&&this.expandableParent.clientHeight-8>=this.expandableContent.clientHeight&&this.setState({isExpanded:!0})}render(){const{model:e,onIgnore:t}=this.props,{isExpanded:n}=this.state;return F.createElement("div",{className:Object(o.d)(l.card,l.vox)},F.createElement("div",{className:e.explanation.length?null:l.headerWrapper},e.isTextCard?F.createElement(F.Fragment,null,F.createElement("div",{className:Object(o.d)(l.header)},e.headerIcon&&F.createElement("div",{className:l.headerIcon},F.createElement("img",{src:e.headerIcon})),e.headerText),F.createElement(ye,{className:l.bigTitle,title:e.highlightText,lowerCase:!1})):F.createElement(oe,{itemClassName:l.item,replacement:e.getReplacements()})),0!==e.explanation.length&&F.createElement("div",{className:Object(o.d)(l.expandableDescription,n?l.expanded:null),ref:e=>{this.expandableParent=e}},F.createElement(M.a,{clickHandler:()=>this.expand()},F.createElement("div",{className:Object(o.d)(l.expandableDescriptionContent),ref:e=>{this.expandableContent=e}},F.createElement("div",Object.assign({className:l.explanation},Object(M.b)(e.explanation,["i","b"])))),!n&&F.createElement(F.Fragment,null,F.createElement("span",{className:Object(o.d)(l.more)},F.createElement(I.g,{className:Object(o.d)(l.icon,l.moreIcon)})),F.createElement("span",{className:Object(o.d)(l.button)},"Read More")))),F.createElement("div",{className:l.footer},F.createElement(ae,{className:Object(o.d)(l.btnIgnore,l.item),onClick:()=>t()},F.createElement(I.d,{className:Object(o.d)(l.icon,l.ignoreIcon)})," Dismiss")))}}const Te=({word:e})=>F.createElement("div",{className:Object(o.d)(l.card,l.cardAddedToDict)},F.createElement("div",{className:l.addedToDictTitle},F.createElement(I.b,{className:l.dictionaryAddedIcon})," ",e),F.createElement("div",{className:l.dictionaryDescription},"is now in your"," ",F.createElement(M.a,{clickHandler:()=>{window.open(Object(ge.f)().appPersonalDictionary)}},F.createElement("div",{className:l.dictLink},"personal dictionary"))));class Ne extends F.Component{constructor(){super(...arguments),this.state={isAddedToDictionary:this.props.isAddedToDictionary}}render(){const{model:e}=this.props;return this.state.isAddedToDictionary?F.createElement(Te,{word:e.highlightText}):e.extraProperties.lockedPremiumAlert?F.createElement(fe,{model:e,onIgnore:this.props.onIgnore,onClickUpgradeFromLockedPremiumAlerts:this.props.onClickUpgradeFromLockedPremiumAlerts,userExperiments:this.props.userExperiments}):F.createElement(je,{onAddToDictionary:()=>{this.setState({isAddedToDictionary:!0}),this.props.onAddToDictionary()},onIgnore:this.props.onIgnore,onEditor:this.props.onEditor,onLogin:this.props.onLogin,model:e})}}const Pe=({model:e,onEditor:t,onLogin:n})=>F.createElement("div",{className:Object(o.d)(l.card,l.synCard)},F.createElement("div",{className:l.synTitle},"Synonyms:"),F.createElement(se,{meanings:e.meanings}),F.createElement("div",{className:l.footer},Ae(e,t,n)));function Ae(e,t,n){const i=()=>e.isUserAuthenticated?Object(me.i)()?F.createElement(xe,null):F.createElement(Ee,{onEditor:t}):"common"===e.kind&&e.isUnifiedFunnel?F.createElement(Se,{onLogin:n}):F.createElement(Oe,{onLogin:n});switch(e.kind){case"common":const{releaseDate:t}=e.extraProperties,n=void 0!==t&&t+2*be.e.week,r=Date.now();return n&&n>r?F.createElement(Ce,{title:e.cardLayout.group,blogLink:e.extraProperties.blogLink}):i();case"synonyms":return i();default:return null}}class Ie extends F.Component{render(){const{model:e,onIgnore:t}=this.props;return F.createElement(ke,{onIgnore:t,model:e})}}const Fe=304,Me=304;class Re extends F.Component{constructor(){super(...arguments),this.state={isMaxWidth:!1}}componentDidMount(){if(!this.el)return;const e="common"===this.props.model.kind&&this.props.model.extraProperties.emogenieAlert?Me:Fe;this.el.firstElementChild&&this.el.firstElementChild.clientWidth===e&&this.setState({isMaxWidth:!0})}render(){const{model:e,onIgnore:t,onAddToDictionary:n,onEditor:i,onLogin:r,isAddedToDictionary:s,onClickUpgradeFromLockedPremiumAlerts:a,userExperiments:c}=this.props;return F.createElement(_e.F.div,{onClick:e=>e.stopPropagation(),key:e.id,mount:e=>this.el=e,className:Object(o.d)(this.state.isMaxWidth&&l.maxWidthReached)},function(e,t,n,i,r,o,s,a){switch(e.kind){case"common":return F.createElement(Ne,{model:e,onIgnore:t,onAddToDictionary:n,onEditor:i,onLogin:r,isAddedToDictionary:o,onClickUpgradeFromLockedPremiumAlerts:s,userExperiments:a});case"synonyms":return F.createElement(Pe,{model:e,onEditor:i,onLogin:r});case"vox":return F.createElement(Ie,{model:e,onIgnore:t});default:return null}}(e,t,n,i,r,s,a,c))}}class De extends F.Component{constructor(){super(...arguments),this.state={pos:{rect:{top:0,left:0,width:0,height:0,flip:!1,visible:!1},sourceRect:{width:0},delta:{right:0,left:0,bottom:0,top:0},className:"",visible:!1},addedToDict:!1,match:{},visible:!1},this._firstInteractionMap={},this._cardModel=null,this._alert=null,this.stopMouseDownEvent=e=>{e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},this._setRef=e=>{this._ref!==e&&(null!=this._ref&&this._ref.removeEventListener("mousedown",this.stopMouseDownEvent),null!=e&&e.addEventListener("mousedown",this.stopMouseDownEvent),this._ref=e)},this.handlers=(e,t,n)=>{const i=Object(S.a)(),{match:r}=this.state,{props:o}=this;if(!this.state.addedToDict&&e){switch(e){case"replace":o.animateReplacement(String(r.id),t,n),r.replace(t,!1),o.hide(),r.syn?(ve.a.synonymAcceptButtonClick("synonymCard"),i.synonymReplacementAction()):i.cardReplacementAction();break;case"ignore":r.ignore(),o.hide(),i.cardIgnoreAction();break;case"hide":case"anim-hide":o.hide();break;case"editor":o.openEditor();break;case"login":o.isUnifiedFunnel()?o.toUnifiedLoginReminder():o.openEditor();break;case"add":o.addToDict(),i.cardAddToDictAction()}try{switch(e){case"replace":case"ignore":case"add":case"editor":void 0===this._firstInteractionMap[r.editorId]&&(i.cardFirstInteraction(this.props.getUserType(),this.props.getEditorType()),this._firstInteractionMap[r.editorId]=!0)}}catch(e){}}}}componentDidUpdate(){const e=this.state,{match:t}=this.state;var n;!1===e.visible&&(this._alert=null),this._alert=(n=t.rawMatch)?n.group||"synonyms"!==n.action?n.group===O.b.voxStyle?function(e){const t=P(e),n={title:e.extra_properties.voxCompanyName?`${e.extra_properties.voxCompanyName} style guide`:"Style guide",details:e.details,explanation:e.explanation},i=Object.assign(t,n),r={kind:"vox",replacements:(e.transformJson.alternatives||[]).map((t,n)=>(function(e,t,n){return{newText:t,transform:T(e,n,!1)}})(t,e.replacements[n],e.highlightText)),pname:e.pname,icon:e.extra_properties.voxLogoUrl};return Object.assign(i,r)}(n):function(e){const t=e.extra_properties,n=P(e);if(null!==n){const i={title:e.title||"",details:e.details,explanation:e.explanation},r=Object.assign(n,i),o={kind:"common",todo:e.todo||"",minicardTitle:e.minicardTitle,point:e.point,pname:e.pname,cardLayout:e.cardLayout,replacements:(e.transforms||[]).map((t,n)=>(function(e,t){return{newText:t,transform:k(e)}})(t,e.replacements[n])),extraProperties:{hasAddToDictionary:!!t.add_to_dict,isDidYouMean:!!t.did_you_mean,isShowTitle:!!t.show_title,isEnchancement:!!t.enhancement,blogLink:t.blog_link,releaseDate:A(t.release_date),plagiarismUrl:t.url,sentence:t.sentence,priority:t.priority?parseInt(t.priority,10):0,freePremiumAlert:!!t.free_occasional_premium_alert,lockedPremiumAlert:!!t.is_locked_premium_alert,emogenieAlert:!!e.extra_properties.emoji}};return Object.assign(r,o)}return null}(n):function(e){const t=e,n=function(e){const t=Number(e.synonyms.pos),n=e.synonyms.token,r=t+n.length;return{id:String(e.id),hidden:!1,category:e.category,isFree:!0,impact:O.c.critical,highlightText:n,range:{start:t,end:r},group:i.synonym}}(t),r={title:t.synonyms.token,details:"",explanation:""},o=Object.assign(n,r),s={kind:"synonym",meanings:t.synonyms.meanings.map(e=>({title:e.meaning,replacements:e.synonyms.map(e=>N(e.derived))})),replacements:(t.replacements||[]).map(N)};return Object.assign(o,s)}(n):null,this._alert&&(this._cardModel=this.createCardModel(this._alert,!this.props.isAnonymous(),this.props.isUnifiedFunnel()))}createCardModel(e,t,n){switch(e.kind){case"common":return new y(e,(e,t)=>this.handlers("replace",e,t),t,n);case"synonym":return new w(e,e=>this.handlers("replace",e),t);case"vox":return new E(e,e=>this.handlers("replace",e),t);default:return null}}render(){const{pos:e,visible:t,addedToDict:n}=this.state,{rect:i}=e,r=i.flip,s={top:i.top,left:i.left,visibility:t&&e.visible?"visible":"hidden"};return t&&this._alert&&this._cardModel?F.createElement("div",{ref:this._setRef,style:s,className:Object(o.d)(l.container,r&&l.flip,"synonyms"===this._cardModel.kind&&l.syn,r&&"synonyms"===this._cardModel.kind&&l.flipSyn)},F.createElement(Re,{userExperiments:this.props.getUserExperiments(),model:this._cardModel,onIgnore:()=>this.handlers("ignore"),onAddToDictionary:()=>this.handlers("add"),isAddedToDictionary:n,onLogin:()=>this.handlers("login"),onEditor:()=>this.handlers("editor"),onClickUpgradeFromLockedPremiumAlerts:this.props.upgradeFromLockedPremiumAlerts})):F.createElement("div",null)}}var Le=n(248),Be=n(149),Ue=n(16),ze=n(367),He=n(73);n.d(t,"b",(function(){return Ve})),n.d(t,"a",(function(){return We})),n(518);const Ve="gr__tooltip_empty";let Ge={};class We extends(Object(Ue.l)(r.emitter)){constructor({dynamicConfig:e,doc:t=document,domCls:n="",user:i,isGDocs:r}={}){super(),this._isAnonymous=!1,this._isGdocs=!1,this._id=Symbol("GrammarCard"),this._fluidCurrentCard=null,this.show=(e,t)=>(this.emit("show",e.id),this.updatePos(e,t),this._isGdocs&&this.listenGdocsKeyDown(),Be.a.start(Ge.id),Object(S.a)().cardShowAction(),this),this.hide=(e,t=!1)=>{const n=Object(S.a)();if(!Ge.hint.visible&&!t)return;this._isGdocs&&this.listenGdocsKeyDown(!1),Ge.container.el.style.display="none",this.setState({animate:!1,visible:!1,match:{}});const i=Ge.notfound&&Ge.notfound.isEnabled();if(Ge.notfound.disable(),Ge.notfound.hide(),Ge.hint.setVisible(!1),this.emit("hide",this.match||void 0),Ge.hint.currentEl&&this.removeLoading(Ge.hint.currentEl),Be.a.stop(Ge.id),this.match){const{syn:e}=this.match;e?n.synonymCardHideAction(i):n.cardHideAction()}return i&&n.synonymCardHideAction(i),this.match=null,Ge.container.el.style.display="",this},this.animHide=()=>(this.setState({animate:!0}),o.m.call(Ge.el,Object(o.t)(),this.hide),this),this.openEditor=()=>{Ge.hint.currentEl&&this.removeLoading(Ge.hint.currentEl),this.emit("toeditor",this.match?this.match.editorId:void 0),this.hide()},this.toUnifiedLoginReminder=()=>{this.emit("toUnifiedLoginReminder"),this.hide()},this.animateReplacement=(e,t,n)=>{this.emit("animateReplacement",{matchId:e,replacement:t,visibleReplacement:n})},this.addToDict=()=>{this._isAnonymous?(this.emit("toUnifiedLoginReminder"),this.hide()):(this.setState({addedToDict:!0}),this.emit("addtodict",{match:this.match,hide:this.hide,animHide:this.animHide}))},this.upgradeFromLockedPremiumAlerts=()=>{this.emit("upgradeFromLockedPremiumAlert"),this.hide()},this.getCurrentEl=e=>{let t=e.target;const{clientX:n,clientY:i}=e;if(this._isGdocs){const e=this.elementsFromPoint(n,i).find(e=>Object(o.h)(e,"kix-spelling-error-overlay-container"));e&&e.childNodes[0]&&(t=e.childNodes[0])}return t},this.gdocsUnderlineParts=e=>Array.from(Ge.doc.querySelectorAll(`[data-gr-g='${e}']`)),this.inTarget=e=>{const{clientX:t,clientY:n,detail:i}=e,r=this.getCurrentEl(e),s=Ge.hint.currentEl,a=(Object(o.n)(r,Ge.cls)||Object(o.h)(r,Ge.cls))&&(!s||!Object(o.h)(s,"g-selection-anim"));return!(!this.elementsFromPoint(t,n).some(e=>Object(o.h)(e,Ge.cls))||!Ge.hint.visible||1!==i)||(a?s&&s!==r?(Ge.hint.fastHide(),void this.removeLoading(s)):(this.addLoading(r),!0):void(!Ge.hint.visible&&s&&this.removeLoading(s)))},this.isGdocsMainViewTarget=e=>Boolean(Object(o.n)(e,"kix-paragraphrenderer")),this.addLoading=e=>{let t=[e];this._isGdocs&&this.isGdocsMainViewTarget(e)&&(t=this.gdocsUnderlineParts(e.dataset.grG)),t.forEach(e=>!Object(o.h)(e,Ge.pCls)&&Object(o.a)(e,Ge.pCls))},this.removeLoading=e=>{if(!e)return;let t=[e];this._isGdocs&&this.isGdocsMainViewTarget(e)&&(t=this.gdocsUnderlineParts(e.dataset.grG)),t.forEach(e=>{Object(o.h)(e,Ge.pCls)&&Object(o.p)(e,Ge.pCls),Object(o.h)(e,"g-selection-anim")&&e.parentNode&&e.parentNode.removeChild(e)})},this.showSynonyms=e=>{const t=e.animEl;return t&&0!==t.getClientRects().length?(Ge.hint.currentEl&&this.hide(),Ge.hint.currentEl=t,this.showSynonymsImpl(e,{posEl:e.animEl},()=>this.updatePos(t))):this},this.showSynonymsImpl=(e,t,n)=>{const i=Object(S.a)();return e.synonyms&&0===e.synonyms.meanings.length?(Ge.notfound.enable(),Ge.notfound.show(Object.assign(Object.assign({},t),{text:"No synonyms found",outerIframe:Ge.iframe})),i.synonymCardShowAction(!0)):(this.setData(e),n(),this.setState({visible:!0}),i.synonymCardShowAction(!1)),ve.a.synonymsPopupShow(),Ge.hint.setVisible(!0),Be.a.start(Ge.id),this},this.setOuterIframe=e=>{const t=e.contentDocument;!e||t&&e===Ge.iframe||(Ge.iframe=e,Ge.hint.setDocs(Ge.doc,t))},this.fluidShowSynonym=(e,t,n)=>(this._fluidCurrentCard&&"syn"!==this._fluidCurrentCard&&this.fluidHide(),this._fluidCurrentCard="syn",this.showSynonymsImpl(e,{rect:t},()=>{this.fluidUpdatePos(t,n,!1),setTimeout(()=>this.fluidUpdatePos(t,n,!0),0)})),this.fluidShow=(e,t,n,i)=>(this._fluidCurrentCard&&"alert"!==this._fluidCurrentCard&&this.fluidHide(),this._fluidCurrentCard="alert",this.setData(n,void 0,i),this.fluidUpdatePos(e,t,!1,()=>this.fluidUpdatePos(e,t,!0)),Be.a.start(Ge.id),Object(S.a)().cardShowAction(),n.rawMatch.extra_properties.is_locked_premium_alert&&ve.a.premiumPreviewPremiumPreviewCardShow(n.rawMatch.cardLayout.group,n.rawMatch.cardLayout.outcome),this),this._dynamicConfig=e,this._isGdocs=r,this._isAnonymous=i.anonymous,this._userType=i.type,this._userExperiments=i.experiments;const s=this.render(this._id,t),l=Object(He.findDOMNode)(s.component),u=new a.a({doc:t,hint:l,hideDelay:500,inTarget:this.inTarget,cls:Ge.cls,delay:400,onshow:this.show,onhide:this.hide,getCurrentEl:this.getCurrentEl}).bind();Ge={id:this._id,notfound:Object(c.a)({cls:Object(o.d)("gr-notfound-tooltip",Ve),enabled:!1,doc:t}),windowEvents:{keydown:this.hide,scroll:this.hide,resize:this.hide},doc:t,domCls:n,cls:"gr_",pCls:"gr-progress",container:s,el:l,hint:u},this.hint=u,ze.b(Ge.windowEvents,null,!0)}updateState(e,t){this._dynamicConfig=e,this._isAnonymous=t.anonymous,this._userType=t.type}listenGdocsKeyDown(e=!0){const t=document.querySelector(".docs-texteventtarget-iframe");t&&Object(s.a)(t.contentDocument,"keydown",this.hide,!e)}elementsFromPoint(e,t){return e&&t?Ge.doc.elementsFromPoint?Ge.doc.elementsFromPoint(e,t):[Ge.doc.elementFromPoint(e,t)]:[]}setState(e,t){Ge.container.component.setState(e,t)}setData(e,t,n){return e?(this.setState({match:e,visible:!0,addedToDict:!1}),this.match=e,n&&(this.hint.cardHovered=n),this._editorType=t,this):this}updatePos(e,t){if(null==e.parentNode){if(!e.id)return void this.hide();const t=Ge.doc.querySelector(`.gr_${e.id}`);if(!t)return void this.hide();Ge.hint.currentEl=e=t}const n=Object(Le.b)(e,Ge.iframe),i=Object.assign(Object(Le.c)(Ge.el,function(e,t){if(!e)return;if(!e.length)return e;if(1===e.length||!t)return e[0];const n=t.pageX||t.clientX,i=t.pageY||t.clientY;let r;return e.forEach(e=>{const t=e.top,o=e.left,s=e.width,a=e.height;i>=t&&i<=t+a&&n>=o&&n<=o+s&&(r=e)}),r||e[0]}(n,t),!1,!0),{width:Ge.el.clientWidth,height:Ge.el.clientHeight});i.rect.flip&&(i.rect.top=i.rect.top+Ge.el.clientHeight),this.setState({pos:i})}fluidUpdatePos(e,t,n,i){const r=Object.assign(Object(Le.c)(Ge.el,e,!1,!0),{width:Ge.el.clientWidth,height:Ge.el.clientHeight,visible:n});r.rect.top=r.rect.flip?r.rect.top+Ge.el.clientHeight-t:r.rect.top+t,this.setState({pos:r},i)}fluidHide(){this.hide(void 0,!0),this._fluidCurrentCard=null}render(e=this._id,t){const n={isAnonymous:()=>this._isAnonymous,isGdocs:this._isGdocs,getDynamicConfig:()=>this._dynamicConfig,getUserType:()=>this._userType,getEditorType:()=>this._editorType,getUserExperiments:()=>this._userExperiments,hide:this.hide,openEditor:this.openEditor,toUnifiedLoginReminder:this.toUnifiedLoginReminder,animateReplacement:this.animateReplacement,addToDict:this.addToDict,isUnifiedFunnel:()=>!0,upgradeFromLockedPremiumAlerts:this.upgradeFromLockedPremiumAlerts};return Object(o.q)(F.createElement(De,Object.assign({},n)),t.documentElement,e,"grammarly-card")}remove(){Ge.hint.unbind(),ze.a(Ge.windowEvents,null,!0),Ge.container.remove()}}},function(e,t,n){"use strict";var i=n(9),r=n(120),o=n(60),s=n(0),a=n(73),c=n(45),l=n(251),u=n(121),d=n(21),h=n(233);const p=5e3,f=3e3,m={disable:{title:"Grammarly is now turned off on ",text:"The extension will remain disabled on this website until you enable it from the toolbar icon."},disableOnTab:{title:"Grammarly is temporarily disabled on ",text:"We will be here next time you visit this website. You can enable it from the toolbar icon."},reminder:{title:"Your writing is still not being checked on ",text:"Are you communicating at your best? Switch the extension back on and be confident about your writing."}};class g extends s.Component{constructor(e){super(e),this.onMouseEnter=()=>{clearTimeout(this._hideTimeout)},this.onMouseLeave=()=>{this._hideTimeout=setTimeout(this.cancel,f)},this.cancel=()=>{this._node?(this._node.style.opacity="0",this._node.addEventListener("transitionend",()=>{this.props.remove()},!1)):this.props.remove()},this.doNotShowReminderAgain=()=>{this.props.disableReminder(),c.a.disableReminderDoNotShowAgainButtonClick("reminder"),this.cancel()},this.state={styles:{}}}componentDidMount(){const e=a.findDOMNode(this.refs.gNotification);e.style.setProperty("transition","none","important"),this._requestAnimationFrame=requestAnimationFrame(()=>{e.style.setProperty("transition","opacity 0.35s cubic-bezier(0.255,0.89,0.25,1.135),transform 0.35s cubic-bezier(0.255,0.89,0.25,1.135)","important"),requestAnimationFrame(()=>{if(e.style.opacity="1",e.style.transform){const t=e.style.transform.split("(")[1].split(")")[0].split(","),n=parseInt(t[0],10),i=parseInt(t[1],10);e.style.transform=`translate(${n}px, ${i+e.clientHeight}px)`}})}),this._node=e,this.setState(()=>({styles:this.props.styles})),this._hideTimeout=setTimeout(this.cancel,p)}componentWillUnmount(){cancelAnimationFrame(this._requestAnimationFrame)}renderButtons(){switch(this.props.type){case"disable":return s.createElement("div",null,s.createElement(d.a,{clickHandler:this.cancel},s.createElement("button",{className:h.action},"Got it")),s.createElement(d.a,{clickHandler:this.props.enableOnDomain},s.createElement("button",{className:Object(i.d)(h.action,h.secondary)},"Enable now")));case"disableOnTab":return s.createElement(d.a,{clickHandler:this.cancel},s.createElement("button",{className:h.action},"Got it"));case"reminder":return s.createElement("div",null,s.createElement(d.a,{clickHandler:this.props.enableOnDomain},s.createElement("button",{className:h.action},"Enable Grammarly")),s.createElement(d.a,{clickHandler:this.doNotShowReminderAgain},s.createElement("button",{className:Object(i.d)(h.action,h.secondary)},"Don’t show this again")));default:return}}render(){const{text:e,title:t}=m[this.props.type];return s.createElement("div",{ref:"gNotification",className:Object(i.d)(h.notification,h[this.props.type]),style:this.state.styles,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},s.createElement("p",{className:h.title},t+this.props.domain),s.createElement("p",{className:h.text},e),this.renderButtons(),s.createElement(d.a,{clickHandler:this.cancel},s.createElement("button",{className:h.close})))}}n.d(t,"a",(function(){return y}));const b=160,v=-10,_=15;class y{constructor({doc:e,actions:t}){this.containerClickHandler=e=>{e.stopPropagation(),e.stopImmediatePropagation()},this._getStyles=()=>{const e=Object(i.s)(this._doc),t=v,n=_-b;return Object.assign({},{[e]:`translate(${t}px, ${n}px)`})},this._windowResize=()=>{const e=this._getStyles();this._component.setState(()=>({styles:e}))},this._doc=e,this.actions=t}_checkContainer(){this._container||(this._container=this._doc.createElement("g-notifications"),this._container.addEventListener("click",this.containerClickHandler),this._doc.documentElement.appendChild(this._container))}showDisable(){this._show("disable")}showDisableOnTab(){this._show("disableOnTab")}showReminder(){this._show("reminder"),c.a.disableReminderNotificationShow()}_show(e){this._render(e),this.isActive=!0,Object(r.a)(window,"resize",this._windowResize,!1),Object(u.a)().notificationShown(e)}hide(e){this.isActive=!1,this._container&&a.unmountComponentAtNode(this._container),Object(r.b)(window,"resize",this._windowResize,!1),void 0!==e&&Object(u.a)().notificationHide(e)}_render(e){this._checkContainer();const t=this._getStyles(),n=Object(o.b)(),i=s.createElement(g,{enableOnDomain:()=>{this.actions.toggleSite(!0,n),this.remove(e),c.a.checkingToggleClick("reminder"===e?"reminder":"notification",Object(o.i)()?l.a.gdocs:l.a.other,"on"),Object(u.a)().toggleExtension(!0,"reminder"===e?"reminder":"notification")},disableReminder:()=>this.actions.disableReminder(n),styles:t,remove:()=>this.remove(e),type:e,domain:n});this._component=a.render(i,this._container)}remove(e){this.hide(e),this._container&&(a.unmountComponentAtNode(this._container),this._container.removeEventListener("click",this.containerClickHandler)),this._container&&this._container.parentNode&&this._container.parentNode.removeChild(this._container)}}},,function(e,t,n){"use strict";var i=n(223),r=n(306),o=n(117),s=n(27);t.a=function(e,t){return(Object(s.a)(e)?i.a:r.a)(e,function(e){return"function"==typeof e?e:o.a}(t))}},function(e,t,n){e.exports={inputs:"_37kw_",hidden:"_1k42n"}},function(e,t,n){e.exports={container:"_34xMY",checkbox:"_3l2ii",checkmark:"EeS6T"}},function(e,t,n){e.exports={tooltip:"_1xbdx",tooltipVisible:"_24jsJ",gr__fade_in:"_3gJFK",tooltipHidden:"_3s8qM"}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t.alphanumeric=function e(t,n){if(void 0===n&&(n=""),t<=0)return n;var r=Math.floor(Math.random()*(i.length-1));return e(t-1,n+i.charAt(r))},t.getNextPingDate=function(){var e=new Date;return e.getHours()>2&&e.setDate(e.getDate()+1),e.setHours(3),e.setMinutes(Math.floor(60*Math.random())),e.getTime()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this._logger=e,this._metric=t}return e.prototype.getValueStart=function(e){var t=this,n=this._metric.getTimer("doGet"+e+".timer").start();return{getValueSuccess:function(){n.stop(),t._metric.getCounter("doGet"+e+".success").increment()},getValueFailure:function(i){n.stop(),t._metric.getCounter("doGet"+e+".failure").increment(),t._logger.warn("doGet"+e+".failed",i)}}},e.prototype.valueGenerated=function(){this._metric.getCounter("generated").increment()},e.prototype.valueRecovered=function(){this._metric.getCounter("recovered").increment()},e}();t.TelemetryValueManagerLogger=i;var r=function(){function e(e,t){this._logger=e,this._metric=t}return e.prototype.nextPingDateReadError=function(e){this._metric.getCounter("nextPingDate.read.failure").increment(),this._logger.warn("nextPingDate.read.failed",e)},e.prototype.nextPingDateWriteError=function(e){this._metric.getCounter("nextPingDate.write.failure").increment(),this._logger.warn("nextPingDate.write.failed",e)},e.prototype.sendError=function(e){this._metric.getCounter("send.failure").increment(),this._logger.warn("send.failed",e)},e.prototype.trackBeforeSetUser=function(e){this._metric.getCounter("trackBeforeSetUser").increment(),this._logger.warn("trackBeforeSetUser",e)},e}();t.TelemetryGnarClientImplLogger=r,t.guard=function(e){try{return e()}catch(e){return}}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n(9),r=n(21),o=n(0),s=n(307),a=n(26);const c=e=>o.createElement(o.Fragment,null,o.createElement("div",{className:a.icon}),o.createElement("div",{className:a.title},"Grammarly isn’t active yet!"),o.createElement(r.a,{clickHandler:e.openAcceptPage},o.createElement("button",{className:a.button},o.createElement("span",{className:a.buttonText},"Activate Grammarly"))));class l extends o.Component{constructor(){super(...arguments),this.openAcceptPage=()=>{Object(s.b)().bgRpc.api.openDataControl()}}render(){return o.createElement("div",{className:Object(i.d)(a.gButtonPopup,a.newDataControl),style:this.props.styles},o.createElement(r.a,{clickHandler:this.props.remove},o.createElement("button",{className:a.close})),o.createElement(c,{openAcceptPage:this.openAcceptPage}),o.createElement("div",{className:Object(i.d)(a.popupFooter,this.props.isFlipped&&a.isFlipped)},"▲"))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i,r=n(4),o=n(148),s=n(129),a=n(118),c=n(238),l=n(147),u=n(215),d=n(170),h=n(78),p=n(37),f=n(345),m=n(172),g=n(61);!function(e){e[e.flush=0]="flush"}(i||(i={}));class b{constructor(e,t,n=r.e.hertz(5),g=r.e.seconds(4),b=/^(\s|\W|\n|\r)+$/,v){this._textChanges=e,this._textFieldFocusChanged=t,this._outputBufferTimeMs=n,this._idleOutputTimeMs=g,this._triggerCharRe=b,this._asyncScheduler=v,this._bigChangeLength=10,this.output=Object(o.a)(this._textChanges.pipe(Object(l.a)(e=>Object(s.a)(Object(a.a)(e),Object(c.a)(this._shouldFlushImmediately(e)?0:this._idleOutputTimeMs,this._asyncScheduler).pipe(Object(u.a)(i.flush))))),this._textFieldFocusChanged.pipe(Object(u.a)(i.flush))).pipe(Object(d.a)((e,t)=>t===i.flush?{buffer:[],output:e.buffer}:{buffer:e.buffer.concat(t.changes),output:null},{buffer:[],output:null}),Object(h.a)(e=>null!==e.output&&e.output.length>0),Object(p.a)(e=>e.output),e=>null===this._outputBufferTimeMs?e:e.pipe(Object(f.a)(this._outputBufferTimeMs,this._asyncScheduler),Object(p.a)(e=>[].concat(...e))),Object(h.a)(e=>e.length>0),Object(m.a)())}_hasBigChange(e){return e.changes.some(e=>e._tag===g.a.Type.ins?e.text.length>=this._bigChangeLength:e._tag===g.a.Type.del?e.length>=this._bigChangeLength:Object(r.g)(e))}_newWordStartHeuristic(e){if(2===e.changes.length){const[t,n]=e.changes;return t._tag===g.a.Type.del&&n._tag===g.a.Type.ins&&t.pos===n.pos&&n.text.length>=2&&n.text.startsWith(" ")&&160===e.prevText.charCodeAt(t.pos)}return!1}_shouldFlushImmediately(e){return this._hasBigChange(e)||!!e.changes.find(e=>e._tag===g.a.Type.ins?this._triggerCharRe.test(e.text):e._tag===g.a.Type.del)&&!this._newWordStartHeuristic(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(80);class r{constructor(e={}){this.on=(e,t)=>this._internalEmitter.on(e,t),this.one=(e,t)=>this._internalEmitter.one(e,t),this.off=(e,t)=>this._internalEmitter.off(e,t),this.emit=(e,t)=>this._internalEmitter.emit(e,t),this.delegate=(e,t,n)=>this._internalEmitter.delegate(e,t,n),this._internalEmitter=i.emitter(e)}}},,function(e,t,n){"use strict";var i=n(22),r=n(303),o=n(414),s=n(415),a=n(255),c=n(256),l=n(202),u=n(99),d=n(27),h=n(77),p=n(82),f=n(128),m=n(91),g=Object.prototype.hasOwnProperty,b=function(e){if(null==e)return!0;if(Object(h.a)(e)&&(Object(d.a)(e)||"string"==typeof e||"function"==typeof e.splice||Object(p.a)(e)||Object(m.a)(e)||Object(u.a)(e)))return!e.length;var t=Object(l.a)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Object(f.a)(e))return!Object(c.a)(e).length;for(var n in e)if(g.call(e,n))return!1;return!0},v=n(16);n.d(t,"a",(function(){return E}));const _=o({level:"debug",collapsed:()=>!0,predicate:()=>!1}),y="store/SYNC",w={page:{},connection:{}};function E(e,t){const n=Object(r.d)((e=w,n)=>{const{domain:r}=e.page||e.config||{};return n.sync&&i.emitBackground("dispatch",Object.assign({},n,{domain:r})),n.type===y?Object.assign({},e,n.data):t?t(e,n):e},{},Object(r.a)(_)),o=(c=Object.assign({},s.a,e),l=n.dispatch,Object.keys(c).filter(e=>c[e]).reduce((e,t)=>Object.assign(e,{[t]:(...e)=>{const n=c[t](...e),i=void 0===n.sync||n.sync;return l(Object.assign({},n,{sync:i}))}}),{}));var c,l;const u=e=>n.dispatch({type:y,data:e});return i.on("state",e=>{Object(v.g)(()=>u(e),0)}),{store:n,actions:o,setState:u,subscribe:e=>(function(e,t){let n;function i(){const i=e.getState();b(i)||Object(a.a)(n,i)||(n=i,t(i))}return Object(v.g)(i),e.subscribe(i)})(n,e)}}},,,function(e,t,n){"use strict";var i=n(378),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113;r&&Symbol.for("react.suspense_list");var f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder"),r&&Symbol.for("react.scope");var g="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function y(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||v}function w(){}function E(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=y.prototype;var x=E.prototype=new w;x.constructor=E,i(x,y.prototype),x.isPureReactComponent=!0;var O={current:null},S={current:null},C=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var i,r={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,i)&&!j.hasOwnProperty(i)&&(r[i]=t[i]);var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===r[i]&&(r[i]=c[i]);return{$$typeof:o,type:e,key:s,ref:a,props:r,_owner:S.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var N=/\/+/g,P=[];function A(e,t,n,i){if(P.length){var r=P.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function F(e,t,n){return null==e?0:function e(t,n,i,r){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var c=!1;if(null===t)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case s:c=!0}}if(c)return i(r,t,""===n?"."+M(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=n+M(a=t[l],l);c+=e(a,u,i,r)}else if("function"==typeof(u=null===t||"object"!=typeof t?null:"function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null))for(t=u.call(t),l=0;!(a=t.next()).done;)c+=e(a=a.value,u=n+M(a,l++),i,r);else if("object"===a)throw i=""+t,Error(b(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return c}(e,"",t,n)}function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,i,n,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),i.push(e))}function L(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),F(e,D,t=A(t,o,i,r)),I(t)}function B(){var e=O.current;if(null===e)throw Error(b(321));return e}var U={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return L(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;F(e,R,t=A(null,null,t,n)),I(t)},count:function(e){return F(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!T(e))throw Error(b(143));return e}},createRef:function(){return{current:null}},Component:y,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,n){return B().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,n){return B().useReducer(e,t,n)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:a,Profiler:l,StrictMode:c,Suspense:p,createElement:k,cloneElement:function(e,t,n){if(null==e)throw Error(b(267,e));var r=i({},e.props),s=e.key,a=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,c=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)C.call(t,u)&&!j.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:o,type:e.type,key:s,ref:a,props:r,_owner:c}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:T,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:i}},z={default:U},H=z&&U||z;e.exports=H.default||H},function(e,t,n){"use strict";var i=n(0),r=n(378),o=n(466);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));var a=null,c={};function l(){if(a)for(var e in c){var t=c[e],n=a.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!d[n]){if(!t.extractEvents)throw Error(s(97,e));for(var i in d[n]=t,n=t.eventTypes){var r=void 0,o=n[i],l=t,p=i;if(h.hasOwnProperty(p))throw Error(s(99,p));h[p]=o;var f=o.phasedRegistrationNames;if(f){for(r in f)f.hasOwnProperty(r)&&u(f[r],l,p);r=!0}else o.registrationName?(u(o.registrationName,l,p),r=!0):r=!1;if(!r)throw Error(s(98,i,e))}}}}function u(e,t,n){if(p[e])throw Error(s(100,e));p[e]=t,f[e]=t.eventTypes[n].dependencies}var d=[],h={},p={},f={};function m(e,t,n,i,r,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var g=!1,b=null,v=!1,_=null,y={onError:function(e){g=!0,b=e}};function w(e,t,n,i,r,o,s,a,c){g=!1,b=null,m.apply(y,arguments)}var E=null,x=null,O=null;function S(e,t,n){var i=e.type||"unknown-event";e.currentTarget=O(n),function(e,t,n,i,r,o,a,c,l){if(w.apply(this,arguments),g){if(!g)throw Error(s(198));var u=b;g=!1,b=null,v||(v=!0,_=u)}}(i,t,void 0,e),e.currentTarget=null}function C(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function j(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var k=null;function T(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)S(e,t[i],n[i]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function N(e){if(null!==e&&(k=C(k,e)),e=k,k=null,e){if(j(e,T),k)throw Error(s(95));if(v)throw e=_,v=!1,_=null,e}}var P={injectEventPluginOrder:function(e){if(a)throw Error(s(101));a=Array.prototype.slice.call(e),l()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!c.hasOwnProperty(t)||c[t]!==i){if(c[t])throw Error(s(102,t));c[t]=i,n=!0}}n&&l()}};function A(e,t){var n=e.stateNode;if(!n)return null;var i=E(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;I.hasOwnProperty("ReactCurrentDispatcher")||(I.ReactCurrentDispatcher={current:null}),I.hasOwnProperty("ReactCurrentBatchConfig")||(I.ReactCurrentBatchConfig={suspense:null});var F=/^(.*)[\\\/]/,M="function"==typeof Symbol&&Symbol.for,R=M?Symbol.for("react.element"):60103,D=M?Symbol.for("react.portal"):60106,L=M?Symbol.for("react.fragment"):60107,B=M?Symbol.for("react.strict_mode"):60108,U=M?Symbol.for("react.profiler"):60114,z=M?Symbol.for("react.provider"):60109,H=M?Symbol.for("react.context"):60110,V=M?Symbol.for("react.concurrent_mode"):60111,G=M?Symbol.for("react.forward_ref"):60112,W=M?Symbol.for("react.suspense"):60113,$=M?Symbol.for("react.suspense_list"):60120,q=M?Symbol.for("react.memo"):60115,Y=M?Symbol.for("react.lazy"):60116;M&&Symbol.for("react.fundamental"),M&&Symbol.for("react.responder"),M&&Symbol.for("react.scope");var K="function"==typeof Symbol&&Symbol.iterator;function Q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=K&&e[K]||e["@@iterator"])?e:null}function X(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case L:return"Fragment";case D:return"Portal";case U:return"Profiler";case B:return"StrictMode";case W:return"Suspense";case $:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case H:return"Context.Consumer";case z:return"Context.Provider";case G:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case q:return X(e.type);case Y:if(e=1===e._status?e._result:null)return X(e)}return null}function J(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=X(e.type);n=null,i&&(n=X(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(F,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Z=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,te=null,ne=null;function ie(e){if(e=x(e)){if("function"!=typeof ee)throw Error(s(280));var t=E(e.stateNode);ee(e.stateNode,e.type,t)}}function re(e){te?ne?ne.push(e):ne=[e]:te=e}function oe(){if(te){var e=te,t=ne;if(ne=te=null,ie(e),t)for(e=0;e<t.length;e++)ie(t[e])}}function se(e,t){return e(t)}function ae(e,t,n,i){return e(t,n,i)}function ce(){}var le=se,ue=!1,de=!1;function he(){null===te&&null===ne||(ce(),oe())}new Map;var pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe=Object.prototype.hasOwnProperty,me={},ge={};function be(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ve[e]=new be(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ve[t]=new be(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ve[e]=new be(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ve[e]=new be(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ve[e]=new be(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ve[e]=new be(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ve[e]=new be(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ve[e]=new be(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ve[e]=new be(e,5,!1,e.toLowerCase(),null,!1)}));var _e=/[\-:]([a-z])/g;function ye(e){return e[1].toUpperCase()}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ee(e,t,n,i){var r=ve.hasOwnProperty(t)?ve[t]:null;(null!==r?0===r.type:!i&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!fe.call(ge,e)||!fe.call(me,e)&&(pe.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function xe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Oe(e){e._valueTracker||(e._valueTracker=function(e){var t=xe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Se(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=xe(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Ce(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function je(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=we(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&Ee(e,"checked",t,!1)}function Te(e,t){ke(e,t);var n=we(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pe(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ne(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ae(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ie(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+we(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Fe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(s(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(s(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:we(n)}}function Re(e,t){var n=we(t.value),i=we(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_e,ye);ve[t]=new be(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_e,ye);ve[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(_e,ye);ve[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ve[e]=new be(e,1,!1,e.toLowerCase(),null,!1)})),ve.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ve[e]=new be(e,1,!1,e.toLowerCase(),null,!0)}));var Le={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Be(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ze,He=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Le.svg||"innerHTML"in e)e.innerHTML=t;else{for((ze=ze||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ze.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ge(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var We={animationend:Ge("Animation","AnimationEnd"),animationiteration:Ge("Animation","AnimationIteration"),animationstart:Ge("Animation","AnimationStart"),transitionend:Ge("Transition","TransitionEnd")},$e={},qe={};function Ye(e){if($e[e])return $e[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in qe)return $e[e]=n[t];return e}Z&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Ke=Ye("animationend"),Qe=Ye("animationiteration"),Xe=Ye("animationstart"),Je=Ye("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(s(188))}function it(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return nt(r),e;if(o===i)return nt(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=o;break}if(c===i){a=!0,i=r,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,i=r;break}if(c===i){a=!0,i=o,n=r;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var rt,ot,st,at=!1,ct=[],lt=null,ut=null,dt=null,ht=new Map,pt=new Map,ft=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),gt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function bt(e,t,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i}}function vt(e,t){switch(e){case"focus":case"blur":lt=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":ht.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function _t(e,t,n,i,r){return null===e||e.nativeEvent!==r?(e=bt(t,n,i,r),null!==t&&null!==(t=pi(t))&&ot(t),e):(e.eventSystemFlags|=i,e)}function yt(e){var t=hi(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){st(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wt(e){if(null!==e.blockedOn)return!1;var t=Pn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=pi(t);return null!==n&&ot(n),e.blockedOn=t,!1}return!0}function Et(e,t,n){wt(e)&&n.delete(t)}function xt(){for(at=!1;0<ct.length;){var e=ct[0];if(null!==e.blockedOn){null!==(e=pi(e.blockedOn))&&rt(e);break}var t=Pn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ct.shift()}null!==lt&&wt(lt)&&(lt=null),null!==ut&&wt(ut)&&(ut=null),null!==dt&&wt(dt)&&(dt=null),ht.forEach(Et),pt.forEach(Et)}function Ot(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function St(e){function t(t){return Ot(t,e)}if(0<ct.length){Ot(ct[0],e);for(var n=1;n<ct.length;n++){var i=ct[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==lt&&Ot(lt,e),null!==ut&&Ot(ut,e),null!==dt&&Ot(dt,e),ht.forEach(t),pt.forEach(t),n=0;n<ft.length;n++)(i=ft[n]).blockedOn===e&&(i.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function Ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function jt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function kt(e,t,n){(t=A(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function Tt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=jt(t);for(t=n.length;0<t--;)kt(n[t],"captured",e);for(t=0;t<n.length;t++)kt(n[t],"bubbled",e)}}function Nt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=A(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function Pt(e){e&&e.dispatchConfig.registrationName&&Nt(e._targetInst,null,e)}function At(e){j(e,Tt)}function It(){return!0}function Ft(){return!1}function Mt(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?It:Ft,this.isPropagationStopped=Ft,this}function Rt(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function Dt(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Lt(e){e.eventPool=[],e.getPooled=Rt,e.release=Dt}r(Mt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=It)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=It)},persist:function(){this.isPersistent=It},isPersistent:Ft,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ft,this._dispatchInstances=this._dispatchListeners=null}}),Mt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Mt.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,Lt(n),n},Lt(Mt);var Bt=Mt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ut=Mt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zt=Mt.extend({view:null,detail:null}),Ht=zt.extend({relatedTarget:null});function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Gt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=$t[e])&&!!t[e]}function Yt(){return qt}for(var Kt=zt.extend({key:function(e){if(e.key){var t=Gt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Wt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Yt,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Qt=0,Xt=0,Jt=!1,Zt=!1,en=zt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Yt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Jt?"mousemove"===e.type?e.screenX-t:0:(Jt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Xt;return Xt=e.screenY,Zt?"mousemove"===e.type?e.screenY-t:0:(Zt=!0,0)}}),tn=en.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),nn=en.extend({dataTransfer:null}),rn=zt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Yt}),on=Mt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sn=en.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),an=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ke,"animationEnd",2],[Qe,"animationIteration",2],[Xe,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],cn={},ln={},un=0;un<an.length;un++){var dn=an[un],hn=dn[0],pn=dn[1],fn=dn[2],mn="on"+(pn[0].toUpperCase()+pn.slice(1)),gn={phasedRegistrationNames:{bubbled:mn,captured:mn+"Capture"},dependencies:[hn],eventPriority:fn};cn[pn]=gn,ln[hn]=gn}var bn={eventTypes:cn,getEventPriority:function(e){return void 0!==(e=ln[e])?e.eventPriority:2},extractEvents:function(e,t,n,i){var r=ln[e];if(!r)return null;switch(e){case"keypress":if(0===Vt(n))return null;case"keydown":case"keyup":e=Kt;break;case"blur":case"focus":e=Ht;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=rn;break;case Ke:case Qe:case Xe:e=Bt;break;case Je:e=on;break;case"scroll":e=zt;break;case"wheel":e=sn;break;case"copy":case"cut":case"paste":e=Ut;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=tn;break;default:e=Mt}return At(t=e.getPooled(r,t,n,i)),t}},vn=o.unstable_UserBlockingPriority,_n=o.unstable_runWithPriority,yn=bn.getEventPriority,wn=10,En=[];function xn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=hi(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=Ct(e.nativeEvent);i=e.topLevelType;for(var o=e.nativeEvent,s=e.eventSystemFlags,a=null,c=0;c<d.length;c++){var l=d[c];l&&(l=l.extractEvents(i,t,o,r,s))&&(a=C(a,l))}N(a)}}var On=!0;function Sn(e,t){Cn(t,e,!1)}function Cn(e,t,n){switch(yn(t)){case 0:var i=jn.bind(null,t,1);break;case 1:i=kn.bind(null,t,1);break;default:i=Nn.bind(null,t,1)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function jn(e,t,n){ue||ce();var i=Nn,r=ue;ue=!0;try{ae(i,e,t,n)}finally{(ue=r)||he()}}function kn(e,t,n){_n(vn,Nn.bind(null,e,t,n))}function Tn(e,t,n,i){if(En.length){var r=En.pop();r.topLevelType=e,r.eventSystemFlags=t,r.nativeEvent=n,r.targetInst=i,e=r}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:i,ancestors:[]};try{if(t=xn,n=e,de)t(n,void 0);else{de=!0;try{le(t,n,void 0)}finally{de=!1,he()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,En.length<wn&&En.push(e)}}function Nn(e,t,n){if(On)if(0<ct.length&&-1<mt.indexOf(e))e=bt(null,e,t,n),ct.push(e);else{var i=Pn(e,t,n);null===i?vt(e,n):-1<mt.indexOf(e)?(e=bt(i,e,t,n),ct.push(e)):function(e,t,n,i){switch(t){case"focus":return lt=_t(lt,e,t,n,i),!0;case"dragenter":return ut=_t(ut,e,t,n,i),!0;case"mouseover":return dt=_t(dt,e,t,n,i),!0;case"pointerover":var r=i.pointerId;return ht.set(r,_t(ht.get(r)||null,e,t,n,i)),!0;case"gotpointercapture":return r=i.pointerId,pt.set(r,_t(pt.get(r)||null,e,t,n,i)),!0}return!1}(i,e,t,n)||(vt(e,n),Tn(e,t,n,null))}}function Pn(e,t,n){var i=Ct(n);if(null!==(i=hi(i))){var r=et(i);if(null===r)i=null;else{var o=r.tag;if(13===o){if(null!==(i=tt(r)))return i;i=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Tn(e,t,n,i),null}function An(e){if(!Z)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var In=new("function"==typeof WeakMap?WeakMap:Map);function Fn(e){var t=In.get(e);return void 0===t&&(t=new Set,In.set(e,t)),t}function Mn(e,t,n){if(!n.has(e)){switch(e){case"scroll":Cn(t,"scroll",!0);break;case"focus":case"blur":Cn(t,"focus",!0),Cn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":An(e)&&Cn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&Sn(e,t)}n.add(e)}}var Rn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dn=["Webkit","ms","Moz","O"];function Ln(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Rn.hasOwnProperty(e)&&Rn[e]?(""+t).trim():t+"px"}function Bn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=Ln(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Rn).forEach((function(e){Dn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rn[t]=Rn[e]}))}));var Un=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zn(e,t){if(t){if(Un[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62,""))}}function Hn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Vn(e,t){var n=Fn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=f[t];for(var i=0;i<t.length;i++)Mn(t[i],e,n)}function Gn(){}function Wn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,i=$n(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=$n(i)}}function Yn(){for(var e=window,t=Wn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Wn((e=t.contentWindow).document)}return t}function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Qn="$",Xn="/$",Jn="$?",Zn="$!",ei=null,ti=null;function ni(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ii(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,oi="function"==typeof clearTimeout?clearTimeout:void 0;function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Qn||n===Zn||n===Jn){if(0===t)return e;t--}else n===Xn&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),li="__reactInternalInstance$"+ci,ui="__reactEventHandlers$"+ci,di="__reactContainere$"+ci;function hi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ai(e);null!==e;){if(n=e[li])return n;e=ai(e)}return t}n=(e=n).parentNode}return null}function pi(e){return!(e=e[li]||e[di])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function fi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function mi(e){return e[ui]||null}var gi=null,bi=null,vi=null;function _i(){if(vi)return vi;var e,t,n=bi,i=n.length,r="value"in gi?gi.value:gi.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return vi=r.slice(e,1<t?1-t:void 0)}var yi=Mt.extend({data:null}),wi=Mt.extend({data:null}),Ei=[9,13,27,32],xi=Z&&"CompositionEvent"in window,Oi=null;Z&&"documentMode"in document&&(Oi=document.documentMode);var Si=Z&&"TextEvent"in window&&!Oi,Ci=Z&&(!xi||Oi&&8<Oi&&11>=Oi),ji=String.fromCharCode(32),ki={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ti=!1;function Ni(e,t){switch(e){case"keyup":return-1!==Ei.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Pi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ai=!1,Ii={eventTypes:ki,extractEvents:function(e,t,n,i){var r;if(xi)e:{switch(e){case"compositionstart":var o=ki.compositionStart;break e;case"compositionend":o=ki.compositionEnd;break e;case"compositionupdate":o=ki.compositionUpdate;break e}o=void 0}else Ai?Ni(e,n)&&(o=ki.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ki.compositionStart);return o?(Ci&&"ko"!==n.locale&&(Ai||o!==ki.compositionStart?o===ki.compositionEnd&&Ai&&(r=_i()):(bi="value"in(gi=i)?gi.value:gi.textContent,Ai=!0)),o=yi.getPooled(o,t,n,i),r?o.data=r:null!==(r=Pi(n))&&(o.data=r),At(o),r=o):r=null,(e=Si?function(e,t){switch(e){case"compositionend":return Pi(t);case"keypress":return 32!==t.which?null:(Ti=!0,ji);case"textInput":return(e=t.data)===ji&&Ti?null:e;default:return null}}(e,n):function(e,t){if(Ai)return"compositionend"===e||!xi&&Ni(e,t)?(e=_i(),vi=bi=gi=null,Ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ci&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=wi.getPooled(ki.beforeInput,t,n,i)).data=e,At(t)):t=null,null===r?t:null===t?r:[r,t]}},Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fi[e.type]:"textarea"===t}var Ri={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Di(e,t,n){return(e=Mt.getPooled(Ri.change,e,t,n)).type="change",re(n),At(e),e}var Li=null,Bi=null;function Ui(e){N(e)}function zi(e){if(Se(fi(e)))return e}function Hi(e,t){if("change"===e)return t}var Vi=!1;function Gi(){Li&&(Li.detachEvent("onpropertychange",Wi),Bi=Li=null)}function Wi(e){if("value"===e.propertyName&&zi(Bi))if(e=Di(Bi,e,Ct(e)),ue)N(e);else{ue=!0;try{se(Ui,e)}finally{ue=!1,he()}}}function $i(e,t,n){"focus"===e?(Gi(),Bi=n,(Li=t).attachEvent("onpropertychange",Wi)):"blur"===e&&Gi()}function qi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zi(Bi)}function Yi(e,t){if("click"===e)return zi(t)}function Ki(e,t){if("input"===e||"change"===e)return zi(t)}Z&&(Vi=An("input")&&(!document.documentMode||9<document.documentMode));var Qi,Xi={eventTypes:Ri,_isInputEventSupported:Vi,extractEvents:function(e,t,n,i){var r=t?fi(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var s=Hi;else if(Mi(r))if(Vi)s=Ki;else{s=qi;var a=$i}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(s=Yi);if(s&&(s=s(e,t)))return Di(s,n,i);a&&a(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Pe(r,"number",r.value)}},Ji={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zi={eventTypes:Ji,extractEvents:function(e,t,n,i,r){var o="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(o&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,s?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?hi(t):null)&&(t!==(o=et(t))||5!==t.tag&&6!==t.tag)&&(t=null)):s=null,s===t)return null;if("mouseout"===e||"mouseover"===e)var a=en,c=Ji.mouseLeave,l=Ji.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=tn,c=Ji.pointerLeave,l=Ji.pointerEnter,u="pointer");if(e=null==s?r:fi(s),r=null==t?r:fi(t),(c=a.getPooled(c,s,n,i)).type=u+"leave",c.target=e,c.relatedTarget=r,(i=a.getPooled(l,t,n,i)).type=u+"enter",i.target=r,i.relatedTarget=e,u=t,(a=s)&&u)e:{for(e=u,s=0,t=l=a;t;t=jt(t))s++;for(t=0,r=e;r;r=jt(r))t++;for(;0<s-t;)l=jt(l),s--;for(;0<t-s;)e=jt(e),t--;for(;s--;){if(l===e||l===e.alternate)break e;l=jt(l),e=jt(e)}l=null}else l=null;for(e=l,l=[];a&&a!==e&&(null===(s=a.alternate)||s!==e);)l.push(a),a=jt(a);for(a=[];u&&u!==e&&(null===(s=u.alternate)||s!==e);)a.push(u),u=jt(u);for(u=0;u<l.length;u++)Nt(l[u],"bubbled",c);for(u=a.length;0<u--;)Nt(a[u],"captured",i);return n===Qi?(Qi=null,[c]):(Qi=n,[c,i])}},er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tr=Object.prototype.hasOwnProperty;function nr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!tr.call(t,n[i])||!er(e[n[i]],t[n[i]]))return!1;return!0}var ir=Z&&"documentMode"in document&&11>=document.documentMode,rr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},or=null,sr=null,ar=null,cr=!1;function lr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return cr||null==or||or!==Wn(n)?null:(n="selectionStart"in(n=or)&&Kn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ar&&nr(ar,n)?null:(ar=n,(e=Mt.getPooled(rr.select,sr,e,t)).type="select",e.target=or,At(e),e))}var ur={eventTypes:rr,extractEvents:function(e,t,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){e:{o=Fn(o),r=f.onSelect;for(var s=0;s<r.length;s++)if(!o.has(r[s])){o=!1;break e}o=!0}r=!o}if(r)return null;switch(o=t?fi(t):window,e){case"focus":(Mi(o)||"true"===o.contentEditable)&&(or=o,sr=t,ar=null);break;case"blur":ar=sr=or=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":return cr=!1,lr(n,i);case"selectionchange":if(ir)break;case"keydown":case"keyup":return lr(n,i)}return null}};P.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=mi,x=pi,O=fi,P.injectEventPluginsByName({SimpleEventPlugin:bn,EnterLeaveEventPlugin:Zi,ChangeEventPlugin:Xi,SelectEventPlugin:ur,BeforeInputEventPlugin:Ii}),new Set;var dr=[],hr=-1;function pr(e){0>hr||(e.current=dr[hr],dr[hr]=null,hr--)}function fr(e,t){hr++,dr[hr]=e.current,e.current=t}var mr={},gr={current:mr},br={current:!1},vr=mr;function _r(e,t){var n=e.type.contextTypes;if(!n)return mr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yr(e){return null!=e.childContextTypes}function wr(e){pr(br),pr(gr)}function Er(e){pr(br),pr(gr)}function xr(e,t,n){if(gr.current!==mr)throw Error(s(168));fr(gr,t),fr(br,n)}function Or(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(s(108,X(t)||"Unknown",o));return r({},n,{},i)}function Sr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||mr,vr=gr.current,fr(gr,t),fr(br,br.current),!0}function Cr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(t=Or(e,t,vr),i.__reactInternalMemoizedMergedChildContext=t,pr(br),pr(gr),fr(gr,t)):pr(br),fr(br,n)}var jr=o.unstable_runWithPriority,kr=o.unstable_scheduleCallback,Tr=o.unstable_cancelCallback,Nr=o.unstable_shouldYield,Pr=o.unstable_requestPaint,Ar=o.unstable_now,Ir=o.unstable_getCurrentPriorityLevel,Fr=o.unstable_ImmediatePriority,Mr=o.unstable_UserBlockingPriority,Rr=o.unstable_NormalPriority,Dr=o.unstable_LowPriority,Lr=o.unstable_IdlePriority,Br={},Ur=void 0!==Pr?Pr:function(){},zr=null,Hr=null,Vr=!1,Gr=Ar(),Wr=1e4>Gr?Ar:function(){return Ar()-Gr};function $r(){switch(Ir()){case Fr:return 99;case Mr:return 98;case Rr:return 97;case Dr:return 96;case Lr:return 95;default:throw Error(s(332))}}function qr(e){switch(e){case 99:return Fr;case 98:return Mr;case 97:return Rr;case 96:return Dr;case 95:return Lr;default:throw Error(s(332))}}function Yr(e,t){return e=qr(e),jr(e,t)}function Kr(e,t,n){return e=qr(e),kr(e,t,n)}function Qr(e){return null===zr?(zr=[e],Hr=kr(Fr,Jr)):zr.push(e),Br}function Xr(){if(null!==Hr){var e=Hr;Hr=null,Tr(e)}Jr()}function Jr(){if(!Vr&&null!==zr){Vr=!0;var e=0;try{var t=zr;Yr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zr=null}catch(t){throw null!==zr&&(zr=zr.slice(e+1)),kr(Fr,Xr),t}finally{Vr=!1}}}var Zr=3;function eo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function to(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var no={current:null},io=null,ro=null,oo=null;function so(){oo=ro=io=null}function ao(e,t){var n=e.type._context;fr(no,n._currentValue),n._currentValue=t}function co(e){var t=no.current;pr(no),e.type._context._currentValue=t}function lo(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function uo(e,t){io=e,oo=ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ws=!0),e.firstContext=null)}function ho(e,t){if(oo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(oo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ro){if(null===io)throw Error(s(308));ro=t,io.dependencies={expirationTime:0,firstContext:t,responders:null}}else ro=ro.next=t;return e._currentValue}var po=!1;function fo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function mo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function go(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function bo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function vo(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,r=null;null===i&&(i=e.updateQueue=fo(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=fo(e.memoizedState),r=n.updateQueue=fo(n.memoizedState)):i=e.updateQueue=mo(r):null===r&&(r=n.updateQueue=mo(i));null===r||i===r?bo(i,t):null===i.lastUpdate||null===r.lastUpdate?(bo(i,t),bo(r,t)):(bo(i,t),r.lastUpdate=t)}function _o(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=fo(e.memoizedState):yo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function yo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=mo(t)),t}function wo(e,t,n,i,o,s){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(s,i,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(s,i,o):e))break;return r({},i,o);case 2:po=!0}return i}function Eo(e,t,n,i,r){po=!1;for(var o=(t=yo(e,t)).baseState,s=null,a=0,c=t.firstUpdate,l=o;null!==c;){var u=c.expirationTime;u<r?(null===s&&(s=c,o=l),a<u&&(a=u)):(jc(u,c.suspenseConfig),l=wo(e,0,c,l,n,i),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d<r?(null===u&&(u=c,null===s&&(o=l)),a<d&&(a=d)):(l=wo(e,0,c,l,n,i),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===s&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===u&&(o=l),t.baseState=o,t.firstUpdate=s,t.firstCapturedUpdate=u,kc(a),e.expirationTime=a,e.memoizedState=l}function xo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Oo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Oo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Oo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;if("function"!=typeof n)throw Error(s(191,n));n.call(i)}e=e.nextEffect}}var So=I.ReactCurrentBatchConfig,Co=(new i.Component).refs;function jo(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,null!==(i=e.updateQueue)&&0===e.expirationTime&&(i.baseState=n)}var ko={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=fc(),r=So.suspense;(r=go(i=mc(i,e,r),r)).payload=t,null!=n&&(r.callback=n),vo(e,r),gc(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=fc(),r=So.suspense;(r=go(i=mc(i,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),vo(e,r),gc(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=fc(),i=So.suspense;(i=go(n=mc(n,e,i),i)).tag=2,null!=t&&(i.callback=t),vo(e,i),gc(e,n)}};function To(e,t,n,i,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&nr(n,i)&&nr(r,o))}function No(e,t,n){var i=!1,r=mr,o=t.contextType;return"object"==typeof o&&null!==o?o=ho(o):(r=yr(t)?vr:gr.current,o=(i=null!=(i=t.contextTypes))?_r(e,r):mr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ko,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Po(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function Ao(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Co;var o=t.contextType;"object"==typeof o&&null!==o?r.context=ho(o):(o=yr(t)?vr:gr.current,r.context=_r(e,o)),null!==(o=e.updateQueue)&&(Eo(e,o,n,r,i),r.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(jo(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ko.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(Eo(e,o,n,r,i),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var Io=Array.isArray;function Fo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===Co&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Mo(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ro(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){return(e=Yc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,i){return null===t||6!==t.tag?((t=Xc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Fo(e,t,n),i.return=e,i):((i=Kc(n.type,n.key,n.props,null,e.mode,i)).ref=Fo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Qc(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Xc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case R:return(n=Kc(t.type,t.key,t.props,null,e.mode,n)).ref=Fo(e,null,t),n.return=e,n;case D:return(t=Jc(t,e.mode,n)).return=e,t}if(Io(t)||Q(t))return(t=Qc(t,e.mode,n,null)).return=e,t;Mo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:c(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case R:return n.key===r?n.type===L?d(e,t,n.props.children,i,r):l(e,t,n,i):null;case D:return n.key===r?u(e,t,n,i):null}if(Io(n)||Q(n))return null!==r?null:d(e,t,n,i,null);Mo(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return c(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case R:return e=e.get(null===i.key?n:i.key)||null,i.type===L?d(t,e,i.props.children,r,i.key):l(t,e,i,r);case D:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(Io(i)||Q(i))return d(t,e=e.get(n)||null,i,r,null);Mo(t,i)}return null}function m(r,s,a,c){for(var l=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=p(r,d,a[m],c);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(r,d),s=o(b,s,m),null===u?l=b:u.sibling=b,u=b,d=g}if(m===a.length)return n(r,d),l;if(null===d){for(;m<a.length;m++)null!==(d=h(r,a[m],c))&&(s=o(d,s,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=i(r,d);m<a.length;m++)null!==(g=f(d,r,m,a[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),l}function g(r,a,c,l){var u=Q(c);if("function"!=typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,b=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(b=m,m=null):b=m.sibling;var _=p(r,m,v.value,l);if(null===_){null===m&&(m=b);break}e&&m&&null===_.alternate&&t(r,m),a=o(_,a,g),null===d?u=_:d.sibling=_,d=_,m=b}if(v.done)return n(r,m),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=h(r,v.value,l))&&(a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return u}for(m=i(r,m);!v.done;g++,v=c.next())null!==(v=f(m,r,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,i,o,c){var l="object"==typeof o&&null!==o&&o.type===L&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case R:e:{for(u=o.key,l=i;null!==l;){if(l.key===u){if(7===l.tag?o.type===L:l.elementType===o.type){n(e,l.sibling),(i=r(l,o.type===L?o.props.children:o.props)).ref=Fo(e,l,o),i.return=e,e=i;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===L?((i=Qc(o.props.children,e.mode,c,o.key)).return=e,e=i):((c=Kc(o.type,o.key,o.props,null,e.mode,c)).ref=Fo(e,i,o),c.return=e,e=c)}return a(e);case D:e:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Jc(o,e.mode,c)).return=e,e=i}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Xc(o,e.mode,c)).return=e,e=i),a(e);if(Io(o))return m(e,i,o,c);if(Q(o))return g(e,i,o,c);if(u&&Mo(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,i)}}var Do=Ro(!0),Lo=Ro(!1),Bo={},Uo={current:Bo},zo={current:Bo},Ho={current:Bo};function Vo(e){if(e===Bo)throw Error(s(174));return e}function Go(e,t){fr(Ho,t),fr(zo,e),fr(Uo,Bo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ue(null,"");break;default:t=Ue(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}pr(Uo),fr(Uo,t)}function Wo(e){pr(Uo),pr(zo),pr(Ho)}function $o(e){Vo(Ho.current);var t=Vo(Uo.current),n=Ue(t,e.type);t!==n&&(fr(zo,e),fr(Uo,n))}function qo(e){zo.current===e&&(pr(Uo),pr(zo))}var Yo={current:0};function Ko(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Jn||n.data===Zn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Qo(e,t){return{responder:e,props:t}}var Xo=I.ReactCurrentDispatcher,Jo=I.ReactCurrentBatchConfig,Zo=0,es=null,ts=null,ns=null,is=null,rs=null,os=null,ss=0,as=null,cs=0,ls=!1,us=null,ds=0;function hs(){throw Error(s(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function fs(e,t,n,i,r,o){if(Zo=o,es=t,ns=null!==e?e.memoizedState:null,Xo.current=null===ns?Is:Fs,t=n(i,r),ls){do{ls=!1,ds+=1,ns=null!==e?e.memoizedState:null,os=is,as=rs=ts=null,Xo.current=Fs,t=n(i,r)}while(ls);us=null,ds=0}if(Xo.current=As,(e=es).memoizedState=is,e.expirationTime=ss,e.updateQueue=as,e.effectTag|=cs,e=null!==ts&&null!==ts.next,Zo=0,os=rs=is=ns=ts=es=null,ss=0,as=null,cs=0,e)throw Error(s(300));return t}function ms(){Xo.current=As,Zo=0,os=rs=is=ns=ts=es=null,ss=0,as=null,cs=0,ls=!1,us=null,ds=0}function gs(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===rs?is=rs=e:rs=rs.next=e,rs}function bs(){if(null!==os)os=(rs=os).next,ns=null!==(ts=ns)?ts.next:null;else{if(null===ns)throw Error(s(310));var e={memoizedState:(ts=ns).memoizedState,baseState:ts.baseState,queue:ts.queue,baseUpdate:ts.baseUpdate,next:null};rs=null===rs?is=e:rs.next=e,ns=ts.next}return rs}function vs(e,t){return"function"==typeof t?t(e):t}function _s(e){var t=bs(),n=t.queue;if(null===n)throw Error(s(311));if(n.lastRenderedReducer=e,0<ds){var i=n.dispatch;if(null!==us){var r=us.get(n);if(void 0!==r){us.delete(n);var o=t.memoizedState;do{o=e(o,r.action),r=r.next}while(null!==r);return er(o,t.memoizedState)||(Ws=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,i]}}return[t.memoizedState,i]}i=n.last;var a=t.baseUpdate;if(o=t.baseState,null!==a?(null!==i&&(i.next=null),i=a.next):i=null!==i?i.next:null,null!==i){var c=r=null,l=i,u=!1;do{var d=l.expirationTime;d<Zo?(u||(u=!0,c=a,r=o),d>ss&&kc(ss=d)):(jc(d,l.suspenseConfig),o=l.eagerReducer===e?l.eagerState:e(o,l.action)),a=l,l=l.next}while(null!==l&&l!==i);u||(c=a,r=o),er(o,t.memoizedState)||(Ws=!0),t.memoizedState=o,t.baseUpdate=c,t.baseState=r,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function ys(e){var t=gs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e}).dispatch=Ps.bind(null,es,e),[t.memoizedState,e]}function ws(e){return _s(vs)}function Es(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===as?(as={lastEffect:null}).lastEffect=e.next=e:null===(t=as.lastEffect)?as.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,as.lastEffect=e),e}function xs(e,t,n,i){var r=gs();cs|=e,r.memoizedState=Es(t,n,void 0,void 0===i?null:i)}function Os(e,t,n,i){var r=bs();i=void 0===i?null:i;var o=void 0;if(null!==ts){var s=ts.memoizedState;if(o=s.destroy,null!==i&&ps(i,s.deps))return void Es(0,n,o,i)}cs|=e,r.memoizedState=Es(t,n,o,i)}function Ss(e,t){return xs(516,192,e,t)}function Cs(e,t){return Os(516,192,e,t)}function js(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ks(){}function Ts(e,t){return gs().memoizedState=[e,void 0===t?null:t],e}function Ns(e,t){var n=bs();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ps(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ps(e,t,n){if(!(25>ds))throw Error(s(301));var i=e.alternate;if(e===es||null!==i&&i===es)if(ls=!0,e={expirationTime:Zo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===us&&(us=new Map),void 0===(n=us.get(t)))us.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var r=fc(),o=So.suspense;o={expirationTime:r=mc(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.last;if(null===a)o.next=o;else{var c=a.next;null!==c&&(o.next=c),a.next=o}if(t.last=o,0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,u=i(l,n);if(o.eagerReducer=i,o.eagerState=u,er(u,l))return}catch(e){}gc(e,r)}}var As={readContext:ho,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useResponder:hs,useDeferredValue:hs,useTransition:hs},Is={readContext:ho,useCallback:Ts,useContext:ho,useEffect:Ss,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,xs(4,36,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4,36,e,t)},useMemo:function(e,t){var n=gs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=gs();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ps.bind(null,es,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},gs().memoizedState=e},useState:ys,useDebugValue:ks,useResponder:Qo,useDeferredValue:function(e,t){var n=ys(e),i=n[0],r=n[1];return Ss((function(){o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===t?null:t;try{r(e)}finally{Jo.suspense=n}}))}),[e,t]),i},useTransition:function(e){var t=ys(!1),n=t[0],i=t[1];return[Ts((function(t){i(!0),o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===e?null:e;try{i(!1),t()}finally{Jo.suspense=n}}))}),[e,n]),n]}},Fs={readContext:ho,useCallback:Ns,useContext:ho,useEffect:Cs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Os(4,36,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4,36,e,t)},useMemo:function(e,t){var n=bs();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ps(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:_s,useRef:function(){return bs().memoizedState},useState:ws,useDebugValue:ks,useResponder:Qo,useDeferredValue:function(e,t){var n=ws(),i=n[0],r=n[1];return Cs((function(){o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===t?null:t;try{r(e)}finally{Jo.suspense=n}}))}),[e,t]),i},useTransition:function(e){var t=ws(),n=t[0],i=t[1];return[Ns((function(t){i(!0),o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===e?null:e;try{i(!1),t()}finally{Jo.suspense=n}}))}),[e,n]),n]}},Ms=null,Rs=null,Ds=!1;function Ls(e,t){var n=$c(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Bs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Us(e){if(Ds){var t=Rs;if(t){var n=t;if(!Bs(e,t)){if(!(t=si(n.nextSibling))||!Bs(e,t))return e.effectTag=-1025&e.effectTag|2,Ds=!1,void(Ms=e);Ls(Ms,n)}Ms=e,Rs=si(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ds=!1,Ms=e}}function zs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ms=e}function Hs(e){if(e!==Ms)return!1;if(!Ds)return zs(e),Ds=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ii(t,e.memoizedProps))for(t=Rs;t;)Ls(e,t),t=si(t.nextSibling);if(zs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Xn){if(0===t){Rs=si(e.nextSibling);break e}t--}else n!==Qn&&n!==Zn&&n!==Jn||t++}e=e.nextSibling}Rs=null}}else Rs=Ms?si(e.stateNode.nextSibling):null;return!0}function Vs(){Rs=Ms=null,Ds=!1}var Gs=I.ReactCurrentOwner,Ws=!1;function $s(e,t,n,i){t.child=null===e?Lo(t,null,n,i):Do(t,e.child,n,i)}function qs(e,t,n,i,r){n=n.render;var o=t.ref;return uo(t,r),i=fs(e,t,n,i,o,r),null===e||Ws?(t.effectTag|=1,$s(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),ua(e,t,r))}function Ys(e,t,n,i,r,o){if(null===e){var s=n.type;return"function"!=typeof s||qc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kc(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ks(e,t,s,i,r,o))}return s=e.child,r<o&&(r=s.memoizedProps,(n=null!==(n=n.compare)?n:nr)(r,i)&&e.ref===t.ref)?ua(e,t,o):(t.effectTag|=1,(e=Yc(s,i)).ref=t.ref,e.return=t,t.child=e)}function Ks(e,t,n,i,r,o){return null!==e&&nr(e.memoizedProps,i)&&e.ref===t.ref&&(Ws=!1,r<o)?ua(e,t,o):Xs(e,t,n,i,o)}function Qs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Xs(e,t,n,i,r){var o=yr(n)?vr:gr.current;return o=_r(t,o),uo(t,r),n=fs(e,t,n,i,o,r),null===e||Ws?(t.effectTag|=1,$s(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),ua(e,t,r))}function Js(e,t,n,i,r){if(yr(n)){var o=!0;Sr(t)}else o=!1;if(uo(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),No(t,n,i),Ao(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;l="object"==typeof l&&null!==l?ho(l):_r(t,l=yr(n)?vr:gr.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||c!==l)&&Po(t,s,i,l),po=!1;var h=t.memoizedState;c=s.state=h;var p=t.updateQueue;null!==p&&(Eo(t,p,i,s,r),c=t.memoizedState),a!==i||h!==c||br.current||po?("function"==typeof u&&(jo(t,n,u,i),c=t.memoizedState),(a=po||To(t,n,a,i,h,c,l))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=l,i=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),i=!1)}else s=t.stateNode,a=t.memoizedProps,s.props=t.type===t.elementType?a:to(t.type,a),c=s.context,l="object"==typeof(l=n.contextType)&&null!==l?ho(l):_r(t,l=yr(n)?vr:gr.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||c!==l)&&Po(t,s,i,l),po=!1,c=t.memoizedState,h=s.state=c,null!==(p=t.updateQueue)&&(Eo(t,p,i,s,r),h=t.memoizedState),a!==i||c!==h||br.current||po?("function"==typeof u&&(jo(t,n,u,i),h=t.memoizedState),(u=po||To(t,n,a,i,c,h,l))?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,h,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,h,l)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=l,i=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),i=!1);return Zs(e,t,n,i,o,r)}function Zs(e,t,n,i,r,o){Qs(e,t);var s=0!=(64&t.effectTag);if(!i&&!s)return r&&Cr(t,n,!1),ua(e,t,o);i=t.stateNode,Gs.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&s?(t.child=Do(t,e.child,null,o),t.child=Do(t,null,a,o)):$s(e,t,a,o),t.memoizedState=i.state,r&&Cr(t,n,!0),t.child}function ea(e){var t=e.stateNode;t.pendingContext?xr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xr(0,t.context,!1),Go(e,t.containerInfo)}var ta,na,ia,ra,oa={dehydrated:null,retryTime:0};function sa(e,t,n){var i,r=t.mode,o=t.pendingProps,s=Yo.current,a=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&s)&&(null===e||null!==e.memoizedState)),i?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),fr(Yo,1&s),null===e){if(void 0!==o.fallback&&Us(t),a){if(a=o.fallback,(o=Qc(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Qc(a,r,n,null)).return=t,o.sibling=n,t.memoizedState=oa,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Lo(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,a){if(o=o.fallback,(n=Yc(e,e.pendingProps)).return=t,0==(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(r=Yc(r,o,r.expirationTime)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=oa,t.child=n,r}return n=Do(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=o.fallback,(o=Qc(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Qc(a,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=oa,t.child=o,n}return t.memoizedState=null,t.child=Do(t,e,o.children,n)}function aa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),lo(e.return,t)}function ca(e,t,n,i,r,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.last=i,s.tail=n,s.tailExpiration=0,s.tailMode=r,s.lastEffect=o)}function la(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if($s(e,t,i.children,n),0!=(2&(i=Yo.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aa(e,n);else if(19===e.tag)aa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(fr(Yo,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Ko(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ca(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ko(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ca(t,!0,n,null,o,t.lastEffect);break;case"together":ca(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ua(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&kc(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Yc(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yc(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function da(e){e.effectTag|=4}function ha(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function pa(e){switch(e.tag){case 1:yr(e.type)&&wr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Wo(),Er(),0!=(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return qo(e),null;case 13:return pr(Yo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pr(Yo),null;case 4:return Wo(),null;case 10:return co(e),null;default:return null}}function fa(e,t){return{value:e,source:t,stack:J(t)}}ta=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},na=function(){},ia=function(e,t,n,i,o){var s=e.memoizedProps;if(s!==i){var a,c,l=t.stateNode;switch(Vo(Uo.current),e=null,n){case"input":s=Ce(l,s),i=Ce(l,i),e=[];break;case"option":s=Ae(l,s),i=Ae(l,i),e=[];break;case"select":s=r({},s,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":s=Fe(l,s),i=Fe(l,i),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof i.onClick&&(l.onclick=Gn)}for(a in zn(n,i),n=null,s)if(!i.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(c in l=s[a])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(p.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in i){var u=i[a];if(l=null!=s?s[a]:void 0,i.hasOwnProperty(a)&&u!==l&&(null!=u||null!=l))if("style"===a)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(a,n)),n=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(a,""+u)):"children"===a?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(p.hasOwnProperty(a)?(null!=u&&Vn(o,a),e||l===u||(e=[])):(e=e||[]).push(a,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&da(t)}},ra=function(e,t,n,i){n!==i&&da(t)};var ma="function"==typeof WeakSet?WeakSet:Set;function ga(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=J(n)),null!==n&&X(n.type),t=t.value,null!==e&&1===e.tag&&X(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ba(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Uc(e,t)}else t.current=null}function va(e,t){switch(t.tag){case 0:case 11:case 15:_a(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:to(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}function _a(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var i=n=n.next;do{if(0!=(i.tag&e)){var r=i.destroy;i.destroy=void 0,void 0!==r&&r()}0!=(i.tag&t)&&(r=i.create,i.destroy=r()),i=i.next}while(i!==n)}}function ya(e,t,n){switch("function"==typeof Gc&&Gc(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Yr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){Uc(r,e)}}e=e.next}while(e!==i)}))}break;case 1:ba(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Uc(e,t)}}(t,n);break;case 5:ba(t);break;case 4:Oa(e,t,n)}}function wa(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&wa(t)}function Ea(e){return 5===e.tag||3===e.tag||4===e.tag}function xa(e){e:{for(var t=e.return;null!==t;){if(Ea(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Ve(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ea(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){var o=5===r.tag||6===r.tag;if(o){var a=o?r.stateNode:r.stateNode.instance;if(n)if(i){var c=a;a=n,8===(o=t).nodeType?o.parentNode.insertBefore(c,a):o.insertBefore(c,a)}else t.insertBefore(a,n);else i?(8===(c=t).nodeType?(o=c.parentNode).insertBefore(a,c):(o=c).appendChild(a),null!=(c=c._reactRootContainer)||null!==o.onclick||(o.onclick=Gn)):t.appendChild(a)}else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Oa(e,t,n){for(var i,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var c=e,l=o,u=n,d=l;;)if(ya(c,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===l)break;for(;null===d.sibling;){if(null===d.return||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(c=i,l=o.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(ya(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Sa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:_a(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[ui]=i,"input"===e&&"radio"===i.type&&null!=i.name&&ke(n,i),Hn(e,r),t=Hn(e,i),r=0;r<o.length;r+=2){var a=o[r],c=o[r+1];"style"===a?Bn(n,c):"dangerouslySetInnerHTML"===a?He(n,c):"children"===a?Ve(n,c):Ee(n,a,c,t)}switch(e){case"input":Te(n,i);break;case"textarea":Re(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Ie(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ie(n,!!i.multiple,i.defaultValue,!0):Ie(n,!!i.multiple,i.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(s(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,St(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,tc=Wr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=Ln("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Ca(t);break;case 19:Ca(t);break;case 17:case 20:case 21:break;default:throw Error(s(163))}}function Ca(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ma),t.forEach((function(t){var i=Hc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var ja="function"==typeof WeakMap?WeakMap:Map;function ka(e,t,n){(n=go(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){rc||(rc=!0,oc=i),ga(e,t)},n}function Ta(e,t,n){(n=go(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return ga(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===sc?sc=new Set([this]):sc.add(this),ga(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Na,Pa=Math.ceil,Aa=I.ReactCurrentDispatcher,Ia=I.ReactCurrentOwner,Fa=0,Ma=8,Ra=16,Da=32,La=0,Ba=1,Ua=2,za=3,Ha=4,Va=5,Ga=Fa,Wa=null,$a=null,qa=0,Ya=La,Ka=null,Qa=1073741823,Xa=1073741823,Ja=null,Za=0,ec=!1,tc=0,nc=500,ic=null,rc=!1,oc=null,sc=null,ac=!1,cc=null,lc=90,uc=null,dc=0,hc=null,pc=0;function fc(){return(Ga&(Ra|Da))!==Fa?1073741821-(Wr()/10|0):0!==pc?pc:pc=1073741821-(Wr()/10|0)}function mc(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=$r();if(0==(4&t))return 99===i?1073741823:1073741822;if((Ga&Ra)!==Fa)return qa;if(null!==n)e=eo(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=eo(e,150,100);break;case 97:case 96:e=eo(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Wa&&e===qa&&--e,e}function gc(e,t){if(50<dc)throw dc=0,hc=null,Error(s(185));if(null!==(e=bc(e,t))){var n=$r();1073741823===t?(Ga&Ma)!==Fa&&(Ga&(Ra|Da))===Fa?wc(e):(_c(e),Ga===Fa&&Xr()):_c(e),(4&Ga)===Fa||98!==n&&99!==n||(null===uc?uc=new Map([[e,t]]):(void 0===(n=uc.get(e))||n>t)&&uc.set(e,t))}}function bc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Wa===r&&(kc(t),Ya===Ha&&tl(r,qa)),nl(r,t)),r}function vc(e){var t=e.lastExpiredTime;return 0!==t?t:el(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function _c(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Qr(wc.bind(null,e));else{var t=vc(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=fc();if(i=1073741823===t?99:1===t||2===t?95:0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==Br&&Tr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Qr(wc.bind(null,e)):Kr(i,yc.bind(null,e),{timeout:10*(1073741821-t)-Wr()}),e.callbackNode=t}}}function yc(e,t){if(pc=0,t)return il(e,t=fc()),_c(e),null;var n=vc(e);if(0!==n){if(t=e.callbackNode,(Ga&(Ra|Da))!==Fa)throw Error(s(327));if(Dc(),e===Wa&&n===qa||Oc(e,n),null!==$a){var i=Ga;Ga|=Ra;for(var r=Cc();;)try{Nc();break}catch(t){Sc(e,t)}if(so(),Ga=i,Aa.current=r,Ya===Ba)throw t=Ka,Oc(e,n),tl(e,n),_c(e),t;if(null===$a)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Ya,Wa=null,i){case La:case Ba:throw Error(s(345));case Ua:il(e,2<n?2:n);break;case za:if(tl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ic(r)),1073741823===Qa&&10<(r=tc+nc-Wr())){if(ec){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,Oc(e,n);break}}if(0!==(o=vc(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=ri(Fc.bind(null,e),r);break}Fc(e);break;case Ha:if(tl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ic(r)),ec&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,Oc(e,n);break}if(0!==(r=vc(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==Xa?i=10*(1073741821-Xa)-Wr():1073741823===Qa?i=0:(i=10*(1073741821-Qa)-5e3,0>(i=(r=Wr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Pa(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=ri(Fc.bind(null,e),i);break}Fc(e);break;case Va:if(1073741823!==Qa&&null!==Ja){o=Qa;var a=Ja;if(0>=(i=0|a.busyMinDurationMs)?i=0:(r=0|a.busyDelayMs,i=(o=Wr()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=r?0:r+i-o),10<i){tl(e,n),e.timeoutHandle=ri(Fc.bind(null,e),i);break}}Fc(e);break;default:throw Error(s(329))}if(_c(e),e.callbackNode===t)return yc.bind(null,e)}}return null}function wc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Fc(e);else{if((Ga&(Ra|Da))!==Fa)throw Error(s(327));if(Dc(),e===Wa&&t===qa||Oc(e,t),null!==$a){var n=Ga;Ga|=Ra;for(var i=Cc();;)try{Tc();break}catch(t){Sc(e,t)}if(so(),Ga=n,Aa.current=i,Ya===Ba)throw n=Ka,Oc(e,t),tl(e,t),_c(e),n;if(null!==$a)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Wa=null,Fc(e),_c(e)}}return null}function Ec(e,t){var n=Ga;Ga|=1;try{return e(t)}finally{(Ga=n)===Fa&&Xr()}}function xc(e,t){var n=Ga;Ga&=-2,Ga|=Ma;try{return e(t)}finally{(Ga=n)===Fa&&Xr()}}function Oc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oi(n)),null!==$a)for(n=$a.return;null!==n;){var i=n;switch(i.tag){case 1:null!=i.type.childContextTypes&&wr();break;case 3:Wo(),Er();break;case 5:qo(i);break;case 4:Wo();break;case 13:case 19:pr(Yo);break;case 10:co(i)}n=n.return}Wa=e,$a=Yc(e.current,null),qa=t,Ya=La,Ka=null,Xa=Qa=1073741823,Ja=null,Za=0,ec=!1}function Sc(e,t){for(;;){try{if(so(),ms(),null===$a||null===$a.return)return Ya=Ba,Ka=t,null;e:{var n=e,i=$a.return,r=$a,o=t;if(t=qa,r.effectTag|=2048,r.firstEffect=r.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var s=o,a=0!=(1&Yo.current),c=i;do{var l;if(l=13===c.tag){var u=c.memoizedState;if(null!==u)l=null!==u.dehydrated;else{var d=c.memoizedProps;l=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!a)}}if(l){var h=c.updateQueue;if(null===h){var p=new Set;p.add(s),c.updateQueue=p}else h.add(s);if(0==(2&c.mode)){if(c.effectTag|=64,r.effectTag&=-2981,1===r.tag)if(null===r.alternate)r.tag=17;else{var f=go(1073741823,null);f.tag=2,vo(r,f)}r.expirationTime=1073741823;break e}o=void 0,r=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new ja,o=new Set,m.set(s,o)):void 0===(o=m.get(s))&&(o=new Set,m.set(s,o)),!o.has(r)){o.add(r);var g=zc.bind(null,n,s,r);s.then(g,g)}c.effectTag|=4096,c.expirationTime=t;break e}c=c.return}while(null!==c);o=Error((X(r.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(r))}Ya!==Va&&(Ya=Ua),o=fa(o,r),c=i;do{switch(c.tag){case 3:s=o,c.effectTag|=4096,c.expirationTime=t,_o(c,ka(c,s,t));break e;case 1:s=o;var b=c.type,v=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===sc||!sc.has(v)))){c.effectTag|=4096,c.expirationTime=t,_o(c,Ta(c,s,t));break e}}c=c.return}while(null!==c)}$a=Ac($a)}catch(e){t=e;continue}break}}function Cc(){var e=Aa.current;return Aa.current=As,null===e?As:e}function jc(e,t){e<Qa&&2<e&&(Qa=e),null!==t&&e<Xa&&2<e&&(Xa=e,Ja=t)}function kc(e){e>Za&&(Za=e)}function Tc(){for(;null!==$a;)$a=Pc($a)}function Nc(){for(;null!==$a&&!Nr();)$a=Pc($a)}function Pc(e){var t=Na(e.alternate,e,qa);return e.memoizedProps=e.pendingProps,null===t&&(t=Ac(e)),Ia.current=null,t}function Ac(e){$a=e;do{var t=$a.alternate;if(e=$a.return,0==(2048&$a.effectTag)){e:{var n=t,i=qa,o=(t=$a).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:yr(t.type)&&wr();break;case 3:Wo(),Er(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===n||null===n.child)&&Hs(t)&&da(t),na(t);break;case 5:qo(t),i=Vo(Ho.current);var a=t.type;if(null!==n&&null!=t.stateNode)ia(n,t,a,o,i),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var c=Vo(Uo.current);if(Hs(t)){var l=(o=t).stateNode;n=o.type;var u=o.memoizedProps,d=i;switch(l[li]=o,l[ui]=u,a=void 0,i=l,n){case"iframe":case"object":case"embed":Sn("load",i);break;case"video":case"audio":for(l=0;l<Ze.length;l++)Sn(Ze[l],i);break;case"source":Sn("error",i);break;case"img":case"image":case"link":Sn("error",i),Sn("load",i);break;case"form":Sn("reset",i),Sn("submit",i);break;case"details":Sn("toggle",i);break;case"input":je(i,u),Sn("invalid",i),Vn(d,"onChange");break;case"select":i._wrapperState={wasMultiple:!!u.multiple},Sn("invalid",i),Vn(d,"onChange");break;case"textarea":Me(i,u),Sn("invalid",i),Vn(d,"onChange")}for(a in zn(n,u),l=null,u)u.hasOwnProperty(a)&&(c=u[a],"children"===a?"string"==typeof c?i.textContent!==c&&(l=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(l=["children",""+c]):p.hasOwnProperty(a)&&null!=c&&Vn(d,a));switch(n){case"input":Oe(i),Ne(i,u,!0);break;case"textarea":Oe(i),De(i);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(i.onclick=Gn)}a=l,o.updateQueue=a,(o=null!==a)&&da(t)}else{n=t,d=a,u=o,l=9===i.nodeType?i:i.ownerDocument,c===Le.html&&(c=Be(d)),c===Le.html?"script"===d?((u=l.createElement("div")).innerHTML="<script><\/script>",l=u.removeChild(u.firstChild)):"string"==typeof u.is?l=l.createElement(d,{is:u.is}):(l=l.createElement(d),"select"===d&&(d=l,u.multiple?d.multiple=!0:u.size&&(d.size=u.size))):l=l.createElementNS(c,d),(u=l)[li]=n,u[ui]=o,ta(u,t,!1,!1),t.stateNode=u;var h=i,f=Hn(d=a,n=o);switch(d){case"iframe":case"object":case"embed":Sn("load",u),i=n;break;case"video":case"audio":for(i=0;i<Ze.length;i++)Sn(Ze[i],u);i=n;break;case"source":Sn("error",u),i=n;break;case"img":case"image":case"link":Sn("error",u),Sn("load",u),i=n;break;case"form":Sn("reset",u),Sn("submit",u),i=n;break;case"details":Sn("toggle",u),i=n;break;case"input":je(u,n),i=Ce(u,n),Sn("invalid",u),Vn(h,"onChange");break;case"option":i=Ae(u,n);break;case"select":u._wrapperState={wasMultiple:!!n.multiple},i=r({},n,{value:void 0}),Sn("invalid",u),Vn(h,"onChange");break;case"textarea":Me(u,n),i=Fe(u,n),Sn("invalid",u),Vn(h,"onChange");break;default:i=n}zn(d,i),l=void 0,c=d;var m=u,g=i;for(l in g)if(g.hasOwnProperty(l)){var b=g[l];"style"===l?Bn(m,b):"dangerouslySetInnerHTML"===l?null!=(b=b?b.__html:void 0)&&He(m,b):"children"===l?"string"==typeof b?("textarea"!==c||""!==b)&&Ve(m,b):"number"==typeof b&&Ve(m,""+b):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(p.hasOwnProperty(l)?null!=b&&Vn(h,l):null!=b&&Ee(m,l,b,f))}switch(d){case"input":Oe(u),Ne(u,n,!1);break;case"textarea":Oe(u),De(u);break;case"option":null!=n.value&&u.setAttribute("value",""+we(n.value));break;case"select":(i=u).multiple=!!n.multiple,null!=(u=n.value)?Ie(i,!!n.multiple,u,!1):null!=n.defaultValue&&Ie(i,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(u.onclick=Gn)}(o=ni(a,o))&&da(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(s(166));break;case 6:if(n&&null!=t.stateNode)ra(n,t,n.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(s(166));i=Vo(Ho.current),Vo(Uo.current),Hs(t)?(a=(o=t).stateNode,i=o.memoizedProps,a[li]=o,(o=a.nodeValue!==i)&&da(t)):(a=t,(o=(9===i.nodeType?i:i.ownerDocument).createTextNode(o))[li]=a,t.stateNode=o)}break;case 11:break;case 13:if(pr(Yo),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=i;break e}o=null!==o,a=!1,null===n?void 0!==t.memoizedProps.fallback&&Hs(t):(a=null!==(i=n.memoizedState),o||null===i||null!==(i=n.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=i,i.nextEffect=u):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),o&&!a&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Yo.current)?Ya===La&&(Ya=za):(Ya!==La&&Ya!==za||(Ya=Ha),0!==Za&&null!==Wa&&(tl(Wa,qa),nl(Wa,Za)))),(o||a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Wo(),na(t);break;case 10:co(t);break;case 9:case 14:break;case 17:yr(t.type)&&wr();break;case 19:if(pr(Yo),null===(o=t.memoizedState))break;if(a=0!=(64&t.effectTag),null===(u=o.rendering)){if(a)ha(o,!1);else if(Ya!==La||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(u=Ko(n))){for(t.effectTag|=64,ha(o,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=i,a=t.child;null!==a;)n=o,(i=a).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(u=i.alternate)?(i.childExpirationTime=0,i.expirationTime=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=u.childExpirationTime,i.expirationTime=u.expirationTime,i.child=u.child,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,n=u.dependencies,i.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),a=a.sibling;fr(Yo,1&Yo.current|2),t=t.child;break e}n=n.sibling}}else{if(!a)if(null!==(n=Ko(u))){if(t.effectTag|=64,a=!0,null!==(i=n.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),ha(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate){null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else Wr()>o.tailExpiration&&1<i&&(t.effectTag|=64,a=!0,ha(o,!1),t.expirationTime=t.childExpirationTime=i-1);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(i=o.last)?i.sibling=u:t.child=u,o.last=u)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Wr()+500),i=o.tail,o.rendering=i,o.tail=i.sibling,o.lastEffect=t.lastEffect,i.sibling=null,o=Yo.current,fr(Yo,o=a?1&o|2:1&o),t=i;break e}break;case 20:case 21:break;default:throw Error(s(156,t.tag))}t=null}if(o=$a,1===qa||1!==o.childExpirationTime){for(a=0,i=o.child;null!==i;)(n=i.expirationTime)>a&&(a=n),(u=i.childExpirationTime)>a&&(a=u),i=i.sibling;o.childExpirationTime=a}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=$a.firstEffect),null!==$a.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=$a.firstEffect),e.lastEffect=$a.lastEffect),1<$a.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=$a:e.firstEffect=$a,e.lastEffect=$a))}else{if(null!==(t=pa($a)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=$a.sibling))return t;$a=e}while(null!==$a);return Ya===La&&(Ya=Va),null}function Ic(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Fc(e){var t=$r();return Yr(99,Mc.bind(null,e,t)),null}function Mc(e,t){do{Dc()}while(null!==cc);if((Ga&(Ra|Da))!==Fa)throw Error(s(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=Ic(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Wa&&($a=Wa=null,qa=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=Ga;Ga|=Da,Ia.current=null,ei=On;var a=Yn();if(Kn(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{var l=(c=(c=a.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{c.nodeType,d.nodeType}catch(e){c=null;break e}var h=0,p=-1,f=-1,m=0,g=0,b=a,v=null;t:for(;;){for(var _;b!==c||0!==u&&3!==b.nodeType||(p=h+u),b!==d||0!==l&&3!==b.nodeType||(f=h+l),3===b.nodeType&&(h+=b.nodeValue.length),null!==(_=b.firstChild);)v=b,b=_;for(;;){if(b===a)break t;if(v===c&&++m===u&&(p=h),v===d&&++g===l&&(f=h),null!==(_=b.nextSibling))break;v=(b=v).parentNode}b=_}c=-1===p||-1===f?null:{start:p,end:f}}else c=null}c=c||{start:0,end:0}}else c=null;ti={focusedElem:a,selectionRange:c},On=!1,ic=r;do{try{Rc()}catch(e){if(null===ic)throw Error(s(330));Uc(ic,e),ic=ic.nextEffect}}while(null!==ic);ic=r;do{try{for(a=e,c=t;null!==ic;){var y=ic.effectTag;if(16&y&&Ve(ic.stateNode,""),128&y){var w=ic.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&y){case 2:xa(ic),ic.effectTag&=-3;break;case 6:xa(ic),ic.effectTag&=-3,Sa(ic.alternate,ic);break;case 1024:ic.effectTag&=-1025;break;case 1028:ic.effectTag&=-1025,Sa(ic.alternate,ic);break;case 4:Sa(ic.alternate,ic);break;case 8:Oa(a,u=ic,c),wa(u)}ic=ic.nextEffect}}catch(e){if(null===ic)throw Error(s(330));Uc(ic,e),ic=ic.nextEffect}}while(null!==ic);if(E=ti,w=Yn(),y=E.focusedElem,c=E.selectionRange,w!==y&&y&&y.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(y.ownerDocument.documentElement,y)){null!==c&&Kn(y)&&(w=c.start,void 0===(E=c.end)&&(E=w),"selectionStart"in y?(y.selectionStart=w,y.selectionEnd=Math.min(E,y.value.length)):(E=(w=y.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),u=y.textContent.length,a=Math.min(c.start,u),c=void 0===c.end?a:Math.min(c.end,u),!E.extend&&a>c&&(u=c,c=a,a=u),u=qn(y,a),d=qn(y,c),u&&d&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==d.node||E.focusOffset!==d.offset)&&((w=w.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),a>c?(E.addRange(w),E.extend(d.node,d.offset)):(w.setEnd(d.node,d.offset),E.addRange(w))))),w=[];for(E=y;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<w.length;y++)(E=w[y]).element.scrollLeft=E.left,E.element.scrollTop=E.top}ti=null,On=!!ei,ei=null,e.current=n,ic=r;do{try{for(y=i;null!==ic;){var x=ic.effectTag;if(36&x){var O=ic.alternate;switch(E=y,(w=ic).tag){case 0:case 11:case 15:_a(16,32,w);break;case 1:var S=w.stateNode;if(4&w.effectTag)if(null===O)S.componentDidMount();else{var C=w.elementType===w.type?O.memoizedProps:to(w.type,O.memoizedProps);S.componentDidUpdate(C,O.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var j=w.updateQueue;null!==j&&xo(0,j,S);break;case 3:var k=w.updateQueue;if(null!==k){if(a=null,null!==w.child)switch(w.child.tag){case 5:a=w.child.stateNode;break;case 1:a=w.child.stateNode}xo(0,k,a)}break;case 5:var T=w.stateNode;null===O&&4&w.effectTag&&ni(w.type,w.memoizedProps)&&T.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var N=w.alternate;if(null!==N){var P=N.memoizedState;if(null!==P){var A=P.dehydrated;null!==A&&St(A)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(s(163))}}if(128&x){w=void 0;var I=ic.ref;if(null!==I){var F=ic.stateNode;switch(ic.tag){case 5:w=F;break;default:w=F}"function"==typeof I?I(w):I.current=w}}ic=ic.nextEffect}}catch(e){if(null===ic)throw Error(s(330));Uc(ic,e),ic=ic.nextEffect}}while(null!==ic);ic=null,Ur(),Ga=o}else e.current=n;if(ac)ac=!1,cc=e,lc=t;else for(ic=r;null!==ic;)t=ic.nextEffect,ic.nextEffect=null,ic=t;if(0===(t=e.firstPendingTime)&&(sc=null),1073741823===t?e===hc?dc++:(dc=0,hc=e):dc=0,"function"==typeof Vc&&Vc(n.stateNode,i),_c(e),rc)throw rc=!1,e=oc,oc=null,e;return(Ga&Ma)!==Fa?null:(Xr(),null)}function Rc(){for(;null!==ic;){var e=ic.effectTag;0!=(256&e)&&va(ic.alternate,ic),0==(512&e)||ac||(ac=!0,Kr(97,(function(){return Dc(),null}))),ic=ic.nextEffect}}function Dc(){if(90!==lc){var e=97<lc?97:lc;return lc=90,Yr(e,Lc)}}function Lc(){if(null===cc)return!1;var e=cc;if(cc=null,(Ga&(Ra|Da))!==Fa)throw Error(s(331));var t=Ga;for(Ga|=Da,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:_a(128,0,n),_a(0,64,n)}}catch(t){if(null===e)throw Error(s(330));Uc(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ga=t,Xr(),!0}function Bc(e,t,n){vo(e,t=ka(e,t=fa(n,t),1073741823)),null!==(e=bc(e,1073741823))&&_c(e)}function Uc(e,t){if(3===e.tag)Bc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bc(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===sc||!sc.has(i))){vo(n,e=Ta(n,e=fa(t,e),1073741823)),null!==(n=bc(n,1073741823))&&_c(n);break}}n=n.return}}function zc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),Wa===e&&qa===n?Ya===Ha||Ya===za&&1073741823===Qa&&Wr()-tc<nc?Oc(e,qa):ec=!0:el(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),_c(e)))}function Hc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=mc(t=fc(),e,null)),null!==(e=bc(e,t))&&_c(e)}Na=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||br.current)Ws=!0;else{if(i<n){switch(Ws=!1,t.tag){case 3:ea(t),Vs();break;case 5:if($o(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:yr(t.type)&&Sr(t);break;case 4:Go(t,t.stateNode.containerInfo);break;case 10:ao(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?sa(e,t,n):(fr(Yo,1&Yo.current),null!==(t=ua(e,t,n))?t.sibling:null);fr(Yo,1&Yo.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return la(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),fr(Yo,Yo.current),!i)return null}return ua(e,t,n)}Ws=!1}}else Ws=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=_r(t,gr.current),uo(t,n),r=fs(null,t,i,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,ms(),yr(i)){var o=!0;Sr(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var a=i.getDerivedStateFromProps;"function"==typeof a&&jo(t,i,a,e),r.updater=ko,t.stateNode=r,r._reactInternalFiber=t,Ao(t,i,e,n),t=Zs(null,t,i,!0,o,n)}else t.tag=0,$s(null,t,r,n),t=t.child;return t;case 16:if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"==typeof e)return qc(e)?1:0;if(null!=e){if((e=e.$$typeof)===G)return 11;if(e===q)return 14}return 2}(r),e=to(r,e),o){case 0:t=Xs(null,t,r,e,n);break;case 1:t=Js(null,t,r,e,n);break;case 11:t=qs(null,t,r,e,n);break;case 14:t=Ys(null,t,r,to(r.type,e),i,n);break;default:throw Error(s(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Xs(e,t,i,r=t.elementType===i?r:to(i,r),n);case 1:return i=t.type,r=t.pendingProps,Js(e,t,i,r=t.elementType===i?r:to(i,r),n);case 3:if(ea(t),null===(i=t.updateQueue))throw Error(s(282));if(r=null!==(r=t.memoizedState)?r.element:null,Eo(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r)Vs(),t=ua(e,t,n);else{if((r=t.stateNode.hydrate)&&(Rs=si(t.stateNode.containerInfo.firstChild),Ms=t,r=Ds=!0),r)for(n=Lo(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else $s(e,t,i,n),Vs();t=t.child}return t;case 5:return $o(t),null===e&&Us(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,ii(i,r)?a=null:null!==o&&ii(i,o)&&(t.effectTag|=16),Qs(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):($s(e,t,a,n),t=t.child),t;case 6:return null===e&&Us(t),null;case 13:return sa(e,t,n);case 4:return Go(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Do(t,null,i,n):$s(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,qs(e,t,i,r=t.elementType===i?r:to(i,r),n);case 7:return $s(e,t,t.pendingProps,n),t.child;case 8:case 12:return $s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,ao(t,o=r.value),null!==a){var c=a.value;if(0==(o=er(c,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(c,o):1073741823))){if(a.children===r.children&&!br.current){t=ua(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){a=c.child;for(var u=l.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&o)){1===c.tag&&((u=go(n,null)).tag=2,vo(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),lo(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else a=10===c.tag&&c.type===t.type?null:c.child;if(null!==a)a.return=c;else for(a=c;null!==a;){if(a===t){a=null;break}if(null!==(c=a.sibling)){c.return=a.return,a=c;break}a=a.return}c=a}}$s(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,uo(t,n),i=i(r=ho(r,o.unstable_observedBits)),t.effectTag|=1,$s(e,t,i,n),t.child;case 14:return o=to(r=t.type,t.pendingProps),Ys(e,t,r,o=to(r.type,o),i,n);case 15:return Ks(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:to(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,yr(i)?(e=!0,Sr(t)):e=!1,uo(t,n),No(t,i,r),Ao(t,i,r,n),Zs(null,t,i,!0,e,n);case 19:return la(e,t,n)}throw Error(s(156,t.tag))};var Vc=null,Gc=null;function Wc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $c(e,t,n,i){return new Wc(e,t,n,i)}function qc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yc(e,t){var n=e.alternate;return null===n?((n=$c(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kc(e,t,n,i,r,o){var a=2;if(i=e,"function"==typeof e)qc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case L:return Qc(n.children,r,o,t);case V:a=8,r|=7;break;case B:a=8,r|=1;break;case U:return(e=$c(12,n,t,8|r)).elementType=U,e.type=U,e.expirationTime=o,e;case W:return(e=$c(13,n,t,r)).type=W,e.elementType=W,e.expirationTime=o,e;case $:return(e=$c(19,n,t,r)).elementType=$,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case z:a=10;break e;case H:a=9;break e;case G:a=11;break e;case q:a=14;break e;case Y:a=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=$c(a,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Qc(e,t,n,i){return(e=$c(7,e,i,t)).expirationTime=n,e}function Xc(e,t,n){return(e=$c(6,e,null,t)).expirationTime=n,e}function Jc(e,t,n){return(t=$c(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function el(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function tl(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function nl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function il(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function rl(e,t,n,i){var r=t.current,o=fc(),a=So.suspense;o=mc(o,r,a);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(yr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(s(171))}if(1===n.tag){var l=n.type;if(yr(l)){n=Or(n,l,c);break e}}n=c}else n=mr;return null===t.context?t.context=n:t.pendingContext=n,(t=go(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),vo(r,t),gc(r,o),o}function ol(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function sl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function al(e,t){sl(e,t),(e=e.alternate)&&sl(e,t)}function cl(e,t,n){var i=new Zc(e,t,n=null!=n&&!0===n.hydrate),r=$c(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,e[di]=i.current,n&&0!==t&&function(e){var t=Fn(e);mt.forEach((function(n){Mn(n,e,t)})),gt.forEach((function(n){Mn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function ll(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ul(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof r){var a=r;r=function(){var e=ol(s);a.call(e)}}rl(t,s,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new cl(e,0,t?{hydrate:!0}:void 0)}(n,i),s=o._internalRoot,"function"==typeof r){var c=r;r=function(){var e=ol(s);c.call(e)}}xc((function(){rl(t,s,e,r)}))}return ol(s)}function dl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ll(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:D,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}cl.prototype.render=function(e,t){rl(e,this._internalRoot,null,void 0===t?null:t)},cl.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,i=t.containerInfo;rl(null,t,null,(function(){i[di]=null,null!==n&&n()}))},rt=function(e){if(13===e.tag){var t=eo(fc(),150,100);gc(e,t),al(e,t)}},ot=function(e){if(13===e.tag){fc();var t=Zr++;gc(e,t),al(e,t)}},st=function(e){if(13===e.tag){var t=fc();gc(e,t=mc(t,e,null)),al(e,t)}},ee=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=mi(i);if(!r)throw Error(s(90));Se(i),Te(i,r)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ie(e,!!n.multiple,t,!1)}},se=Ec,ae=function(e,t,n,i){var r=Ga;Ga|=4;try{return Yr(98,e.bind(null,t,n,i))}finally{(Ga=r)===Fa&&Xr()}},ce=function(){(Ga&(1|Ra|Da))===Fa&&(function(){if(null!==uc){var e=uc;uc=null,e.forEach((function(e,t){il(t,e),_c(t)})),Xr()}}(),Dc())},le=function(e,t){var n=Ga;Ga|=2;try{return e(t)}finally{(Ga=n)===Fa&&Xr()}};var hl,pl,fl={createPortal:dl,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=it(t))?null:e.stateNode},hydrate:function(e,t,n){if(!ll(t))throw Error(s(200));return ul(null,e,t,!0,n)},render:function(e,t,n){if(!ll(t))throw Error(s(200));return ul(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){if(!ll(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return ul(e,t,n,!1,i)},unmountComponentAtNode:function(e){if(!ll(e))throw Error(s(40));return!!e._reactRootContainer&&(xc((function(){ul(null,null,e,!1,(function(){e._reactRootContainer=null,e[di]=null}))})),!0)},unstable_createPortal:function(){return dl.apply(void 0,arguments)},unstable_batchedUpdates:Ec,flushSync:function(e,t){if((Ga&(Ra|Da))!==Fa)throw Error(s(187));var n=Ga;Ga|=1;try{return Yr(99,e.bind(null,t))}finally{Ga=n,Xr()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[pi,fi,mi,P.injectEventPluginsByName,h,At,function(e){j(e,Pt)},re,oe,Nn,N,Dc,{current:!1}]}};pl=(hl={findFiberByHostInstance:hi,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Vc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Gc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(r({},hl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=it(e))?null:e.stateNode},findFiberByHostInstance:function(e){return pl?pl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var ml={default:fl},gl=ml&&fl||ml;e.exports=gl.default||gl},function(e,t,n){"use strict";e.exports=n(467)},function(e,t,n){"use strict";var i,r,o,s,a;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,u=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(u,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},i=function(e){null!==c?setTimeout(i,0,e):(c=e,setTimeout(u,0))},r=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},s=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var b=p.now();t.unstable_now=function(){return p.now()-b}}var v=!1,_=null,y=-1,w=5,E=0;s=function(){return t.unstable_now()>=E},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,O=x.port2;x.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();E=e+w;try{_(!0,e)?O.postMessage(null):(v=!1,_=null)}catch(e){throw O.postMessage(null),e}}else v=!1},i=function(e){_=e,v||(v=!0,O.postMessage(null))},r=function(e,n){y=f((function(){e(t.unstable_now())}),n)},o=function(){m(y),y=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var i=Math.floor((n-1)/2),r=e[i];if(!(void 0!==r&&0<k(r,t)))break e;e[i]=t,e[n]=r,n=i}}function C(e){return void 0===(e=e[0])?null:e}function j(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,s=e[o],a=o+1,c=e[a];if(void 0!==s&&0>k(s,n))void 0!==c&&0>k(c,s)?(e[i]=c,e[a]=n,i=a):(e[i]=s,e[o]=n,i=o);else{if(!(void 0!==c&&0>k(c,n)))break e;e[i]=c,e[a]=n,i=a}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],N=[],P=1,A=null,I=3,F=!1,M=!1,R=!1;function D(e){for(var t=C(N);null!==t;){if(null===t.callback)j(N);else{if(!(t.startTime<=e))break;j(N),t.sortIndex=t.expirationTime,S(T,t)}t=C(N)}}function L(e){if(R=!1,D(e),!M)if(null!==C(T))M=!0,i(B);else{var t=C(N);null!==t&&r(L,t.startTime-e)}}function B(e,n){M=!1,R&&(R=!1,o()),F=!0;var i=I;try{for(D(n),A=C(T);null!==A&&(!(A.expirationTime>n)||e&&!s());){var a=A.callback;if(null!==a){A.callback=null,I=A.priorityLevel;var c=a(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?A.callback=c:A===C(T)&&j(T),D(n)}else j(T);A=C(T)}if(null!==A)var l=!0;else{var u=C(N);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{A=null,I=i,F=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=a;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,s){var a=t.unstable_now();if("object"==typeof s&&null!==s){var c=s.delay;c="number"==typeof c&&0<c?a+c:a,s="number"==typeof s.timeout?s.timeout:U(e)}else s=U(e),c=a;return e={id:P++,callback:n,priorityLevel:e,startTime:c,expirationTime:s=c+s,sortIndex:-1},c>a?(e.sortIndex=c,S(N,e),null===C(T)&&e===C(N)&&(R?o():R=!0,r(L,c-a))):(e.sortIndex=s,S(T,e),M||F||(M=!0,i(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var n=C(T);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<A.expirationTime||s()},t.unstable_requestPaint=z,t.unstable_continueExecution=function(){M||F||(M=!0,i(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return C(T)},t.unstable_Profiling=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(281),r=n(380),o=new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"return\\s","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));function s(e){var t=o,n=e.match(t);if(n&&n[2])return n[2].split(".");throw new TypeError('Expected a property expression, got "'+e+'".\n\n      A property expression should be a referentially transparent (no side-effects),\n      single-expression "getter" function.\n\n      Correct example: "function (x) { return x.some }" or "x => x.some".\n      Incorrect example: "function (x) { var y = x.some; return y }" or "({some}) => some"')}function a(e){return s(e.toString())}function c(e){return void 0===e?function(e){return r.Lens.create((function(t){return t[e]}),(function(t,n){return i.setKey(e,t,n)}))}:r.Lens.create((function(t){return t[e]}),(function(t,n){return i.setKey(e,t,n)}))}new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"(\\$_\\$wf\\(\\d+\\);)?","return\\s","(\\$_\\$w\\(\\d+, \\d+\\),\\s)?","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*")),t.parsePropertyPath=s,t.extractPropertyPath=a,t.keyImpl=c;var l=0;function u(e){var t=a(e);return i.DEV_ENV&&function(e){if(l<10){l++;var t="x."+e.join("."),n="'"+e.join("', '")+"'";i.warning("The property expression overload of Atom.lens and Lens.prop are deprecated and will be removed in next versions of Focal. Please use the key name overload for Atom.lens and Lens.key instead. You can convert your code by changing the calls:\n  a.lens(x => "+t+") to a.lens("+n+"),\n  Lens.prop((x: T) => "+t+") to Lens.key<T>()("+n+").")}}(t),r.Lens.compose.apply(r.Lens,t.map(c()))}function d(e){if(e<0)throw new TypeError(e+" is not a valid array index, expected >= 0");return r.Prism.create((function(t){return t[e]}),(function(t,n){return n.length<=e?n.concat(Array(e-n.length),[t]):i.structEq(t,n[e])?n:n.slice(0,e).concat([t],n.slice(e+1))}))}function h(e){return r.Lens.replace(void 0,e)}function p(e,t){return r.Lens.create((function(n){return i.structEq(n,e)?t:n}),i.conservatively((function(n){return i.structEq(n,t)?e:n})))}function f(e){return t=function(t){var n=i.findIndex(t,e);return n<0?r.Lens.nothing():r.Lens.index(n)},r.Lens.create((function(e){return t(e).get(e)}),(function(e,n){return t(n).set(e,n)}));var t}t.propImpl=u,t.indexImpl=d,t.withDefaultImpl=h,t.replaceImpl=p,t.findImpl=f,r.Lens.key=c,r.Lens.prop=u,r.Lens.index=d,r.Lens.withDefault=h,r.Lens.replace=p,r.Lens.find=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(470);!function(e){e.create=function(e){return new i.JsonAtom(e)},e.log=function(e,t){var n=function(e,t,n){return console.log("%c"+e,"color: "+t+"; font-weight: bold",n)},i=e.get();return e.subscribe((function(e){"function"==typeof t?t(i,e):(console.group("UPDATE "+(t?"TYPE: "+t+" ":"")+"@ "+(new Date).toTimeString()),n("prev state","#9E9E9E",i),n("next state","#4CAF50",e),console.groupEnd()),i=e})),e},e.combine=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new i.CombinedAtomViewImpl(e.slice(void 0,-1),(function(t){return e[e.length-1].apply(e,t)}))}}(t.Atom||(t.Atom={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(379),s=n(281),a=n(30),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.view=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return void 0!==e[0]?"function"==typeof e[0]?new h(this,e[0]):"string"==typeof e[0]?new h(this,o.Lens.compose.apply(o.Lens,e.map(o.Lens.key())).get):new h(this,(function(t){return e[0].get(t)})):this},t}(a.BehaviorSubject);t.AbstractReadOnlyAtom=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.set=function(e){this.modify((function(){return e}))},t.prototype.lens=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new d(this,"function"==typeof e?o.Lens.prop(e):"string"==typeof e?o.Lens.compose.apply(o.Lens,[o.Lens.key(e)].concat(t.map((function(e){return o.Lens.key(e)})))):e,s.structEq)},t}(c);t.AbstractAtom=l;var u=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.get=function(){return this.getValue()},t.prototype.modify=function(e){var t=this.getValue(),n=e(t);s.structEq(t,n)||this.next(n)},t.prototype.set=function(e){var t=this.getValue();s.structEq(t,e)||this.next(e)},t}(l);t.JsonAtom=u;var d=function(e){function t(t,n,i){void 0===i&&(i=s.structEq);var r=e.call(this,void 0)||this;return r._source=t,r._lens=n,r._eq=i,r._subscription=null,r._refCount=0,r}return r(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._lens.get(this._source.get())},t.prototype.modify=function(e){var t=this;this._source.modify((function(n){return t._lens.modify(e,n)}))},t.prototype.set=function(e){var t=this;this._source.modify((function(n){return t._lens.set(e,n)}))},t.prototype._onSourceValue=function(e){var t=this.getValue(),n=this._lens.get(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=this._source.subscribe((function(e){return n._onSourceValue(e)}))),this._refCount++;var i=new a.Subscription((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return i.add(e.prototype._subscribe.call(this,t)),i},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(l),h=function(e){function t(t,n,i){void 0===i&&(i=s.structEq);var r=e.call(this,void 0)||this;return r._source=t,r._getter=n,r._eq=i,r._subscription=null,r._refCount=0,r}return r(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._getter(this._source.get())},t.prototype._onSourceValue=function(e){var t=this.getValue(),n=this._getter(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=this._source.subscribe((function(e){return n._onSourceValue(e)}))),this._refCount++;var i=new a.Subscription((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return i.add(e.prototype._subscribe.call(this,t)),i},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(c),p=function(e){function t(t,n,i){void 0===i&&(i=s.structEq);var r=e.call(this,void 0)||this;return r._sources=t,r._combineFn=n,r._eq=i,r._subscription=null,r._refCount=0,r}return r(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._combineFn(this._sources.map((function(e){return e.get()})))},t.prototype._onSourceValues=function(e){var t=this.getValue(),n=this._combineFn(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=a.combineLatest(this._sources).subscribe((function(e){return n._onSourceValues(e)}))),this._refCount++;var i=new a.Subscription((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return i.add(e.prototype._subscribe.call(this,t)),i},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(c);t.CombinedAtomViewImpl=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(392);function o(e){return function(t){return i.createElement(r.LiftWrapper,{component:e,props:t})}}t.liftIntrinsic=o,t.createLiftedIntrinsics=function(){var e={};return["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].forEach((function(t){return e[t]=o(t)})),e.Fragment=function(e){return i.createElement(r.LiftWrapper,{component:i.Fragment,props:e})},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.printBuffer=function(e,t){var n=t.logger,i=t.actionTransformer,r=t.titleFormatter,c=void 0===r?function(e){var t=e.timestamp,n=e.duration;return function(e,i,r){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+i),n&&o.push("%c(in "+r.toFixed(2)+" ms)"),o.join(" ")}}(t):r,l=t.collapsed,u=t.colors,d=t.level,h=t.diff;e.forEach((function(r,p){var f=r.started,m=r.startedTime,g=r.action,b=r.prevState,v=r.error,_=r.took,y=r.nextState,w=e[p+1];w&&(y=w.prevState,_=w.started-f);var E=i(g),x="function"==typeof l?l((function(){return y}),g,r):l,O=(0,o.formatTime)(m),S=u.title?"color: "+u.title(E)+";":"",C=["color: gray; font-weight: lighter;"];C.push(S),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var j=c(E,O,_);try{x?u.title?n.groupCollapsed.apply(n,["%c "+j].concat(C)):n.groupCollapsed(j):u.title?n.group.apply(n,["%c "+j].concat(C)):n.group(j)}catch(e){n.log(j)}var k=a(d,E,[b],"prevState"),T=a(d,E,[E],"action"),N=a(d,E,[v,b],"error"),P=a(d,E,[y],"nextState");k&&(u.prevState?n[k]("%c prev state","color: "+u.prevState(b)+"; font-weight: bold",b):n[k]("prev state",b)),T&&(u.action?n[T]("%c action    ","color: "+u.action(E)+"; font-weight: bold",E):n[T]("action    ",E)),v&&N&&(u.error?n[N]("%c error     ","color: "+u.error(v,b)+"; font-weight: bold;",v):n[N]("error     ",v)),P&&(u.nextState?n[P]("%c next state","color: "+u.nextState(y)+"; font-weight: bold",y):n[P]("next state",y)),h&&(0,s.default)(b,y,n,x);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))};var r,o=n(405),s=(r=n(473))&&r.__esModule?r:{default:r};function a(e,t,n,r){switch(void 0===e?"undefined":i(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)):e[r];case"function":return e(t);default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){var a=(0,r.default)(e,t);try{i?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}a?a.forEach((function(e){var t=e.kind,i=function(e){var t=e.kind,n=e.path,i=e.lhs,r=e.rhs,o=e.index,s=e.item;switch(t){case"E":return[n.join("."),i,"→",r];case"N":return[n.join("."),r];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",s];default:return[]}}(e);n.log.apply(n,["%c "+o[t].text,s(t)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}};var i,r=(i=n(474))&&i.__esModule?i:{default:i},o={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};function s(e){return"color: "+o[e].color+"; font-weight: bold"}e.exports=t.default},function(e,t,n){(function(n){var i;!function(r,o){"use strict";void 0===(i=function(){return function(e){var t,i,r=[];function o(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function s(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function c(e,t){c.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function l(e,t){l.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function d(e,t,n){var i=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,i),e}function h(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":void 0!==e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function p(t,n,i,r,o,s,f){var m=(o=o||[]).slice(0);if(void 0!==s){if(r){if("function"==typeof r&&r(m,s))return;if("object"==typeof r){if(r.prefilter&&r.prefilter(m,s))return;if(r.normalize){var g=r.normalize(m,s,t,n);g&&(t=g[0],n=g[1])}}}m.push(s)}"regexp"===h(t)&&"regexp"===h(n)&&(t=t.toString(),n=n.toString());var b=typeof t,v=typeof n;if("undefined"===b)"undefined"!==v&&i(new c(m,n));else if("undefined"===v)i(new l(m,t));else if(h(t)!==h(n))i(new a(m,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!=0)i(new a(m,t,n));else if("object"===b&&null!==t&&null!==n){if((f=f||[]).indexOf(t)<0){if(f.push(t),Array.isArray(t)){var _;for(t.length,_=0;_<t.length;_++)_>=n.length?i(new u(m,_,new l(e,t[_]))):p(t[_],n[_],i,r,m,_,f);for(;_<n.length;)i(new u(m,_,new c(e,n[_++])))}else{var y=Object.keys(t),w=Object.keys(n);y.forEach((function(o,s){var a=w.indexOf(o);a>=0?(p(t[o],n[o],i,r,m,o,f),w=d(w,a)):p(t[o],e,i,r,m,o,f)})),w.forEach((function(t){p(e,n[t],i,r,m,t,f)}))}f.length=f.length-1}}else t!==n&&("number"===b&&isNaN(t)&&isNaN(n)||i(new a(m,t,n)))}function f(t,n,i,r){return r=r||[],p(t,n,(function(e){e&&r.push(e)}),i),r.length?r:e}function m(e,t,n){if(e&&t&&n&&n.kind){for(var i=e,r=-1,o=n.path?n.path.length-1:0;++r<o;)void 0===i[n.path[r]]&&(i[n.path[r]]="number"==typeof n.path[r]?[]:{}),i=i[n.path[r]];switch(n.kind){case"A":!function e(t,n,i){if(i.path&&i.path.length){var r,o=t[n],s=i.path.length-1;for(r=0;r<s;r++)o=o[i.path[r]];switch(i.kind){case"A":e(o[i.path[r]],i.index,i.item);break;case"D":delete o[i.path[r]];break;case"E":case"N":o[i.path[r]]=i.rhs}}else switch(i.kind){case"A":e(t[n],i.index,i.item);break;case"D":t=d(t,n);break;case"E":case"N":t[n]=i.rhs}return t}(n.path?i[n.path[r]]:i,n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}}return t="object"==typeof n&&n?n:"undefined"!=typeof window?window:{},(i=t.DeepDiff)&&r.push((function(){void 0!==i&&t.DeepDiff===f&&(t.DeepDiff=i,i=e)})),o(a,s),o(c,s),o(l,s),o(u,s),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:p,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&p(e,t,(function(i){n&&!n(e,t,i)||m(e,t,i)}))},enumerable:!0},applyChange:{value:m,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var i,r,o=e;for(r=n.path.length-1,i=0;i<r;i++)void 0===o[n.path[i]]&&(o[n.path[i]]={}),o=o[n.path[i]];switch(n.kind){case"A":!function e(t,n,i){if(i.path&&i.path.length){var r,o=t[n],s=i.path.length-1;for(r=0;r<s;r++)o=o[i.path[r]];switch(i.kind){case"A":e(o[i.path[r]],i.index,i.item);break;case"D":case"E":o[i.path[r]]=i.lhs;break;case"N":delete o[i.path[r]]}}else switch(i.kind){case"A":e(t[n],i.index,i.item);break;case"D":case"E":t[n]=i.lhs;break;case"N":t=d(t,n)}return t}(o[n.path[i]],n.index,n.item);break;case"D":case"E":o[n.path[i]]=n.lhs;break;case"N":delete o[n.path[i]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==i},enumerable:!0},noConflict:{value:function(){return r&&(r.forEach((function(e){e()})),r=null),f},enumerable:!0}}),f}()}.apply(t,[]))||(e.exports=i)}()}).call(this,n(159))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,n){var i=n(270).Symbol;e.exports=i},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(525),r=n(529);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},function(e,t,n){var i=n(531),r=n(612),o=n(478);e.exports=function(e){return o(e)?i(e,!0):r(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var i=n(526),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r&&i.process,a=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,n(481)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var i=n(329)(n(270),"Map");e.exports=i},function(e,t,n){var i=n(531),r=n(642),o=n(478);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t,n){var i=n(648),r=n(534),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),i(s(e),(function(t){return o.call(e,t)})))}:r;e.exports=a},function(e,t,n){var i=n(652),r=n(485),o=n(653),s=n(654),a=n(655),c=n(432),l=n(527),u=l(i),d=l(r),h=l(o),p=l(s),f=l(a),m=c;(i&&"[object DataView]"!=m(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||o&&"[object Promise]"!=m(o.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?l(n):"";if(i)switch(i){case u:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var i=n(658);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},,,,,,function(e,t,n){try{e.exports=n(586)}catch(e){}},function(e,t,n){"use strict";n.r(t),n.d(t,"disableConsoleLog",(function(){return p})),n.d(t,"setSeleniumCompatibility",(function(){return m})),n.d(t,"flushLog",(function(){return g}));var i=n(22),r=n(10),o=n(16),s=n(25),a=n(431),c=n(194),l=n(177);const u=["info","warn","error","time","timeEnd","debug"],d=window,h=console;function p(){if(a.a.getGlobal().writer instanceof l.a&&a.a.updateGlobal({filterFn:Object(c.a)(s.a.ERROR)}),Object(r.k)())d.console.log=o.f,d.__BROWSERTOOLS_CONSOLE_SAFEFUNC=o.f;else{const e={log:o.f};u.forEach(t=>{e[t]=h[t]}),d.console=e}}const f=[];function m(){i.on("bg-log",e=>{console[e.method]("BG LOG",...e.args)});const e={};u.concat("log").forEach(t=>{e[t]=(...e)=>{try{f.push({method:t,args:e}),h[t](JSON.stringify(e))}catch(e){}}}),d.console=e}function g(){const e=f.concat();return f.length=0,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emojiLinkV1="https://assets.grammarly.com/emoji/v1/"},function(e,t,n){"use strict";function i(e){return e.caretPositionFromPoint?(t,n)=>{const i=e.caretPositionFromPoint(t,n);return i&&{container:i.offsetNode,offset:i.offset,getClientRects:()=>{const e=i.getClientRect();return e?[e]:[]},detach:()=>{}}}:e.caretRangeFromPoint?(t,n)=>{const i=e.caretRangeFromPoint(t,n);return i&&{container:i.startContainer,offset:i.startOffset,getClientRects:()=>Array.from(i.getClientRects()),detach:()=>i.detach()}}:(e,t)=>null}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(216),r=n(64),o=n(41),s=n(6);function a(e,t,n,a=s.Atom.create(i.c)){return s.Atom.combine(t,n,a,(e,t,n)=>({alerts:e,isUserPremium:t,isCritical:n})).view(({alerts:t,isUserPremium:n,isCritical:s})=>{const a=r.a.alertMapToCapiAlerts(t);return{popupEditorSupported:c(e,a),critical:c(s,a),plus:c(n?e:e=>Object(i.b)(e)&&e.isHidden,a),freeClarity:c(t=>e(t)&&Object(i.b)(t)&&!t.isHidden&&t.outcome===o.f.clarity&&t.isMuted,a),hiddenClarity:c(t=>e(t)&&Object(i.b)(t)&&t.isHidden&&t.outcome===o.f.clarity,a)}})}function c(e,t){return t.reduce((t,n)=>t+(e(n)?1:0),0)}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.initial={type:"none"}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(575),o=n(305);!function(e){e.initial={dataControl:r.a.inactive,offline:!1,checking:!1,userType:o.b.anonymous,shouldShowLoginReminderBadge:!1,hovered:!1,visible:!0,experiments:void 0,errors:{popupEditorSupported:0,critical:0,plus:0,freeClarity:0,hiddenClarity:0},clarityVisible:!1,clarityHiddenIfEnterprise:!1,edcBlocked:!1,siteSettings:{isEnterprise:!1}}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return x}));var i=n(48),r=n(148),o=n(93),s=n(151),a=n(215),c=n(359),l=n(204),u=n(147),d=n(130),h=n(58),p=n(83),f=n(70),m=n(421),g=n(373),b=n(301),v=n(47),_=n(116),y=n(187),w=n(66);function E(e,t,n=e.getBoundingClientRect()){const i=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle(e),r=_.a.create(Object(g.a)(e,i,n));return{position:v.c.getHighlightsPosition(r,t,{top:0,left:0}),clientPosition:r,height:r.height,width:r.width,padding:i?Object(w.f)(i):{top:0,bottom:0,left:0,right:0}}}function x(e,t=E,n=0,g=Object(i.b)(),x=20,O,S=(e=>e),C=Object(h.c)(e.ownerDocument&&(e.ownerDocument.body.parentElement||e.ownerDocument.body)),j=C,k=Object(w.c)(e),T=(e=>Object(w.a)(e,O,j)),N=(()=>({top:0,left:0})),P=(e=>e)){const A=e.ownerDocument&&e.ownerDocument.defaultView,I=m.a.createShared(e),F=A?()=>({top:A.scrollY,left:A.scrollX}):()=>({top:0,left:0}),M=y.a.createOptimized(()=>t(e,F()),Object(r.a)(I||Object(i.b)(),I?w.l:w.i,...A?[Object(o.a)(A,"resize"),Object(o.a)(A,"keydown"),Object(o.a)(A,"mousedown")]:[],p.a.create(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),Object(o.a)(e,"keydown"),Object(o.a)(e,"keyup"),Object(w.j)(e,x),g).pipe(Object(a.a)(void 0)),f.a),R={textFieldRect:M,highlightsRect:S(M),scroll:y.a.create(()=>Object.assign(Object.assign({},v.b.create({top:e.scrollTop,left:e.scrollLeft})),{width:e.scrollWidth,height:e.scrollHeight}),Object(w.g)(e).pipe(Object(c.a)((I||Object(i.b)()).pipe(Object(l.a)(w.k)))),f.a),zIndex:k,highlightHeightOffset:n,container:C,getTranslationToCards:N};return{highlights:R,gbutton:P(T(R)),mouse:Object(s.b)(M.behavior,R.scroll.behavior,(e,t)=>({scroll:t,rect:_.a.create(Object.assign(Object.assign({},e.clientPosition),{width:e.width,height:e.height}))})).pipe(Object(u.a)(({rect:e,scroll:t})=>Object(b.b)(A,e,t)),Object(d.a)(f.a))}}},function(e,t,n){e.exports={counter:"_1NNY0",premium:"_3PC-V"}},function(e,t,n){e.exports={gr_gbutton_container:"_3TiRl"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(185);!function(e){const t="gmail_quote",n="gmail_attr",i=new Set(["PRE","CODE","STYLE","SCRIPT","NOSCRIPT","IMG","SVG","CANVAS","AUDIO","VIDEO","IFRAME","EMBED","OBJECT","BUTTON"]);function o(e,o){if(s=e,i.has(s.tagName)||!r.a.isNotHiddenNode(s)||function(e){return"false"===e.getAttribute("contenteditable")}(e))return!1;var s;const a=e.classList.contains(t)&&"BLOCKQUOTE"===e.tagName,c=e.classList.contains(n)&&e.parentElement&&e.parentElement.classList.contains(t);return!a&&!c}e.createTextMap=e=>new r.a(e,o)}(i||(i={}))},,,,function(e,t,n){"use strict";var i=n(52),r=n(46);t.a=function(e){return"number"==typeof e||Object(r.a)(e)&&"[object Number]"==Object(i.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(185);!function(e){e.createTextMap=t=>new r.a(t,t=>!e.hasPlaceholder(t)),e.hasPlaceholder=e=>!!e.querySelector(".placeholder-decoration")}(i||(i={}))},function(e,t,n){"use strict";var i=n(80),r=n(703),o=n(86),s=n(12),a=n(429);const c=s.a.create("lib.grammarly-editor.capi"),l=Object(i.emitter)({CLIENT_NAME:"web",PROTOCOL_VERSION:"1.0",clientVersion:"",extDomain:"",token:null,debug:!1,setToken:e=>{l.token=e,l.emit("ready",l.token)},onReady:e=>{if(l.token)return e(l.token);l.one("ready",e)},createClient:e=>{const t=!e.silentLogs,n={runtime_error:{maxCount:10,emitMsg:"frequent_runtime_error"},not_authorized:{maxCount:5,emitMsg:"frequent_not_authorized_error"}};let s=!1,u=0;const d=(e=Object(r.a)({connectionTimeout:1e3,sid:null,useQueue:30,useStandBy:9e5},e)).createWs||a,h=Object(i.emitter)({rev:0,messageId:0,options:e,genre:null,ws:d(e),fluidEx:{feedback:(e,t)=>{m("feedback",{sentenceNo:e.sentenceNo,alertId:e.id,text:e.text,type:t})},acceptedFeedback:(e,t,n)=>{m("feedback",{sentenceNo:e.sentenceNo,alertId:e.id,text:n,type:t})},autocorrectFeedback:e=>{m("feedback",e)},addToDictionary:e=>m("add_to_dict",{word:e}),emogenieFeedback:(e,t)=>m("feedback",{emotion:e,type:t})},checkText:(e,t,n,i)=>h.check(e,t,n,void 0,i),submitOt:(e,t,n,i)=>(h.rev=t,n=n||{},f("submit_ot",Object(r.a)({ch:e},n),i)),checkNoSynonymsText:(e,t,n,i)=>h.check(e,t,n,"NOSYNONYMS",i),checkGrammar:(e,t,n,i)=>h.check(e,t,n,"GRAMMAR",i),checkSpell:(e,t,n,i)=>h.check(e,t,n,"SPELL",i),checkStyle:(e,t,n,i)=>h.check(e,t,n,"STYLE",i),checkSynonyms:(e,t,n,i)=>h.check(e,t,n,"SYNONYMS",i),acknowledged:e=>h.feedback(e,"acknowledged"),ignore:e=>h.feedback(e,"ignore"),ignoreAll:e=>h.feedback(e,"ignore_all"),addToDictionary:e=>m("add_to_dict",{word:e.value}),sendEmailSubject:e=>m("feedback",{type:"EMAIL_SUBJECT",emailSubject:e}),sendEmailFormatting:(e,t)=>m("feedback",{type:"EMAIL_FORMATTING",formattingType:e,emailFormatting:t}),sendEmailSummary:e=>m("feedback",{type:"EMAIL_SUMMARY",emailSummary:e}),sendEmailSummaryAcknowledget:()=>m("feedback",{type:"EMAIL_SUMMARY_ACKNOWLEDGED"}),sendEmailSummaryNotHelpful:()=>m("feedback",{type:"EMAIL_SUMMARY_NOT_HELPFUL"}),feedback:(e,t)=>e.sid?m("feedback",{sentenceNo:e.sentence_no,alertId:String(e.sid),text:e.value,type:t}):0,acceptedFeedback:(e,t,n)=>e.sid?m("feedback",{sentenceNo:e.sentence_no,alertId:String(e.sid),text:n,type:t}):0,undoFeedback:(e,t,n)=>e.sid?m("feedback",{sentenceNo:e.sentence_no,alertId:String(e.sid),text:n,type:t}):0,check:(e,t,n,i,r)=>f("submit",{text:e,begin:t,end:n,checks:i},r),start:t=>{var n;const i={type:t,token:e.token||l.token,sid:e.sid,docid:e.docid,client:e.clientName||l.CLIENT_NAME,protocolVersion:l.PROTOCOL_VERSION,clientSubtype:(n=e.clientSubtype,null!=n?n:"inline"),clientSupports:e.clientSupports};return e.dialect&&(i.dialect=e.dialect),(e.clientVersion||l.clientVersion)&&(i.clientVersion=e.clientVersion||l.clientVersion),(e.extDomain||l.extDomain)&&(i.extDomain=e.extDomain||l.extDomain),m("start",i)},plagiarism:(e,t)=>f("plagiarism",{text:e},t),undo:(e,t)=>m("undo",{alertId:e,sentenceId:t}),drop:(e,t)=>m("drop",{alertId:e,sentenceId:t}),synonyms:(e,t)=>m("synonyms",{rev:h.rev-1,begin:e,token:t}),stop:()=>m("stop"),logout:()=>m("logout"),close:()=>h.ws.close(),wsPause:()=>h.ws.wsPause(),wsPlay:()=>h.ws.wsPlay(),sendContainerId:e=>m("option",{name:"gnar_containerId",value:e})}),p=(()=>{let e,t=!1;return{setAvailable:function(){clearTimeout(e),t&&h.emit("serviceState",{type:"capi",available:!0}),t=!1},checkOnline:function(){clearTimeout(e),e=setTimeout(()=>{h.ws.isConnected()||(h.emit("serviceState",{type:"capi",available:!1}),t=!0)},6e4)}}})();return h.ws.on("message",t=>{if(!t.action)return;const i=t.action.toLowerCase();if("finished"===i&&void 0!==t.rev)return h.emit([i,t.rev.toString()],t),h.emit(i,t);if("cannot_find_synonym"===t.error){const e={synonyms:{},action:"synonyms",id:t.id,type:"syn"};return h.emit("synonyms",e)}return"error"===i?(function(t){const i=n[t.error];if(!i)return;i.intervals||(i.intervals=[],i.lastErrSent=0),i.lastErr=Date.now(),i.intervals.push(i.lastErr),i.intervals.length<i.maxCount&&(h.ws.reconnect(),e.fluid||h.start("other"));const r=i.lastErr-i.intervals[i.intervals.length-(i.maxCount+1)]<6e4;i.intervals.length>i.maxCount&&r&&i.lastErr-i.lastErrSent>6e4&&(h.emit(i.emitMsg,{msg:t,count:i.intervals.length,intervals:i.intervals}),i.lastErrSent=i.lastErr),"not_authorized"===t.error&&i.intervals.length>i.maxCount&&(i.intervals=[])}(t),h.emit("capiError",t)):"alert"===i&&void 0!==t.rev?(h.emit([i,t.rev.toString()],t),h.emit(i,t)):(t.id&&h.emit([i,t.id],t),void h.emit(i,t))}),h.on("start",e=>{h.emit("socketStart"),t&&c.trace(`Got START with sid ${e.sid}`),e.sid&&(h.options.sid=e.sid)}),h.ws.connect(),h.start("initial"),h.ws.on("connect",()=>{h.emit("socketConnect"),p.setAvailable()}),h.ws.on("error",e=>{p.checkOnline(),"disconnected"!==e&&(h.emit("socketError",e),s||(u++,h.emit("socketFailCount",u)),s=!0)}),h.ws.on("reconnect",()=>{h.start("other"),h.emit("socketReconnect"),p.setAvailable(),s&&(h.emit("socketReconnectAfterError"),s=!1)}),h.ws.delegate(h,"disconnect"),h;function f(e,t,n){return t.rev=h.rev++,Object(o.a)(n)&&h.one(["finished",t.rev.toString()],n),m(e,t),t.rev}function m(e,t,n){return(t=t||{}).action=e,t.id=h.messageId++,h.one([t.action.toString(),t.id.toString()],()=>{Object(o.a)(n)&&n(t)}),h.ws.send(t),t.id}}});var u=n(337),d=n(16),h=n(271),p=n(59),f=n(99),m=n(27),g=p.a?p.a.isConcatSpreadable:void 0,b=function(e){return Object(m.a)(e)||Object(f.a)(e)||!!(g&&e&&e[g])},v=n(243),_=n(245),y=n(306),w=n(77),E=function(e,t){var n=-1,i=Object(w.a)(e)?Array(e.length):[];return Object(y.a)(e,(function(e,r,o){i[++n]=t(e,r,o)})),i},x=function(e,t){return(Object(m.a)(e)?v.a:E)(e,Object(_.a)(t,3))},O=function(e,t){return function e(t,n,i,r,o){var s=-1,a=t.length;for(i||(i=b),o||(o=[]);++s<a;){var c=t[s];n>0&&i(c)?n>1?e(c,n-1,i,r,o):Object(h.a)(o,c):r||(o[o.length]=c)}return o}(x(e,t),1)},S=n(176),C=n(173),j=function(e,t){return t.length<2?e:Object(C.a)(e,function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}(t,0,-1))},k=n(98),T=function(e,t){return t=Object(S.a)(t,e),null==(e=j(e,t))||delete e[Object(k.a)(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},N=n(126),P=Array.prototype.splice,A=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=Object(_.a)(t,3);++i<o;){var s=e[i];t(s,i,e)&&(n.push(s),r.push(i))}return function(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;Object(N.a)(r)?P.call(e,r,1):T(e,r)}}}(e,r),n},I=n(206);function F(e,t){const n=new I.diff_match_patch,i=n.diff_main(e,t,!0);n.diff_cleanupSemantic(i);const r=u.cs([]),o=e.length;let s=0;return i.forEach(e=>{e[0]===I.DIFF_EQUAL&&(s+=e[1].length),e[0]===I.DIFF_DELETE&&(r.push(u.op({type:"-",tlen:o,pos:s,text:e[1],accessory:0})),s+=e[1].length),e[0]===I.DIFF_INSERT&&r.push(u.op({type:"+",tlen:o,pos:s,text:e[1],accessory:0}))}),r}const M=s.a.create("lib.grammarly-editor.text-api"),R=100,D=100,L=e=>{const t=!e.silentLogs,n=e.capi||l.createClient,i=e.getContainerId,o=n({sid:e.sid,docid:e.docid,createWs:e.createWs,url:e.capiUrl,dialect:e.dialect,silentLogs:e.silentLogs,clientSupports:e.clientSupports});o.on("alert",p.bind(null,"error")),o.on("synonyms",p.bind(null,"syn")),o.on("disconnect",c),o.on("socketStart",(function(){i().then(e=>{o.sendContainerId(e)}).catch(e=>{t&&M.error("Cannot send containerId",e)})}));const s=Object(r.a)({text:"",shiftedMatchesText:"",changes:[],sentRev:0,finishedRev:-1,isReconnectMode:!1,send:f,update:a,updateMatchesToCurrentRevision:function(e){B(e,s.changes)},updateMatchToCurrentRevision:function(e){U(e,s.changes)},getShiftedMatches:function(e,t){if(t===s.shiftedMatchesText)return e;const n=F(s.shiftedMatchesText,t);if(s.shiftedMatchesText=t,!n.length)return e;const i=[n],r=e.map(e=>({id:e.id,value:e.value,_value:e._value,s:e.s,e:e.e,_s:e._s,_e:e._e,rev:-1}));return B(r,i),r.filter(e=>e._s>=0&&e._e>=0&&e.s>=0&&e.e>=0)},restart:function(){const e=s.text;c(),a(e),f(!1)},reset:c,checkPlagiarism:function(e){s.emit("sending"),o.plagiarism(e,()=>s.emit("plagiarismChecked"))},getState:function(){return{changes:s.changes.map(e=>e.pack()),text:s.text,sentRev:s.sentRev}},setState:function(e){s.text=e.text,s.changes=e.changes.map(e=>u.unpack(e)),s.sentRev=e.sentRev,o.rev=e.sentRev},onadd:p,onfinish:h},o);return s;function a(e){if(e===s.text)return;const t=F(s.text,e);s.text=e,s.shiftedMatchesText||(s.shiftedMatchesText=e),t.length&&s.changes.push(t)}function c(){s.changes=[],s.text="",s.shiftedMatchesText="",s.sentRev=0,o.rev=0}function h(e){t&&M.trace("MIDDLE LOG: finished: "+JSON.stringify(e)),(e.removed||[]).forEach(e=>s.emit("remove",e)),void 0!==e.rev&&(s.finishedRev=e.rev),s.emit("finish",e)}function p(e,n){t&&M.trace("MIDDLE LOG: received match: "+JSON.stringify(n)+e+s.changes.length),U(n,s.changes),n.type=e,s.emit("add",n)}function f(e){!function(e,t,n,i,r,o=R,s=D){const a=function(e,t=R,n=D){const i=e.map(e=>e.pack()).join("");if(!e.length)return[];if(function(e){return Object(d.h)(e)/1e3}(i)<t)return[e];const r=function(e,t=R,n=D){return Math.floor(e.length/function(e,t=R){return Math.ceil(Object(d.h)(e)/1e3/t)}(e,t))-n}(i,t,n);return function(e,t){const n=[];let i=0;return e.forEach((e,r)=>{0===r&&n.push([]),e.text.length+i>t&&(n.push([]),i=0),n[n.length-1].push(e),i+=e.text.length}),n}(function(e,t){return O(e,e=>O(e,e=>{let n=e.pos,i=e.tlen;return e.text.length>t?Object(d.j)(e.text,t).map(t=>{const r=e.extend({text:t,tlen:"+"===e.type?n:i,type:e.type,pos:"+"===e.type?n:e.pos,accessory:e.accessory});return n+=t.length,i-=t.length,r}):[e]}))}(e,r),r).map(e=>[u.cs(e)])}(e.slice(t),o,s);0!==a.length&&(1===a.length?r(a[0].map(e=>e.pack()),e.length-1,n,i):(A(e,(e,n)=>n>=t&&!a.find(t=>e===t[0])),a.forEach(t=>{e.push(t[0]),r([t[0].pack()],e.length-1,n,i)})))}(s.changes,s.sentRev,s.isReconnectMode,e,m),s.changes.length&&(s.isReconnectMode=!1)}function m(t,n,i,r){const a={};s.emit("sending"),e.extendParams&&e.extendParams(a),i&&Object.assign(a,{type:"reconnect"}),r&&Object.assign(a,{type:"initial"}),o.submitOt(t,n,a,h),s.sentRev=s.changes.length}};function B(e,t){for(let n=0;n<e.length;n++){const i=e[n];i.begin=i.s,i.end=i.e,i.highlightBegin=i._s,i.highlightEnd=i._e,U(i,t),i.s=i.begin,i.e=i.end,i._s=i.highlightBegin,i._e=i.highlightEnd}}function U(e,t){const n=e.begin;for(let n=e.rev+1;n<t.length;n++)z(t[n],e);e.rev=t.length-1,e.begin!==n&&M.trace("DIFF",e)}function z(e,t){e.sequencify().forEach(e=>{H(e,t,"begin","end"),H(e,t,"highlightBegin","highlightEnd")})}function H(e,t,n,i){"+"===e.type?(t[n]<0||e.pos<=t[n])&&(t[n]+=e.len,t[i]+=e.len):"-"===e.type&&e.pos<t[n]&&(t[n]-=e.len,t[i]-=e.len)}var V,G,W=n(22),$=n(148),q=n(33),Y=n(118),K=n(238),Q=n(14),X=n(343),J=n(172),Z=n(78),ee=n(122),te=n(37),ne=n(332),ie=n(299),re=n(215),oe=n(400),se=n(147),ae=n(359),ce=n(333),le=n(4),ue=n(41),de=n(61),he=n(6);function pe(){return le.c.create().slice(0,6)}n.d(t,"a",(function(){return fe})),function(e){e.create=e=>({nonEnglishText:e.foreign})}(V||(V={})),function(e){e.freeClarityAlerts="free_clarity_alerts",e.fillerWordsCheck="filler_words_check",e.readabilityCheck="readability_check",e.sentenceVarietyCheck="sentence_variety_check",e.freeOccasionalPremiumAlerts="free_occasional_premium_alerts",e.lockedPremiumAlerts="is_locked_premium_alert",e.voxCheck="vox_check"}(G||(G={}));class fe{constructor(e,t,n,i,r,o=r.appConfig.url.capi,a=[],c=null,u=null,d=null,h=`extension_${{chrome:"chrome",firefox:"firefox",safari:"safari",edge:"edge"}[r.bundleInfo.browser]}`,p=r.buildInfo.version,f=r.appConfig.gnar.sendFluidExperimentData,m=le.e.seconds(11),g=le.e.seconds(10),b=s.a.create(fe.name)){this._docId=e,this._dialect=t,this._domainName=n,this._createSocket=i,this._capiUrl=o,this._supportedFeatures=a,this._clientSubtype=c,this._felog=u,this._capiToken=d,this._clientName=h,this._clientVersion=p,this._sendFluidExperimentData=f,this._checkingStatusTimeoutMs=m,this._reconnectTimeoutMs=g,this._log=b,this._connectionId=pe(),this._responseTimeTelemetry=this._felog&&!this._felog.responseTime.dummy?this._felog.responseTime:null,this._api=L({silentLogs:!0,createWs:this._createSocket,docid:this._docId,dialect:this._dialect,capiUrl:this._capiUrl,clientSupports:this._supportedFeatures.length>0?this._supportedFeatures:void 0,getContainerId:()=>W.promiseBackground("get-containerIdOrUndefined").then(e=>e&&"string"==typeof e?e:Promise.reject(void 0)),extendParams:e=>e,capi:e=>l.createClient(Object.assign(Object.assign(Object.assign({},e),{token:null!==this._capiToken?this._capiToken:void 0,clientName:this._clientName,clientVersion:this._clientVersion,extDomain:this._domainName,fluid:!0}),this._clientSubtype?{clientSubtype:this._clientSubtype}:{}))}),this._onAdd=this._apiEvent("add").pipe(Object(J.a)()),this._rawAlerts=this._onAdd.pipe(Object(Z.a)(e=>"synonyms"!==e.action)),this._rawSynonyms=this._onAdd.pipe(Object(Z.a)(e=>"synonyms"===e.action)),this._onRemove=this._apiEvent("remove").pipe(Object(ee.a)(e=>"number"==typeof e?[e]:"object"==typeof e&&"remove"===e.action?[e.id]:(this._log.warn("unrecognized capi onRemove message",e),[])),Object(J.a)()),this._onFinished=this._apiEvent("finish").pipe(Object(J.a)()),this._onStart=this._apiEvent("start").pipe(Object(J.a)()),this._onEmogenie=this._apiEvent("emotions").pipe(Object(J.a)()),this._onSending=this._apiEvent("sending").pipe(Object(J.a)()),this._onReconnect=this._apiEvent("socketReconnect"),this._onDisconnect=this._apiEvent("disconnect"),this._onConnectOrStart=Object($.a)(...["socketConnect","socketStart"].map(e=>this._apiEvent(e))),this._onConnectionStatus=Object($.a)(...["socketReconnect","socketConnect","socketError","socketStart"].map(e=>this._apiEvent(e))),this._clientConnectionStatus="ok",this._reconnectPending=!1,this._reconnectInitiatedSubject=new q.a,this._socketNotInitialized=this._apiEvent("fluidNotConnected",this._api.ws),this._connectToken=new me(1,3,le.e.seconds(60)),this._setTextSubject=new q.a,this._checkingStatusChanged=Object($.a)(Object($.a)(this._onSending,this._rawAlerts,this._onRemove,this._onConnectionStatus,this._setTextSubject).pipe(Object(te.a)(e=>this._currentTextIsTrivial()?Object(Y.a)(ue.e.idle):Object(Y.a)(ue.e.idle).pipe(Object(ne.a)(this._checkingStatusTimeoutMs),Object(ie.a)(ue.e.inProgress)))),Object($.a)(this._onFinished,this._setTextSubject.pipe(Object(Z.a)(e=>this._currentTextIsTrivial()))).pipe(Object(re.a)(Object(Y.a)(ue.e.idle)))).pipe(Object(oe.a)()),this._checkingStatus=he.Atom.create(ue.e.idle),this._subs=[this._checkingStatusChanged.subscribe(e=>this._checkingStatus.set(e)),this._onReconnect.subscribe(e=>{this._connectionId=pe(),this._log.debug(`*** reconnect OK! new conn id ${this._connectionId}`),this._api.reset(),this._clientConnectionStatus="ok",this._reconnectPending=!1,null!==this._currentText&&this.setText(this._currentText)}),this._onDisconnect.subscribe(e=>{this._clientConnectionStatus="disconnected"}),this._onConnectOrStart.subscribe(e=>{this._clientConnectionStatus="ok"}),this._reconnectInitiatedSubject.pipe(Object(se.a)(e=>Object(K.a)(this._reconnectTimeoutMs))).subscribe(e=>{this._reconnectPending&&(this._reconnectPending=!1,this._connectToken.take()?(this._log.warn("reconnect timeout, restarting"),this._api.ws.reconnect(),this._api.reset(),null!==this._currentText&&this._api.update(this._currentText),this._api.send(!0)):(this._log.warn("no restart token available -- not connecting"),this._clientConnectionStatus="disconnected"))}),this._socketNotInitialized.subscribe(e=>{this._connectToken.take()?(this._log.warn("bg websocket uninitialized -- fixing"),this._api.ws.connect(),this._api.start("other"),this._clientConnectionStatus="ok",this._reconnectPending=!1,null!=this._currentText&&(this._api.update(this._currentText),this._api.send(!1))):(this._log.warn("couldn't fix uninitialized socket -- no token available"),this._clientConnectionStatus="disconnected")})],this._currentText=null,this._pingMeasureInProgress=!1,this._pingMeasureThrottleTimeMs=3e3,this._lastPingTimestamp=0,this.messages=Object($.a)(this._rawAlerts.pipe(Object(te.a)(e=>ue.d.add(ue.a.create(e,this._connectionId)))),this._onRemove.pipe(Object(te.a)(e=>ue.d.remove(String(e)))),this._onFinished.pipe(Object(te.a)(e=>ue.d.finished(V.create(e)))),this._onEmogenie.pipe(Object(te.a)(e=>ue.d.emogenie(e))),this._onStart.pipe(Object(te.a)(e=>ue.d.start(e)))).pipe(Object(J.a)()),this.checkingStatus=this._checkingStatus.view(),this._sendFluidExperimentData}_apiEvent(e,t=this._api){return new Q.a(n=>{const i=e=>n.next(e);return t.on(e,i),()=>t.off(e,i)})}_currentTextIsTrivial(){return""===this._currentText||null===this._currentText||this._currentText.length<100&&""===this._currentText.trim()}_maybeMeasurePing(){try{const e=Date.now();if(this._responseTimeTelemetry&&!this._pingMeasureInProgress&&e-this._lastPingTimestamp>this._pingMeasureThrottleTimeMs){this._pingMeasureInProgress=!0,this._lastPingTimestamp=e;const t=this._responseTimeTelemetry.startMeasure();this._api.ws.send({action:"ping"}),this._apiEvent("pong",this._api).pipe(Object(ae.a)(this._onConnectionStatus),Object(ce.a)()).subscribe(e=>{this._pingMeasureInProgress=!1,void 0!==e&&"pong"===e.action?t.endMeasure():this._log.warn("dropping ping measure, connection changed")})}}catch(e){this._log.warn("crashed while trying to measure ping",e)}}reconnect(){this._connectToken.take()?(this._api.ws.reconnect(),this._api.reset()):this._log.warn("skip reconnect -- no token available")}closeConnection(){try{this._api.ws.close(),this._api.reset()}catch(e){this._log.debug("Cannot close connection",e)}}getDocId(){return this._docId}getLegacyApiState(){return{textApiState:this._api.getState(),docId:this._docId,socketId:this._api.ws.socketId}}setLegacyApiState(e){this._api.setState(e)}setText(e){this._currentText=e;const t=`${this._connectionId}-${this._api.sentRev}`;return"ok"===this._clientConnectionStatus?(this._maybeMeasurePing(),this._api.update(e),this._api.send(!1),this._log.debug(`SENDING text for checking @ ${t} (uncomment to see text)`)):"disconnected"===this._clientConnectionStatus?""!==e?(this._api.update(e),this._api.send(!1),this._clientConnectionStatus="reconnecting",this._reconnectPending=!0,this._reconnectInitiatedSubject.next(),this._log.debug(`KICKED client to reconnect @ ${t}`)):this._log.debug("disconnected and text is empty -- NOT doing anything for now"):"reconnecting"===this._clientConnectionStatus?this._log.debug("WAITING for client to reconnect, NOT sending anything"):Object(le.g)(this._clientConnectionStatus),this._setTextSubject.next(),t}requestSynonyms(e,t){this._log.trace("Ask synonyms for",{token:e,position:t});const n=this._api.synonyms(t,e);return this._rawSynonyms.pipe(Object(ce.a)(e=>!!e.synonyms&&e.id===n),Object(te.a)(e=>ue.g.create(String(n),t,e))).toPromise()}onTextChanged(e){return this.setText(de.a.applyChanges(this._currentText||"",e))}_feedbackCheckingAlert(e,t){this._api.fluidEx.feedback({sentenceNo:e.sentenceNo,id:e.id,text:e.transformText},t)}onAlertApplied(e,t){this._api.fluidEx.acceptedFeedback({sentenceNo:e.sentenceNo,id:e.id,text:e.transformText},"accepted",t),this._sendFluidExperimentData}onSynonymApplied(e,t){this._api.fluidEx.acceptedFeedback({id:String(e.id),text:e.token},"accepted",t)}onEmogenieFeedback(e,t){this._api.fluidEx.emogenieFeedback(e,t)}onAlertIgnored(e){this._feedbackCheckingAlert(e,"ignore")}onAddToDictionary(e){this._api.fluidEx.addToDictionary(e)}onAlertDisplayed(e){this._feedbackCheckingAlert(e,"looked")}onAutocorrectAlertAccepted(e){this._api.fluidEx.autocorrectFeedback({type:"autocorrect_accept",before:e.before,after:e.after,context:e.context})}onAutocorrectAlertDismissed(e){this._api.fluidEx.autocorrectFeedback({type:"autocorrect_dismiss",before:e.before,after:e.after,context:e.context,expected:e.expected})}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[],this._connectToken.dispose(),this._api.close()}static getFactory(e,t,n=(e=>[G.freeClarityAlerts,G.readabilityCheck,G.fillerWordsCheck,G.sentenceVarietyCheck,G.voxCheck,...e.pageContext.config.systemInfo.os.isChromeOS?[]:[G.freeOccasionalPremiumAlerts,G.lockedPremiumAlerts]])){return i=>new fe(i.docId,i.state.page.dialectStrong||i.state.page.dialectWeak,i.state.page.domain,i.createSocket,i.pageContext.config,e,n(i),t||null,i.felog.capiClient,i.state.user.grauth)}}class me{constructor(e,t,n){this._refillAmt=e,this._capacity=t,this._refillIntervalMs=n,this._tokens=this._capacity,this._refillSub=Object(X.a)(this._refillIntervalMs).subscribe(()=>{this._tokens=Math.min(this._capacity,this._tokens+this._refillAmt)})}take(){return this._tokens>=1&&(this._tokens--,!0)}dispose(){this._refillSub.unsubscribe()}}},function(e,t,n){"use strict";var i=n(259),r=n(16),o=n(80),s=n(459);class a extends s.a{constructor(e,t,n){super(),this.socketId=e,this._send=t,this._isConnected=n,this.send=e=>this._send("send",e),this.close=()=>this._send("close"),this.connect=e=>this._send("connect",e),this.reconnect=e=>this._send("reconnect",e),this.release=()=>this._send("release"),this.isConnected=()=>this._isConnected(),this.wsPlay=()=>this._send("wsPlay"),this.wsPause=()=>this._send("wsPause"),this.toString=()=>"[object SocketClient]"}}var c=n(12);n.d(t,"a",(function(){return u}));const l=c.a.create("universal.bg.state.tabs");class u{constructor(e,t){this._telemetry=e,this._message=t,this._sockets={},this.createSocket=e=>{const t=e.socketId||Object(r.r)(),n={socketId:t,useStandBy:e.useStandBy,url:e.url,fluid:e.fluid};let o=!1,s=!1;this._message.onBackgroundPortReconnect(()=>{const e=this._sockets[t];!s&&e&&e.reconnect(!0)});const c=()=>{o=!1,s=!0};this._sockets[t]||(this._sockets[t]=new a(t,(e,t)=>{this._message.emitBackground(i.a.client,Object.assign({},n,{method:e,arg:t})),"close"===e&&c()},()=>o));const l=this._sockets[t];return l.on("disconnect",c),l.on("connect",()=>{o=!0}),l.one("cleanup-socket-on-editor-remove",()=>{delete this._sockets[t]}),l.on("error",e=>{o=!1,this._onError(e)}),l},this._onError=e=>{if("disconnected"===e)return;const t={};"string"==typeof e?t.msg=e:e.error&&(t.readyState=e.error.currentTarget&&e.error.currentTarget.readyState,t.returnValue=e.error.returnValue),this._telemetry.socketCsError(),l.error("capi error",e),window.emit||Object(o.emitter)(window),window.emit("bgerror",e||"when send message to the socket")},this._onMessage=(e,t)=>{const n=this._sockets[e.socketId];if(!n)return;const i=e.msg||{};i.action&&"error"===i.action.toLowerCase()&&this._telemetry.soketCsErrorMsg(i),t("ok"),n.emit(e.event,e.msg)},t.on(i.a.server,this._onMessage)}}},,,function(e,t,n){},function(e,t,n){n(517)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(371),s=n(453),a=n(454),c=function(){return(new Date).setFullYear((new Date).getFullYear()+10)},l=function(){return(new Date).setMinutes((new Date).getMinutes()+10)},u=/^\.\w+\.\w+/;function d(e){return{type:"success",value:e}}function h(e){return{type:"failure",error:e}}function p(e){return e.then(d,h)}function f(e,t,n){var i=n();return e>0?i.catch((function(i){return new Promise((function(e,n){return setTimeout(e,t)})).then((function(i){return f(e-1,t,n)}))})):i}var m=function(){function e(e,t,n,i,r,o){void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=3e5),void 0===r&&(r=0),void 0===o&&(o=function(){return Date.now()}),this.primaryStorage=e,this.secondaryStorages=t,this._logger=n,this._cacheSuccessTimeoutMillis=i,this._cacheFailureTimeoutMillis=r,this._getTime=o,this._allStorages=[e].concat(t)}return e.prototype._expireCache=function(e){0===e?this._cacheExpireTimestamp=0:e>0&&(this._cacheExpireTimestamp=this._getTime()+e)},e.prototype.getValue=function(){var e=this;if(void 0!==this._cache&&(void 0===this._cacheExpireTimestamp||this._getTime()<this._cacheExpireTimestamp))return this._cache;var t=a.guard((function(){return e._logger&&e._logger.getValueStart(e.valueLabel())})),n=this._valueFromStorage();return this._cache=n,this._cacheExpireTimestamp=void 0,n.then((function(t){t?e._expireCache(e._cacheSuccessTimeoutMillis):e._cache=void 0}),(function(t){e._cache=void 0})),n.then((function(e){t&&a.guard((function(){return t.getValueSuccess()}))}),(function(e){t&&a.guard((function(){return t.getValueFailure(e)}))})),n},e.prototype._valueFromStorage=function(){var e=this;return Promise.all(this._allStorages.map((function(t){return p(t.safeGetValue(e.key()))}))).then((function(t){var n=t[0];if("failure"===n.type)return Promise.reject("getting value from primary storage '"+e.primaryStorage.name+"' has failed: "+n.error);var i=t.find((function(e){return"success"===e.type&&void 0!==e.value}));if(void 0===i)return Promise.resolve(void 0);var r=i.value,o="success"===n.type&&void 0===n.value,s=t.reduce((function(e,t,n){return"success"===t.type&&t.value!==r?e.concat(n):e}),[]);return e.setValue(r,o,!1,s)}))},e.prototype.setValue=function(e,t,n,i){var r=this;void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=Array.from(Array(this._allStorages.length).keys()));var o=i.map((function(t){return p(r._allStorages[t].safeSetValue(r.key(),e))})),s=Promise.all(o).then((function(i){if(t||n){var o=i[0];if("success"!==o.type)return Promise.reject("setting "+r.valueLabel()+" to primary storage has failed:\n                "+o.error)}var s=Promise.resolve(e);return r._cache=s,r._expireCache(r._cacheSuccessTimeoutMillis),s}));return s.then((function(e){t?a.guard((function(){return r._logger&&r._logger.valueRecovered()})):n&&a.guard((function(){return r._logger&&r._logger.valueGenerated()}))})),s},e}();t.ValueManager=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.containerIdLength=12,t.initialSetPromise=void 0,t.generatedContainerId=void 0,t.getContainerId=function(){return e.prototype.getValue.call(t).then((function(n){if(void 0===n){if(t.initialSetPromise)return t.initialSetPromise;var i=e.prototype.setValue.call(t,t.getOrGenerateContainerId(),!1,!0);t.initialSetPromise=i;var r=function(){return t.initialSetPromise=void 0};return i.then(r,r),i}return n}))},t}return r(t,e),t.prototype.key=function(){return"gnar_containerId"},t.prototype.valueLabel=function(){return"ContainerId"},t.prototype.getOrGenerateContainerId=function(){return this.generatedContainerId||(this.generatedContainerId=s.alphanumeric(this.containerIdLength)),this.generatedContainerId},t}(m);t.ContainerIdManager=g;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.key=function(){return"ga_clientId"},t.prototype.valueLabel=function(){return"GAClientId"},t.prototype.setId=function(t){e.prototype.setValue.call(this,t,!1,!0)},t}(m);t.GAClientIdManager=b;var v=function(){function e(e){this.name=e}return e.prototype.safeSetValue=function(e,t){var n=this;return this.ensureAvailable(e).then((function(){return n.setValue(e,t)}))},e.prototype.safeGetValue=function(e){var t=this;return this.ensureAvailable(e).then((function(){return t.getValue(e)})).then((function(e){return""===e?void 0:e}))},e}();t.BaseStorage=v;var _=function(e){function t(t,n){var i=e.call(this,"chromeCookie")||this;if(i._url=t,i._domain=n,!u.test(n))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."');return i}return r(t,e),t.prototype._hasRuntimeError=function(){return window.chrome&&window.chrome.runtime&&window.chrome.runtime.lastError},t.prototype.ensureAvailable=function(){var e=this;return f(2,1e3,(function(){return new Promise((function(t,n){var i=s.alphanumeric(10);try{window.chrome.cookies.set({name:i,value:i,url:e._url,domain:e._domain,expirationDate:l()/1e3},(function(r){var o=e._hasRuntimeError();!r&&o&&n("chrome.cookie.set failed with an error: "+o.message),r&&r.value===i?t():n(new Error("ChromeCookieStorage is unavailable.\n              Availability test failed.\n              Tried to set "+i+", the result is "+(r?r.value:r)+"."))}))}catch(e){n(e)}}))}))},t.prototype.getValue=function(e){var t=this;return new Promise((function(n,i){try{window.chrome.cookies.get({url:t._url,name:e},(function(e){var r=t._hasRuntimeError();!e&&r&&i("chrome.cookie.get failed with an error: "+r.message),n(e?e.value:void 0)}))}catch(e){i(e)}}))},t.prototype.setValue=function(e,t){var n=this;return new Promise((function(i,r){try{window.chrome.cookies.set({name:e,value:t,url:n._url,domain:n._domain,expirationDate:c()/1e3},(function(o){var s=n._hasRuntimeError();!o&&s&&r("chrome.cookie.set failed with an error: "+s.message),o&&o.value===t||r(new Error("setValue for "+e+" failed.\n            Tried to set "+t+", the result is "+(o?o.value:o)+".")),i()}))}catch(e){r(e)}}))},t}(v);t.ChromeCookieStorage=_;var y=function(e){function t(t,n){var i=e.call(this,"webExtensionsCookie")||this;if(i._url=t,i._domain=n,!u.test(n))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."');return i}return r(t,e),t.prototype.ensureAvailable=function(){var e=this;return f(2,1e3,(function(){return new Promise((function(t,n){var i=s.alphanumeric(10);window.browser.cookies.set({name:i,value:i,url:e._url,domain:e._domain,expirationDate:l()/1e3}).then((function(){window.browser.cookies.get({url:e._url,name:i}).then((function(e){e&&e.value===i?t():n(new Error("WebExtensionsCookieStorage is unavailable.\n              Availability test failed.\n              Tried to set "+i+", the result is "+(e?e.value:e)+"."))})).catch((function(e){n("browser.cookies.get failed with an error: "+e.message)}))})).catch((function(e){n("browser.cookies.set failed with an error: "+e.message)}))}))}))},t.prototype.getValue=function(e){var t=this;return new Promise((function(n,i){window.browser.cookies.get({url:t._url,name:e}).then((function(e){n(e?e.value:void 0)})).catch((function(e){i("browser.cookies.get failed with an error: "+e.message)}))}))},t.prototype.setValue=function(e,t){var n=this;return new Promise((function(i,r){window.browser.cookies.set({name:e,value:t,url:n._url,domain:n._domain,expirationDate:c()/1e3}).then((function(e){e&&e.value===t||r(new Error("setValue failed.\n          Tried to set "+t+", the result is "+(e?e.value:e)+".")),i()})).catch((function(e){r("browser.cookies.set failed with an error: "+e.message)}))}))},t}(v);t.WebExtensionsCookieStorage=y;var w=function(e){function t(t,n){var i=e.call(this,"readonlyWebExtensionsCookie")||this;if(i._url=t,i._domain=n,!u.test(n))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."');return i}return r(t,e),t.prototype.ensureAvailable=function(){return Promise.resolve()},t.prototype.getValue=function(e){var t=this;return new Promise((function(n,i){window.browser.cookies.get({url:t._url,name:e}).then((function(e){n(e?e.value:void 0)})).catch((function(e){i("browser.cookies.get failed with an error: "+e.message)}))}))},t.prototype.setValue=function(){return Promise.reject("can not set value for the readonly storage")},t}(v);t.ReadonlyWebExtensionsCookieStorage=w;var E=function(e){function t(){return e.call(this,"localStorage")||this}return r(t,e),t.prototype.ensureAvailable=function(e){var t=e+"_test",n=s.alphanumeric(10);return new Promise((function(e,i){localStorage.setItem(t,n),localStorage.getItem(t)!==n?i(new Error("LocalStorage is unavailable.\n          Availability test failed.\n          Tried to set "+n+",\n          the result is "+localStorage.getItem(t)+".")):e(),localStorage.removeItem(t)}))},t.prototype.getValue=function(e){var t=localStorage.getItem(e);return new Promise((function(e,n){return e(null===t?void 0:t)}))},t.prototype.setValue=function(e,t){return new Promise((function(n,i){localStorage.setItem(e,t),n()}))},t}(v);t.LocalStorage=E;var x=function(e){function t(t){var n=e.call(this,"cookie")||this;if(n._domain=t,!u.test(t))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."');return n}return r(t,e),t.prototype._getCookieOptions=function(){return{path:"/",domain:this._domain,expires:new Date(c())}},t.prototype.ensureAvailable=function(){var e=s.alphanumeric(10);return new Promise((function(t,n){o.default(e,e),o.default(e)!==e?n(new Error("CookieStorage is unavailable.\n          Availability test failed.\n          Tried to set "+e+", the result is "+o.default(e)+".")):t(),o.default(e,null)}))},t.prototype.getValue=function(e){return new Promise((function(t,n){return t(o.default(e))}))},t.prototype.setValue=function(e,t){var n=this;return new Promise((function(i,r){o.default(e,t,n._getCookieOptions()),i()}))},t}(v);t.CookieStorage=x;var O=function(e){function t(t,n){var i=e.call(this,"backend")||this;return i._fetch=t,i._url=n,i._baseUrl=n+"/cookies",i}return r(t,e),t.prototype.ensureAvailable=function(e){var t=this,n=e+"_test",i=s.alphanumeric(10),r=(l()-Date.now())/1e3,o=this._baseUrl+"?name="+n,a=o+"&value="+i+"&maxAge="+r;return this._doSend(a,"post").then((function(e){if(!e.ok)throw new Error("BackendStorage is unavailable.\n          Availability test failed.\n          Tried to set "+i+". Request failed.\n        ")})).then((function(){return t._doSend(o,"get").then((function(e){if(e.ok)return e.json().then((function(e){if(e.value!==i)throw new Error("BackendStorage is unavailable.\n                Availability test failed.\n                Tried to get "+n+" from server.\n                Got "+e.value+" instead of "+i+".")}));throw new Error("BackendStorage is unavailable.\n            Availability test failed.\n            Tried to get "+n+" from server. Request failed.")}))}))},t.prototype._doSend=function(e,t){return this._fetch(e,{credentials:"include",method:t})},t.prototype.getValue=function(e){var t=this._baseUrl+"?name="+e;return this._doSend(t,"get").then((function(e){return e.json()})).then((function(e){return e.value}))},t.prototype.setValue=function(e,t){var n=(c()-Date.now())/1e3,i=this._baseUrl+"?name="+e+"&value="+t+"&maxAge="+n;return this._doSend(i,"post").then((function(){}))},t}(v);t.BackendStorage=O;var S=function(e){function t(t){void 0===t&&(t=void 0);var n=e.call(this,"memory")||this;return n._value=t,n}return r(t,e),t.prototype.ensureAvailable=function(){return Promise.resolve()},t.prototype.getValue=function(e){return Promise.resolve(this._value)},t.prototype.setValue=function(e,t){return this._value=t,Promise.resolve()},t}(v);t.MemoryStorage=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e,t,n,i,r,o;e=window,t=document,n="script",i="ga",e.GoogleAnalyticsObject=i,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=(new Date).getTime(),r=t.createElement(n),o=t.getElementsByTagName(n)[0],r.async=1,r.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(r,o)},r=function(){function e(e,t,n){void 0===n&&(n=!0);var r=this;this._isReady=!1,this._gaQueue=[],n&&i(),this._clientId=t.getValue().then((function(n){return n?(ga("create",e,"auto",{clientId:n}),n):(ga("create",e,"auto"),new Promise((function(e,n){return ga((function(i){if(i){var r=i.get("clientId");t.setId(r),e(r)}else n(new Error("No default google analytics tracker found after analytics.js was ready"))}))})))})),this._clientId.then((function(e){for(;r._gaQueue.length>0;)ga.apply(null,r._gaQueue.shift());r._isReady=!0}))}return e.prototype.setUserId=function(e){/^-/.test(e)||this.ga("set","userId",e)},e.prototype.ga=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._isReady?ga.apply(null,arguments):this._gaQueue.push(arguments)},e.prototype.sendPageview=function(e){void 0===e&&(e=document.location.pathname);var t=document.location.href;o(t,"utm_medium",["navigation","store","internal","email","content","social","referralProgram"])&&(t=s(t,"utm_")),this.ga("set","location",t),this.ga("send","pageview",e)},e.prototype.getClientId=function(){return this._clientId},e}();function o(e,t,n){var i="("+n.map((function(e){return"("+e+")"})).join("|")+")";return new RegExp("^[^?#]*(\\?|(\\?[^#]*?&))"+t+"="+i+"(([&#].*)|$)").test(e)}function s(e,t){var n=new RegExp("^([^?#]*(\\?|(\\?[^#]*?&)))("+t+"[^?&#=]*=[^&#]*)(.*)$").exec(e);return n?s(n[1]+n[5],t):e}t.GoogleAnalyticsClient=r,t.hasParams=o,t.removeParams=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(12);!function(e){class t{constructor(e,t,n,i=r.a.create(`universal.cs.integration.field.${t}`)){this._integrationName=t,this._textField=n,this._log=i,this._disposed=!1,this._log.trace(`creating '${this._integrationName}'`);try{this.integration=e(),this._log.trace(`'${this._integrationName}' init ok!`,this._textField)}catch(e){throw this._log.error(`'${this._integrationName}' init FAIL`,e),e}}update(e){if(this._log.trace(`${this._integrationName} updating state`,{element:this._textField,state:e}),this._disposed)this._log.warn(`Trying to update already unloaded ${this._integrationName} integration`,this._textField);else try{this.integration.update(e)}catch(e){throw this._log.error(`${this._integrationName} update failed`,e),e}}dispose(){if(this._log.trace(`${this._integrationName} disposing`,this._textField),this._disposed)this._log.warn(`Trying to dispose already disposed ${this._integrationName} integration`,this._textField);else{this._disposed=!0;try{this.integration.dispose()}catch(e){throw this._log.error(`${this._integrationName} dispose failed`,e),e}}}}e.decorate=function(e,n,i){return new t(e,n,i)}}(i||(i={}))},function(e,t,n){var i=n(523),r=n(477),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&r(s,n)&&(void 0!==n||t in e)||i(e,t,n)}},function(e,t,n){var i=n(524);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var i=n(329),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,n){var i=n(432),r=n(356);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(159))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var i=n(606),r=n(607),o=n(480),s=n(532),a=n(530),c=n(610),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&r(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&c(e),p=n||u||d||h,f=p?i(e.length,String):[],m=f.length;for(var g in e)!t&&!l.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},function(e,t,n){(function(e){var i=n(270),r=n(609),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?i.Buffer:void 0,c=(a?a.isBuffer:void 0)||r;e.exports=c}).call(this,n(481)(e))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var i=n(536),r=n(537),o=n(487),s=n(534),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:s;e.exports=a},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t,n){var i=n(533)(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){var i=n(536),r=n(480);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={selectWrap:"_1D3G2"}},function(e,t,n){e.exports={footer:"_2r-kR"}},function(e,t,n){e.exports={popupContainer:"_2wveU"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(185);!function(e){e.createEditorTextMap=e=>new r.a(e,void 0,void 0,(e,t)=>t.isEditable)}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,r=n(185);!function(e){e.ignoredClasses=["ace-line-pocket-zws","ace-line-pocket","gallery-image-annotations-container","gallery-extraneous-space"];const t=new Set(["BUTTON"]);e.createTextMap=n=>r.a.create(n,{andRejectByClass:e.ignoredClasses,andRejectByTagName:t})}(i||(i={}))},,,,,,function(e,t,n){"use strict";n(516);var i=n(17),r=n(60);function o(){const e={};function t(e){const t={target:document.activeElement,_inherits_from_prototype:!0,defaultPrevented:!1,preventDefault:()=>{}};for(const n in e)t[n]=e[n];return t}function n(t,n){const i=e[t];i&&i.forEach(e=>{e(n)})}document.addEventListener("document-paste-activeElement-gr",e=>{n("paste",t({clipboardData:{getData:()=>e.detail||"",items:["text/plain"]}}))}),document.addEventListener("document-mousedown-mouseup-activeElement-gr",()=>{n("mousedown",t({type:"mousedown"})),n("mouseup",t({type:"mouseup"}))}),document.addEventListener("document-backspace-activeElement-gr",()=>{n("keydown",t({keyCode:8,which:8,charCode:0,type:"keydown"}))});const i=document.addEventListener.bind(document);document.addEventListener=(t,n,r)=>{const o=e[t]||[];o.push(n),e[t]=o,i(t,n,r)}}function s(){function e(e,t={}){const n=document.createEvent("CustomEvent");n.initCustomEvent(e+"-gr",!0,!0,t),document.dispatchEvent(n)}let t=0,n=0;function i(e){const i=e.target,r=e.relatedTarget||e.explicitOriginalTarget||document.elementFromPoint(t,n);r&&i&&function(e){return function(e,t,n=10){if(e){for(;e&&e!==document.body&&!t(e)&&n>0;)e=e.parentElement,n--;return e&&t(e)}}(e,e=>e.classList&&(e.classList.contains("inline-edit-fields")||e.classList.contains("editable-field")))}(i)&&function(e){return"function"==typeof e.matches&&e.matches("grammarly-card, grammarly-card *,.gr-top-zero, .gr-top-zero *,[class*=-gButtonPopup], [class*=-gButtonPopup] *,[class*=-onboardingDialog], [class*=-onboardingDialog] *")}(r)&&(e.stopImmediatePropagation(),function(e,t){const n=t&&t.getAttribute("data-action");"editor"!==n&&"login"!==n&&e.focus()}(i,r))}document.addEventListener("blur",i,!0),document.addEventListener("DOMContentLoaded",()=>{"jira"===document.body.id&&document.body.getAttribute("data-version")||document.querySelector("input[type=hidden][title=JiraVersion]")?(e("jira-inline-support",{activated:!0}),document.addEventListener("mousemove",e=>{t=e.clientX,n=e.clientY},!0)):(e("jira-inline-support",{activated:!1}),document.removeEventListener("blur",i,!0))})}function a(){let e=0,t=0;document.addEventListener("blur",(function(n){const i=n.target,r=n.relatedTarget||n.explicitOriginalTarget||document.elementFromPoint(e,t);r&&i&&function(e){return function(e,t,n=10){if(e){for(;e&&e!==document.body&&!t(e)&&n>0;)e=e.parentElement,n--;return e&&t(e)}}(e,e=>e.classList&&e.classList.contains("editor-element"))}(i)&&function(e){return"function"==typeof e.matches&&e.matches("grammarly-card, grammarly-card *, .gr-top-zero, .gr-top-zero *")}(r)&&(n.stopImmediatePropagation(),function(e,t){const n=t&&t.getAttribute("data-action");"editor"!==n&&"login"!==n&&e.focus()}(i,r))}),!0),document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("mousemove",n=>{e=n.clientX,t=n.clientY},!0)})}var c=n(121);class l{onLoadEnd(e,t){this._loadTime=Date.now()-e,this._loadError=t}onInitStart(){this._initStart=Date.now()}onInitEnd(e){Object(c.a)().performance.csInitialized(this._loadTime,void 0!==this._initStart?Date.now()-this._initStart:void 0,this._loadError||e)}}l.instance=new l,n(180);var u=n(496),d=n(80),h=n(310),p=n(214),f=n(9),m=n(120);function g(e){return e.getRangeAt(0).getBoundingClientRect()}class b{constructor(e,t,n){this._doc=e,this._selectHandler=t,this._deselectHandler=n,this._select=!1,this.release=()=>Object(m.b)(this._doc,"click",this.check),this.check=({detail:e})=>{if(2!==e)return void(this._select&&(this._deselectHandler(),this._select=!1));this._select=!0;const t=this._doc.getSelection();if(!function(e,t){const n=e.anchorNode;if(!n)return!1;const i=p.g.map(e=>Array.isArray(e)?`[${e[0]}="${e[1]}"]`:`[${e}]`).join(","),r=t.activeElement,o=e.toString().trim(),s="TEXTAREA"!==n.tagName&&"INPUT"!==n.tagName,a=!r||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName,c=!Object(f.j)(n),l=!Object(f.g)(n,i)&&!Object(f.k)(n,i),u=!Object(f.g)(n,"[contenteditable=true],[contenteditable=plaintext-only]")&&!Object(f.o)(n);return!!(o&&s&&a&&c&&l&&u)}(t,this._doc))return;const n=t.anchorNode.textContent,i=t.toString();if(i.match(/[0-9_±!@#$%^&*:"|<>?~().,:}{’=']/))return;let r={v:i,s:0,e:i.length};const o=t.getRangeAt(0);if(o.ownerDocument=this._doc,t.anchorNode===t.focusNode){const e=t.anchorOffset;r=function(e,t,n){if(!e)return null;const i=e.split(/[.;!?]/g);let r=0,o=0;for(let e=0;e<i.length;e++){if(o=r+i[e].length,t>=r&&n<=o)return{v:i[e],s:t-r,e:n-r};r=o+1}return null}(n,e,e+i.length)}null!==r&&this._selectHandler({data:{v:r.v,s:r.s,e:r.e,w:i},pos:g(t),el:o})},Object(m.a)(e,"click",this.check)}}var v=n(10),_=n(178),y=n(444),w=n(0),E=n(73),x=n(45),O=n(442),S=n(154),C=n(15),j=n(248),k=n(16),T=n(367);class N extends w.Component{render(){const e={},t=this.props.pos;e.top=t.rect.top,e.left=t.rect.left,e.visibility=this.props.visible?"":"hidden";const n=this.props.data;return w.createElement("div",{className:C.container,style:e},w.createElement("div",{tabIndex:-1,className:f.d(C.card,C.dict,t.rect.flip&&C.flip)},w.createElement("div",{className:C.dictContent},n.defs.map((e,t)=>{let i=e.replace(/^([:,]\s)/,"");return i=i[0].toUpperCase()+i.substring(1,i.length),w.createElement("div",{key:t,className:f.d(1===n.defs.length?C.dictSingle:C.dictItem)},n.defs.length>1&&w.createElement("span",{className:C.dictItemCounter},t+1,". "),w.createElement("span",{dangerouslySetInnerHTML:{__html:_.sanitize(i)}}))})),w.createElement("div",{className:C.footer},n.url&&"wiki"===n.origin&&w.createElement("div",{className:f.d(C.item,C.wiki)},w.createElement("a",{href:encodeURI(n.url),rel:"noopener noreferrer",target:"_blank",className:C.wikiLink},w.createElement(S.h,{className:f.d(C.icon,C.wikiIcon)})," More on Wikipedia")),w.createElement("div",{className:f.d(C.item,C.dictFooterItem)},w.createElement(S.f,{className:f.d(C.icon,C.logoIcon)})," Definitions by Grammarly"))))}}N.defaultProps={pos:{rect:{top:0,left:0,width:0},sourceRect:{width:0},delta:{right:0},className:"",visible:!1},data:void 0,visible:!1};const P=Object.assign((e=document)=>{const t=e.createElement("div"),n=Symbol("DictionaryCard"),i=Object(O.a)({cls:f.d("gr-notfound-tooltip",y.b),enabled:!1,doc:e});let r,o,s,a;const l={click:function(e){"dictionary-card"!==document.body.className&&(f.i(e.target,o)||g())},keydown:function(e){27===Object(k.t)(e)&&g()},scroll:g,resize:g},u=Object(d.emitter)({show:function(t,n){const u={ownerDocument:e,getBoundingClientRect:()=>n.pos,getClientRects:()=>[n.pos]};if(s=t,s.defs&&s.defs.length){const e=j.a(u);s.title=n.el.toString(),s.defs=s.defs.splice(0,3).map(h).map(p),r=m(!1),o=Object(E.findDOMNode)(r.component),a=j.c(o,e),m()}else i.enable(),i.show({posEl:n.el,text:"No definition found"});T.b(l,null,!0),x.a.definitionPopupShow(),Object(c.a)().dictCardShowAction()},hide:g,unescapeSuperscript:p});return u;function h(e){t.innerHTML=_.sanitize(e);const n=t.querySelector("span.qualifier");return n?(n.innerHTML=n.innerHTML.replace("(","").replace(")",""),n.className=C.qualifier,t.innerHTML):e}function p(e){return e.replace(/&lt;(sup|sub)&gt;(.*?)&lt;(\/sup|\/sub)&gt;/,"<$1>$2<$3>").replace(/&amp;(?=\w{1,8};)/,"&")}function m(t=!0){return f.q(w.createElement(N,{pos:a,data:s,visible:t}),e.documentElement,n,"grammarly-card")}function g(){r&&r.remove(),T.a(l,null,!0),u.emit("hide"),i.disable(),i.hide(),r=null,Object(c.a)().dictCardHideAction()}},{component:N}),A=(n(518),({style:e,className:t})=>w.createElement("div",{style:e,className:"g-selection-anim "+t}));class I{constructor(e=document){this._doc=e,this._id=Symbol("SelectionAnimator"),this._cls="",this._width80=0,this._width20=0,this._component=null,this.render=()=>{this._component=Object(f.q)(w.createElement(A,{style:Object.assign({},this._style),className:this._cls}),this._doc.documentElement,this._id)},this.remove=()=>{this._component&&(this._component.remove(),this._component=null)},this.complete=()=>{this._style.WebkitTransitionDuration="0.2s",this._style.MozTransitionDuration="0.2s",this._style.transitionDuration="0.2s",this._style.width=this._width80+this._width20,this._component&&this.render()}}animate(e,t=""){this._cls=t;const n=Object(j.a)(e);this._style={top:n.top+n.height+1,left:n.left,width:0,height:2},this._width20=Math.ceil(n.width/8),this._width80=n.width-this._width20,setTimeout(()=>{this._style.width=this._width80,this.render()},10),setTimeout(()=>{this.complete()},500),this.render()}}var F=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};n(587),n(588);var M=n(366),R=n(445),D=n(22),L=n(12);const B=L.a.create("lib.external");function U(e){const t=document.createElement("script");t.innerHTML=e,document.head.appendChild(t),t.parentNode&&t.parentNode.removeChild(t)}var z=n(149),H=n(4);const V="life_without_bg_connection";class G{constructor(e=!0){this._bgConnected=e}trackBgConnectionError(e){const t=Object(c.a)();if(e&&this._bgConnected)z.a.start(V),t.lostBgPageConnection();else if(!e&&!this._bgConnected){const e=z.a.stop(V);t.restoreBgPageConnection(e)}this._bgConnected=!e}}const W=(e,t)=>{const n=function(e,t){return t.find(t=>t.canExecute(e))}(e,t);if(void 0!==n)return n;throw new Error(`Integration rule for ${e.url} was not found`)};class ${constructor(e,t,n=L.a.create("cs.integration.PIC")){this._ctx=e,this._rules=t,this._log=n,this._pageIntegration=null;try{this._log.debug("selecting integration rule");const e=W(this._ctx,this._rules);this._log.debug("executing rule"),this._pageIntegration=e.execute(this._ctx)}catch(e){throw this._log.error("Cannot load page integration",e,{tabUrl:this._ctx.url}),e}}update(e){null!=this._pageIntegration?this._pageIntegration.update(e):this._log.warn("There is no integration for state update")}dispose(){null!=this._pageIntegration?(this._pageIntegration.dispose(),this._pageIntegration=null):this._log.warn("no active integration")}}var q;!function(e){e.create=function(e,t){return{url:e.location.href,domain:e.location.hostname.replace(/^(www\.)/,""),doc:e.document,config:t}}}(q||(q={}));var Y=n(575),K=n(374);class Q{constructor(e,t,n,o=D){this._bgRpc=e,this._reduxStore=t,this._getPageIntegrationRules=n,this._message=o,this._log=L.a.create("lib.app"),this._disableReminderNotificationTimeout=H.e.week,this._stateGetTimeout=H.e.seconds(30),this._initWithoutBgConnId="init_without_bg_connection",this._domain=Object(r.b)(),this._config=i.a(),this._csTracking=new G,this._inited=!1,this._storeSub=null,this._bgLiveTimeout=setTimeout(()=>this._initWithDefaultState(),this._stateGetTimeout),this._appElements=M.a.empty(),this._onUpdate=e=>{if(e.page.domain!==this._domain)return void this._log.warn(`got state for a different domain (${e.page.domain}), ignoring`);const t=!1===navigator.cookieEnabled;e.connection.cookiesDisabled!==t&&this.actions.updateConnection({cookiesDisabled:t});const n=z.a.stop(this._initWithoutBgConnId);n&&!e.connection.bgNotConnected&&!1===Object(v.m)()&&Object(c.a)().restoredBgConnection(n),this._bgLiveTimeout&&(clearTimeout(this._bgLiveTimeout),this._bgLiveTimeout=null),this._inited||this._init(e),e.page.enabled||Object(v.j)()&&"docs.google.com"===e.page.domain&&e.page.gdocsWasInitiallyDisabled?(!1===Object(v.m)()&&this._csTracking.trackBgConnectionError(e.connection.bgNotConnected),this._render(e)):this.stop(),this._inited||!1!==e.page.enabled||this._checkForRemindNotification(e),this._inited||l.instance.onInitEnd(),this._inited=!0,this._log.trace(`App state was updated on ${this._domain}`)}}_initWithDefaultState(){const e={enabled:!0,enabledDefs:!1,domain:this._domain},t={dynamicConfig:K.a.empty,connection:{networkOffline:!window.navigator.onLine,online:!1,bgNotConnected:!0,cookiesDisabled:!1===navigator.cookieEnabled,dataControl:Y.a.inactive},user:{anonymous:!0,premium:!1,settings:{}},page:e};this._onUpdate(t)}run(){this.actions=this._reduxStore.actions,this._storeSub=this._reduxStore.subscribe(this._onUpdate),"prod"===this._config.bundleInfo.env&&Object(u.disableConsoleLog)(),this._initOnGrammarly(),(Object(v.k)()||Object(v.m)())&&this._message.emitBackground("content-script-inited",{})}_render(e){const{user:t,page:n}=e;this._toggleDefs(n.enabledDefs,t),this._controller?(this._controller.update(e),this._appElements.initialized&&this._appElements.updateState(e)):this._controller=new $(q.create(window,this._config),this._getPageIntegrationRules(e,this.actions,this._appElements,this._config))}_init(e){const{page:t,connection:n}=e;this._message.one("disable-on-tab",()=>{this.stop(),this._defs&&this._defs.clear(),this._defs=null}),this._message.one("reload-tab",()=>{setTimeout(()=>window.location.reload(!0),200)}),n.bgNotConnected&&(z.a.start(this._initWithoutBgConnId),!1===Object(v.m)()&&Object(c.a)().initWithoutBgConnection()),this._log.trace(`App initialized on ${t.domain}`)}_initOnGrammarly(){const e=`^([a-z\\-0-9]+\\.)*${this._config.appConfig.url.grammarlyDomain}$`;window.location.protocol===this._config.appConfig.url.grammarlyProtocol&&this._domain.match(e)&&(U(`window.GR_EXTENSION_ID='${Object(v.g)()}'`),U("\n    window.GR_EXTENSION_SEND = function(key, data) {\n      if (!key) throw new TypeError('cant be called without message')\n      var e = document.createEvent('CustomEvent')\n      e.initCustomEvent('external:' + key, true, true, data)\n      document.dispatchEvent(e)\n    }\n  "),p.c.map(e=>`external:${e}`).forEach(e=>f.l.call(document,e,({detail:t})=>{B.trace("external event",{event:e,detail:t}),D.emitBackground(e,t)})))}_checkForRemindNotification(e){!0!==e.page.disableReminderNotification&&null!=e.page.disabledDate&&Date.now()-e.page.disabledDate>this._disableReminderNotificationTimeout&&(this._notifications=new R.a({actions:this.actions,doc:document}),this._notifications.showReminder(),this.actions.showDisableReminder(this._domain))}_toggleDefs(e,t={}){e&&!this._defs?this._defs=function(e,t){const n=new I(t),i=P(t);let r,o,s=new b(t,(function(t){return F(this,void 0,void 0,(function*(){const s=!!t.el.startContainer&&Object(f.k)(t.el.startContainer.parentNode,".gr-grammar-card, .gr-grammar-card *, .gr-dictionary-card, .gr-dictionary-card *");if(s)return;o=`gr-selection-anim-dict ${p.f}`,n.animate(t.el,o),r=t;let a={};try{if(a=yield e.api.fetch({url:Object(v.f)().dictionary,method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(h.d)(t.data)}),r!==t)return}catch(e){Object(c.a)().fetchDefinitionsFail()}n.complete(),i.show(a,t),s&&n.remove()}))}),n.remove);return i.on("hide",n.remove),Object(d.emitter)({clear:function(){s&&s.release(),s=null,r=null}})}(this._bgRpc,document):(this._defs&&this._defs.clear(),this._defs=null)}stop(){this._controller&&(this._appElements.initialized&&this._appElements.clear(),this._appElements=M.a.empty(),this._controller.dispose(),this._controller=null,this._log.trace(`App stopped on ${this._domain}`))}dispose(){this.stop(),this._storeSub&&(this._storeSub(),this._storeSub=null)}}var X=n(461);const J="connection/UPDATE_CONNECTION";function Z(e){return{type:J,data:{bgNotConnected:!0,online:!1},reason:e,sync:!1}}function ee(e={},{type:t,data:n}){switch(t){case J:return Object.assign({},e,{connection:Object.assign({},e.connection,n)});default:return e}}const te=Date.now();class ne{constructor(e,t,n=i.a()){this._bgRpc=e,this._getPageIntegrationRules=t,this._config=n,this._app=null}load(){let e;(function(){const e=Object(r.h)()?o:Object(r.j)()?s:Object(r.g)()?a:null;e&&function(e,t,n,i=!1){const r=e.createElement("script");n=n||[],i&&(r.dataset.ckeTemp="1");const o=t.toString(),s=n.join(",");r.innerHTML=`(function(){(${o})(${s}) })()`,e.documentElement.appendChild(r)}(document,e,[])})(),"firefox"===this._config.bundleInfo.browser&&Object(r.h)()&&(e=Object.assign({},window));const t=()=>{l.instance.onInitStart();try{if(void 0!==e&&(window.extensionContentScriptApi=e.extensionContentScriptApi),document.location&&"about:"===document.location.protocol)return;document.body.dataset.grCSLoaded=!0,this._app=new Q(this._bgRpc,function(){const e=Object(X.a)({bgPageDown:Z},ee);return D.on("__bgerror",e.actions.bgPageDown),e}(),this._getPageIntegrationRules),this._app.run()}catch(e){throw l.instance.onInitEnd(e),e}};l.instance.onLoadEnd(te),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t,!1):t()}unload(){this._app&&(this._app.stop(),this._app=null)}}var ie=n(307);function re(e,t){!function(e,t){if("qa"===i.a().bundleInfo.env){const{setSeleniumCompatibility:e}=n(496);e()}try{new ne(e,t).load()}catch(e){throw l.instance.onLoadEnd(e,te),e}}(ie.a.init(e).bgRpc,t)}n.d(t,"a",(function(){return re}))},,,,,,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.inactive="inactive",e.active="active",e.accepted="accepted"}(i||(i={}))},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){!function(){function t(e,t){if(e===t)return{};var n=e.length,i=t.length;if(i>n){if(t.substr(0,n)===e)return{from:n,to:n,oldFragment:"",newFragment:t.substr(n)};if(t.substr(i-n)===e)return{from:0,to:0,oldFragment:"",newFragment:t.substr(0,i-n)}}if(i<n){if(e.substr(n-i)===t)return{from:0,to:n-i,oldFragment:e.substr(0,n-i),newFragment:""};if(e.substr(0,i)===t)return{from:i,to:n,oldFragment:e.substr(i),newFragment:""}}var r=i<n?i:n,o=function(e,t,n){for(var i=0;e[i]===t[i]&&i<n;)i+=1;return i}(e,t,r),s=function(e,t,n,i,r){for(var o=0;e[n-o-1]===t[i-o-1]&&r-o>=0;)o+=1;return o}(e,t,n,i,r);return o+s>n&&(s-=o+s-n),o+s>i&&(s-=o+s-i),{from:o,to:n-s,oldFragment:e.substr(o,n-s-o),newFragment:t.substr(o,i-s-o)}}try{e.exports={diffPos:function(e,n){var i=t(e,n);return null==i.from?{s:-1,delta:0}:{s:i.from,delta:i.newFragment.length-i.oldFragment.length}},textdiff:t}}catch(e){}}()},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n(590)},function(e,t,n){var i=n(406),r=n(597),o=n(479),s=r((function(e,t){i(t,o(t),e)}));e.exports=s},function(e,t,n){var i=n(525),r=n(594),o=n(356),s=n(527),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?h:a).test(s(e))}},function(e,t,n){var i=n(476),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[a]=n:delete e[a]),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var i,r=n(595),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var i=n(270)["__core-js_shared__"];e.exports=i},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var i=n(598),r=n(605);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,a&&r(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++i<o;){var c=n[i];c&&e(t,c,i,s)}return t}))}},function(e,t,n){var i=n(528),r=n(599),o=n(601);e.exports=function(e,t){return o(r(e,t,i),e+"")}},function(e,t,n){var i=n(600),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=r(o.length-t,0),c=Array(a);++s<a;)c[s]=o[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=o[s];return l[t]=n(c),i(e,this,l)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var i=n(602),r=n(604)(i);e.exports=r},function(e,t,n){var i=n(603),r=n(524),o=n(528),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=s},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,i=0;return function(){var r=n(),o=16-(r-i);if(i=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var i=n(477),r=n(478),o=n(530),s=n(356);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?r(n)&&o(t,n.length):"string"==a&&t in n)&&i(n[t],e)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},function(e,t,n){var i=n(608),r=n(407),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,n){var i=n(432),r=n(407);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(611),r=n(482),o=n(483),s=o&&o.isTypedArray,a=s?r(s):i;e.exports=a},function(e,t,n){var i=n(432),r=n(529),o=n(407),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!s[i(e)]}},function(e,t,n){var i=n(356),r=n(484),o=n(613),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=r(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var i=n(615);e.exports=function(e){return i(e,4)}},function(e,t,n){var i=n(616),r=n(640),o=n(522),s=n(641),a=n(644),c=n(645),l=n(646),u=n(647),d=n(649),h=n(650),p=n(651),f=n(488),m=n(656),g=n(657),b=n(663),v=n(480),_=n(532),y=n(665),w=n(356),E=n(667),x=n(486),O="[object Arguments]",S="[object Function]",C="[object Object]",j={};j[O]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[C]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[S]=j["[object WeakMap]"]=!1,e.exports=function e(t,n,k,T,N,P){var A,I=1&n,F=2&n,M=4&n;if(k&&(A=N?k(t,T,N,P):k(t)),void 0!==A)return A;if(!w(t))return t;var R=v(t);if(R){if(A=m(t),!I)return l(t,A)}else{var D=f(t),L=D==S||"[object GeneratorFunction]"==D;if(_(t))return c(t,I);if(D==C||D==O||L&&!N){if(A=F||L?{}:b(t),!I)return F?d(t,a(A,t)):u(t,s(A,t))}else{if(!j[D])return N?t:{};A=g(t,D,I)}}P||(P=new i);var B=P.get(t);if(B)return B;if(P.set(t,A),E(t))return t.forEach((function(i){A.add(e(i,n,k,i,t,P))})),A;if(y(t))return t.forEach((function(i,r){A.set(r,e(i,n,k,r,t,P))})),A;var U=M?F?p:h:F?keysIn:x,z=R?void 0:U(t);return r(z||t,(function(i,r){z&&(i=t[r=i]),o(A,r,e(i,n,k,r,t,P))})),A}},function(e,t,n){var i=n(433),r=n(622),o=n(623),s=n(624),a=n(625),c=n(626);function l(e){var t=this.__data__=new i(e);this.size=t.size}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(434),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},function(e,t,n){var i=n(434);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var i=n(434);e.exports=function(e){return i(this.__data__,e)>-1}},function(e,t,n){var i=n(434);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var i=n(433);e.exports=function(){this.__data__=new i,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var i=n(433),r=n(485),o=n(627);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var i=n(628),r=n(635),o=n(637),s=n(638),a=n(639);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var i=n(629),r=n(433),o=n(485);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},function(e,t,n){var i=n(630),r=n(631),o=n(632),s=n(633),a=n(634);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var i=n(435);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var i=n(435),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},function(e,t,n){var i=n(435),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var i=n(435);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var i=n(436);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var i=n(436);e.exports=function(e){return i(this,e).get(e)}},function(e,t,n){var i=n(436);e.exports=function(e){return i(this,e).has(e)}},function(e,t,n){var i=n(436);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t,n){var i=n(406),r=n(486);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){var i=n(484),r=n(643),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var i=n(533)(Object.keys,Object);e.exports=i},function(e,t,n){var i=n(406),r=n(479);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){(function(e){var i=n(270),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=a?a(n):new e.constructor(n);return e.copy(i),i}}).call(this,n(481)(e))},function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},function(e,t,n){var i=n(406),r=n(487);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}},function(e,t,n){var i=n(406),r=n(535);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t,n){var i=n(538),r=n(487),o=n(486);e.exports=function(e){return i(e,o,r)}},function(e,t,n){var i=n(538),r=n(535),o=n(479);e.exports=function(e){return i(e,o,r)}},function(e,t,n){var i=n(329)(n(270),"DataView");e.exports=i},function(e,t,n){var i=n(329)(n(270),"Promise");e.exports=i},function(e,t,n){var i=n(329)(n(270),"Set");e.exports=i},function(e,t,n){var i=n(329)(n(270),"WeakMap");e.exports=i},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},function(e,t,n){var i=n(489),r=n(659),o=n(660),s=n(661),a=n(662);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return s(e)}}},function(e,t,n){var i=n(270).Uint8Array;e.exports=i},function(e,t,n){var i=n(489);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var i=n(476),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var i=n(489);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var i=n(664),r=n(537),o=n(484);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(r(e))}},function(e,t,n){var i=n(356),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var i=n(666),r=n(482),o=n(483),s=o&&o.isMap,a=s?r(s):i;e.exports=a},function(e,t,n){var i=n(488),r=n(407);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},function(e,t,n){var i=n(668),r=n(482),o=n(483),s=o&&o.isSet,a=s?r(s):i;e.exports=a},function(e,t,n){var i=n(488),r=n(407);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(280),r=n(279),o=n(196),s=Object(r.a)((function(e,t){Object(i.a)(t,Object(o.a)(t),e)}));t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(33),r=n(184),o=n(179),s=n(37),a=n(172),c=n(244),l=n(12),u=n(83),d=n(185);class h{constructor(e,t,n=h.createContentMutationObservable(e),u=(e=>new d.a(e)),p=l.a.create(h.name)){this._root=e,this._diffText=t,this._contentMutationObservable=n,this._createTextMap=u,this._log=p,this._textMapDirty=!0,this._cachedTextMap=null,this._contentChangeSubject=new i.a,this._sub=this._contentMutationObservable.subscribe(e=>{this._textMapDirty=!0,this._contentChangeSubject.next()}),this._changes=Object(r.a)(()=>(this.getCurrentTextMap(),this._contentChangeSubject)).pipe(Object(s.a)(e=>{if(this._cachedTextMap){const e=this._cachedTextMap,t=this.getCurrentTextMap(),n=e.getPlainText(),i=t.getPlainText();return{changes:this._diffText(n,i),prevText:n,newText:i}}return this._log.warn("no text map cache on text change -- forcing"),{changes:[],prevText:"",newText:this.getCurrentTextMap().getPlainText()}}),Object(a.a)()),this.contentChanges={immediate:this._changes,async:this._changes.pipe(Object(c.b)(o.a))}}static createContentMutationObservable(e){return u.a.createUnsafe(e,{subtree:!0,childList:!0,characterData:!0})}getCurrentTextMap(){return(this._textMapDirty||null===this._cachedTextMap)&&(this._cachedTextMap=this._createTextMap(this._root),this._textMapDirty=!1),this._cachedTextMap}invalidate(){this._textMapDirty=!0,this._contentChangeSubject.next()}dispose(){this._sub.unsubscribe()}}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(33),r=n(312),o=n(4),s=n(12),a=n(6),c=n(79),l=n(61),u=n(269),d=n(318);class h{constructor(e,t,n=new RegExp(`^[,.;:()§&$%!@#?*~+}{\\[\\]|/-<>…\`"'”’‚‛‟„“\\u001c\\u0011${u.d}]*$`),o=null,c=(e=>!1),l=s.a.create(h.name)){this._ordering=t,this._tokenSeparatorStringRe=n,this._addAlertFilter=o,this._canResizeAlert=c,this._log=l,this._alertMap=new Map,this._text="",this._alertChangeSubject=new i.a,this._alertMapAtom=a.Atom.create({}),this._localRevisionLimit=50,this._localRevs=new r.a(this._localRevisionLimit),this._lastLocalRevId=0,this._remoteToLocalRevLimit=10*this._localRevisionLimit,this._remoteToLocalRev=new Map,this.alerts={getAlertById:e=>this._alertMap.get(e)||null,getAll:()=>this._alertMap.values(),state:this._alertMapAtom.view(),changes:this._alertChangeSubject.asObservable()},this._text=e,this._addLocalRevision(e,[],[])}getText(){return this._text}_addLocalRevision(e,t,n){this._lastLocalRevId++,this._localRevs.enqueue({id:this._lastLocalRevId,text:e,changes:t.map((e,t)=>({change:e,stagedText:n[t]}))})}_removeAlert(e){const t=this._alertMap.get(e);return void 0!==t?(this._log.trace(`removing alert #${e}`),this._alertMap.delete(e),t):(this._log.debug(`not removing #${e} -- does not exist`),null)}_localRevsSinceRemoteRev(e){const t=this._remoteToLocalRev.get(e);if(void 0===t)return this._log.warn(`unregistered remote revision ${e}`),[];{const n=this._localRevs.toArray();let i=null;for(let e=n.length-1;e>=0;e--)if(n[e].id===t){i=e;break}return null!==i?n.slice(i):(this._log.warn(`rev ${t} @ ${e} not found in history`),n)}}_rebaseAlert(e,t){let n={startOffset:0,endOffset:0};for(let i=1;i<t.length;i++){const r=t[i-1].text;for(const o of t[i].changes){if(null===n)return null;n=this._reduceAlertTransform(n,e,o.change,o.stagedText,r)}}return null!==n?c.a.transform(e,n,n):null}_addAlert(e){const t=[],n=[],i=[],r=this._localRevsSinceRemoteRev(e.revision),s=this._rebaseAlert(e,r);if(null!==s){const e={start:0,end:this._text.length};if(c.b.contains(e,s.highlightRange)&&c.b.contains(e,s.transformRange))if(c.a.isConsistentWithText(s,this._text))if(!this._addAlertFilter||this._addAlertFilter(s)){const e=this._alertMap.has(s.id),r=o.d.find(this._alertMap,e=>this._ordering.areConflicting(e,s));null===r?(e?(this._log.trace(`updating #${s.id}`),i.push(s)):(this._log.trace(`adding #${s.id}`),t.push(s)),this._alertMap.set(s.id,s)):this._ordering.greaterThan(s,r)?e?(this._log.trace(`replacing #${r.id} with UPDATED #${s.id} (priority)`),n.push(r),i.push(s),this._alertMap.delete(r.id),this._alertMap.set(s.id,s)):(this._log.trace(`replacing #${r.id} with #${s.id} (priority)`),n.push(r),t.push(s),this._alertMap.delete(r.id),this._alertMap.set(s.id,s)):e?(this._log.trace(`deleting #${s.id} -- updated to lower priority`),n.push(s),this._alertMap.delete(s.id)):this._log.trace(`dropping #${s.id} -- lower priority`)}else this._log.trace(`dropping #${s.id} -- filter`);else this._log.warn(`alert #${s.id} inconsistent with document text: alert (${s.transformText}, ${s.highlightText}) vs text (${this._text.slice(s.transformRange.start,s.transformRange.end)}, ${this._text.slice(s.highlightRange.start,s.highlightRange.end)}) -- dropping`);else this._log.warn(`alert #${s.id} is out of bounds: ${c.b.toString(s.highlightRange)}, ${c.b.toString(s.transformRange)} vs ${c.b.toString(e)} -- dropping`)}else this._log.debug(`couldn't rebase #${e.id} accross ${r.length-1} local revisions, dropping`);return{addedAlerts:t,removedAlerts:n.map(e=>({id:e.id,alert:e,reason:{_tag:d.a.alertUpdate}})),updatedAlerts:i,transformedAlerts:[]}}_onAlertsChanged(e){this._alertChangeSubject.next(e),this._alertMapAtom.set(o.f.create(this._alertMap.entries()))}_updateAlerts(e,t){for(const t of e)this._alertMap.delete(t);for(const e of this._alertMap.values()){const n=t.get(e.id);if(void 0!==n&&!c.c.isNoop(n)){const t=c.a.transform(e,n,n);n.startOffset!==n.endOffset||c.a.isConsistentWithText(t,this._text)?this._alertMap.set(e.id,t):(this._log.warn(`alert #${e.id} is inconsistent with text after transform by ${JSON.stringify(n)} -- dropping`),this._alertMap.delete(e.id))}}}_isAlertBrokenByChange(e,t,n,i,r,o){const s=(c.b.intersects(t,n)||c.b.intersects(t,i))&&!o&&!(t.start===i.start&&e._tag===l.a.Type.ins&&this._tokenSeparatorStringRe.test(e.text)),a=t.start===i.end&&!this._tokenSeparatorStringRe.test(r[t.start])&&void 0!==r[t.start];return s||a}_isSeparatorChar(e){return void 0!==e&&this._tokenSeparatorStringRe.test(e)}_isValidAlertTransform(e,t,n,i){const r=this._isSeparatorChar(i[e.start-1]),o=this._isSeparatorChar(i[e.end]),s=this._isSeparatorChar(n[t.start-1]),a=this._isSeparatorChar(n[t.end]),c=this._isSeparatorChar(n[t.start]),l=this._isSeparatorChar(n[t.end-1]);return(r===s||c)&&(o===a||l)}_reduceAlertTransform(e,t,n,i,r){const s=c.b.transform(t.transformRange,e),a=c.b.transform(t.highlightRange,e),u={start:n.pos,end:n._tag===l.a.Type.ins?n.pos:n._tag===l.a.Type.del?n.pos+n.length:Object(o.g)(n)},d=l.a.getTransformOffset(n),h=this._canResizeAlert(t);if(this._isAlertBrokenByChange(n,u,s,a,i,h))return this._log.debug(`can't transform #${t.id}: breaking text change`),null;if(s.start>=u.start||a.start>=u.start||h&&(c.b.intersects(s,u)||c.b.intersects(a,u))){const o={start:n.pos<=a.start?Math.max(n.pos,a.start+d):a.start,end:n.pos<a.end?Math.max(n.pos,a.end+d):a.end};return this._isValidAlertTransform(a,o,i,r)?{startOffset:e.startOffset+(o.start-a.start),endOffset:e.endOffset+(o.end-a.end)}:(this._log.debug(`can't transform #${t.id}: invalid transform`),null)}return e}onTextChanged(e){if(0===e.length)return this._log.debug("processed text changes: NO OP"),{removedAlerts:[],transformedAlerts:[]};const t=new Map,n=new Map;let i=this._text;const r=[];for(const o of e){const e=i;i=l.a.applyChanges(i,[o]),r.push(i);for(const r of this._alertMap.values())if(!t.has(r.id)){const s=this._reduceAlertTransform(n.get(r.id)||{startOffset:0,endOffset:0},r,o,i,e);null===s?(t.set(r.id,r),n.delete(r.id)):n.set(r.id,s)}}this._text=i,this._updateAlerts(t.keys(),n),this._log.debug("processed text changes",{changes:e,toRemove:t,toTransform:n,alerts:this._alertMap.values()});const o=Array.from(t.entries(),([t,n])=>({id:t,alert:n,reason:{_tag:d.a.textChange,changes:e}})),s=Array.from(n.entries()).filter(([e,t])=>!c.c.isNoop(t)).map(([e,t])=>({id:e,transform:t}));return(o.length>0||s.length>0)&&this._onAlertsChanged({removedAlerts:o,transformedAlerts:s,addedAlerts:[],updatedAlerts:[]}),this._addLocalRevision(i,e,r),{removedAlerts:o,transformedAlerts:s}}registerRemoteRevision(e){this._remoteToLocalRev.size>this._remoteToLocalRevLimit&&(this._remoteToLocalRev=new Map([...this._remoteToLocalRev.entries()].slice(this._remoteToLocalRev.size/2))),this._remoteToLocalRev.set(e,this._lastLocalRevId),this._log.debug(`registered remote revision ${e} at ${this._lastLocalRevId}`)}addAlert(e){const t=this._addAlert(e);return this._onAlertsChanged(t),t}removeAlert(e){const t=this._removeAlert(e);t&&this._onAlertsChanged({removedAlerts:[{id:e,alert:t,reason:{_tag:d.a.alertUpdate}}],addedAlerts:[],updatedAlerts:[],transformedAlerts:[]})}removeAllAlerts(){for(const e of this.alerts.getAll())this.removeAlert(e.id)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(33),r=n(93),o=n(299),s=n(130),a=n(166),c=n(12),l=n(41),u=n(162);class d{constructor(e,t,n,r=3,a=c.a.create(d.name)){this._legacyCardView=e,this._layout=t,this._editorId=n,this._underlineThicknessOffset=r,this._log=a,this._subs=[],this._cardHoverSubject=new i.a,this._cardHovered=e=>this._cardHoverSubject.next(e),this.cardHovered=this._cardHoverSubject.pipe(Object(o.a)(!1),Object(s.a)())}show(e,t){const n={id:parseInt(e.alert.id,10),editorId:this._editorId,rawMatch:l.a.toRawCapiAlert(e.alert),replace:(t,n)=>{e.onReplace(t),this.hide()},ignore:()=>{e.onIgnore(),this.hide()},addToDict:()=>{}};this._subs=[Object(r.a)(this._legacyCardView,"addtodict").pipe(Object(a.a)(1)).subscribe(t=>{e.onAddToDictionary(),this._cardHovered(!0)}),Object(r.a)(this._legacyCardView,"toeditor").pipe(Object(a.a)(1)).subscribe(t=>{e.onOpenPopupEditor(e.alert.id),this.hide()}),Object(r.a)(this._legacyCardView,"toUnifiedLoginReminder").pipe(Object(a.a)(1)).subscribe(t=>{e.onShowUnifiedLoginReminder(),this.hide()}),Object(r.a)(this._legacyCardView,"upgradeFromLockedPremiumAlert").pipe(Object(a.a)(1)).subscribe(t=>{e.onClickUpgradeFromLockedPremiumAlerts(e.alert.cardLayout.outcome),this.hide()})];const i=this._layout.textField.rect.getApproximate(),o=this._layout.textField.scroll.getApproximate();this._legacyCardView.fluidShow(Object(u.b)(t,i.page,o,this._layout.getTranslationToCards()),this._underlineThicknessOffset,n,this._cardHovered),e.onShown()}hide(){this._log.info("hiding inline card"),this._subs.forEach(e=>e.unsubscribe()),this._subs=[],this._cardHovered(!1),this._legacyCardView.fluidHide()}dispose(){try{this.hide()}catch(e){}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n(236);var i,r=n(314),o=n(569),s=n(118),a=n(185),c=n(207),l=n(440),u=n(512),d=n(22),h=n(511);function p(e,t){return n=>({canExecute(t){const i=void 0===e.someBrowser||e.someBrowser.includes(n.config.bundleInfo.browser),r=void 0===e.someExperiment||!!n.appState.user.experiments&&e.someExperiment.some(e=>n.appState.user.experiments[e]),o=void 0===e.domain||e.domain.test(t.domain),s=void 0===e.url||e.url.test(t.url),a=void 0===e.devOnly||!e.devOnly||!1,c=void 0===e.andCanExecute||e.andCanExecute(t);return i&&r&&o&&s&&a&&c},execute:e=>new l.a(e,n.appState,{actions:n.actions,app:n.appElements,createSocket:new u.a(n.felog,d).createSocket,gnar:n.gnar,felog:n.felog},t,h.a.getFactory(),"fluid")})}!function(e){e.allUsers={someBrowser:["chrome","firefox","safari"]},e.grammarlyTeam=Object.assign(Object.assign({},e.allUsers),{someExperiment:["fluidDogfood"]}),e.dev=Object.assign(Object.assign({},e.grammarlyTeam),{devOnly:!0})}(i||(i={}));var f,m=n(338),g=n(205),b=n(124),v=n(70),_=n(187),y=n(161);!function(e){const t=2;function n(e=0,n=0,i=0,r=41,o={}){return Object.assign(Object.assign({},o),{highlightHeightOffset:t,extendGButtonLayout:t=>Object.assign(Object.assign({},t),{position:t.position.map(t=>Object.assign(Object.assign({},t),{top:t.top+n,left:t.left+e+(t.textFieldHeight-t.effectivePadding.bottom-t.effectivePadding.top>=r?i:0)}),v.a)})})}const r=e=>new b.a(e,n(-5,4)),o=m.a.contentEditable(e=>({extraCondition:e=>!!Object(c.d)(e.field,e=>"message_input"===e.getAttribute("data-qa")||e.classList.contains("p-message_input_field")),validationRules:g.allSizesDefaults,createLayout:r})),l=m.a.contentEditable(e=>({extraCondition:e=>!!Object(c.d)(e.field,e=>e.classList.contains("c-message__editor__input")),validationRules:g.allSizesDefaults,createLayout:e=>new b.a(e,n(-4,4,29))})),u=m.a.contentEditable(e=>({extraCondition:e=>!!Object(c.d)(e.field,e=>e.classList.contains("p-share_dialog_message_input")),validationRules:g.allSizesDefaults,createLayout:e=>new b.a(e,n(-2,4))})),d=m.a.contentEditable(e=>({extraCondition:e=>!!Object(c.d)(e.field,e=>!!e.getAttribute("data-thread-ts")),validationRules:g.allSizesDefaults,createLayout:r,gbuttonMinimizeState:{minimized:Object(s.a)(!0)}})),h=(m.a.contentEditable(e=>({getCustomTarget:e=>{const t=(e,n=100)=>"TS-ROCKET"===e.tagName?e:e.parentElement&&n>0?t(e.parentElement,n-1):null;return t(e)},matchCheckOverride:(e,t)=>t.field.matches("TS-ROCKET *")||"TS-ROCKET"===t.field.tagName,textMap:{createFieldTextMap:e=>new a.a(e,(e,t)=>a.a.defaultFilterNode(e,t)&&"-1"!==e.getAttribute("tabindex"),(e,t)=>a.a.defaultIsBlockNode(e,t)&&"P"!==e.tagName),popupEditorTextMapType:y.a.generic}})),m.a.contentEditable(e=>({validationRules:g.allSizesDefaults,extraCondition:e=>e.field.classList.contains("ql-editor"),createLayout:r}))),f=m.a.textarea(e=>({validate:e=>!!e.field.closest(".ReactModalPortal"),createLayout:e=>new b.a(e,n(void 0,-2,35,void 0,{zIndex:_.a.constant(2e3)}))}));e.page=p(Object.assign({domain:/^\S+\.slack\.com$/},i.allUsers),[d,o,l,u,h,f,m.a.textarea()])}(f||(f={}));var w,E=n(121),x=n(45),O=n(283),S=n(333),C=n(215),j=n(104),k=n(330);(w||(w={})).generic=e=>m.a.contentEditable(t=>{const{overwriteGenericOpts:n={},extraCondition:i=(()=>!0)}=e&&e(t)||{};return Object.assign({extraCondition:e=>e.field.classList.contains("ProseMirror")&&i(e),createContentService:e=>new k.c(t.field)},n)});var T,N=n(112),P=n(562),A=n(83);!function(e){const t=m.a.iframe(e=>({getIsMatching:e=>(e,t,n)=>Object(N.b)(e)&&(Object(c.c)(n)||Object(c.b)(n)),expiration:(e,t)=>{const n=e.parentElement&&e.parentElement.parentElement;return n&&"wysiwyg"===n.id?A.a.observeAttribute(n,"class").pipe(Object(S.a)(e=>!!e&&e.includes("hidden")),Object(C.a)(void 0)):Object(O.b)()},textMap:{createFieldTextMap:P.a.createEditorTextMap,popupEditorTextMapType:y.a.confluenceEditor}})),n=w.generic(e=>({overwriteGenericOpts:{validationRules:N.a.allSizesDefaults,createLayout:()=>new j.a(e.field,{pretendFieldPositioned:!0})}}));e.page=p(Object.assign({domain:/^\S+\.atlassian\.net$/,url:/^https?:\/\/\S+\.atlassian\.net\/wiki\/.*$/},i.allUsers),[n,m.a.contentEditable(),t,m.a.iframe(),m.a.textarea()])}(T||(T={}));var I,F=n(47),M=n(72),R=n(162),D=n(563);!function(e){const t=e=>e.field.classList.contains("selenium-inner-zone-ace-editor"),n=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("ace-editor")&&!t(e),createLayout:t=>new b.a(t,e.field.parentElement&&e.field.parentElement.classList.contains("ace-type-full")?function(e,t=20,n=35){return{extendGButtonLayout:i=>Object.assign(Object.assign({},i),{position:i.position.map(i=>Object.assign(Object.assign(Object.assign({},i),F.a.create({top:e.ownerDocument&&e.ownerDocument.documentElement&&e.ownerDocument.documentElement.clientHeight-t||0,left:i.left+n})),{_tag:R.a.fixed}),v.a)})}}(t):{}),textMap:{createFieldTextMap:D.a.createTextMap,popupEditorTextMapType:y.a.dropboxPaper},createContentService:t=>k.a.createIfSupported(e.pageContext.config.bundleInfo.browser,{target:e.field,afterSetSelection:e=>M.a.create((e,t)=>{setTimeout(e,100)})})})),r=m.a.contentEditable(()=>({extraCondition:e=>!t(e)}));e.page=p(Object.assign({domain:/^paper\.dropbox\.com$/},i.grammarlyTeam),[n,r,m.a.textarea()])}(I||(I={}));var L,B=n(48),U=n(148),z=n(510),H=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class V{constructor(e){this._target=e,this.exportContent=()=>H(this,void 0,void 0,(function*(){return{content:z.a.hasPlaceholder(this._target)?"":this._target.innerHTML,volatile:!1}})),this.importContent=e=>H(this,void 0,void 0,(function*(){this._target.innerHTML=e}))}}!function(e){const t=w.generic(e=>({overwriteGenericOpts:{validationRules:N.a.allSizesDefaults,createLayout:()=>new j.a(e.field.closest(".ak-editor-content-area, .content-area")||e.field),expiration:e=>{const t=e.closest("body > span > div"),n=t?A.a.observeStyle(t).pipe(Object(S.a)(e=>"0"===e.opacity),Object(C.a)(void 0)):Object(B.b)();return Object(U.a)(Object(c.a)(e),n)},textMap:{createFieldTextMap:z.a.createTextMap,popupEditorTextMapType:y.a.jira},createContentService:t=>new V(e.field)}})),n=m.a.textarea(e=>({validate:e=>!!e.field.closest("#description-wiki-edit"),createLayout:()=>new j.a(e.field),createContentService:()=>null}));e.page=p(Object.assign({domain:/^\S+\.atlassian\.net$/},i.allUsers),[t,n,m.a.iframe(e=>({createLayout:()=>new j.a(e.field,{iframe:!0})})),m.a.contentEditable(e=>({createLayout:()=>new j.a(e.field)})),m.a.textarea(e=>({createLayout:()=>new j.a(e.field)}))])}(L||(L={}));var G=n(12),W=n(58),$=n(66),q=n(419),Y=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class K extends k.a{constructor(e,t,n=G.a.create(K.name)){super({target:e,skipClipboardDataCheckForCollapsedSelection:!0}),this._innerSectionDiv=t,this._log=n,this._selectAllText=e=>Y(this,void 0,void 0,(function*(){e.focus(),e.dispatchEvent(new KeyboardEvent("keydown",{metaKey:!0,ctrlKey:!0,keyCode:65}));const t=Object(W.c)(e.ownerDocument&&e.ownerDocument.getSelection(),"selection"),n=t.getRangeAt(0).commonAncestorContainer;return this._innerSectionDiv===n||this._innerSectionDiv.contains(n)||this._log.error("selection consistency check failed",t),t.isCollapsed}))}}var Q;!function(e){const t=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("postArticle-content"),textMap:{createFieldTextMap:e=>new a.a(e,(e,t)=>a.a.defaultFilterNode(e,t)&&!e.classList.contains("defaultValue")),popupEditorTextMapType:y.a.generic},createLayout:()=>{const t=e.field.parentElement;return null!=t&&t.classList.contains("postArticle--full")?new b.a(e.field,function(e){return{createGButtonLayout:t=>{const n=e.querySelector("section > div.section-content > div.section-inner"),i=Object($.a)(t);if(n){const t=i.position.map(t=>((e,t,n)=>{const i=n.getBoundingClientRect(),r=t.ownerDocument.body.offsetWidth-i.right-22;return Object.assign(Object.assign({},e),{left:e.left-r})})(t,e,n),v.a);return Object.assign(Object.assign({},i),{position:t})}return i}}}(e.field)):new j.a(e.field,{createGbuttonShiftBehavior:e=>Object(s.a)({top:-4,left:0})})},createContentService:t=>q.a.isSupported(e.pageContext.config.bundleInfo.browser)?new K(e.field,e.field):null}));e.page=p(Object.assign({url:/^https?:\/\/(medium\.com)\/.*$/},i.allUsers),[t,m.a.contentEditable(),m.a.textarea()])}(Q||(Q={}));var X,J=n(258);!function(e){e.createAnswerEditorTextMap=e=>a.a.create(e,{andIsBlockNode:(e,t)=>"span"!==e.getAttribute("data-kind")&&"content"!==e.className});const t=m.a.contentEditable(t=>({extraCondition:e=>"doc"===e.field.getAttribute("data-kind"),createContentService:e=>k.a.createIfSupported(t.pageContext.config.bundleInfo.browser,{target:t.field,afterSetSelection:e=>M.a.create((t,n)=>{e.dispatchEvent(new Event("mouseup",{target:e})),setTimeout(t,50)})}),textMap:{createFieldTextMap:e.createAnswerEditorTextMap,popupEditorTextMapType:y.a.generic}})),n={match:e=>{if("TEXTAREA"===e.field.tagName){const t=e.field.closest(".modal_overlay");return t?{targetField:e.field,matchExpires:Object(c.e)(e.field),execute:()=>Object(J.b)(e,void 0,new b.a(e.field,{gbuttonMinPadding:J.c,zIndex:Object($.c)(t)}))}:null}return null}};e.page=p(Object.assign({url:/^https?:\/\/(www\.quora\.com)\/.*$/},i.allUsers),[t,n,m.a.contentEditable(()=>({validationRules:g.allSizesDefaults})),m.a.textarea()])}(X||(X={}));var Z,ee=n(166),te=n(421);!function(e){const t=e=>({match:t=>t.field.classList.contains("tinymce")?null:e.match(t)}),n=m.a.iframe(e=>({expiration:(e,t)=>Object(U.a)(Object(c.a)(t),(te.a.createShared(e)||Object(B.b)()).pipe(Object(S.a)(e=>0===e.width||0===e.height),Object(C.a)(void 0))).pipe(Object(ee.a)(1))}));e.createBlockEditorTextMap=e=>a.a.create(e,{andFilterNodeOutput:(e,t)=>t.outputConsidered||"textbox"===e.getAttribute("role")&&"true"!==e.getAttribute("data-is-placeholder-visible")});const r=m.a.textarea(e=>({validate:e=>!!e.field.closest(".editor-post-title__block"),createLayout:()=>new j.a(e.field,{gbuttonMinPadding:J.c})})),o={match:t=>{const n=t.field.closest(".editor-block-list__layout");return n?m.a.contentEditable(t=>({target:n,matchCheckOverride:()=>!0,createLayout:()=>new j.a(n),textMap:{createFieldTextMap:e.createBlockEditorTextMap,popupEditorTextMapType:y.a.generic},createContentService:()=>null})).match(t):null}},s=e=>p(Object.assign({andCanExecute:e},i.allUsers),[r,o,m.a.contentEditable(),n,t(m.a.textarea())]);e.page=s(e=>/^(\S+\.)?wordpress\.com$/.test(e.domain)||/\/wp-admin$|\/wp-admin\//.test(e.url)),e.pageFuzzy=s(e=>!!e.doc.querySelector("noscript.wpcom-site__global-noscript"))}(Z||(Z={}));var ne,ie=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){class t extends k.b{constructor(e){super(e),this.target=e}exportContent(){const e=Object.create(null,{exportContent:{get:()=>super.exportContent}});return ie(this,void 0,void 0,(function*(){return this.target.querySelectorAll("[data-bbfile]").length>0?{errorMessage:"Oops! Grammarly can’t open the pop-up editor because this text contains images, videos, or files. Try removing them first."}:yield e.exportContent.call(this)}))}}const n=e=>p(Object.assign({andCanExecute:e},i.allUsers),[m.a.contentEditable(e=>({createLayout:()=>new j.a(e.field),createContentService:()=>new t(e.field)})),m.a.iframe(),m.a.textarea()]);e.page=n(e=>/\S+\.blackboard\.com$/.test(e.domain)),e.pageFuzzy=n(e=>/(^|\.)blackboard\.\S+\.(com|edu|ac.uk)$/.test(e.domain))}(ne||(ne={}));var re,oe,se=n(151),ae=n(299),ce=n(37),le=n(147),ue=n(130),de=n(69),he=n(375),pe=n(237),fe=n(93),me=n(403),ge=n(401),be=n(64),ve=n(720),_e=n(41),ye=n(61),we=n(704);!function(e){function t(e){const t=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle(e);return!!t&&("auto"===t.overflow||"scroll"===t.overflow||"auto"===t.overflowY||"scroll"===t.overflowY||"auto"===t.overflowX||"scroll"===t.overflowX)}e.getComposeFieldContainer=function(e){const n=e.closest('div[style*="max-height"]'),i=n&&n.querySelector('div > div[style*="display:none"]');return n&&t(n)&&i?n:Object($.e)(e,50).find(e=>t(e))||null},e.hasOverlayAncestor=function(e){const t=e.closest("body > div");if(!t)return!1;const n=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle(t);return!!n&&"absolute"===n.position&&0===parseInt(n.top||"",10)&&0===parseInt(n.left||"",10)},e.getFormattingToolbarContainer=function(e){const t=e.closest("table"),n=t&&t.querySelector('div[aria-label="Formatting options"], div[role="toolbar"]');return n&&n.closest('[style*="visibility"]')},e.getSendButton=function(e){const t=e.closest("table"),n=t&&t.querySelector("table[role=group] [aria-haspopup=true]");return n&&n.parentElement};class n{constructor(){this._suggestionsSelectors=['[role="menu"][aria-label="Misspelling"]','[role="menu"][aria-label="Grammar error"]'],this._underlinesSelectors=['[aria-invalid="spelling"]','[aria-invalid="grammar"]'],this._hideCallsCount=0}_getNativeSuggestionParent(){const e=document.querySelector(this._suggestionsSelectors.join(","));return e&&e.parentElement&&e.parentElement instanceof HTMLElement&&"absolute"===e.parentElement.style.position?e.parentElement:null}_addStyles(e){this._styleEl=document.createElement("STYLE"),this._styleEl.innerHTML=(e?`.${e}{display: none !important}`:"")+this._underlinesSelectors.map(e=>`${e}{background: none !important}`).join(""),document.head.appendChild(this._styleEl)}_removeStyles(){this._styleEl&&(this._styleEl.remove(),this._styleEl=null)}_cleanupSubscription(){this._popupContainerWaiter&&(this._popupContainerWaiter.unsubscribe(),this._popupContainerWaiter=null)}hide(){if(this._hideCallsCount++,1===this._hideCallsCount){const e=this._getNativeSuggestionParent();e?this._addStyles(e.className):(this._popupContainerWaiter=A.a.observeChildList(document.body).pipe(Object(ce.a)(e=>this._getNativeSuggestionParent()),Object(S.a)(e=>!!e),Object(ee.a)(1),Object(ce.a)(e=>{this._removeStyles(),this._cleanupSubscription(),this._addStyles(e.className)})).subscribe(),this._addStyles(null))}}show(){if(this._hideCallsCount--,0===this._hideCallsCount){this._cleanupSubscription(),this._removeStyles();const e=this._getNativeSuggestionParent();if(e){const t=e.querySelector(this._suggestionsSelectors.join(","));if(t&&t instanceof HTMLElement){const n=t.style.height;t.style.height="auto";const i=t.clientHeight,r=t.clientWidth;e.style.height=`${i}px`,e.style.width=`${r}px`,t.style.height=n}}}this._hideCallsCount<0&&(this._hideCallsCount=0)}}let i;e.hideNativeSuggestions=function(){i||(i=new n),i.hide()},e.showNativeSuggestions=function(){i&&i.show()}}(re||(re={})),function(e){function t(e){e.style.display="none"}e.contentEditableOptsExt=function(e,n){const i=new we.a(e.field,ye.b.fromDiff,void 0,n),r=new pe.a(!1),o=new pe.a(!1),a=[];return{createTextObserver:()=>i,createAlertProcessor:n=>{const c=new ve.a(n,_e.a.ordering);return function(e,n,i,r,o){const a=he.a.contentEligibleObs(n.contentChanges.async.pipe(Object(ae.a)(null),Object(ce.a)(e=>n.getCurrentTextMap().getPlainText())),i.alerts.state.view(be.a.alertMapToCapiAlerts)).pipe(Object(ue.a)()),c=re.getComposeFieldContainer(e.field);return[(c&&!he.a.hasShownPopupRecently(e.state.page)?de.a.sec1.pipe(Object(ae.a)(0),Object(C.a)(c&&re.getSendButton(c)),Object(S.a)(e=>!!e),Object(ce.a)(e=>(function(e){if(!e||!e.parentElement)return null;const t=e.parentElement.querySelector("grammarly-extension-before-send-hook");if(t)return t;const n=document.createElement("grammarly-extension-before-send-hook");return n.style.position="absolute",n.style.width=`${e.offsetWidth}px`,n.style.height=`${e.offsetHeight}px`,e.parentElement.appendChild(n),n})(e)),Object(le.a)(n=>n?a.pipe(Object(me.a)(e=>e?function(e){e.style.display="block"}(n):t(n)),Object(ge.a)(Object(fe.a)(n,"click").pipe(Object(me.a)(i=>{e.actions.showGmailSendEmailPremiumPopup(),r.next(!0),t(n)})))):Object(s.a)(null))):Object(s.a)(null)).subscribe(),a.subscribe(e=>o.next(e))]}(e,i,c,r,o).forEach(e=>a.push(e)),c},customizations:{gmailSendEmailMaskClickObs:r,contentEligibleForVerbosePremium:o},onDispose(){a.forEach(e=>e.unsubscribe())}}}}(oe||(oe={}));var Ee,xe=n(208),Oe=n(158),Se=n(505);!function(e){function t(e){const t=e.closest('[style*="float"]');return!!t&&!(!e.ownerDocument||!e.ownerDocument.defaultView)&&"right"===e.ownerDocument.defaultView.getComputedStyle(t).cssFloat&&re.hasOverlayAncestor(e)}const n=(e,t)=>m.a.contentEditable(n=>{const i=he.a.isInExperiment(n.pageContext.config,n.state.user)?oe.contentEditableOptsExt(n,Se.a.createTextMap):{};return{name:t,extraCondition:t=>e(t.field),createLayout:e=>{const t=(n.state.page.emogenieEmojiState&&"show"===n.state.page.emogenieEmojiState?xe.a.emojiWidth+xe.a.gButtonSize:xe.a.gButtonSize)+8,i=re.getComposeFieldContainer(n.field),r=(e,t,n)=>e?de.a.sec1.pipe(Object(ae.a)(null),Object(ce.a)(t),Object(S.a)(e=>!!e),Object(ee.a)(1),Object(le.a)(n),Object(ae.a)(null)):Object(s.a)(null),o=r(i,e=>i&&re.getFormattingToolbarContainer(i),e=>e?A.a.observeStyle(e).pipe(Object(ae.a)(e.style),Object(ce.a)(e=>"collapse"!==e.visibility&&"hidden"!==e.visibility&&"none"!==e.display),Object(ue.a)(v.a),Object(ce.a)(t=>({visible:t,el:e}))):Object(s.a)(null)),a=r(i,e=>{if(i){const e=Object($.d)(i,1);return e?e.querySelector("input[name=attach][type=hidden]"):null}return null},e=>{const t=Object($.d)(e,3);return t?A.a.observeChildList(t).pipe(Object(ae.a)(t.childNodes),Object(ce.a)(e=>Array.from(e).filter(e=>!!Object(Oe.b)(e)&&!!e.querySelector("input[name=attach][type=hidden]")).map(e=>e))):Object(s.a)(null)});return new j.a(i||n.field,{gbuttonMinPadding:6,createGbuttonShiftBehavior:e=>{const n=Object(se.b)(o,e.rect.behavior,(e,n)=>{if(e&&e.visible&&e.el){const i=e.el.getBoundingClientRect();return n.size.width-i.width-4<t?i.height+(i.bottom-n.client.top-n.size.height):0}return 0}),i=Object(se.b)(a,e.rect.behavior,o,(e,t,n)=>{const i={top:0,width:0};if(e&&e.length){const t=e[0].firstElementChild;if(t&&Object(Oe.b)(t)&&"DIV"===t.nodeName){const e=t,n=e.offsetTop;if(n)return{top:n,width:e.offsetWidth};{const t=e.offsetParent;return t&&"DIV"===t.nodeName?{top:t.offsetTop,width:e.offsetWidth}:i}}return i}return i}),r=Object(se.b)(i,e.rect.behavior,e.scroll.behavior,(e,n,i)=>n.size.height-e.top+i.top>0&&n.size.width-e.width-4<t?n.size.height-e.top+i.top+4:0);return Object(se.b)(n,r,(e,t)=>Math.max(e,t)).pipe(Object(ce.a)(e=>({top:-e,left:0})))},injectIntegrationRoot:(e,t,n,i)=>{e.parentElement.appendChild(i)}})},createContentService:e=>new k.c(n.field),textMap:{createFieldTextMap:Se.a.createTextMap,popupEditorTextMapType:y.a.gmail},createTextObserver:i.createTextObserver,createAlertProcessor:i.createAlertProcessor,customizations:i.customizations,onCreate:re.hideNativeSuggestions,onDispose:()=>{re.showNativeSuggestions(),i.onDispose&&i.onDispose()}}}),r=n(t,"compose"),o=n((function(e){return re.hasOverlayAncestor(e)&&!t(e)}),"compose fullscreen"),a=n((function(e){const t=e.closest("body > div");return!(!t||0!==t.querySelectorAll('[role*="navigation"], [role*="complimentary"], [aria-label*="Hangouts"]').length)}),"compose standalone"),c=m.a.contentEditable(e=>({name:"compose reply",extraCondition:e=>(function(e){const t=e.closest("[role=list]");return!!t&&!!t.querySelector("[data-message-id]")})(e.field),createLayout:()=>(function(e){const t=e.closest("table"),n=t&&t.closest("table:not(:scope)"),i=n&&n.querySelector('[command="Files"]'),r=i&&i.closest("table")||void 0,o=Object($.e)(e,2),s=Object(W.c)("TD"===o[1].nodeName?o[0]:o[1]),a=Object(W.c)(e.offsetParent&&e.offsetParent.nodeType===Node.ELEMENT_NODE?"TD"===e.offsetParent.nodeName?t:e.offsetParent:null);return new b.a(e,{onScrollMaxAncestors:100,createHighlightAreaRect:e=>e.map(e=>({position:F.c.create({top:a.offsetTop,left:a.offsetLeft}),width:e.width,height:e.height}),v.a),highlightsContainer:s,gbuttonContainer:r,extendGButtonLayout:e=>Object.assign(Object.assign({},e),{getShouldFlipMenu:()=>!1}),getGbuttonPositionStyleBehavior:e=>e.pipe(Object(ce.a)(e=>({position:"absolute",bottom:"calc(100% + 11px)",right:"11px",zIndex:e})))})})(e.field),textMap:{createFieldTextMap:Se.a.createTextMap,popupEditorTextMapType:y.a.gmail},createContentService:t=>new k.c(e.field),gbuttonMinimizeState:{minimized:Object(s.a)(!1)},onCreate:re.hideNativeSuggestions,onDispose:re.showNativeSuggestions})),l=p(Object.assign({domain:/^mail\.google\.com$/,andCanExecute:e=>!e.doc.querySelector("body>table")},i.allUsers),[c,a,r,o]),u=p(Object.assign({domain:/^mail\.google\.com$/,andCanExecute:e=>!!e.doc.querySelector("body>table")},i.allUsers),[m.a.textarea(e=>({createLayout:()=>new b.a(e.field)}))]);e.pages=[l,u]}(Ee||(Ee={}));var Ce,je,ke,Te=n(368),Ne=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){function t(e,t){const n=e.getAttribute("data-testid");return!(!n||n!==t)}function n(e){return t(e,"UFI2ComposerInput/comment:rich-input")||t(e,"UFI2ComposerInput/reply:rich-input")}function r(e){const t=e.closest("[role=dialog],[role=region]");return t?A.a.observeAttribute(t,"role").pipe(Object(S.a)(e=>"dialog"!==e),Object(C.a)(void 0)):Object(O.b)()}function o(e,t,n){return{createGButtonLayout:n=>Object($.a)(n,void 0,void 0,{top:e,left:t}),zIndex:n}}const a=m.a.contentEditable(e=>({plainTextPopupEditor:!0,extraCondition:e=>t(e.field,"status-attachment-mentions-input"),validationRules:N.a.allSizesDefaults,createReplacementService:t=>Te.a.create(t,{asyncReplace:!0,focusElement:e.field}),createContentService:t=>Pe.createIfSupported(e.pageContext.config.bundleInfo.browser,e.field,t),createLayout:e=>{const t=e.closest(".navigationFocus"),n=t&&t.parentElement||e;return new b.a(n,o(-2,-26))},expiration:r})),c=m.a.contentEditable(e=>({plainTextPopupEditor:!0,extraCondition:e=>"combobox"===e.field.getAttribute("role")&&!!e.field.closest("[data-testid=react-composer-root]"),validationRules:N.a.allSizesDefaults,createReplacementService:t=>Te.a.create(t,{asyncReplace:!0,focusElement:e.field}),createContentService:t=>Pe.createIfSupported(e.pageContext.config.bundleInfo.browser,e.field,t),createLayout:e=>{const t=e.closest(".navigationFocus"),n=t&&t.parentElement||e;return new j.a(n,{createGbuttonShiftBehavior:()=>Object(s.a)({left:9,top:2,zIndex:1})})},expiration:r})),l=(e,t)=>m.a.contentEditable(n=>({plainTextPopupEditor:!0,extraCondition:t?e=>t(e.field):void 0,validationRules:N.a.allSizesDefaults,createLayout:e,createReplacementService:e=>Te.a.create(e,{asyncReplace:!0,focusElement:n.field}),createContentService:e=>Pe.createIfSupported(n.pageContext.config.bundleInfo.browser,n.field,e)})),u=l(e=>{const t=e.closest('[role*="presentation"]'),n=t&&t.parentElement||e;return new b.a(n,o(-1,0,_.a.constant(1)))},e=>n(e)),d=l(e=>new b.a(e.parentElement&&e.parentElement.parentElement&&e.parentElement.parentElement.parentElement||e,o(3,0,_.a.constant(500))),e=>n(e)&&null!=e.closest(".photoUfiContainer"));e.message=l(e=>new b.a(e,o(6,0,_.a.constant(300))),e=>e.matches('[data-testid="info_panel"] ~ div .navigationFocus [contenteditable="true"]')),e.page=p(Object.assign({domain:/^facebook\.com$/},i.allUsers),[a,c,d,u,m.a.textarea(),e.message])}(Ce||(Ce={}));class Pe{constructor(e,t){this._target=e,this._getCurrentTextMap=t}static createIfSupported(e,t,n){return q.a.isSupported(e)?new Pe(t,n):null}exportContent(){return Ne(this,void 0,void 0,(function*(){return{content:this._getCurrentTextMap().getPlainText(),volatile:!1}}))}importContent(e){return Ne(this,void 0,void 0,(function*(){return new Promise(t=>{this._target.focus(),document.execCommand("selectAll"),setTimeout(()=>{setTimeout(()=>{e?this._target.dispatchEvent(this._createPasteEvent("text/plain",e)):this._target.dispatchEvent(this._createDeleteEvent()),t()},0)},0)})}))}_createPasteEvent(e,t){const n=new DataTransfer;return n.setData(e,t),new ClipboardEvent("paste",{target:this._target,clipboardData:n,dataType:e,data:t,bubbles:!0,cancelable:!0})}_createDeleteEvent(){return new KeyboardEvent("keydown",{target:this._target,bubbles:!0,cancelable:!0,keyCode:46})}}!function(e){const t=m.a.textarea(e=>({createLayout:e=>new j.a(e,{highlightHeightOffset:-3}),validate:e=>"Headline"===e.field.getAttribute("placeholder")}));e.page=p(Object.assign({domain:/^linkedin\.com$/},i.allUsers),[m.a.contentEditable(e=>({validationRules:g.allSizesDefaults,createLayout:()=>new j.a(e.field),createContentService:t=>new k.b(e.field)})),t,m.a.textarea(e=>({createLayout:()=>new j.a(e.field,{gbuttonMinPadding:J.c})}))])}(je||(je={})),function(e){const t=m.a.textarea(e=>({createLayout:e=>new b.a(e,{extendGButtonLayout:e=>Object.assign(Object.assign({},e),{position:e.position.map(e=>e._tag===R.a.fixed?e:Object.assign(Object.assign({},e),{effectivePadding:Object.assign(Object.assign({},e.effectivePadding),{right:e.effectivePadding.left,bottom:e.effectivePadding.left})}),v.a)})})}));e.page=p(Object.assign({domain:/^translate\.google\.com$/},i.allUsers),[t])}(ke||(ke={}));var Ae,Ie,Fe,Me=n(4),Re=n(201),De=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};function Le(e,t){const n=Object(Me.p)(()=>{const e=new DataTransfer;return void 0!==t.html&&e.setData("text/html",t.html),void 0!==t.plain&&e.setData("text/plain",t.plain),e},()=>void 0);e.dispatchEvent(new ClipboardEvent("paste",{clipboardData:n,dataType:void 0!==t.html?"text/html":void 0!==t.plain?"text/plain":void 0,data:void 0!==t.html?t.html:t.plain,bubbles:!0,cancelable:!0}))}function Be(e){e.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:46}))}class Ue extends Te.b{constructor(e,t,n,i,r,o=!0){super(t,t=>M.a.create((n,i)=>{t||!o?Le(e,{plain:t}):Be(e),n()}),n,i,!0,r)}}class ze{constructor(e,t,n,i=!0){this._target=e,this._getCurrentTextMap=t,this._pasteType=n,this._useDeletion=i}exportContent(){return De(this,void 0,void 0,(function*(){return this._pasteType===Ae.ContentType.html?{content:this._target.innerHTML,volatile:!1}:this._pasteType===Ae.ContentType.plain?{content:this._getCurrentTextMap().getPlainText(),volatile:!1}:Object(Me.g)(this._pasteType)}))}_getTextMapRange(){const e=this._getCurrentTextMap();return Re.b.createRange(e,0,e.getPlainText().length,!0)||Re.b.createRange(e,0,e.getPlainText().length-1,!0)}_getDomRange(){const e=this._target.querySelectorAll('[data-text="true"]');if(e.length>0&&this._target.ownerDocument){const t=this._target.ownerDocument.createRange(),n=e.item(0),i=e.item(e.length-1);return t.setStart(n,0),t.setEnd(i,i.nodeType===Node.TEXT_NODE?(i.nodeValue||"").length:i.childNodes.length),t}return null}importContent(e){return De(this,void 0,void 0,(function*(){const t=this._getTextMapRange()||this._getDomRange();try{yield Object(Te.d)(Object(W.c)(t,"entire text range"),e,e=>M.a.create((t,n)=>{e||!this._useDeletion?Le(this._target,{[this._pasteType]:e}):Be(this._target),!e&&this._useDeletion&&setTimeout(()=>{this._target.focus()},0),t()}),void 0,!0,this._target)}finally{if(t)try{t.detach()}catch(e){}}}))}}!function(e){let t;!function(e){e.plain="plain",e.html="html"}(t=e.ContentType||(e.ContentType={}));const n=Math.pow(2,10);e.zIndex=_.a.create(()=>n,Object(O.b)(),v.a),e.generic=n=>m.a.contentEditable(i=>{const r=q.a.isSupported(i.pageContext.config.bundleInfo.browser),o=n&&n(i)||{},{genericOpts:s={},contentType:a=t.html,useInjectionLayout:c=!1,useDeletion:l=!0,extraCondition:u=(()=>!0)}=o,{createContentService:d=(e=>new ze(i.field,e,a,l))}=o;return Object.assign({createLayout:t=>c?new j.a(i.field,{pretendFieldPositioned:!0}):new b.a(t,{zIndex:e.zIndex}),extraCondition:e=>r&&!!e.field.parentElement&&e.field.parentElement.classList.contains("DraftEditor-editorContainer")&&u(e),createReplacementService:e=>new Ue(i.field,e,void 0,void 0,i.field,l),createContentService:d},s)})}(Ae||(Ae={})),function(e){const t=".js-countdown-counter";function n(e,n=0,i=0,r){return{zIndex:r,extendGButtonLayout:r=>{const o=e.parentElement&&e.parentElement.parentElement&&e.parentElement.parentElement.querySelector(t);return Object.assign(Object.assign({},r),{position:r.position.map(e=>Object.assign(Object.assign({},e),{top:e.top+i,left:o&&""!==o.innerHTML?e.left+n:e.left}),v.a)})}}}let r,o;!function(e){e.contentEditable=m.a.contentEditable(e=>({createLayout:e=>new b.a(e,n(e,-28,3))}));const t=_.a.create(()=>5e3,Object(O.b)(),v.a);e.dmContenteditable=m.a.contentEditable(e=>({createLayout:e=>new b.a(e,n(e,-28,3,t)),validationRules:g.allSizesDefaults,extraCondition:e=>e.field.classList.contains("DMComposer-editor")||e.field.classList.contains("rich-editor"),expiration:e=>{const t=e.closest(".RichEditor");return t?A.a.observeAttribute(t,"class").pipe(Object(S.a)(e=>!t.classList.contains("is-fakeFocus")),Object(C.a)(void 0)):Object(O.b)()}})),e.page=p(Object.assign({domain:/^twitter\.com$/},i.allUsers),[e.dmContenteditable,e.contentEditable,m.a.textarea()])}(r=e.Classic||(e.Classic={})),function(e){const t=Ae.generic(e=>({genericOpts:{createLayout:e=>new b.a(e,n(e,-28,3,Ae.zIndex)),plainTextPopupEditor:!0,validationRules:g.allSizesDefaults},contentType:Ae.ContentType.plain,useDeletion:!0})),o=m.a.textarea(e=>({validate:e=>"dmComposerTextInput"===e.field.getAttribute("data-testid")&&Object(N.b)(e,g.allSizesDefaults)})),s=m.a.contentEditable(e=>({extraCondition:e=>!!e.field.parentElement&&e.field.parentElement.classList.contains("DraftEditor-editorContainer"),validationRules:g.allSizesDefaults,createContentService:e=>null}));e.page=p(Object.assign({domain:/^(mobile\.)?twitter\.com$/,andCanExecute:e=>!!e.doc.querySelector("#react-root")},i.allUsers),[t,o,s,m.a.textarea(),r.dmContenteditable,r.contentEditable])}(o=e.New||(e.New={})),e.pages=[o.page,r.page]}(Ie||(Ie={})),(Fe||(Fe={})).page=p(Object.assign({domain:/^youtube\.com$/},i.allUsers),[m.a.textarea(e=>({validate:e=>Object(N.b)(e,g.allSizesDefaults)})),m.a.contentEditable(()=>({validationRules:g.allSizesDefaults}))]);var He,Ve,Ge,We=n(238),$e=n(266),qe=n(502);!function(e){let t;!function(e){const t=(e=(e=>({})))=>m.a.textarea(t=>{const n=function(e){return e.closest(".window-overlay")}(t.field),i=e(t);return Object.assign(Object.assign({mirrorContainer:n,createLayout:e=>{const t=Object(W.c)(n,".window-overlay");return new b.a(e,Object(J.a)({highlightsContainer:t,getTextFieldRect:(e,n,i)=>{const r=i||e.getBoundingClientRect();return Object(qe.b)(e,{top:t.scrollTop,left:t.scrollLeft},{top:r.top,left:r.left,height:r.height,width:r.width})},getTranslationToCards:()=>({top:-t.scrollTop,left:-t.scrollLeft})}))}},i),{validate:e=>!!n&&(i.validate?i.validate(e):Object(N.b)(e,g.allSizesDefaults))})}),n=(e,n)=>t(t=>({expiration:t=>{const i=t.closest(e),r=new RegExp(n,"g");return i&&i.nodeType===Node.ELEMENT_NODE?function(e,t,n=300){return Object(We.a)(n).pipe(Object($e.a)(t=>A.a.observeAttribute(e,"class").pipe(Object(ae.a)(e.getAttribute("class")))),Object(S.a)(e=>!!e&&t(e)),Object(C.a)(void 0))}(i,e=>!r.test(e)):Object(O.b)()},validate:t=>!!t.field.closest(e)&&Object(N.b)(t,g.allSizesDefaults)}));e.title=n(".window-title","is-editing"),e.checklistEditItem=n(".checklist-item-details","editing"),e.checklistAddItem=n(".checklist-new-item","focus"),e.generic=t(e=>({}))}(t||(t={}));const n=m.a.textarea(e=>({validate:e=>Object(N.b)(e,g.allSizesDefaults)}));e.page=p(Object.assign({domain:/^trello\.com$/},i.allUsers),[t.title,t.checklistEditItem,t.checklistAddItem,t.generic,n])}(He||(He={})),function(e){function t(e){return"none"!==e.style.getPropertyValue("display")}const n=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("editor-richtext"),createLayout:e=>new b.a(e,{createGButtonLayout:n=>{const i=e.parentElement.querySelector(".inline-controls"),r=Object($.a)(n);if(i){const e=A.a.observeStyle(i).pipe(Object(ce.a)(e=>t(i)?{top:i.offsetTop,left:i.offsetLeft}:null),Object(ue.a)()),o=Object(se.b)(e,r.position.behavior),s=_.a.create(()=>(function(e,n,i){const r=e.position.getApproximate();if(t(i)){const e=i.querySelector(".tray");if(e){const t=F.b.create({top:i.offsetTop+e.offsetTop,left:i.offsetLeft+e.offsetLeft}),o=F.c.fromOffset(t,n.textFieldRect.getApproximate().position,n.scroll.getApproximate());if(o.top+e.offsetHeight>r.top-xe.a.gButtonSize)return Object.assign(Object.assign({},r),{top:o.top})}}return r})(r,n,i),o,v.a);return Object.assign(Object.assign({},r),{position:s})}return r}})})),r=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("editor")&&null===e.field.closest(".gif-search-input")&&"Post tags"!==e.field.getAttribute("aria-label")&&!e.field.classList.contains("text-input")&&null===e.field.closest(".audio-search-field")&&null===e.field.closest(".media-wrapper")})),o=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("editor")&&"Quote"===e.field.getAttribute("aria-label"),createLayout:e=>new b.a(e.parentElement)})),s={match:e=>"TEXTAREA"===e.field.tagName&&e.field.classList.contains("ask-question")&&Object(N.b)(e)?{targetField:e.field,matchExpires:Object(c.e)(e.field),execute:()=>Object(J.b)(e)}:null};e.page=p(Object.assign({domain:/^tumblr\.com$/},i.allUsers),[n,o,r,s])}(Ve||(Ve={})),(Ge||(Ge={})).page=p(Object.assign({domain:/^calendar\.google\.com$/},i.allUsers),[m.a.contentEditable(e=>({createContentService:t=>new k.c(e.field),createLayout:()=>new j.a(e.field)})),m.a.textarea(e=>({createLayout:()=>new j.a(e.field,{gbuttonMinPadding:J.c})}))]);var Ye,Ke=n(105),Qe=n(332);!function(e){let t;!function(e){function t(e){return e.querySelector('div[contenteditable="true"]')}function n(e){const t=Object(Ke.b)(e).body,n=e.parentElement;return n===t?t:Object(Ke.c)(n||e)}function i(e){const t=Object(Ke.d)(e),n=Object($.d)(e,4);return Object(s.a)(!!n&&"fixed"===t.getComputedStyle(n).position)}function r(e,t,n,i,r){r.appendChild(i)}e.content=m.a.contentEditable(({field:e})=>{const o=e.parentElement,a=!!o&&function(e){return e.querySelector('div[contenteditable="true"] ~ div[contenteditable="true"]')}(o)===e,c=n(e),l=!!o&&t(o),u=l?A.a.observeStyle(l).pipe(Object(ae.a)(l.style),Object(ce.a)(e=>"none"!==e.display),Object(ue.a)()):Object(s.a)(!1),d=i(e),h=d.pipe(Object(le.a)(e=>e?Object(s.a)(!0).pipe(Object(Qe.a)(1e3),Object(ae.a)(!1)):u));return{validationRules:[e=>a,...N.a.allSizesDefaults],createLayout:t=>new j.a(e,{positionedAncestor:c,injectIntegrationRoot:r}),customizations:{gbuttonContainerVisible:h,gbuttonContainerHoverable:d}}}),e.title=m.a.contentEditable(({field:e})=>{const o=e.parentElement,a=!!o&&t(o)===e,c=n(e),l=i(e).pipe(Object(le.a)(e=>e?Object(s.a)(!0).pipe(Object(Qe.a)(1e3),Object(ae.a)(!1)):Object(s.a)(!0)));return{validationRules:[e=>a,...N.a.allSizesDefaults],createLayout:t=>new j.a(e,{minimizeEnabled:!0,positionedAncestor:c,injectIntegrationRoot:r,createGbuttonShiftBehavior:e=>Object(s.a)({left:-30,top:-3})}),customizations:{gbuttonContainerVisible:l}}})}(t||(t={})),e.page=p(Object.assign({domain:/^keep\.google\.com$/},i.allUsers),[t.content,t.title,m.a.contentEditable(),m.a.textarea()])}(Ye||(Ye={}));var Xe=n(214),Je=n(60),Ze=n(9),et=n(308),tt=n(509);class nt{constructor(e){this._page=e,this.MIN_INIT_REQUIRED_FIELD_HEIGHT=35,this.MIN_INIT_REQUIRED_FIELD_WIDTH=300,e&&(this.MIN_INIT_REQUIRED_FIELD_HEIGHT=Object(tt.a)(e.minFieldHeight)?e.minFieldHeight:this.MIN_INIT_REQUIRED_FIELD_HEIGHT,this.MIN_INIT_REQUIRED_FIELD_WIDTH=Object(tt.a)(e.minFieldWidth)?e.minFieldWidth:this.MIN_INIT_REQUIRED_FIELD_WIDTH)}isFieldIsSmall(e){const{clientHeight:t,clientWidth:n}=e;return t<this.MIN_INIT_REQUIRED_FIELD_HEIGHT||n<this.MIN_INIT_REQUIRED_FIELD_WIDTH}isFieldEnabled(e){if(!this._page)return!0;if(!1===this._page.enabled)return!1;if(!this._page.fields&&!0===this._page.enabled)return!0;const t=this._page.fields;return!(t&&t.some(({name:t,id:n,className:i,attr:r})=>!!(t&&t===e.name||n&&n===e.id||i&&Object(Ze.h)(e,i)||r&&Array.isArray(r)&&(([t,n])=>e.getAttribute(t)===n)(r))))}}class it{constructor(e=Je.h){this._isFbSite=e}validate(e,t){const n=e.field,i=new nt(e.state.page),r=st(n,t,Xe.g),o=i.isFieldEnabled(n);return function(e,t){const n=ot(e),i=et.a.isSpecific.draftJs(e);return n||!i||t}(n,this._isFbSite())&&!r&&!rt(n,t)&&!i.isFieldIsSmall(n)&&(o||Object(Ze.h)(n,"grammDemo"))}shouldTrackNonValid(e,t){const n=e.field,i=new nt(e.state.page);return rt(n,t)||!i.isFieldEnabled(n)}}function rt(e,t){return st(e,t,Xe.b)&&!ot(e)}function ot(e){return e.hasAttribute(Xe.d.name)&&e.getAttribute(Xe.d.name)===Xe.d.value}function st(e,t,n){return n.filter(e=>!t||"readonly"!==e).some(t=>Array.isArray(t)?e.hasAttribute(t[0])&&e.getAttribute(t[0]).includes(t[1]):e.hasAttribute(t))||"rtl"===e.getAttribute("dir")}class at{constructor(e,t,n=new it,i=G.a.create("validationDecorator.ts")){this._rule=e,this._isContentEditable=t,this._validator=n,this._log=i}match(e){const t=this._rule.match(e);return t?this._validator.validate(e,this._isContentEditable)?t:(this._log.trace("field not validated, not integrating",e.field),null):null}}var ct,lt,ut,dt,ht,pt,ft,mt,gt,bt=n(418),vt=n(10);function _t(e,t,n){return n.filter(e=>!t||"readonly"!==e).some(t=>Array.isArray(t)?e.hasAttribute(t[0])&&e.getAttribute(t[0]).includes(t[1]):e.hasAttribute(t))||"rtl"===e.getAttribute("dir")}(lt=ct||(ct={})).rules=[Ae.generic(),m.a.contentEditable(),m.a.iframe(),m.a.textarea()],lt.newLayoutRulesFactory=e=>[Ae.generic(e=>({useInjectionLayout:!0})),m.a.contentEditable(t=>Object.assign(Object.assign({},e||{}),{createLayout:()=>new j.a(t.field)})),m.a.iframe(t=>Object.assign(Object.assign({},e||{}),{createLayout:()=>new j.a(t.field,{iframe:!0})})),m.a.textarea(t=>Object.assign(Object.assign({},e||{}),{createLayout:()=>new j.a(t.field,{gbuttonMinPadding:J.c})}))],lt.newLayoutRules=lt.newLayoutRulesFactory(),lt.newLayoutLegacyScopeRules=[new at(m.a.contentEditable(e=>({createLayout:()=>new j.a(e.field)})),!0),new at(m.a.iframe(e=>({createLayout:()=>new j.a(e.field,{iframe:!0}),extraCondition:e=>!!function(e,t,n){const i=n.page,r=new nt(i),o=t.createElement("a"),s=t.location.hostname,a=new RegExp("://"+s);if(o.href=e.src,0===e.src.indexOf("http")&&!a.test(e.src)||"about:blank"===e.src)return;if(e.src&&-1===e.src.indexOf("javascript:")&&(o.protocol!==document.location.protocol||o.hostname!==document.location.hostname||o.port!==document.location.port))return;if(Object(Ze.h)(e,bt.b))return;let c=null;try{c=e.contentDocument}catch(e){return}if(c&&!c.body)return;if(!c||_t(e,!1,Xe.a)||_t(c.body,!1,Xe.a)||!r.isFieldEnabled(e))return;const l=c.querySelector("html")||{hasAttribute:e=>!1};return"on"!==c.designMode&&!c.body.hasAttribute("contenteditable")&&"false"!==c.body.getAttribute("contenteditable")&&!l.hasAttribute("contenteditable")&&"false"!==l.getAttribute("contenteditable")||r.isFieldIsSmall(e)?void 0:(Object(vt.l)()&&"on"===c.designMode&&(c.designMode="off",c.body.setAttribute("contenteditable","true")),!0)}(e.field,e.pageContext.doc,e.state)})),!0),new at(m.a.textarea(e=>({createLayout:()=>new j.a(e.field,{gbuttonMinPadding:J.c})})),!1)],lt.rulesAllSizes=[Ae.generic(e=>({genericOpts:{validationRules:N.a.allSizesDefaults}})),m.a.contentEditable(e=>({validationRules:N.a.allSizesDefaults})),m.a.iframe(e=>({validationRules:N.a.allSizesDefaults})),m.a.textarea(e=>({validationRules:N.a.allSizesDefaults}))],lt.catchAll=p(Object.assign({url:/.*/},i.allUsers),[Ae.generic(e=>({useInjectionLayout:!0,extraCondition:e=>!!e.state.dynamicConfig.newRichTextFieldsEnabled})),w.generic(e=>({extraCondition:e=>!!e.state.dynamicConfig.newRichTextFieldsEnabled,overwriteGenericOpts:{createLayout:e=>new j.a(e)}})),...lt.newLayoutLegacyScopeRules]),(ut||(ut={})).page=p(Object.assign({domain:/^outlook\.live\.com$/},i.allUsers),[m.a.contentEditable(e=>({createContentService:t=>new k.c(e.field),createLayout:()=>new j.a(e.field)})),m.a.textarea(e=>({createLayout:()=>new j.a(e.field,{gbuttonMinPadding:J.c})}))]),function(e){let t;!function(e){e.page=p(Object.assign({domain:/^reddit\.com$/,andCanExecute:e=>!e.doc.querySelector('body>div.content[role="main"]')},i.allUsers),ct.newLayoutRules)}(t||(t={})),e.pages=[t.page]}(dt||(dt={})),function(e){const t=m.a.contentEditable(e=>({extraCondition:e=>e.field.classList.contains("editor"),createLayout:e=>new b.a(e,{createGButtonLayout:e=>Object($.a)(e,void 0,void 0,{top:41,left:0})}),createContentService:t=>new k.b(e.field,void 0,!0,!0)})),n=m.a.textarea(e=>({validate:e=>!!e.field.closest(".chat_view"),createLayout:()=>new j.a(e.field)}));e.page=p(Object.assign({domain:/^\S+\.zendesk\.com$/},i.allUsers),[t,n,m.a.contentEditable(),m.a.iframe(),m.a.textarea()])}(ht||(ht={})),(pt||(pt={})).page=p(Object.assign({domain:/^\S+\.lightning\.force\.com$/},i.allUsers),ct.rules),(ft||(ft={})).page=p(Object.assign({domain:/^messenger\.com$/},i.allUsers),[Ce.message]),function(e){const t=m.a.contentEditable(e=>({createContentService:t=>k.a.createIfSupported(e.pageContext.config.bundleInfo.browser,{target:e.field,reactCompat:!0,mediaType:"text/plain",possiblyVolatile:!0}),createLayout:()=>{const t=e.field;return new b.a(t,{zIndex:_.a.constant(2e3),createGButtonLayout:e=>Object($.a)(e,void 0,void 0,{top:2,left:0})})},validationRules:N.a.allSizesDefaults}));e.page=p(Object.assign({domain:/^web\.whatsapp\.com$/},i.allUsers),[t])}(mt||(mt={})),(gt||(gt={})).page=p(Object.assign({domain:/^upwork\.com$/},i.allUsers),[m.a.textarea(e=>({validate:e=>!!e.field.classList.contains("msg-composer-input"),createLayout:()=>new j.a(e.field,{gbuttonMinPadding:2})})),...ct.newLayoutRulesFactory({validationRules:N.a.allSizesDefaults})]);var yt,wt,Et=n(78);!function(e){function t(e){return de.a.sec1.pipe(Object(ae.a)(0),Object(ce.a)(t=>e.closest(".state")),Object(S.a)(e=>!!e),Object(le.a)(e=>e?A.a.observeAttribute(e,"class").pipe(Object(ae.a)(e.className)):Object(s.a)(null)))}const n=m.a.iframe(e=>({validationRules:[e=>!!e.field.closest("iframe.composeBox"),...N.a.allSizesDefaults],expiration:n=>t(e.field).pipe(Object(Et.a)(e=>!!e&&!e.includes("composeMode")),Object(C.a)(void 0))})),r=m.a.textarea(e=>({validationRules:[e=>!!e.field.closest("textarea.htmlBox"),...N.a.allSizesDefaults],expiration:n=>t(e.field).pipe(Object(Et.a)(e=>!!e&&!e.includes("htmlMode")),Object(C.a)(void 0))}));e.page=p(Object.assign({domain:/(^|\.)blogger\.com$/},i.allUsers),[n,r,m.a.contentEditable(),m.a.iframe(),m.a.textarea()])}(yt||(yt={})),(wt||(wt={})).page=p(Object.assign({domain:/^wix\.com$/},i.allUsers),[Ae.generic(e=>({useInjectionLayout:!0,createContentService:()=>null})),...ct.newLayoutRules]),n(515),Object(o.a)({browser:"chrome",browserApi:Object(r.a)(!1)},(function(e,t,n,i){return[...Ee.pages,Ce.page,je.page,ke.page,...Ie.pages,Fe.page,He.page,Ge.page,Ve.page,...dt.pages,T.page,L.page,ne.page,Z.page,f.page,Q.page,X.page,ht.page,pt.page,ut.page,yt.page,wt.page,ft.page,mt.page,gt.page,I.page,Ye.page,Z.pageFuzzy,ne.pageFuzzy,ct.catchAll].filter(e=>!!e).map(r=>r({appState:e,actions:t,appElements:n,config:i,felog:Object(E.a)(),gnar:x.a}))}))}]);